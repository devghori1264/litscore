!function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return r(i?i:t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.$=i._=i.Marionette=i.Backbone=void 0;var r=t("backbone"),o=n(r),s=t("backbone.marionette"),a=n(s),l=t("underscore"),u=n(l),c=t("jquery"),h=n(c);window.jQuery=h["default"],o["default"].View.prototype.$=function(t){return void 0==this.el?void 0:t instanceof HTMLElement?t:t.endsWith("[0]")?this.el.querySelector(t.replace("[0]","")):this.el.querySelectorAll(t)},i.Backbone=o["default"],i.Marionette=a["default"],i._=u["default"],i.$=h["default"]},{backbone:119,"backbone.marionette":117,jquery:595,underscore:684}],2:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("utils"),s=(n(o),r.Marionette.Behavior.extend({ui:{select:".js-lang-select",link:".js-loca-link"},events:{"change @ui.select":"onChange","click @ui.link":"onChange"},onRender:function(){},onChange:function(t){void 0;var e=void 0!==t.currentTarget.value?t.currentTarget.value:t.currentTarget.getAttribute("data-lang"),i=document.querySelector('link[rel="alternate"][hreflang="'+e+'"]');if(i&&i.href){var n=window.location.protocol+"//"+window.location.host,r=i.href.replace(n,"");window.location.href=r}}}));i["default"]=s},{core:1,utils:65}],3:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("utils"),s=n(o),a=r.Marionette.Behavior.extend({ui:{toggle:".js-toggle-modal"},events:{"click @ui.toggle":"toggleModal"},onRender:function(){},toggleModal:function(t){if("#modal-education"!==t.currentTarget.getAttribute("data-target")){t.preventDefault();var e=t.currentTarget.getAttribute("data-target");if(!e)return void this.closeModal();var i=document.querySelector(e);if(!i)return void this.closeModal();i.classList.toggle("is-open"),s["default"].body.classList.toggle("has-modal-open")}},closeModal:function(){document.querySelectorAll(".modal.is-open").forEach(function(t){t.classList.remove("is-open")}),s["default"].body.classList.remove("has-modal-open")}});i["default"]=a},{core:1,utils:65}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("babel-runtime/core-js/json/stringify"),a=n(s),l=t("core"),u=t("config"),c=(n(u),t("vent")),h=t("utils"),f=n(h),d=t("js-cookie"),p=n(d),g=t("components-factory"),m=n(g),v=l.Marionette.View.extend({template:!1,needResize:!0,ui:{},events:{click:"addToTrip"},initialize:function(){this.components=new m["default"](this)},onRender:function(){if(this.curEvent=this.el.getAttribute("data-eventid"),void 0===p["default"].get("my-trip"))this.myCurrentTrip={trip_id:"0",trip_events:""};else{var t=JSON.parse(p["default"].get("my-trip"));this.myCurrentTrip={trip_id:t.trip_id,trip_events:t.trip_events}}this.checkIfEventIsInTrip()},checkIfEventIsInTrip:function(){var t=this.myCurrentTrip.trip_events;t.includes(this.curEvent)&&this.el.classList.add("is-in-trip")},addToTrip:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.myCurrentTrip.trip_events=void 0!==p["default"].get("my-trip")?JSON.parse(p["default"].get("my-trip")).trip_events+","+this.curEvent:this.curEvent,p["default"].set("my-trip",(0,a["default"])(this.myCurrentTrip),{expires:7}),this.el.classList.add("is-loading"),f["default"].js.ajax({method:"POST",body:{action:"add_new_event_to_trip"}}).then(function(t){f["default"].body.classList.toggle("has-trip",!0),document.querySelector(".quicklinks-sidebar--trip").innerHTML=t.html,e.el.classList.remove("is-loading"),e.el.classList.add("is-in-trip");var i=[].concat((0,o["default"])(document.querySelector(".quicklinks-sidebar--trip").querySelectorAll("[data-component]")));e.components.initComponents({components:i}),c.basic.trigger("sidebar:openTrip")})}});i["default"]=v},{"babel-runtime/core-js/json/stringify":96,"babel-runtime/helpers/toConsumableArray":114,"components-factory":49,config:47,core:1,"js-cookie":596,utils:65,vent:66}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),t("vent"),s.Marionette.View.extend({template:!1,needResize:!0,ui:{svg:"svg"},events:{},initialize:function(){},onRender:function(){this.hoverIcon(this.ui.svg[0])},hoverIcon:function(t){t&&"undefined"!=typeof t.children&&t.children.length&&[].concat((0,o["default"])(t.children)).forEach(function(t){var e=t.getTotalLength();t.style.strokeDashoffset=e,t.style.strokeDasharray=e+" "+e})}}));i["default"]=l},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,vent:66}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=(n(s),r.Marionette.View.extend({template:!1,needResize:!0,ui:{form:"form",input:".archive-search__input"},events:{"submit @ui.form":"doSearch"},initialize:function(){},onRender:function(){},doSearch:function(t){t.preventDefault();var e=this.ui.form[0].getAttribute("data-page-link"),i=e.replace(window.location.origin,""),n=this.ui.input[0].value;r.Backbone.history.navigate(i+"query/"+n,{trigger:!0})}}));i["default"]=a},{config:47,core:1,utils:65,vent:66}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=(t("vent"),t("utils")),l=n(a),u=r.Marionette.View.extend({template:!1,needResize:!0,ui:{image:".art-card__image",infos:".art-card__infos",infosWrap:".art-card__infos-wrapper"},events:{mouseenter:"mouseEnter",mouseleave:"mouseLeave",mousemove:"mouseMove"},padding:{small:Math.floor(l["default"].width/25*.5),large:Math.floor(l["default"].width/25*.35)},initialize:function(){this.update=this.update.bind(this),this.cache={xpos:0,ypos:0,isMouseOver:!1,needForRAF:!0}},onRender:function(){this.debouncedResize()},mouseEnter:function(t){t.preventDefault(),t.stopPropagation(),this.cache.isMouseOver=!0,this.cache.needForRAF=!0,this.update()},mouseMove:function(t){if(t.preventDefault(),t.stopPropagation(),this.cache.isMouseOver){var e="touchmove"==t.type?t.touches[0].clientX:t.clientX,i=l["default"].js.clamp(e-this.elBounds.left,0,this.elBounds.width);this.cache.xpos=l["default"].js.map([0,this.elBounds.width],[this.currentPadding*-1,this.currentPadding],this.elBounds.width-i);var n="touchmove"==t.type?t.touches[0].clientY:t.clientY,r=l["default"].js.clamp(n-this.elTop+window.pageYOffset,0,this.elBounds.height);this.cache.ypos=l["default"].js.map([0,this.elBounds.height],[this.currentPadding*-1,this.currentPadding],this.elBounds.height-r)}},mouseLeave:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.cache.needForRAF=!1,this.cache.needForRAF||(this.cache.isMouseOver=!1),window.requestAnimationFrame(function(){e.ui.image[0].style.transform="",e.ui.infos[0].style.transform=""})},update:function(){this.cache.isMouseOver&&requestAnimationFrame(this.update),this.ui.image[0].style.transform="translate("+this.cache.xpos.toFixed(2)+"px, "+this.cache.ypos.toFixed(2)+"px)",this.ui.infos[0].style.transform="translate("+this.cache.xpos.toFixed(2)*-.1+"px, "+this.cache.ypos.toFixed(2)*-.1+"px)"},debouncedResize:function(){this.elBounds=this.el.getBoundingClientRect(),this.elTop=this.elBounds.top+window.pageYOffset,this.currentPadding=l["default"].width<s["default"].breakpoints.medium?this.padding.small:this.padding.large}});i["default"]=u},{config:47,core:1,utils:65,vent:66}],8:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=n(s),l=t("soundcloud"),u=(n(l),r.Marionette.View.extend({template:!1,needResize:!0,ui:{playbutton:".js-toggle-play",widget:"iframe",progressbar:".js-progress-bar",slider:".js-range-input",timer:".js-timer"},events:{"click @ui.playbutton":"togglePlay","change @ui.slider":"jumpTo","mousedown @ui.slider":"togglePreventUpdate","mouseup @ui.slider":"togglePreventUpdate"},initialize:function(){this.isPaused=!0,this.preventUpdate=!1},onRender:function(){this.ui.widget.length>0&&this.initPlayer()},initPlayer:function(){var t=this;this.player=SC.Widget(this.ui.widget[0]),this.progressBarWidth=this.ui.progressbar[0].getBoundingClientRect().width,this.player.bind(SC.Widget.Events.READY,function(){t.player.getDuration(function(e){t.duration=e,t.ui.timer.length>0&&(t.ui.timer[0].querySelector(".time-to").innerText=t.millisToMinutesAndSeconds(e))}),t.player.bind(SC.Widget.Events.PLAY_PROGRESS,function(e){t.updateIndicatorPos(e)}),t.player.bind(SC.Widget.Events.FINISH,function(e){t.el.classList.toggle("is-playing")})})},updateIndicatorPos:function(t){if(!this.preventUpdate){var e=100*t.relativePosition;this.ui.slider[0].value=e,this.ui.timer.length>0&&(this.ui.timer[0].querySelector(".time-from").innerHTML=this.millisToMinutesAndSeconds(t.currentPosition))}},togglePlay:function(t){var e=this;this.player.isPaused(function(t){t?e.player.play():e.player.pause(),e.el.classList.toggle("is-playing")})},jumpTo:function(t){var e=a["default"].js.map([0,100],[0,this.duration-50],this.ui.slider[0].value);this.player.seekTo(e)},togglePreventUpdate:function(t){this.preventUpdate=!this.preventUpdate},millisToMinutesAndSeconds:function(t){var e=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return e+":"+(i<10?"0":"")+i}}));i["default"]=u},{config:47,core:1,soundcloud:58,utils:65,vent:66}],9:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=t("utils"),c=n(u),h=t("vent"),f=t("paper"),d=n(f),p=s.Marionette.View.extend({template:!1,needResize:!0,ui:{links:".bubble-sidebar__link",activeLink:".bubble-sidebar__link.active",activeCalendarLink:".bubble-sidebar__link",canvas:".bubble-sidebar__canvas",container:".bubble-sidebar__container"},events:{"click @ui.links":"clickLinks"},bubbleState:{index:1},initialize:function(){this.bubbleState={desktopInit:!1,mobileInit:!1,index:1}},onRender:function(){var t=this;this.color=this.el.hasAttribute("data-color")?this.el.getAttribute("data-color"):window.getComputedStyle(this.ui.container[0]).backgroundColor,this.orientation=!!this.el.hasAttribute("data-orientation")&&this.el.getAttribute("data-orientation"),this.inset=!!this.el.hasAttribute("data-inset")&&this.el.getAttribute("data-inset"),this.inset&&this.el.classList.add("is-inset"),this.debouncedResize(),setTimeout(function(){t.toggleBubble(t.ui.activeLink[0])},1100),this.listenTo(h.basic,"sidebar:reset",this.resetAndHideSidebar.bind(this)),this.listenTo(h.basic,"sidebar:toggleActive",this.toggleBubble.bind(this))},clickLinks:function(t){this.toggleBubble(t.currentTarget)},initPaper:function(){var t=this;if("undefined"!=typeof this.paperScope&&(this.paperScope.project.clear(),this.ui.canvas[0].removeAttribute("style")),this.paperScope=new d["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.canvas[0]),c["default"].width<l["default"].breakpoints.medium){var e=this.ui.container[0].scrollWidth,i=this.ui.canvas[0].getBoundingClientRect();void 0,this.paper.view.viewSize=new d["default"].Size(e,i.height),this.paper.view.draw()}this.path=new this.paper.Path,this.path.fillColor=this.color,this.path.removeSegments(),this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft),c["default"].width<l["default"].breakpoints.medium||"horizontal"==this.orientation?(this.inset&&this.path.add(this.paper.view.bounds.bottomLeft),[].concat((0,o["default"])(this.ui.links)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.left+(i.right-i.left)/2,r=Math.max(500,window.innerWidth),o=t.inset?t.paper.view.size.height:0;t.path.add(new t.paper.Point(n-.2*r,o)),t.path.add(new t.paper.Point(n-.065*r,o)),t.path.add(new t.paper.Point(n,o)),t.path.add(new t.paper.Point(n+.065*r,o)),t.path.add(new t.paper.Point(n+.2*r,o))}),this.inset&&this.path.add(this.paper.view.bounds.bottomRight),this.path.add(this.paper.view.bounds.topRight)):(this.inset&&this.path.add(this.paper.view.bounds.topRight),[].concat((0,o["default"])(this.ui.links)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.top+(i.bottom-i.top)/2,r=Math.max(1e3,window.innerHeight),o=t.inset?t.paper.view.size.width:0;t.path.add(new t.paper.Point(o,n-.2*r)),t.path.add(new t.paper.Point(o,n-.065*r)),t.path.add(new t.paper.Point(o,n)),t.path.add(new t.paper.Point(o,n+.065*r)),t.path.add(new t.paper.Point(o,n+.2*r))}),this.inset&&this.path.add(this.paper.view.bounds.bottomRight),this.path.add(this.paper.view.bounds.bottomLeft)),this.path.smooth({type:"catmull-rom",factor:.5,from:2,to:-2})},toggleBubble:function(t){var e=this;if(this.path){if(void 0===t){var i=!1;if(this.ui.links.forEach(function(t){t.classList.contains("make-active")&&(e.target=t,i=!0,t.classList.remove("make-active"))}),i===!1)return}else this.target=t;this.target&&this.target.getAttribute("data-index")&&(this.bubbleState.index=this.target.getAttribute("data-index"));var n=this.inset?5*this.bubbleState.index-1:5*this.bubbleState.index-2,r=new TimelineLite,o=this.inset?1:0,s=this.inset?this.path.segments.length-1:this.path.segments.length;if(c["default"].width<l["default"].breakpoints.medium||"horizontal"==this.orientation)for(var a=this.inset?this.paper.view.size.height:0,u=this.inset?.3*this.paper.view.size.height:.7*this.paper.view.size.height,h=o;h<s;h++)h===n?r.to(this.path.segments[h].point,1,{ease:Elastic.easeOut,y:u},0):r.to(this.path.segments[h].point,.3,{ease:Quart.easeOut,y:a},0);else for(var f=this.inset?this.paper.view.size.width:0,d=this.inset?.3*this.paper.view.size.width:.7*this.paper.view.size.width,h=o;h<s;h++)h===n?r.to(this.path.segments[h].point,1,{ease:Elastic.easeOut,x:d},0):r.to(this.path.segments[h].point,.3,{ease:Quart.easeOut,x:f},0);this.currentActive&&this.currentActive.classList.remove("active"),this.target&&(this.target.classList.add("active"),this.currentActive=this.target)}},resetAndHideSidebar:function(){this.el.classList.contains("categories-menu__inner")&&(this.el.querySelector(".active")&&this.el.querySelector(".active").classList.remove("active"),this.ui.links[0].classList.add("active"),this.toggleBubble(this.ui.links[0]))},debouncedResize:function(){var t=this;c["default"].view.querySelector(".page-content")&&(c["default"].width<l["default"].breakpoints.medium&&!c["default"].view.querySelector(".page-content").classList.contains("js-calendar-page")?setTimeout(function(){c["default"].view.querySelector(".page.is-animating-in .page-content").style.paddingTop=t.el.getBoundingClientRect().height+"px"},500):TweenMax.set(c["default"].view.querySelector(".page-content"),{clearProps:"padding"})),setTimeout(function(){t.initPaper(),t.toggleBubble()},200)},onDestroy:function(){}});i["default"]=p},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,paper:602,utils:65,vent:66}],10:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=(t("vent"),t("utils")),l=n(a),u=t("flickity"),c=n(u),h=t("raf-scroll"),f=n(h),d=r.Marionette.View.extend({template:!1,needResize:!0,ui:{lazy:'[data-component="lazy"]'},events:{mouseenter:"pause",mouseleave:"play"},initialize:function(){this.debouncedResize(),this.initCarousel(),this.changeSlide=this.changeSlide.bind(this),this.onScroll=this.onScroll.bind(this)},onRender:function(){this.initCarousel(),l["default"].width>s["default"].breakpoints.medium&&f["default"].add(this.onScroll),this.resize()},imageSize:function(t){var e=t.parentNode,i=t.parentNode.offsetHeight,n=t.getAttribute("data-width"),r=t.getAttribute("data-height"),o=n*i/r;e.style.width=o+"px"},initCarousel:function(){var t=this;this.slides=this.el.querySelectorAll(".flexible-carousel__slide"),this.flkty=new c["default"](this.el,{prevNextButtons:!0,wrapAround:this.slides.length>3||null!==this.el.getAttribute("freeScroll"),freeScroll:null===this.el.getAttribute("freeScroll")||this.el.getAttribute("freeScroll"),pageDots:void 0!==this.el.getAttribute("data-dots")&&"true"===this.el.getAttribute("data-dots"),dragThreshold:"isDevice"==l["default"].sniff?10:3,autoPlay:null!==this.el.getAttribute("autoPlay")&&5e3,selectedAttraction:.025,friction:.45});var e=l["default"].body.querySelector(".subtitle-carousel"),i=e&&e.querySelectorAll(".js-arrows");i&&i.length>0&&i.forEach(function(e,i){e.addEventListener("click",function(e){t.changeSlide(e)})}),this.flkty.on("staticClick",function(e,i,n,r){t.clicked(n)}),l["default"].width>s["default"].breakpoints.medium&&(this.flkty.dragStartPosition=0,this.flkty.x=0,this.paused=!0,this.pointerDown=!1,this.flkty.isAnimating=!0)},clicked:function(t){var e=t.getAttribute("data-href");e&&window.open(e,"_blank")},changeSlide:function(t){var e=t.currentTarget,i=e.getAttribute("data-dir");"prev"===i?this.flkty.previous():this.flkty.next()},onScroll:function(t){t.scrollY>this.marqueeTop?this.paused&&(this.paused=!1,this.pointerDown||this.loop()):this.paused||(this.paused=!0)},pause:function(t){t.stopPropagation(),l["default"].width>s["default"].breakpoints.medium&&(this.pointerDown=!0)},play:function(t){t.stopPropagation(),l["default"].width>s["default"].breakpoints.medium&&(this.pointerDown=!1,this.loop())},loop:function(){this.flkty.x--,this.flkty.integratePhysics(),this.flkty.settle(this.flkty.x),this.pointerDown||this.paused||(this.raf=window.requestAnimationFrame(this.loop.bind(this)))},resize:function(){this.marqueeTop=this.el.getBoundingClientRect().top-l["default"].height,this.debouncedResize()},debouncedResize:function(){var t=this;this.ui.lazy.forEach(function(e){t.imageSize(e)})},onDestroy:function(){window.cancelAnimationFrame(this.raf),this.el.classList.remove("no-pointer"),this.flkty&&this.flkty.destroy()}});i["default"]=d},{config:47,core:1,flickity:575,"raf-scroll":57,utils:65,vent:66}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("vent"),s=(n(o),t("js-cookie")),a=n(s),l=r.Marionette.View.extend({template:!1,needResize:!0,ui:{accept:".accept",decline:".decline-button",personalCookies:"#gdpr_personal[0]"},events:{"click @ui.accept":"acceptCookies","click @ui.decline":"declineCookies"},initialize:function(){},onRender:function(){"undefined"!=typeof a["default"].get("franshals_allow_cookies")&&this.close()},acceptCookies:function(t){t.preventDefault(),a["default"].set("franshals_allow_cookies",!0,{expires:365}),a["default"].set("gdpr_functional_blocked",!1,{expires:365}),this.ui.personalCookies.checked?a["default"].set("gdpr_personal_blocked",!1,{expires:365}):a["default"].set("gdpr_personal_blocked",!0,{expires:365}),this.close()},declineCookies:function(t){t.preventDefault(),a["default"].set("franshals_allow_cookies",!1,{expires:365}),a["default"].set("gdpr_personal_blocked",!0,{expires:365}),a["default"].set("gdpr_functional_blocked",!0,{expires:365}),this.close(),window.location.reload()},close:function(t){var e=this;document.querySelector(".cookiebar").classList.remove("show"),setTimeout(function(){e.destroy()},400)},debouncedResize:function(){}});i["default"]=l},{"../_core":1,"js-cookie":596,vent:66}],12:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=n(s),l=r.Marionette.View.extend({template:!1,needResize:!0,ui:{lazy:'[data-component="lazy"]',cursor:".js-cursor"},events:{},initialize:function(){this.circleBounds=this.el.getBoundingClientRect(),this.mouseX=0,this.newMouseX=0,this.mouseY=0,this.newMouseY=0,this.circleX=this.circleBounds.left+this.circleBounds.width/2,this.circleY=this.circleBounds.top+this.circleBounds.height/2,this.dX=0,this.dY=0,this.getMousePos=this.getMousePos.bind(this),this.center=[a["default"].width/2,a["default"].height/2]},onRender:function(){this.mousemove=a["default"].body.addEventListener("mousemove",this.getMousePos),this.updateCursorPos()},getMousePos:function(t){this.newMouseX=t.clientX-this.circleBounds.width/2,this.newMouseY=t.clientY-this.circleBounds.height/2},updateCursorPos:function(){var t=this;requestAnimationFrame(function(){t.updateCursorPos()}),this.circleX+=.25*(this.newMouseX-this.circleX),this.circleY+=.25*(this.newMouseY-this.circleY),this.dx=this.newMouseX-this.center[0],this.dy=this.newMouseY-this.center[1];var e=180*Math.atan2(this.dy,this.dx)/Math.PI;this.ui.cursor[0].style.transform="translate("+this.circleX.toFixed(2)+"px, "+this.circleY.toFixed(2)+"px) rotate("+(e-90)+"deg)"}});i["default"]=l},{config:47,core:1,utils:65,vent:66}],13:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=(t("vent"),t("utils")),c=n(u),h=t("paper"),f=n(h),d=t("raf-scroll"),p=n(d),g=s.Marionette.View.extend({template:!1,needResize:!0,hasAnimateOut:!0,ui:{departmentOptions:".js-department-option",teamCards:".team-card",departmentSelect:"#department-select",bubbleCanvas:".bubble-canvas"},events:{"click @ui.departmentOptions":"scrollToDepartment","change @ui.departmentSelect":"scrollToDepartment"},bubbleState:{index:1},cache:{footerTop:!1,extraSidebarBottom:!1},initialize:function(){this.pageScroll=this.pageScroll.bind(this),this.firstLoad=!0},onRender:function(){var t=this;s._.delay(function(){t.color=t.el.hasAttribute("data-color")?t.el.getAttribute("data-color"):window.getComputedStyle(t.ui.departmentOptions[0]).backgroundColor,t.inset=!!t.el.hasAttribute("data-inset")&&t.el.getAttribute("data-inset"),t.inset&&t.el.classList.add("is-inset"),setTimeout(function(){t.toggleBubble(t.ui.departmentOptions[0])},100),t.resize(),p["default"].add(t.pageScroll)},1500)},pageScroll:function(t){!window.innerWidth<l["default"].breakpoints.medium&&(this.toggleActiveDepartment(t),this.positionExtraSidebar(t))},setCache:function(){var t=this;this.cache={footerTop:document.querySelector(".js-footer").getBoundingClientRect().top+window.pageYOffset,extraSidebarBottom:this.el.getBoundingClientRect().bottom},this.teamCards={};var e=window.pageYOffset;[].concat((0,o["default"])(document.querySelectorAll(".team-card"))).forEach(function(i){var n=i.getAttribute("data-department");if(!t.teamCards[n]||i.getBoundingClientRect().top+e<t.teamCards[n].top){var r=i.getBoundingClientRect(),o={el:i,top:r.top+e};t.teamCards[n]=o}}),this.departments=[],[].concat((0,o["default"])(this.ui.departmentOptions)).forEach(function(e){t.departments.push({el:e,department:e.getAttribute("data-department")})})},positionExtraSidebar:function(t){this.cache.extraSidebarBottom&&(t.scrollY+this.cache.extraSidebarBottom<this.cache.footerTop?(this.el.classList.remove("is-abs-bottom"),this.el.classList.add("is-fixed")):t.scrollY+this.cache.extraSidebarBottom>=this.cache.footerTop?(this.el.classList.add("is-abs-bottom"),this.el.classList.remove("is-fixed")):(this.el.classList.remove("is-abs-bottom"),this.el.classList.remove("is-fixed")))},toggleActiveDepartment:function(t){var e=window.pageYOffset;if(this.departments){for(var i=0;i<this.departments.length;i++)this.activeDepartment&&this.activeDepartment.el.classList.remove("active"),this.teamCards[this.departments[i].department].top-e<.5*c["default"].height&&(this.activeDepartment=this.departments[i]);if(this.activeDepartment){this.activeDepartment.el.classList.add("active");var n=this.activeDepartment.el.getAttribute("data-index");this.toggleBubble(this.ui.departmentOptions[n-1])}}},scrollToDepartment:function(t){var e="change"==t.type?this.ui.departmentSelect[0].value:t.currentTarget.getAttribute("data-department"),i=c["default"].width<l["default"].breakpoints.medium?c["default"].width/4:c["default"].width/12,n=this.teamCards[e].top-i;this.toggleBubble(t.currentTarget);try{TweenMax.to(window,1,{scrollTo:n,ease:Power4.easeInOut})}catch(t){window.scrollTo(0,n)}},initPaper:function(){var t=this;"undefined"!=typeof this.paperScope&&(this.paperScope.project.clear(),this.ui.bubbleCanvas[0].removeAttribute("style")),this.paperScope=new f["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[0]),this.path=new this.paper.Path,this.path.fillColor=this.color,this.path.removeSegments(),this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft),(c["default"].width>=l["default"].breakpoints.medium||"horizontal"!=this.orientation)&&(this.inset&&this.path.add(this.paper.view.bounds.topRight),[].concat((0,o["default"])(this.ui.departmentOptions)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.top+(i.bottom-i.top)/2,r=Math.max(1e3,window.innerHeight),o=t.inset?t.paper.view.size.width:0;t.path.add(new t.paper.Point(o,n-.2*r)),t.path.add(new t.paper.Point(o,n-.065*r)),t.path.add(new t.paper.Point(o,n)),t.path.add(new t.paper.Point(o,n+.065*r)),t.path.add(new t.paper.Point(o,n+.2*r))}),this.inset&&this.path.add(this.paper.view.bounds.bottomRight),this.path.add(this.paper.view.bounds.bottomLeft)),this.path.smooth({type:"catmull-rom",factor:.5,from:2,to:-2})},toggleBubble:function(t){var e=this;if(this.path){if(void 0===t){var i=!1;if(this.ui.departmentOptions.forEach(function(t){t.classList.contains("make-active")&&(e.target=t,i=!0,t.classList.remove("make-active"))}),i===!1)return}else this.target=t;this.target&&this.target.getAttribute("data-index")&&(this.bubbleState.index=this.target.getAttribute("data-index"));var n=this.inset?5*this.bubbleState.index-1:5*this.bubbleState.index-2,r=new TimelineLite,o=this.inset?1:0,s=this.inset?this.path.segments.length-1:this.path.segments.length;if(c["default"].width>=l["default"].breakpoints.medium||"horizontal"!==this.orientation)for(var a=this.inset?this.paper.view.size.width:0,u=this.inset?.3*this.paper.view.size.width:.7*this.paper.view.size.width,h=o;h<s;h++)h===n?r.to(this.path.segments[h].point,1,{ease:Elastic.easeOut,x:u,delay:.1},0):r.to(this.path.segments[h].point,.3,{ease:Quart.easeOut,x:a},0);this.target&&(this.currentActive=this.target)}},animateOut:function(){p["default"].remove(this.pageScroll)},onDestroy:function(){p["default"].remove(this.pageScroll)},resize:function(){var t=this;this.setCache(),this.initPaper(),setTimeout(function(){t.firstLoad||t.toggleBubble()},200)}});i["default"]=g},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,paper:602,"raf-scroll":57,utils:65,vent:66}],14:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=n(s),l=t("flickity"),u=n(l),c=r.Marionette.View.extend({template:!1,needResize:!0,ui:{flickityWrapper:".js-scroll-lower",header:".js-scroll-upper"},events:{},initialize:function(){this.calculateTransformValue=this.calculateTransformValue.bind(this)},onRender:function(){this.lerp=0,this.lastLerp=0,this.initSlider()},initSlider:function(){this.flkty=new u["default"](this.ui.flickityWrapper[0],{prevNextButtons:!1,wrapAround:!1,freeScroll:!0,pageDots:!1,contain:!0,cellAlign:"left",dragThreshold:"isDevice"==a["default"].sniff?10:3}),this.flkty.on("scroll",this.calculateTransformValue),this.flkty.on("staticClick",function(t){var e=event.target.closest("a"),i=e.getAttribute("data-href"),n=window.location.origin,o=i.replace(n,"");r.Backbone.history.navigate(o,{trigger:!0})})},calculateTransformValue:function(){this.lerp+=.1*(this.flkty.x/5-this.lerp),this.transformHeader()},transformHeader:function(){var t=this.lerp.toFixed(2),e=t===this.lastLerp?Math.round(this.lerp):this.lerp;this.lastLerp=t,this.ui.header[0].style.transform="translate3d("+e+"px,0,0)",this.flkty.x<0&&(this.el.querySelector(".card-line").style.transform="translate3d("+this.flkty.x+"px,0,0)")},onDestroy:function(){void 0,this.flkty.off("scroll",this.calculateTransformValue)}});i["default"]=c},{config:47,core:1,flickity:575,utils:65,vent:66}],15:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=(t("vent"),r.Marionette.View.extend({template:!1,needResize:!0,ui:{toggleModal:".js-toggle-modal"},events:{"click @ui.toggleModal":"toggleModal"},initialize:function(){},onRender:function(){},toggleModal:function(t){a["default"].js.ajax({method:"POST",body:{action:"toggle_publications_modal",postId:this.el.getAttribute("data-id")}}).then(function(t){var e=document.querySelector(".js-modal-inner"),i=document.createElement("div");i.innerHTML=t.html,e.innerHTML=i.querySelector(".js-modal-inner").innerHTML,e.parentNode.classList.add("is-open"),a["default"].body.classList.add("has-modal-open")})}}));i["default"]=l},{config:47,core:1,utils:65,vent:66}],16:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=(t("vent"),r.Marionette.View.extend({template:!1,needResize:!0,ui:{toggleModal:".js-toggle-modal"},events:{"click @ui.toggleModal":"toggleModal"},initialize:function(){},onRender:function(){},toggleModal:function(t){t.preventDefault();var e=document.querySelector(".js-modal-inner"),i=e.querySelector(".js-program input");i.value=t.currentTarget.getAttribute("data-title"),e.parentNode.setAttribute("data-edulvl",t.currentTarget.getAttribute("data-edulvl")),e.parentNode.classList.add("is-open"),a["default"].body.classList.add("has-modal-open")}}));i["default"]=l},{config:47,core:1,utils:65,vent:66}],17:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=(t("vent"),t("utils")),l=n(a),u=r.Marionette.View.extend({template:!1,needResize:!0,ui:{transitionImage:".js-transition-img"},events:{},initialize:function(){},onRender:function(){},animateArtCardOut:function(t){var e=this;if(t.preventDefault(),l["default"].width>=s["default"].breakpoints.medium){l["default"].body.classList.add("is-animating-detail"),this.preventDefaultAnimateOut=!0;var i=this.ui.transitionImage[0],n=Math.ceil(.04*l["default"].width),r=Math.ceil((i.getBoundingClientRect().left-n)*-1),o=Math.ceil(i.getBoundingClientRect().top*-1),a=null!==i.getAttribute("data-bgPosition")?i.getAttribute("data-bgPosition"):"50",u="50% "+a+"%";i.style.zIndex=500,TweenMax.to(i,1.15,{left:r,top:o,width:l["default"].width-n,backgroundPosition:u,height:l["default"].height,ease:Expo.easeInOut,onComplete:function(){i.classList.add("is-animated"),e.animateOut({productAnimationDone:!0})}}),TweenMax.to(i,1,{backgroundPosition:u,ease:Expo.easeOut},0)}}});i["default"]=u},{config:47,core:1,utils:65,vent:66}],18:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),
t("vent")),u=t("utils"),c=(n(u),s.Marionette.View.extend({template:!1,needResize:!0,ui:{question:".js-question",answer:".js-answer"},events:{"click @ui.question":"toggleAnswer"},initialize:function(){},onRender:function(){},toggleAnswer:function(t){for(var e=[].concat((0,o["default"])(this.ui.question)).indexOf(t.currentTarget),i=this.ui.answer[e],n=i.parentElement,r=n.classList.contains("is-active"),s=.65,a=0;a<this.ui.answer.length;a++){var u=this.ui.answer[a].parentElement;u.classList.contains("is-active")&&(u.classList.remove("is-active"),TweenMax.fromTo(this.ui.answer[a],s,{height:"auto"},{height:"0px",ease:Expo.easeInoutcubic,onComplete:function(){l.basic.trigger("question:changed")}}))}r||(TweenMax.set(i,{height:"auto"}),TweenMax.from(i,s,{height:"0px",ease:Expo.easeInOutCubic,onUpdate:function(){l.basic.trigger("question:changed")},onComplete:function(){l.basic.trigger("question:changed")}},0),n.classList.add("is-active"))}}));i["default"]=c},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,utils:65,vent:66}],19:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=(t("vent"),r.Marionette.View.extend({template:!1,needResize:!0,ui:{text:".js-original-title"},events:{},initialize:function(){},onRender:function(){this.styles=window.getComputedStyle(this.el),this.chars=this.ui.text[0].innerHTML.length,this.maxLines=this.el.hasAttribute("data-lines")?this.el.getAttribute("data-lines"):3,this.isHomeTitle=this.el.classList.contains("home-hero__title"),this.compressor=1,this.settings={minFontSize:10,maxFontSize:this.styles.fontSize},this.fontSize=parseFloat(this.styles.fontSize);var t=this.ui.text[0].innerHTML.split(" ");this.biggestWordCount=0;for(var e=0;e<t.length;e++)this.biggestWordCount=Math.max(t[e].length,this.biggestWordCount);this.resizer()},resizer:function(){if(1==this.maxLines){var t=this.isHomeTitle?a["default"].width/1500:this.el.clientWidth/a["default"].width,e=this.fontSize*t;this.el.style.fontSize=e+"px"}else{this.styles=window.getComputedStyle(this.el),this.el.style.fontSize="";var i=Math.ceil(parseFloat(this.styles.height)/parseFloat(this.styles.fontSize));this.el.parentNode.setAttribute("data-lines",i);var n=Math.ceil(parseFloat(this.styles.width)/(.7*parseFloat(this.styles.fontSize))),r=(n*this.maxLines-1)/Math.max(3*this.biggestWordCount,this.chars),o=parseFloat(this.styles.fontSize)*r,s=this.settings.maxFontSize.replace("px","");o>s?this.el.style.fontSize=s+"px":this.el.style.fontSize=o+"px"}},resize:function(){void 0,this.resizer()}}));i["default"]=l},{config:47,core:1,utils:65,vent:66}],20:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/core-js/get-iterator"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=t("utils"),c=n(u),h=t("vent"),f=t("components-factory"),d=n(f),p=t("raf-scroll"),g=n(p),m=s.Marionette.View.extend({template:!1,needResize:!0,ui:{sidebarInner:".js-sidebar-inner",buyBtn:".sidebar__btn"},events:{},initialize:function(){this.pageScroll=this.pageScroll.bind(this),this.components=new d["default"](this),this.listenTo(h.basic,"menu:updateColor",this.updateColor)},onRender:function(){var t=this;setTimeout(function(){t.resize(),c["default"].width>=l["default"].breakpoints.medium&&g["default"].add(t.pageScroll)},250),this.components.initComponents({components:this.ui.components})},pageScroll:function(t){t.scrollY>this.cache.boundsTop-this.cache.padding&&t.scrollY+this.cache.fixedElBounds.height+this.cache.padding+this.cache.paddingBottom<=this.cache.boundsBottom?(this.ui.sidebarInner[0].classList.add("is-fixed"),this.ui.sidebarInner[0].classList.remove("is-abs-bottom")):t.scrollY+this.cache.fixedElBounds.height+this.cache.padding+this.cache.paddingBottom>this.cache.boundsBottom?(this.ui.sidebarInner[0].classList.remove("is-fixed"),this.ui.sidebarInner[0].classList.add("is-abs-bottom")):(this.ui.sidebarInner[0].classList.remove("is-fixed"),this.ui.sidebarInner[0].classList.remove("is-abs-bottom"))},setCache:function(){var t=this.el.getBoundingClientRect();this.cache={boundsTop:t.top+window.pageYOffset,boundsBottom:t.bottom+window.pageYOffset,fixedElBounds:this.ui.sidebarInner[0].getBoundingClientRect(),padding:c["default"].width/24*2,paddingBottom:c["default"].width/24}},onDestroy:function(){g["default"].remove(this.pageScroll)},resize:function(){this.setCache()},updateColor:function(t){void 0;var e=!0,i=!1,n=void 0;try{for(var r,s=(0,o["default"])(this.ui.buyBtn);!(e=(r=s.next()).done);e=!0){var a=r.value,l=a.dataset.color,u=[a.querySelector(".sidebar__btn__label"),a.querySelector(".static-svg svg"),a.querySelector(".animation-svg svg")],c=new TimelineLite({paused:!0});c.to(u,1,{color:l,stroke:l,ease:Power2.easeInOut},0),c.restart()}}catch(h){i=!0,n=h}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}}});i["default"]=m},{"babel-runtime/core-js/get-iterator":94,"components-factory":49,config:47,core:1,"raf-scroll":57,utils:65,vent:66}],21:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("core"),r=n.Marionette.View.extend({template:!1,needResize:!0,ui:{fields:"input, select, textarea"},events:{"change @ui.fields":"fieldChange",submit:"onSubmit"},options:{},initialize:function(){},onRender:function(){var t=0,e=this.ui.fields.length;for(t;t<e;t++)this.ui.fields[t].addEventListener("invalid",this.onError)},onSubmit:function(t){var e=!0,i=0,r=this.ui.fields.length;for(i;i<r;i++){var o=this.ui.fields[i].checkValidity(),s=(0,n.$)(this.ui.fields[i]).is(":hidden");o||s||(e=!1)}if(!e)return TweenMax.to(window,1,{scrollTo:this.ui.fields[0].getBoundingClientRect().top,ease:Power4.easeInOut}),!1},fieldChange:function(t){var e=t.currentTarget.closest(".form-element");t.currentTarget.validity.valid&&e.classList.contains("error")&&e.classList.remove("error")},onError:function(t){var e=t.currentTarget,i=e.closest(".form-element");i.classList.add("error")}});i["default"]=r},{core:1}],22:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("utils"),l=n(a),u=(t("constants"),t("selectize")),c=(n(u),s.Marionette.View.extend({template:!1,needResize:!0,ui:{formWrap:".gform_wrapper",formBoxes:".gform_wrapper .gfield_checkbox input[type=checkbox]",formSubmit:".gform_wrapper input[type=submit]",fileLink:".js-press-download-modal-file",ideaModal:".form-ideas",select:"select",options:"option"},events:{"click @ui.formBoxes":"checkBoxes"},initialize:function(){var t=this;this.submittedForm=!1,this.formComplete=this.formComplete.bind(this),this.name="",this.email="",this.lists=new Array,this.el.querySelector(".js-input-name")&&this.el.querySelector(".js-input-email")&&(this.el.querySelector(".js-input-name input").addEventListener("blur",function(e){t.name=e.currentTarget.value}),this.el.querySelector(".js-input-email input").addEventListener("blur",function(e){t.email=e.currentTarget.value})),this.el.querySelector(".js-subscribe-newsletter input")&&this.el.querySelector(".js-subscribe-newsletter input").addEventListener("change",function(e){t.subscribe=e.currentTarget.checked}),this.el.querySelector(".js-newsletter-checkboxes")&&this.el.querySelectorAll(".js-newsletter-checkboxes input").forEach(function(e){e.addEventListener("change",function(e){if(e.currentTarget.checked)t.lists.push(e.currentTarget.value);else{var i=t.lists.indexOf(e.currentTarget.value);i>-1&&t.lists.splice(i,1)}})}),this.formComplete=this.formComplete.bind(this)},onRender:function(){void 0,this.ui.formWrap.length&&(this.formHTML=this.ui.formWrap[0].cloneNode(!0)),jQuery(document).one("gform_confirmation_loaded",this.formComplete),(0,s.$)(this.ui.select).selectize()},formComplete:function(t,e){var i=this,n=this.el.querySelectorAll(".js-press-download-modal-file"),r=this.el.getAttribute("data-edulvl");if(this.groups="basisonderwijs"===r?[BIA.MC_GROUPS.basisonderwijs]:"voortgezet onderwijs"==r?[BIA.MC_GROUPS.voortgezet_onderwijs]:new Array,this.lists.length>0){this.subscribe=!0;for(var o=0;o<this.lists.length;o++){var s=BIA.MC_GROUPS.hasOwnProperty(this.lists[o])?BIA.MC_GROUPS[this.lists[o]]:BIA.MC_GROUPS.press;this.groups.push(s)}}("basisonderwijs"===r||"voortgezet onderwijs"===r||this.subscribe)&&l["default"].js.ajax({method:"POST",body:{action:"subscribe_to_newsletter",email:this.email,name:this.name,language:BIA.LANG,group_id:this.groups,nonce:this.el.getAttribute("data-nonce")}}).then(function(t){}),n.length>0&&n[0].click(),setTimeout(function(){i.resetForm()},5e3)},resetForm:function(){this.el.querySelector(".gform_confirmation_wrapper")&&this.formHTML&&(this.el.querySelector(".gform_confirmation_wrapper").innerHTML="",this.el.querySelector(".gform_confirmation_wrapper").appendChild(this.formHTML)),jQuery(document).one("gform_confirmation_loaded",this.formComplete)},checkBoxes:function(){var t=this;1==!this.showIdea&&"modal-education"!==this.el.getAttribute("id")&&(this.showSubmit=!1,[].concat((0,o["default"])(this.ui.formBoxes)).forEach(function(e){e.checked&&(t.showSubmit=!0)}),1==this.showSubmit?this.ui.formSubmit[0].removeAttribute("disabled"):this.ui.formSubmit[0].setAttribute("disabled",""))}}));i["default"]=c},{"babel-runtime/helpers/toConsumableArray":114,constants:124,core:1,selectize:615,utils:65}],23:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=n(s),l=r.Marionette.View.extend({template:!1,needResize:!0,ui:{revealer:".revealer",handle:".revealer__handle",imageWrap:".revealer__image--top",imageInner:".revealer__image--top .intrinsic"},events:{"mousedown @ui.handle":"mouseDown",mouseup:"mouseUp",mousemove:"mouseMove","touchstart @ui.handle":"mouseDown",touchend:"mouseUp",touchmove:"mouseMove"},initialize:function(){this.update=this.update.bind(this),this.cache={xpos:0,isMouseDown:!1,needForRAF:!0}},onRender:function(){this.debouncedResize(),this.cache.xpos=this.elBounds.width/2,this.ui.imageWrap[0].style.transform="translateX("+this.cache.xpos*-1+"px)",this.ui.handle[0].style.transform="translateX("+this.cache.xpos*-1+"px)",this.ui.imageInner[0].style.transform="translateX("+this.cache.xpos+"px)"},mouseDown:function(t){t.preventDefault(),t.stopPropagation(),this.isInteractedWith||(this.el.classList.add("is-interacted-with"),this.isInteractedWith=!0),this.cache.isMouseDown=!0,this.cache.needForRAF=!0,this.update()},mouseMove:function(t){if(t.preventDefault(),t.stopPropagation(),this.cache.isMouseDown){var e="touchmove"==t.type?t.touches[0].clientX:t.clientX,i=a["default"].js.clamp(e-this.elBounds.left,0,this.elBounds.width);this.cache.xpos=this.elBounds.width-i}},mouseUp:function(t){t.preventDefault(),t.stopPropagation(),this.cache.needForRAF=!1,this.cache.needForRAF||(this.cache.isMouseDown=!1)},update:function(){this.cache.isMouseDown&&requestAnimationFrame(this.update),this.ui.imageWrap[0].style.transform="translateX("+this.cache.xpos*-1+"px)",this.ui.handle[0].style.transform="translateX("+this.cache.xpos*-1+"px)",this.ui.imageInner[0].style.transform="translateX("+this.cache.xpos+"px)"},debouncedResize:function(){this.elBounds=this.ui.revealer[0].getBoundingClientRect()}});i["default"]=l},{config:47,core:1,utils:65,vent:66}],24:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("vent"),s=t("utils"),a=n(s),l=t("config"),u=(n(l),t("raf-scroll")),c=n(u),h=t("components-factory"),f=n(h),d=r.Marionette.View.extend({template:!1,needResize:!0,ui:{components:"[data-component]",path:".js-path",itemsContainers:".js-column",items:".js-item",itemsImage:".art-card__image"},events:{},initialize:function(){this.state={isLoading:!1,lastPageReached:!1,pageIndex:1,pageIndexUrl:1},this.clientHeightOffset=100,this.newItemClass="js-infinite-scroll-item",this.lastItem=!1,this.indexHeights={},this.pathRegexes=[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/],this.onScroll=this.onScroll.bind(this),this.onAnimateComplete=this.onAnimateComplete.bind(this),this.components=new f["default"](this),this.initGetPath()},onRender:function(){var t=this;setTimeout(function(){t.getLastItem(),c["default"].add(t.onScroll)},2e3)},onScroll:function(t){if(this.lastItem&&!this.state.isLoading&&!this.state.lastPageReached){var e=this.lastItem.getBoundingClientRect();!e.bottom||e.bottom<200||e.bottom<=document.documentElement.clientHeight+this.clientHeightOffset&&(this.indexHeights[this.state.pageIndex]=window.pageYOffset,this.loadNextPage())}},updateURLOnScroll:function(){var t=this.indexHeights[this.state.pageIndexUrl-1]?this.indexHeights[this.state.pageIndexUrl-1]:2==this.state.pageIndexUrl&&this.indexHeights[this.state.pageIndexUrl],e=!!this.indexHeights[this.state.pageIndexUrl+1]&&this.indexHeights[this.state.pageIndexUrl+1];if(document.documentElement.clientHeight>800&&(t+=document.documentElement.clientHeight/3,t-=document.documentElement.clientHeight/3),t&&window.pageYOffset<t){this.state.pageIndexUrl--;var i=this.pathParts[0]+this.state.pageIndexUrl+this.pathParts[2];return void o.basic.trigger("url:replace",i)}if(e&&window.pageYOffset>e){this.state.pageIndexUrl++;var n=this.pathParts[0]+this.state.pageIndexUrl+this.pathParts[2];return void o.basic.trigger("url:replace",n)}},loadNextPage:function(){var t=this;if(!this.state.isLoading){var e=this.getNextAbsolutePath();this.setLoading(!0),a["default"].js.ajax({method:"POST",url:e,body:{action:"infinite-scroll"}}).then(function(i){if(i.error)return t.setLoading(!1),void 0;var n=new DOMParser,r=n.parseFromString(i,"text/html");t.checkLastPage(r)&&t.pageLoad(r,e)})["catch"](function(t){void 0})}},pageLoad:function(t,e){this.state.pageIndex++,this.state.pageIndexUrl++;var i=t.querySelectorAll(".js-column");this.appendItems(i,e)},appendItems:function(t,e){var i=this;if(t&&t.length){var n=window.pageYOffset,s=this.el.clientHeight;t.forEach(function(t,e){var n=document.createDocumentFragment(),r=t.querySelectorAll(".js-item");r.forEach(function(t){t.classList.add(i.newItemClass),n.appendChild(t)}),i.ui.itemsContainers[e].appendChild(n)}),window.scrollTo(0,n),o.basic.trigger("infinite-scroll:layout"),TweenLite.set(this.el,{height:"auto"}),TweenLite.from(this.el,.4,{height:s,ease:Power3.easeInOut}),window.scrollTo(0,n),this.components.initComponents({components:this.el.querySelectorAll("[data-component]")});var a=[];this.el.querySelectorAll("[data-component]").forEach(function(t){if((0,r.$)(t).data("lazy")&&!t.classList.contains("is-loaded")){var e=t.getBoundingClientRect(),i={el:t,height:e.height,top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset,lazy:t.classList.contains("prevent-lazyload")?null:(0,r.$)(t).data("lazy"),isLoading:!1};a.push(i)}});var l=[];this.el.querySelectorAll(".js-animate-in-view").forEach(function(t){var e=t.getBoundingClientRect(),i={el:t,height:e.height,top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset};l.push(i)}),void 0,o.basic.trigger("lazy:updateCache",a,l),this.onAnimateComplete()}},onAnimateComplete:function(){var t=this;void 0,this.el.querySelectorAll("."+this.newItemClass).forEach(function(e){e.classList.remove(t.newItemClass)}),this.getLastItem(),this.setLoading(!1),o.basic.trigger("app:resize")},checkLastPage:function(t){if(!t)return this.state.lastPageReached=!0,!1;var e=t.querySelectorAll(".js-item");return!!e.length||(this.state.lastPageReached=!0,!1)},initGetPath:function(){if(!this.ui.path.length)return void(this.state.lastPageReached=!0);for(var t=this.ui.path[0].getAttribute("href"),e=void 0,i=void 0,n=0;t&&n<this.pathRegexes.length;n++){i=this.pathRegexes[n];var r=t.match(i);if(r){e=r.slice(1);break}}return e?(this.state.pageIndex=parseInt(e[1],10)-1,void(this.pathParts=e)):void void 0},getNextPath:function(){var t=this.state.pageIndex+1;return this.pathParts[0]+t+this.pathParts[2]},getNextAbsolutePath:function(){var t=this.getNextPath(),e=t.match(/^http/)||t.match(/^\//);if(e)return t;var i=location.pathname,n=i.substring(0,i.lastIndexOf("/"));return n+"/"+t},getLastItem:function(){var t=this;this.lastItem=!1;var e=[],i=(Array.prototype.filter.call(this.el.querySelectorAll(".js-item"),function(t){t.matches(":last-child")&&e.push(t)}),0);e.forEach(function(e){var n=e.getBoundingClientRect();(n.bottom<i||0===i)&&(i=n.bottom,t.lastItem=e)})},setLoading:function(t){t?(this.state.isLoading=!0,document.body.classList.add("js-infinite-scroll-loading")):(this.state.isLoading=!1,document.body.classList.remove("js-infinite-scroll-loading"))},onDestroy:function(){this.setLoading(!1),c["default"].remove(this.onScroll)}});i["default"]=d},{"components-factory":49,config:47,core:1,"raf-scroll":57,utils:65,vent:66}],25:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("vent"),s=t("utils"),a=n(s),l=t("config"),u=(n(l),r.Marionette.View.extend({template:!1,needResize:!0,ui:{},events:{},initialize:function(){this.state={image:{src:"",width:0},imgSrces:"",isImgTag:!1,loaded:!1,updating:!1,loading:!1,bounding:""},this.$el.data("lazy",this),this.setInitialState()},onRender:function(){if(this.$el.length){var t=this.el.getAttribute("data-imgsrc");if("undefined"==typeof t)return!1;this.state.imgSrces=JSON.parse(t),this.state.isImgTag="IMG"===this.el.tagName,this.sortbyHeight=this.el.hasAttribute("data-sortby")&&"height"==this.el.getAttribute("data-sortby")}},debouncedResize:function(){this.state.loaded&&this.$el.length&&this.responsive()},lazyload:function(t){if(!this.state.loaded){var e=window.getComputedStyle(this.el).display;"none"!=e&&(this.state.bounding=t||this.el.getBoundingClientRect(),this.loadImage())}},responsive:function(){var t=this.getResponsiveImg();if(t){var e=t.src!=this.state.image.src,i=t.width>this.state.image.width&&t.height>this.state.image.height;e&&i&&(this.setLoaded(!1),this.loadImage(t))}},loadImage:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getResponsiveImg();if(e){if(""==e.src)return void this.setLoaded(!0);var i=document.createElement("img");this.state.loading=!0,i.addEventListener("load",function(){t.setImage(e),t.setUpdating(!1),t.setLoaded(!0),i.removeEventListener("load",t)}),i.src=e.src}},getResponsiveImg:function(){var t=this,e=a["default"].is.retina,i=this.state.imgSrces;if(i.length){this.state.isImgTag&&!this.sortbyHeight||(i=r._.sortBy(i,"height"),i=r._.filter(i,function(n,r){var o=e?2*t.state.bounding.height:t.state.bounding.height;return n.height>=o||r==i.length-1})),i=r._.sortBy(i,"width");var n=r._.findIndex(i,function(n,r){var o=e?2*t.state.bounding.width:t.state.bounding.width;return n.width>=o||r==i.length-1});return i[n]}},setInitialState:function(){"undefined"!=typeof this.model&&(this.state.compare=r._.indexOf(CompareModel.get("products"),this.model.get("variationId"))!==-1),r._.each(this.state,r._.bind(function(t,e){var i="set"+this.capitalizeFirstLetter(e);"undefined"!=typeof this[i]&&this[i].call(this,t)},this))},setImage:function(t){this.state.loaded||t&&""===t.src||(this.state.isImgTag?this.el.setAttribute("src",t.src):this.el.style.backgroundImage="url("+t.src+")",this.state.image=t)},setLoaded:function(t){this.state.loaded=t,t?(this.el.classList.add("is-loaded"),o.basic.trigger("lazy:loaded"),(0,r.$)(this.el).trigger("loaded")):this.el.classList.contains("is-loaded")&&this.el.classList.remove("is-loaded")},setUpdating:function(t){this.state.updating=t},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}}));i["default"]=u},{config:47,core:1,utils:65,vent:66}],26:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),t("utils")),u=n(l),c=(t("vent"),t("mapbox-gl")),h=n(c),f=t("turf"),d=n(f),p=s.Marionette.View.extend({template:!1,needResize:!0,ui:{markers:".map-marker",map:".js-map",zoom:".js-zoom"},events:{"click @ui.zoom":"zoom","click @ui.markers":"setEventListeners","click @ui.map":"removeHoveredClassList"},initialize:function(){h["default"].accessToken="pk.eyJ1IjoiYnVpbGRpbmFtc3RlcmRhbSIsImEiOiJjaWh4bDA1eGYwMzhjdDNtMWZjZGMxc3dyIn0._BZ6Xs3c8kVyx1RnUENIAQ",this.target=!1},initMap:function(){var t=this;void 0,this.colorset=JSON.parse(this.ui.map[0].getAttribute("data-colorset")),this.options=JSON.parse(this.ui.map[0].getAttribute("data-options")),this.directions=this.ui.map[0].hasAttribute("data-directions")?JSON.parse(this.ui.map[0].getAttribute("data-directions")):null,this.directions?this.coordinates=this.directions.routes[0].geometry.coordinates:this.options?(this.coordinates=[],this.options.forEach(function(e){t.coordinates.push([parseFloat(e.address.lng),parseFloat(e.address.lat)])})):this.coordinates=this.ui.map[0].hasAttribute("data-coordinates")?JSON.parse(this.ui.map[0].getAttribute("data-coordinates")):[[4.634073,52.377085],[4.63397,52.37722],[4.63404,52.3774],[4.63408,52.37747],[4.63424,52.37772],[4.63438,52.37786],[4.63452,52.37799],[4.63456,52.37802],[4.6346,52.37805],[4.63486,52.37821],[4.63513,52.37838],[4.6351315,52.378379],[4.6352,52.3785],[4.63523,52.37854],[4.63536,52.3787],[4.63537,52.37871],[4.63578,52.37913],[4.63595,52.37932],[4.6363,52.37971],[4.63639,52.37981],[4.63642,52.37987],[4.63643,52.37991],[4.6364307,52.3799129],[4.6365,52.38035],[4.63651,52.38055],[4.63652,52.38063],[4.63656,52.38081],[4.6365617,52.3808092],[4.63635,52.38082],[4.6363485,52.3808231],[4.63633,52.38107],[4.63633,52.38112],[4.6363287,52.3811198],[4.636051,52.381114]];var e=(this.coordinates[0][0]+this.coordinates[this.coordinates.length-1][0])/2,i=(this.coordinates[0][1]+this.coordinates[this.coordinates.length-1][1])/2;this.center=[e,i],this.map=new h["default"].Map({container:this.ui.map[0],style:"mapbox://styles/buildinamsterdam/"+(this.ui.map[0].getAttribute("data-style")?this.ui.map[0].getAttribute("data-style"):"cj7hd2qs04c4h2sr0q1v0gg2k"),scrollZoom:!0,center:this.center,zoom:this.ui.map[0].getAttribute("data-zoom")?this.ui.map[0].getAttribute("data-zoom"):14,bearing:0,interactive:!0}),this.map.scrollZoom.disable(),this.map.dragRotate.disable(),this.map.touchZoomRotate.disable(),setTimeout(function(){for(var e=t.el.getBoundingClientRect(),i=(e.width/2-e.width)*(e.width/2-e.width),n=(e.height/2-e.height)*(e.height/2-e.height),r=[],o=0;o<t.ui.markers.length;o++){var s=u["default"].js.getTranslateValue(t.ui.markers[o].querySelector(".map-marker__inner")),a=t.ui.markers[o].getBoundingClientRect();r[o]={x:Math.abs(s.x),y:Math.abs(s.y),width:a.width,height:a.height}}t.map.on("move",function(o){for(var s=0;s<t.ui.markers.length;s++){var a=u["default"].js.getTranslateValue(t.ui.markers[s]),l=a.x+r[s].width/2+r[s].x,c=a.y+r[s].y,h=(e.width/2-l)*(e.width/2-l),f=(e.height/2-c)*(e.height/2-c),d=-1*(h/i)+1,p=-1*(f/n)+1,g=Math.max(0,Math.min(d,p));t.ui.markers[s].children[0].style.transform="scale("+g+")"}})},100),this.ui.map[0].getAttribute("data-preventzoom")&&this.map.scrollZoom.disable(),this.directions&&this.map.on("load",this.addRoute.bind(this)),this.map.on("load",this.paint.bind(this)),this.addMarkers()},paint:function(){var t=this;if(this.colorset){[].concat((0,o["default"])(this.map.getStyle().layers)).forEach(function(e){"background"==e.id?t.map.setPaintProperty("background","background-color",t.shadeRGBColor(t.colorset.primary,-.1)):"water"==e.id?(t.map.setPaintProperty("water","fill-color",t.colorset.primary),t.map.setPaintProperty("water","fill-outline-color","rgba(0,0,0,0)")):0==e.id.indexOf("road")&&e.id.indexOf("road-label")<0&&t.map.setPaintProperty(e.id,"line-color",t.colorset.primary)}),this.map.resize(),this.el.classList.add("is-loaded");var e=document.querySelectorAll(".page-default--around-the-world");if(e.length>0){var i=e[0].querySelector(".sub-view");TweenMax.set(i,{clearProps:"all"}),i.style.minHeight=i.offsetHeight+"px"}}},shadeRGBColor:function(t,e){var i=t.split(","),n=e<0?0:255,r=e<0?e*-1:e,o=parseInt(i[0].slice(4)),s=parseInt(i[1]),a=parseInt(i[2]);return"rgb("+(Math.round((n-o)*r)+o)+","+(Math.round((n-s)*r)+s)+","+(Math.round((n-a)*r)+a)+")"},addRoute:function(){if(this.colorset){var t=d["default"].lineString(this.coordinates);this.geojsonCurved=d["default"].bezier(t,1e4,.4),this.map.addLayer({id:"route",type:"line",source:{type:"geojson",data:this.geojsonCurved},layout:{"line-cap":"round"},paint:{"line-color":"rgb(252,227,115)","line-width":6,"line-dasharray":[0,3]}}),this.calculateBounds()}},calculateBounds:function(){if(0!=this.geojson.features.length){var t=new h["default"].LngLatBounds;this.geojson.features.forEach(function(e){t.extend(e.geometry.coordinates)}),u["default"].width>1024&&this.map.fitBounds(t,{padding:180})}},addMarkers:function(){var t=this;this.geojson={type:"FeatureCollection",features:[]},this.options?[].concat((0,o["default"])(this.options)).forEach(function(e){t.geojson.features.push({type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.address.lng),parseFloat(e.address.lat)]}})}):this.ui.markers.length>0&&this.ui.markers[0].getAttribute("data-coordinates")?[].concat((0,o["default"])(this.ui.markers)).forEach(function(e){t.geojson.features.push({type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(JSON.parse(e.getAttribute("data-coordinates")).lng),parseFloat(JSON.parse(e.getAttribute("data-coordinates")).lat)]}})}):this.geojson.features.push({type:"Feature",properties:{message:"Start",iconSize:[200,200]},geometry:{type:"Point",coordinates:this.coordinates[0]}},{type:"Feature",properties:{message:"Finish",iconSize:[200,200]},geometry:{type:"Point",coordinates:this.coordinates[this.coordinates.length-1]}}),0!=this.ui.markers.length&&this.geojson.features.forEach(function(e,i){var n=t.ui.markers[i];n.style.display="inline-block",n.className+=" marker";var r=e.geometry.coordinates[1]>t.center[1]?"top":"bottom",o=e.geometry.coordinates[0]>t.center[0]?"right":"left";n.classList.add(r),n.classList.add(o),new h["default"].Marker(n).setLngLat(e.geometry.coordinates).addTo(t.map)})},zoom:function(t){var e=t.currentTarget.getAttribute("data-dir");"in"==e?this.map.zoomIn():this.map.zoomOut()},setEventListeners:function(t){var e=this;u["default"].width<=768||(t.stopPropagation(),this.removeHoveredClassList(),this.target=t,this.target.currentTarget.classList.add("is-hovered"),this.target.currentTarget.querySelectorAll(".js-painting").forEach(function(t,i){t.addEventListener("mouseenter",function(){e.innerHovered=!0,t.style.zIndex="10",t.addEventListener("mouseleave",function(){t.style.zIndex=10-i}),t.addEventListener("click",function(){e.innerHovered=!1,e.removeEventListeners()})})}))},removeEventListeners:function(t){var e=this;setTimeout(function(){1!=e.innerHovered&&e.target.currentTarget.classList.remove("is-hovered")},300)},removeHoveredClassList:function(){this.ui.markers.forEach(function(t){t.classList.remove("is-hovered")})},onDestroy:function(){this.map&&this.map.remove()}});i["default"]=p},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,"mapbox-gl":599,turf:681,utils:65,vent:66}],27:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=(t("vent"),t("utils")),c=n(u),h=t("flickity"),f=n(h),d=t("raf-scroll"),p=n(d),g=s.Marionette.View.extend({template:!1,needResize:!0,ui:{slide:".flickity-slider > div",cards:".news-card > a, .event-card .event-card__wrapper > a, .press-card > a, .publication-card > a, .art-card > a, .education-card .education-card__wrapper > a"},events:{mouseenter:"pause",mouseleave:"play"},initialize:function(){this.onScroll=this.onScroll.bind(this)},onRender:function(){this.setHeight(),this.initMarquee(),this.ui.slide=this.el.querySelectorAll(".flickity-slider > *"),c["default"].width>l["default"].breakpoints.medium&&p["default"].add(this.onScroll),this.resize()},setHeight:function(){var t=this;if(this.maxHeight=0,this.minHeight=99999999,[].concat((0,o["default"])(this.ui.cards)).forEach(function(e){var i=Math.max(e.getBoundingClientRect().height,t.maxHeight);t.maxHeight=i;var n=Math.min(e.getBoundingClientRect().height,t.minHeight);t.minHeight=n}),this.el.style.height=this.maxHeight,this.el.hasAttribute("data-align")&&"top"==this.el.getAttribute("data-align")){this.alignWorks();var e=this.maxHeight-this.minHeight/2;void 0,this.el.parentNode.querySelector(".explore-area__line").style.top=e+"px"}else this.el.parentNode.querySelector(".explore-area__line").style.top=this.maxHeight/2+"px"},initMarquee:function(){this.flkty=new f["default"](this.el,{prevNextButtons:!0,wrapAround:!0,freeScroll:!0,pageDots:!1,dragThreshold:"isDevice"==c["default"].sniff?10:3,selectedAttraction:.025,friction:.45,initialIndex:1}),this.flkty.on("staticClick",function(t){var e=event.target.closest("a"),i=e.getAttribute("data-href"),n=window.location.origin,r=i.replace(n,"");s.Backbone.history.navigate(r,{trigger:!0})}),c["default"].width>l["default"].breakpoints.medium&&(this.flkty.dragStartPosition=0,this.flkty.x=-500,this.paused=!0,this.pointerDown=!1,this.flkty.isAnimating=!0)},onScroll:function(t){t.scrollY>this.marqueeTop?this.paused&&(this.paused=!1,this.pointerDown||this.loop()):this.paused||(this.paused=!0)},pause:function(t){t.stopPropagation(),c["default"].width>l["default"].breakpoints.medium&&(this.pointerDown=!0)},play:function(t){t.stopPropagation(),c["default"].width>l["default"].breakpoints.medium&&(this.pointerDown=!1,this.loop())},loop:function(){this.flkty.x--,this.flkty.integratePhysics(),this.flkty.settle(this.flkty.x),this.pointerDown||this.paused||(this.raf=window.requestAnimationFrame(this.loop.bind(this)))},resize:function(){this.marqueeTop=this.el.getBoundingClientRect().top-c["default"].height,this.setHeight()},alignWorks:function(){var t=this;[].concat((0,o["default"])(this.ui.cards)).forEach(function(e){var i=e.clientHeight;i<t.maxHeight&&(e.style.marginTop=t.maxHeight-i+"px")})},onDestroy:function(){window.cancelAnimationFrame(this.raf),this.el.classList.remove("no-pointer"),this.flkty&&this.flkty.destroy()}});i["default"]=g},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,flickity:575,"raf-scroll":57,utils:65,vent:66}],28:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=t("vent"),u=r.Marionette.View.extend({template:!1,needResize:!0,ui:{toggleModal:".js-toggle-modal"},events:{"click @ui.toggleModal":"toggleModal"},initialize:function(){},onRender:function(){},toggleModal:function(t){var e=this;t.preventDefault();var i=t.currentTarget.getAttribute("data-target"),n=document.querySelector(i),r=n.querySelector(".animation-slides"),o=n.querySelector(".video-modal__video");n.classList.contains("is-open")?(r&&o&&(l.basic.trigger("nativevideo:pause",t),r.classList.remove("animate-out"),o.classList.remove("is-visible"),n.classList.remove("is-loaded"),setTimeout(function(){e.moveVideo(n,!0)},500)),n.classList.remove("is-open"),a["default"].body.classList.remove("has-modal-open")):(r&&o&&(this.moveVideo(n),setTimeout(function(){o.classList.add("is-visible"),r.classList.add("animate-out"),l.basic.trigger("nativevideo:load",t)},200)),n.classList.add("is-open"),
a["default"].body.classList.add("has-modal-open"))},moveVideo:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)setTimeout(function(){var e=document.querySelector("#video-modal-initial-cont");e.appendChild(t)},400);else{var i=document.querySelector("#video-modal-cont");i.appendChild(t)}}});i["default"]=u},{config:47,core:1,utils:65,vent:66}],29:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/core-js/promise"),o=n(r),s=t("core"),a=t("utils"),l=n(a),u=t("youtube"),c=(n(u),t("vent")),h=s.Marionette.View.extend({template:!1,needResize:!0,ui:{video:"video"},initialize:function(){this.listenTo(c.basic,"nativevideo:load",this.load),this.listenTo(c.basic,"nativevideo:play",this.play),this.listenTo(c.basic,"nativevideo:pause",this.pause)},load:function(){var t=this,e=this.ui.video[0],i=document.querySelector(".video-modal__container");if("true"===e.getAttribute("data-loaded"))return e.currentTime=0,void setTimeout(function(){t.play()},800);var n=void 0;n=l["default"].width>=1024?e.getAttribute("data-md-src"):e.getAttribute("data-xs-src"),e.setAttribute("src",n),e.load(),new o["default"](function(n,r){t.videoPromise(e,i,n)})},videoPromise:function(t,e,i){t.oncanplay=function(){t.play(),t.setAttribute("data-loaded",!0),e.classList.add("is-loaded"),TweenLite.to(t,.6,{opacity:1,ease:Power2.easeOut}),i()}},play:function(){"string"!=typeof this.ui.video[0]&&this.ui.video[0].play()},pause:function(){"string"!=typeof this.ui.video[0]&&this.ui.video[0].pause()},onDestroy:function(){this.pause()}});i["default"]=h},{"babel-runtime/core-js/promise":104,core:1,utils:65,vent:66,youtube:59}],30:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("utils"),s=n(o),a=(t("vent"),t("Functions"),r.Marionette.View.extend({template:!1,needResize:!0,ui:{form:".js-newsletterSubscribe",label:".js-newsletter-label",input:".js-newsletter-input",inputEmail:".js-email",submit:".js-newsletterSubmit",trigger:".js-trigger-gif",newsletterGIF:".js-newsletter-gif",labelLists:".js-newsletter_lists__label",inputLists:".js-newsletter_lists",initialMessage:".js-initial-message",nameMessage:".js-name-message",errorMessage:".js-error-message",typeCheckboxes:".js-newsletter-type",validMessage:".js-valid-message",mc_newsletter:".js-mc-newsletter"},events:{"submit @ui.form":"onSubmit","click @ui.label":"onLabelClick","focus @ui.input":"onInputFocus","keyup @ui.input":"checkValidity","blur @ui.input":"onInputBlur","change @ui.typeCheckboxes":"typeChange","click @ui.labelLists":"onLabelClickLists"},initialize:function(){this.emailRegex=/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/},onRender:function(){var t=this;this.curStep="initial",this.activeFeedback=this.ui.initialMessage[0],this.nameMessage=this.ui.nameMessage[0].innerHTML,this.initialMessage=this.ui.initialMessage[0].innerHTML;for(var e=function(e){t.ui.input[e].addEventListener("keypress",function(i){13===i.which&&(i.preventDefault(),e<t.ui.input.length-1?t.nextInput(e):t.onSubmit())})},i=0;i<this.ui.input.length;i++)e(i)},nextInput:function(t){this.ui.input[t+1].focus()},onInputFocus:function(t){t.currentTarget.classList.add("in-focus"),t.currentTarget.classList.remove("is-error")},onLabelClick:function(t){t.currentTarget.nextElementSibling.focus()},onLabelClickLists:function(t){(0,r.$)(".js-newsletter_lists").select2("open"),this.ui.labelLists[0].classList.remove("in-focus"),this.ui.labelLists[0].classList.add("has-value")},onInputBlur:function(t){var e=t.currentTarget;e.classList.remove("in-focus"),e.value.length>0?e.classList.add("has-value"):e.classList.remove("has-value"),void 0,this.allInputFieldsFilled()&&!this.emailRegex.test(this.ui.inputEmail[0].value.trim())?(this.changeFeedback("error"),this.ui.submit[0].disabled=!0):this.allInputFieldsFilled()&&this.emailRegex.test(this.ui.inputEmail[0].value.trim())?(this.changeFeedback("valid"),this.ui.submit[0].disabled=!1):this.ui.input[0].value.length>0&&0==this.ui.input[1].value.length?(this.changeFeedback("name"),this.ui.submit[0].disabled=!0):(this.ui.nameMessage[0].value=this.nameMessage+this.ui.input[0].value,this.changeFeedback("initial"),this.ui.submit[0].disabled=!0)},typeChange:function(t){this.ui.submit[0].disabled=!this.checkNewsletterTypeSelected()},checkNewsletterTypeSelected:function(){var t=!1;return this.ui.typeCheckboxes.forEach(function(e){!t&&e.checked&&(t=!0)}),t},changeFeedback:function(t){var e=this;t!=this.curStep&&(this.activeFeedback.classList.add("hidden"),setTimeout(function(){switch(t){case"initial":e.activeFeedback=e.ui.initialMessage[0];break;case"name":e.activeFeedback=e.ui.nameMessage[0];break;case"error":e.activeFeedback=e.ui.errorMessage[0];break;case"valid":e.ui.submit[0].disabled=!1,e.activeFeedback=e.ui.validMessage[0];break;case"succes":e.activeFeedback=e.el.querySelector(".js-succes-message"),e.ui.form[0].classList.add("succes"),setTimeout(function(){TweenMax.to(e.el.querySelector(".footer-newsletter__body"),.3,{height:0,ease:Expo.easeOut})},200);break;case"choice":e.activeFeedback=e.el.querySelector(".js-choice-message"),e.ui.form[0].classList.add("choice"),e.ui.submit[0].disabled=!0,e.ui.typeCheckboxes.forEach(function(t,e){var i=t.parentElement.querySelector(".form-element__status").classList,n=t.parentElement.querySelector(".footer-newsletter__choiceLabel").classList,r=setTimeout(function(){i.add("visible"),n.remove("hidden"),clearTimeout(r)},100*e+1)})}e.activeFeedback.classList.remove("hidden"),e.curStep=t},300))},checkValidity:function(){this.allInputFieldsFilled&&this.emailRegex.test(this.ui.inputEmail[0].value.trim())?this.changeFeedback("valid"):this.ui.submit[0].disabled=!0},toggleGIF:function(){this.ui.newsletterGIF[0].classList.toggle("hidden")},allInputFieldsFilled:function(){for(var t=0,e=0;e<this.ui.input.length;e++)this.ui.input[e].value.length>0&&t++;return void 0,t==this.ui.input.length},onSubmit:function(t){var e=this;if(1!=this.ui.submit[0].disabled){if(t&&t.preventDefault(),this.ui.typeCheckboxes.length>=1&&!this.checkNewsletterTypeSelected())return this.changeFeedback("choice");if(this.emailRegex.test(this.ui.inputEmail[0].value.trim())){var i=this.ui.submit[0].getAttribute("data-nonce");s["default"].js.ajax({method:"POST",body:{action:"subscribe_to_newsletter",email:this.ui.inputEmail[0].value,name:this.ui.input[0].value,group_id:[this.ui.mc_newsletter[0].getAttribute("data-id")],language:BIA.LANG,nonce:i}}).then(function(t){"subscribed"===t.result.status?e.changeFeedback("succes"):e.changeFeedback("error")})}}}}));i["default"]=a},{Functions:50,core:1,utils:65,vent:66}],31:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("vent"),s=(n(o),t("js-cookie")),a=n(s),l=r.Marionette.View.extend({template:!1,needResize:!0,ui:{close:".close"},events:{"click @ui.close":"closeNotificationBar"},initialize:function(){},onRender:function(){if("undefined"!=typeof a["default"].get("franshals_notification_bar_hide"))this.close();else{var t=document.querySelector('[data-component="cookie"]');t&&t.classList.contains("show")&&t.classList.add("notification-bar-visible")}},closeNotificationBar:function(t){t.preventDefault(),a["default"].set("franshals_notification_bar_hide",!0,{expires:1}),this.close()},close:function(t){var e=this;document.querySelector(".notification-bar").classList.remove("show"),setTimeout(function(){e.destroy()},400)},debouncedResize:function(){}});i["default"]=l},{"../_core":1,"js-cookie":596,vent:66}],32:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),t("vent")),u=t("flickity"),c=n(u),h=s.Marionette.View.extend({template:!1,needResize:!0,ui:{carousel:".overlay-gallery__carousel",prev:".prevnext--prev",next:".prevnext--next",close:".close"},events:{"click @ui.prev":"prevSlide","click @ui.next":"nextSlide","click @ui.close":"closeOverlay"},initialize:function(){this.listenTo(l.basic,"carousel:select",this.selectSlide)},onRender:function(){var t=this;this.flkty=[],[].concat((0,o["default"])(this.ui.carousel)).forEach(function(e,i){t.initCarousel(e,i)}),this.flkty[0].on("dragStart",function(e){t.runRafTop=!0,t.rafTop()}),this.flkty[0].on("select",function(e){t.runRafTop||(t.runRafTop=!0,t.rafTop())}),this.flkty[0].on("settle",function(e){t.runRafTop=!1}),this.flkty[1].on("dragStart",function(e){t.runRafBottom=!0,t.rafBottom()}),this.flkty[1].on("select",function(e){t.runRafBottom||(t.runRafBottom=!0,t.rafBottom())}),this.flkty[1].on("settle",function(e){t.runRafBottom=!1})},initCarousel:function(t,e){var i=(0==e?this.ui.carousel[1]:this.ui.carousel[0],new c["default"](t,{cellAlign:"left",contain:!0,wrapAround:!0,pageDots:!1,prevNextButtons:!1}));this.flkty.push(i)},prevSlide:function(t){t.preventDefault(),this.flkty[0].previous()},nextSlide:function(t){t.preventDefault(),this.flkty[0].next()},closeOverlay:function(){this.el.classList.remove("is-open")},selectSlide:function(t){this.flkty.forEach(function(e){e.select(t,!0,!0)})},rafTop:function(){this.runRafTop&&window.requestAnimationFrame(this.rafTop.bind(this)),this.flkty[1].x=this.flkty[0].x,this.flkty[1].settle(this.flkty[1].x)},rafBottom:function(){this.runRafBottom&&window.requestAnimationFrame(this.rafBottom.bind(this)),this.flkty[0].x=this.flkty[1].x,this.flkty[0].settle(this.flkty[0].x)}});i["default"]=h},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,flickity:575,vent:66}],33:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=t("utils"),l=n(a),u=(t("vent"),t("raf-scroll")),c=n(u),h=r.Marionette.View.extend({template:!1,needResize:!0,hasAnimateOut:!0,ui:{originalTitle:".js-original-title",title:".js-page-title",subtitle:".js-page-subtitle"},events:{},initialize:function(){this.pageScroll=this.pageScroll.bind(this)},onRender:function(){var t=this;l["default"].width>=s["default"].breakpoints.medium?setTimeout(function(){return c["default"].add(t.pageScroll)},500):setTimeout(function(){t.ui.title.length&&(t.ui.title[0].style.transform="translate3d(0px, 0%, 0px)",t.ui.title[1].style.transform="translate3d(0px, 0%, 0px)")},500),setTimeout(function(){t.el.classList.remove("is-animating")},2e3),this.headerBottom=this.el.getBoundingClientRect().bottom,this.numSubTitles=this.ui.subtitle.length},pageScroll:function(t){var e=Math.max(0,t.scrollY),i=l["default"].js.clamp(0,.8*this.headerBottom,e),n=l["default"].js.map([0,.8*this.headerBottom],[0,100],i);this.ui.title.length&&(this.ui.title[0].style.transform="translate3d(0px, "+n+"%, 0px)",this.ui.title[1].style.transform="translate3d(0px, "+n*-1+"%, 0px)");for(var r=0;r<this.numSubTitles;r++)this.ui.subtitle[r].style.opacity=1-n/100},animateOut:function(){c["default"].remove(this.pageScroll),this.el.classList.add("is-animating"),this.el.classList.add("is-animating--out");var t=100;this.ui.title.length&&(this.ui.title[0].style.transform="translate3d(0px, "+t+"%, 0px)",this.ui.title[1].style.transform="translate3d(0px, "+t*-1+"%, 0px)");for(var e=0;e<this.numSubTitles;e++)this.ui.subtitle[e].style.opacity=0},onDestroy:function(){void 0,c["default"].remove(this.pageScroll)}});i["default"]=h},{config:47,core:1,"raf-scroll":57,utils:65,vent:66}],34:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=t("vent"),c=t("utils"),h=n(c),f=s.Marionette.View.extend({template:!1,needResize:!0,ui:{paths:".play-btn__close path, .play-btn__close polygon"},events:{mouseenter:"mouseEnter",mouseleave:"mouseLeave",mousemove:"mouseMove",click:"hidePlaySection"},initialize:function(){this.update=this.update.bind(this),this.cache={oldX:0,oldY:0,x:0,y:0,distanceXPosition:0,distanceYPosition:0,isMouseDown:!1,needForRAF:!0}},onRender:function(){this.playSections=document.querySelectorAll(".js-play-section"),window.requestAnimationFrame(this.resize.bind(this)),this.listenTo(u.basic,"app:pagechange",this.hidePlaySection)},onDestroy:function(){this.biaIsDestroyed=!0},mouseEnter:function(t){t.preventDefault(),t.stopPropagation(),h["default"].width<l["default"].breakpoints.medium||this.ui.paths.length>0&&(clearTimeout(this.resetPosition),this.resize(),this.cache.isMouseDown=!0,this.cache.distanceXPosition=0,this.cache.distanceYPosition=0,this.cache.needForRAF=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.update())},mouseMove:function(t){t.preventDefault(),t.stopPropagation(),this.cache.isMouseDown&&(this.cache.distanceXPosition=h["default"].js.map([0,this.playSizes.width],[-20,20],t.pageX-h["default"].width+this.playSizes.width),this.cache.distanceYPosition=h["default"].js.map([0,this.playSizes.height],[40,-20],t.pageY-window.pageYOffset))},mouseLeave:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.cache.needForRAF=!1,setTimeout(function(){e.cache.needForRAF||(e.cache.isMouseDown=!1)},500),this.resetPosition=setTimeout(function(){e.cache.distanceXPosition=0,e.cache.distanceYPosition=0},200)},update:function(){this.cache.isMouseDown&&(this.raf=window.requestAnimationFrame(this.update));var t=this.cache.distanceXPosition;this.cache.x=this.cache.x+.1*(t-this.cache.x);var e=this.cache.distanceYPosition;this.cache.y=this.cache.y+.1*(e-this.cache.y);for(var i=0;i<this.ui.paths.length;i++){var n=1e3*i,r=i%2==0?this.cache.y:this.cache.y*-1;r=0==i||3==i?.5*r:r,this.ui.paths[i].style.transform="translate3d("+this.cache.x.toFixed(2)+"px, "+r.toFixed(2)+"px, "+n+"px) rotateY("+this.cache.x+"deg) rotateX("+r+"deg)"}this.swap()},hidePlaySection:function(){var t=this;Math.floor(Math.random()*this.playSections.length);[].concat((0,o["default"])(this.playSections)).forEach(function(e,i){t.playSections[i].classList.contains("in-view")&&(t.playSections[i].classList.remove("in-view"),t.playSections[i].classList.add("is-hidding"),window.setTimeout(function(){t.playSections[i].classList.remove("is-hidding")},1100))});var e=document.querySelector(".page-home");if(e&&e.classList.contains("is-tinder")|e.classList.contains("is-gif")|e.classList.contains("is-roulette")){var i=window.location.href;1==i.includes("/en")?history.pushState("","","/en"):1==i.includes("/nl")?history.pushState("","","/nl"):history.pushState("","","/")}},removeClasses:function(){els[0].classList.remove("active"),els[0]&&_removeClasses()},swap:function(){this.cache.oldX=this.cache.x,this.cache.oldY=this.cache.y},resize:function(){this.imageWidth=this.ui.paths[0].clientWidth,this.playSizes={width:this.el.clientWidth,height:this.el.clientHeight}}});i["default"]=f},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,utils:65,vent:66}],35:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=(t("vent"),t("utils")),l=n(a),u=t("../views/play-tinder"),c=n(u),h=t("../views/play-roulette"),f=n(h),d=t("../views/play-gifmefrans"),p=n(d),g=r.Marionette.View.extend({template:!1,needResize:!0,ui:{paths:".play-btn path, .play-btn polygon",playBtn:".play-btn"},events:{mouseenter:"mouseEnter",mouseleave:"mouseLeave",mousemove:"mouseMove","click @ui.playBtn":"toggleRandomPlaySection"},initialize:function(){this.update=this.update.bind(this),this.cache={oldX:0,oldY:0,x:0,y:0,distanceXPosition:0,distanceYPosition:0,isMouseDown:!1,needForRAF:!0},this.tinderView=!1,this.rouletteView=!1,this.GIFMeFransView=!1},onRender:function(){this.playSections=document.querySelectorAll(".js-play-section"),window.requestAnimationFrame(this.resize.bind(this)),this.playSectionList=["0","1","2"],this.playSectionCurrent=0,this.playSectionLength=this.playSectionList.length,this.playSectionList.sort(function(){return.5-Math.random()})},onDestroy:function(){this.biaIsDestroyed=!0},mouseEnter:function(t){t.preventDefault(),t.stopPropagation(),l["default"].width<s["default"].breakpoints.medium||this.ui.paths.length>0&&(clearTimeout(this.resetPosition),this.resize(),this.cache.isMouseDown=!0,this.cache.distanceXPosition=0,this.cache.distanceYPosition=0,this.cache.needForRAF=!0,this.raf&&window.cancelAnimationFrame(this.raf),this.update())},mouseMove:function(t){if(t.preventDefault(),t.stopPropagation(),this.cache.isMouseDown){var e=this.el,i=e.getBoundingClientRect(),n=t.clientX-i.left,r=t.clientY-i.top,o=Math.abs(window.innerWidth-document.body.clientWidth);this.cache.distanceXPosition=l["default"].js.map([0,this.playSizes.width],[-20,20],n-o),this.cache.distanceYPosition=l["default"].js.map([0,this.playSizes.height],[40,-20],r)}},mouseLeave:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.cache.needForRAF=!1,setTimeout(function(){e.cache.needForRAF||(e.cache.isMouseDown=!1)},500),this.resetPosition=setTimeout(function(){e.cache.distanceXPosition=0,e.cache.distanceYPosition=0},200)},update:function(){this.cache.isMouseDown&&(this.raf=window.requestAnimationFrame(this.update));var t=this.cache.distanceXPosition;this.cache.x=this.cache.x+.1*(t-this.cache.x);var e=this.cache.distanceYPosition;this.cache.y=this.cache.y+.1*(e-this.cache.y);for(var i=0;i<this.ui.paths.length;i++){var n=1e3*i,r=i%2==0?this.cache.y:this.cache.y*-1;r=0==i||3==i?.5*r:r,this.ui.paths[i].style.transform="translate3d("+this.cache.x.toFixed(2)+"px, "+r.toFixed(2)+"px, "+n+"px) rotateY("+this.cache.x+"deg) rotateX("+r+"deg)"}this.swap()},toggleRandomPlaySection:function(){this.playSectionCurrent==this.playSectionLength&&(this.playSectionCurrent=0);var t=this.playSectionList[this.playSectionCurrent];0!=t||this.tinderView?1!=t||this.rouletteView?2!=t||this.GIFMeFransView||(this.gifmefransView=(new p["default"]).render()):this.rouletteView=(new f["default"]).render():document.querySelectorAll(".js-tinder-card").length>0&&(this.tinderView=(new c["default"]).render()),this.playSections[t].classList.add("in-view"),this.playSectionCurrent++},swap:function(){this.cache.oldX=this.cache.x,this.cache.oldY=this.cache.y},resize:function(){this.imageWidth=this.ui.paths[0].clientWidth,this.playSizes={width:this.el.clientWidth,height:this.el.clientHeight}}});i["default"]=g},{"../views/play-gifmefrans":84,"../views/play-roulette":85,"../views/play-tinder":86,config:47,core:1,utils:65,vent:66}],36:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),t("vent"),s.Marionette.View.extend({template:!1,needResize:!0,ui:{menuToggle:".js-toggle-share-menu",menuItem:".js-toggle-share-menu__item",share:".play-section__choice--share_wrapper"},events:{"click @ui.menuToggle":"toggleShareMenu","mouseleave @ui.share":"mouseLeave"},initialize:function(){var t=this;this.statusMenu=!1,this.menuItemNum=this.ui.menuItem.length,this.angle=120,this.distance="110%",this.startingAngle=90+-this.angle/2,this.slice=this.angle/(this.menuItemNum-1),TweenMax.globalTimeScale(.8),[].concat((0,o["default"])(this.ui.menuItem)).forEach(function(e,i){t.angle=t.startingAngle+t.slice*i,t.ui.menuItem[i].style.transform="rotate("+t.angle+"deg)",t.ui.menuItem[i].getElementsByClassName("animation-icon")[0].style.transform="rotate(-"+t.angle+"deg)",t.ui.menuItem[i].getElementsByClassName("js-toggle-share-menu__button")[0].style.opacity="0"})},onRender:function(){},mouseLeave:function(t){1==this.statusMenu&&this.toggleShareMenu()},toggleShareMenu:function(t){var e=this;1==this.statusMenu?(this.statusMenu=!1,window.setTimeout(function(){e.el.classList.remove("is-open"),e.ui.menuToggle[0].classList.remove("is-active")},8*this.ui.menuItem.length*20),[].concat((0,o["default"])(this.ui.menuItem)).forEach(function(t,i){e.delay=.08*i,TweenMax.to(e.ui.menuItem[i].getElementsByClassName("js-toggle-share-menu__button")[0],.3,{delay:e.delay,opacity:0,y:"0%",ease:Quint.easeIn})})):(this.statusMenu=!0,this.el.classList.add("is-open"),this.ui.menuToggle[0].classList.add("is-active"),[].concat((0,o["default"])(this.ui.menuItem)).forEach(function(t,i){e.delay=.08*i,TweenMax.to(e.ui.menuItem[i].getElementsByClassName("js-toggle-share-menu__button")[0],.5,{delay:e.delay,opacity:1,y:e.distance,ease:Quint.easeInOut})}))}}));i["default"]=l},{"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,vent:66}],37:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("jquery-ui/ui/widget")),a=(n(s),t("jquery-ui/ui/widgets/mouse")),l=(n(a),t("jquery-ui/ui/widgets/slider")),u=(n(l),t("jquery-ui-touch-punch")),c=(n(u),r.Marionette.View.extend({template:!1,needResize:!0,ui:{slider:'[data-role="rangeslider"]'},events:{},initialize:function(){},onRender:function(){var t=this,e=this;this.$slider=(0,r.$)(this.ui.slider),this.min=parseInt(this.$slider.data("min"),10),this.max=parseInt(this.$slider.data("max"),10),this.currentMin=this.startValueMin=""!=this.$slider.data("startmin")?parseInt(this.$slider.data("startmin"),10):this.min,this.currentMax=this.startValueMax=""!=this.$slider.data("startmax")?parseInt(this.$slider.data("startmax"),10):this.max,this.$slider.slider({range:!0,min:this.min,max:this.max,values:[this.startValueMin,this.startValueMax],slide:function(e,i){var n=i.value==t.max?i.value+"+":i.value;i.handle.setAttribute("data-price",""+n)},stop:function(t,i){e.setValues(i.values[0],i.values[1]),e.trigger("change")}}),this.range=this.$slider.slider("instance");var i=this.$slider.slider("values");this.range.handles[0].setAttribute("data-price",""+i[0]),this.range.handles[1].setAttribute("data-price",""+i[1]+"+")},onDestroy:function(){this.$slider.slider("instance")&&this.$slider.slider("destroy")},setValues:function(t,e){this.currentMin=t,this.currentMax=e},getValues:function(){return void 0,this.currentMin!=this.min||this.currentMax!=this.max?[this.currentMin,this.currentMax]:["",""]}}));i["default"]=c},{config:47,core:1,"jquery-ui-touch-punch":591,"jquery-ui/ui/widget":592,"jquery-ui/ui/widgets/mouse":593,"jquery-ui/ui/widgets/slider":594}],38:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=(n(s),r.Marionette.View.extend({template:!1,needResize:!0,ui:{toggle:".js-read-more-toggle",target:".js-read-more-target",label:".js-read-more-label"},events:{"click @ui.toggle":"toggleReadMore"},initialize:function(){},onRender:function(){TweenMax.set(this.ui.target[0],{height:0,autoAlpha:0}),this.readmoreOpen=!1},toggleReadMore:function(t){if(t.preventDefault(),this.readmoreOpen){var e=this.ui.target[0].clientHeight,i=new TimelineMax;i.addLabel("start").set(this.ui.label[0],{height:"auto"},"start").from(this.ui.label[0],.6,{height:0,ease:Power3.easeInOut},"start").to(this.ui.label[0],.6,{autoAlpha:1,ease:Power3.easeInOut},"start").set(this.ui.target[0],{height:0},"start").from(this.ui.target[0],.6,{height:e,ease:Power3.easeInOut},"start").to(this.ui.target[0],.4,{autoAlpha:0,ease:Power3.easeInOut},"start"),this.readmoreOpen=!1}else{var n=this.ui.label[0].clientHeight,r=new TimelineMax;r.addLabel("start").set(this.ui.label[0],{height:0},"start").from(this.ui.label[0],.6,{height:n,ease:Power3.easeInOut},"start").to(this.ui.label[0],.4,{autoAlpha:0,ease:Power3.easeInOut},"start").set(this.ui.target[0],{height:"auto"},"start").from(this.ui.target[0],.6,{height:0,ease:Power3.easeInOut},"start").to(this.ui.target[0],.6,{autoAlpha:1,ease:Power3.easeInOut},"start"),this.readmoreOpen=!0}}}));i["default"]=a},{config:47,core:1,utils:65,vent:66}],39:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=t("utils"),l=n(a),u=t("vent"),c=t("paper"),h=n(c),f=r.Marionette.View.extend({template:!1,needResize:!0,ui:{input:"#search-regular",icon:".animation-icon",formEl:".form-element",suggestionsList:".search-suggestions__list",suggestionsWrapper:".search-suggestions",bubbleCanvas:".bubble-canvas"},events:{"keydown @ui.input":"doSearch","click @ui.icon":"doSearch","input @ui.input":"getSuggestions"},initialize:function(){this.listenTo(u.basic,"app:resize",this.initPaper.bind(this)),this.listenTo(u.basic,"sidebar:update",this.toggleBubble)},onRender:function(){this.initPaper()},initPaper:function(){"undefined"!=typeof this.paperScope&&this.paperScope.project.clear(),this.paperScope=new h["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[0]),this.path=new this.paper.Path,this.path.fillColor="#a385bd",this.initializePath()},initializePath:function(){this.path.removeSegments(),this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft);var t=this.ui.bubbleCanvas[0].getBoundingClientRect(),e=Math.max(1e3,window.innerHeight);if(l["default"].width>=s["default"].breakpoints.medium){var i=t.top+(t.bottom-t.top)/2;this.path.add(new this.paper.Point(0,i-.2*e)),this.path.add(new this.paper.Point(0,i-.065*e)),this.path.add(new this.paper.Point(0,i)),this.path.add(new this.paper.Point(0,i+.065*e)),this.path.add(new this.paper.Point(0,i+.2*e))}this.path.add(this.paper.view.bounds.bottomLeft),this.path.smooth({type:"catmull-rom",factor:.5}),this.toggleBubble()},toggleBubble:function(){if(l["default"].width>=s["default"].breakpoints.medium){var t=3,e=new TimelineLite;this.el.classList.contains("is-active")?e.to(this.path.segments[t].point,1,{ease:Elastic.easeOut,x:.7*this.paper.view.size.width},0):e.to(this.path.segments[t].point,.3,{ease:Quart.easeOut,x:0},0)}},getSuggestions:function(){var t=this,e=this.ui.input[0].value;if(e.length>=2){var i=BIA.SEARCH_LIST.filter(function(t){return t.indexOf(e)>-1});if(i.length>0){this.ui.suggestionsList[0].innerHTML="",this.nodes&&this.nodes.forEach(function(e){e.removeEventListener("click",t.suggestionClick)}),this.nodes=[],i.forEach(function(i){var n=document.createElement("LI"),r=document.createElement("SPAN");n.setAttribute("data-value",i),r.innerHTML=i.replace(e,"<strong>"+e+"</strong>"),r.classList.add("underline"),n.appendChild(r),t.ui.suggestionsList[0].appendChild(n),t.nodes.push(n),n.addEventListener("click",t.suggestionClick.bind(t))});var n=this.ui.suggestionsWrapper[0].clientHeight;TweenMax.set(this.ui.suggestionsWrapper[0],{height:"auto"}),TweenMax.from(this.ui.suggestionsWrapper[0],.5,{height:n})}else this.clearSuggestions()}else this.clearSuggestions()},suggestionClick:function(t){var e=t.currentTarget.getAttribute("data-value");this.ui.input[0].value=e,this.ui.input[0].blur(),setTimeout(this.doSearch.bind(this),300)},clearSuggestions:function(){this.ui.suggestionsList[0].innerHTML="",TweenMax.to(this.ui.suggestionsWrapper[0],.5,{height:0})},doSearch:function(t){if(!t||"keydown"!=t.type||13==t.which){this.ui.input[0].blur();var e=this.ui.input[0].value.toLowerCase().replace(/\s+/g,"+");this.clearSuggestions(),this.openResultsPage(e)}},openResultsPage:function(t){this.el.parentNode.classList.add("to-results"),this.el.classList.add("to-results"),r.Backbone.history.navigate("/"+BIA.LANG+"/search-results/query/"+t,{trigger:!0})}});i["default"]=f},{config:47,core:1,paper:602,utils:65,vent:66}],40:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("select2"),s=(n(o),t("vent"),t("config")),a=(n(s),t("utils")),l=(n(a),t("gsap")),u=(n(l),r.Marionette.View.extend({template:!1,needResize:!1,ui:{select:"select",options:"option"},events:{},initialize:function(){this.hasSearchField=!1},onRender:function(){var t=this,e=this.el.parentNode.style.position;e||(this.el.parentNode.style.position="relative"),this.hasSearchField=!r._.isUndefined(this.options.search)&&this.options.search;var i={minimumResultsForSearch:this.hasSearchField?5:1/0,maximumSelectionLength:r._.isUndefined(this.options.maxSelected)||!this.options.maxSelected?"":this.options.maxSelected,templateResult:this.formatResult.bind(this),theme:this.el.getAttribute("data-theme"),placeholder:this.el.hasAttribute("data-placeholder")?this.el.getAttribute("data-placeholder"):"",width:"100%"};"cart"!=this.el.dataset.theme&&(i.dropdownParent=(0,r.$)(this.el)),(0,r.$)(this.ui.select).select2(i),r._.defer(function(){t.$el.find("*").addClass("needsclick")}),(0,r.$)(this.ui.select).on("select2:open",function(e){window.requestAnimationFrame(function(){t.el.classList.add("dropdown-visible")})}),(0,r.$)(this.ui.select).on("select2:close",function(e){window.requestAnimationFrame(function(){t.el.classList.remove("dropdown-visible")})})},formatResult:function(t,e){return t.id?(e.className+=" needsclick",(0,r.$)("<span>"+t.text+"</span>")):t.text}}));i["default"]=u},{"../_core":1,config:47,gsap:587,select2:614,utils:65,vent:66}],41:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("core"),r=n.Marionette.View.extend({template:!1,needResize:!1,ui:{links:".ui-link"},events:{"click @ui.links":"onClickLink"},popup:{fb:{template:"https://www.facebook.com/sharer/sharer.php?u=<%= encodeURI(url) %>",width:600,height:320},tw:{template:'https://twitter.com/home?status=<%= encodeURI(text+""+url) %>',width:500,height:420},pt:{template:"https://pinterest.com/pin/create/button/?url=<%= encodeURI(url) %>&media=<%= encodeURI(media) %>&description=<%= encodeURI(text) %>",width:750,height:530}},options:{url:function(){return document.querySelector(".my-trip-details__share-url")?document.querySelector(".my-trip-details__share-url").getAttribute("data-url"):document.querySelector(".play-gifmefrans").classList.contains("in-view")?document.querySelector(".play-gifmefrans").getAttribute("data-url"):document.querySelector(".play-tinder").classList.contains("in-view")?document.querySelector(".play-tinder").getAttribute("data-url"):document.querySelector(".play-roulette").classList.contains("in-view")?document.querySelector(".play-roulette").getAttribute("data-url"):window.location.href},text:function(){return document.querySelector(".play-gifmefrans").classList.contains("in-view")?document.querySelector(".play-gifmefrans").getAttribute("data-title"):document.querySelector(".play-tinder").classList.contains("in-view")?document.querySelector(".play-tinder").getAttribute("data-title"):document.querySelector(".play-roulette").classList.contains("in-view")?document.querySelector(".play-roulette").getAttribute("data-title"):document.title},media:!1},initialize:function(){},onRender:function(){},getUrlForType:function(t){var e=this;n._.each(this.options,function(t,i){"function"==typeof t&&(e.options[i]=t())});var i=n._.template(this.popup[t].template),r=i(this.options);return r},onClickLink:function(t){t.preventDefault();var e=t.currentTarget.getAttribute("data-type");if(e){var i=this.popup[e];if("undefined"!=typeof i){var n=this.getUrlForType(e),r=.5*(screen.height-i.height),o=.5*(screen.width-i.width);
window.open(n,"popup_"+e,"status=1, width="+i.width+", height="+i.height+", top="+r+", left="+o+"  resizable = 0")}}}});i["default"]=r},{core:1}],42:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=t("utils"),l=n(a),u=t("vent"),c=r.Marionette.View.extend({template:!1,needResize:!0,hasAnimateOut:!0,ui:{originalTitle:".js-original-title",hero:".js-hero-text",title:".js-page-title"},state:{index:0,timeStart:4e3,timeEnd:3500},events:{},initialize:function(){this.alternate=this.alternate.bind(this),this.numHeros=this.ui.hero.length,this.listenTo(u.basic,"app:resize",this.resize.bind(this))},onRender:function(){this.initAlternate()},initAlternate:function(){for(var t=this,e=0;e<this.numHeros;e++)this.ui.hero[e].classList.remove("showHero"),this.ui.hero[e].setAttribute("data-animation",e);l["default"].width<s["default"].breakpoints.medium&&(this.timeOutInit=setTimeout(function(){t.ui.hero[t.state.index].classList.add("showHero"),t.timeOutInitRemove=setTimeout(function(){t.ui.hero[t.state.index].classList.remove("showHero")},t.state.timeEnd),t.interval=setInterval(t.alternate,t.state.timeStart)},500))},alternate:function(){var t=this;this.state.index<this.numHeros-1?this.ui.hero[this.state.index+1].classList.add("showHero"):this.ui.hero[0].classList.add("showHero"),this.ui.hero.forEach(function(e){e.classList.contains("showHero")&&(t.state.index=Number(e.hasAttribute("data-animation")?e.getAttribute("data-animation"):0),t.timeOutRemove=setTimeout(function(){e.classList.remove("showHero")},t.state.timeEnd))})},resize:function(){this.state.index=0,this.clearTimes(),this.initAlternate()},animateOut:function(){this.clearTimes(),this.state.index=0},onDestroy:function(){this.clearTimes(),this.state.index=0},clearTimes:function(){this.interval&&clearInterval(this.interval),this.timeOutInit&&clearTimeout(this.timeOutInit),this.timeOutInitRemove&&clearTimeout(this.timeOutInitRemove),this.timeOutRemove&&clearTimeout(this.timeOutRemove)}});i["default"]=c},{config:47,core:1,utils:65,vent:66}],43:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=t("utils"),l=n(a);t("vent");t("gsap-splitext");var u=t("textfit"),c=n(u),h=r.Marionette.View.extend({template:!1,needResize:!0,onRender:function(){this.fitText()},debouncedResize:function(){this.fitText()},fitText:function(){if(!(l["default"].width<=s["default"].breakpoints.medium)){(0,c["default"])(this.el,{minFontSize:l["default"].width<=s["default"].breakpoints.medium?18:30,maxFontSize:l["default"].width>=s["default"].breakpoints.medium?45:30,multiLine:!0});var t=parseInt(this.el.firstElementChild.style.fontSize,10);this.el.firstElementChild.style.lineHeight=.9*t+"px"}}});i["default"]=h},{config:47,core:1,"gsap-splitext":56,textfit:621,utils:65,vent:66}],44:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("vent"),t("utils")),a=(n(s),t("js-cookie")),l=n(a),u=r.Marionette.View.extend({template:!1,needResize:!0,ui:{removeEvent:".js-remove"},events:{"click @ui.removeEvent":"removeEventFromList"},initialize:function(){},onRender:function(){},removeEventFromList:function(){for(var t=this.el.getAttribute("data-eventid"),e=l["default"].get("my-trip"),i=e.split(","),n=0;n<i.length;n++)if(i[n]==t){i.splice(n,1),l["default"].set("my-trip",i.join(","));break}},debouncedResize:function(){}});i["default"]=u},{config:47,core:1,"js-cookie":596,utils:65,vent:66}],45:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils"));n(s),t("vent");t("gsap-splitext");var a=r.Marionette.View.extend({template:!1,needResize:!0,splitText:!1,elClass:!1,initialize:function(){},underlines:function(){var t=this;this.splitText=new SplitText(this.el,{type:"lines"}),this.splitText.lines.length>1?(this.elClass&&this.el.classList.remove(this.elClass),this.el.classList.add("underlines"),this.elClass&&this.el.querySelectorAll("div").forEach(function(e){e.classList.add(t.elClass)})):this.revert()},revert:function(){this.splitText.revert(),this.elClass&&this.el.classList.add(this.elClass),this.el.classList.remove("underlines")},onRender:function(){this.el.classList.contains("underline")?this.elClass="underline":this.el.classList.contains("underline-left")&&(this.elClass="underline-left"),this.underlines()},debouncedResize:function(){this.splitText!==!1&&this.revert(),this.underlines()},onDestroy:function(){this.revert()}});i["default"]=a},{config:47,core:1,"gsap-splitext":56,utils:65,vent:66}],46:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=t("video.js"),u=n(l),c=t("youtube"),h=n(c),f=t("vent"),d=r.Marionette.View.extend({template:!1,needResize:!0,ui:{video:"video",playControl:".vjs-play-control"},events:{"click @ui.playControl":"triggerZoom"},initialize:function(){this.createBound(),this.listenTo(f.basic,"video:pause",this.pauseVideo)},createBound:function(){var t=this;[].forEach(function(e){return t[e]=t[e].bind(t)})},onRender:function(){var t=this;h["default"].isInitialized()||h["default"].init(),this.player=(0,u["default"])(this.ui.video[0],this.options).ready(r._.bind(this.onVideoReady,this)),this.player.on("fullscreenchange",function(){t.ui.video.closest(".el-smooth").toggleClass("is-fullscreen-video"),(0,r.$)(t.ui.video.context).closest(".smooth-section").toggleClass("is-fullscreen-video")})},onDestroy:function(){this.player.dispose()},onVideoReady:function(){},pauseVideo:function(){this.player.pause()},triggerZoom:function(t){(0,r.$)(t.currentTarget).hasClass("vjs-paused")&&!(0,r.$)(a["default"].body).hasClass("has-video-open")&&f.basic.trigger("video:toggleVideo",t)}});i["default"]=d},{config:47,core:1,utils:65,vent:66,"video.js":780,youtube:59}],47:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){var t="bc11e4ab-eabf-4cdd-bfa6-f2b44d492eca",e={small:768,medium:1024,large:1200,xlarge:1400,xxlarge:1600},i={cartNeedsRefresh:!1,get fontsProjectId(){return t},get breakpoints(){return e}};return i}();i["default"]=n},{}],48:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("./views/base/app"),s=n(o),a=t("./views/page"),l=n(a),u=t("./views/home"),c=n(u),h=t("./views/collection"),f=n(h),d=t("./views/calendar"),p=n(d),g=t("./views/artpiece"),m=n(g),v=t("./views/news-article"),y=n(v),_=t("./views/artist"),b=n(_),x=t("./views/archive"),w=n(x),C=t("./views/faq"),E=n(C),S=t("./views/search-results"),T=n(S),I=t("./views/my-trip"),k=n(I),P=t("./regions/TransitionRegion"),L=(n(P),r.Marionette.Object.extend({initialize:function(t){this.mainViewElement="#js-page-view",this.initialMainViewElement="#js-page-view .page",this.viewElement=".page",this.secondaryViewElement=".secondary-region",this.secondaryInnerViewElement=".secondary-region__inner",this.secondaryHandler="",this.isInitialView=!(!window.history||!window.history.pushState),this.currentPath="",this.isInitialView||this.forceReload(),this.appView=new s["default"]({el:"body",mainViewElement:this.mainViewElement,secondaryViewElement:this.secondaryViewElement}).render(),r.Backbone.history.start({pushState:!0,root:"/",silent:!0}),this.preload()},preload:function(){r._.defer(function(){app.start()})},page:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),l["default"])},home:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),c["default"])},collection:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),f["default"])},calendar:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),p["default"])},artpiece:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),m["default"])},newsarticle:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),y["default"])},artist:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),b["default"])},archive:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),w["default"])},faq:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),E["default"])},searchresults:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),T["default"])},mytrip:function(){this.addViewToRegion("/"+r.Backbone.history.getFragment(),k["default"])},forceReload:function(){this.isInitialView=!1,(0,r.$)(this.mainViewElement).html("")},addViewToRegion:function(t,e){void 0,t=t||"/";var i=this.appView.getRegion("mainViewRegion").currentView;if(this.currentPath===t||e.doNotAddToRegion===!0)return void 0,this;if(0===(0,r.$)(this.initialMainViewElement).length&&(this.isInitialView=!1),this.shouldShowAsSubView(e,i,t))i.changeSubView(t,!1);else{var n=new e({el:this.isInitialView?this.initialMainViewElement:"",isInitialView:this.isInitialView,viewSelector:this.viewElement,url:t});this.appView.showChildView("mainViewRegion",n),this.isInitialView=!1}this.currentPath=t},currentViewHasSubView:function(t){return!(!t||"undefined"==typeof t.hasSubView)&&t.hasSubView},shouldShowAsSubView:function(t,e,i){if(this.currentViewHasSubView(e)&&e instanceof t){for(var n=i.replace(/^\/+|\/+$/g,"").split("/"),r=app.router.currentRootPath.replace(/^\/+|\/+$/g,"").split("/"),o=!0,s=0;s<r.length;s++)if("undefined"==typeof n[s]||r[s]!==n[s]){o=!1;break}return void 0,o}return!1}}));i["default"]=L},{"./regions/TransitionRegion":63,"./views/archive":67,"./views/artist":68,"./views/artpiece":69,"./views/base/app":70,"./views/calendar":75,"./views/collection":76,"./views/faq":77,"./views/home":80,"./views/my-trip":81,"./views/news-article":82,"./views/page":83,"./views/search-results":88,core:1}],49:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("babel-runtime/helpers/classCallCheck"),a=n(s),l=t("babel-runtime/helpers/createClass"),u=n(l),c=t("core"),h=t("vent"),f=t("config"),d=(n(f),t("./components/lazy")),p=n(d),g=t("./components/video"),m=n(g),v=t("./components/share"),y=n(v),_=t("./components/form-validate"),b=n(_),x=t("./components/select"),w=n(x),C=t("./components/range"),E=n(C),S=t("./components/play-button"),T=n(S),I=t("./components/animation-icon"),k=n(I),P=t("./components/map"),L=n(P),O=t("./components/page-title"),A=n(O),M=t("./components/underlines"),R=n(M),N=t("./components/marquee"),j=n(N),D=t("./components/search"),F=n(D),z=t("./components/fittext"),B=n(z),V=t("./components/overlay-gallery"),q=n(V),U=t("./components/doubledragger"),G=n(U),H=t("./components/expand-transition"),X=n(H),W=t("./components/infinite-scroll"),Y=n(W),$=t("./components/read-more"),Z=n($),K=t("./components/carousel"),J=n(K),Q=t("./components/image-reveal"),tt=n(Q),et=t("./components/art-card"),it=n(et),nt=t("./components/audio-player"),rt=n(nt),ot=t("./components/bubble-sidebar"),st=n(ot),at=t("./components/faq-questions"),lt=n(at),ut=t("./components/newsletter"),ct=n(ut),ht=t("./components/add-to-trip"),ft=n(ht),dt=t("./components/trip-card"),pt=n(dt),gt=t("./components/gravity-form-request"),mt=n(gt),vt=t("./components/archive-search"),yt=n(vt),_t=t("./components/custom-cursor"),bt=n(_t),xt=t("./components/play-share"),wt=n(xt),Ct=t("./components/play-button-close"),Et=n(Ct),St=t("./components/department-filter"),Tt=n(St),It=t("./components/fixed-details-sidebar"),kt=n(It),Pt=t("./components/download-card"),Lt=n(Pt),Ot=t("./components/education-card"),At=n(Ot),Mt=t("./components/cookie"),Rt=n(Mt),Nt=t("./components/notification-bar"),jt=n(Nt),Dt=t("./components/text-fitter"),Ft=n(Dt),zt=t("./components/text-alternater"),Bt=n(zt),Vt=t("./components/modal-button"),qt=n(Vt),Ut=t("./components/native-video"),Gt=n(Ut),Ht=function(){function t(e){(0,a["default"])(this,t),this.initialized=!1,this.componentViews=[],this.componentViewsWithResize=[],this.componentViewsWithAnimateOut=[],this.view=e,this.componentsClasses={lazy:p["default"],video:m["default"],share:y["default"],"form-validate":b["default"],select:w["default"],range:E["default"],"play-button":T["default"],"animation-icon":k["default"],map:L["default"],"page-title":A["default"],underlines:R["default"],marquee:j["default"],search:F["default"],fittext:B["default"],"overlay-gallery":q["default"],doubledragger:G["default"],"expand-transition":X["default"],"infinite-scroll":Y["default"],"read-more":Z["default"],carousel:J["default"],"image-reveal":tt["default"],"art-card":it["default"],"audio-player":rt["default"],"bubble-sidebar":st["default"],"faq-questions":lt["default"],newsletter:ct["default"],"add-to-trip":ft["default"],"trip-card":pt["default"],"gravity-form-request":mt["default"],"archive-search":yt["default"],"custom-cursor":bt["default"],"play-share":wt["default"],"play-button-close":Et["default"],"department-filter":Tt["default"],"fixed-details-sidebar":kt["default"],"download-card":Lt["default"],"education-card":At["default"],cookie:Rt["default"],"notification-bar":jt["default"],"text-fitter":Ft["default"],"text-alternater":Bt["default"],"modal-button":qt["default"],"native-video":Gt["default"]},c.Backbone.Events.listenTo(h.basic,"app:resize",c._.bind(this.resize,this)),c.Backbone.Events.listenTo(h.basic,"app:debouncedresize",c._.bind(this.debouncedResize,this))}return(0,u["default"])(t,[{key:"getClass",value:function(t){return"undefined"==typeof this.componentsClasses[t]&&void 0,"undefined"!=typeof this.componentsClasses[t]&&this.componentsClasses[t]}},{key:"getInstance",value:function(t,e){var i=(0,c.$)(e.el).data("component-instance");if(i)return i;var n=this.getClass(t);if(!n)return!1;var r=e;return"undefined"!=typeof this.view&&(r.parentView=this.view),e.readDataAttributes&&c._.extend(r,JSON.parse(e.el.getAttribute("data-options"))),new n(r)}},{key:"initComponents",value:function(t){var e=this;t.components&&0!=t.components.length&&("destroyComponents"in this||void 0,this.initialized=!0,[].concat((0,o["default"])(t.components)).forEach(function(t,i){var n=(0,c.$)(t).data("component"),r=e.getInstance(n,{el:t,readDataAttributes:!0});(0,c.$)(t).data("component-instance",r),(0,c.$)(t).trigger("component_initialized"),r&&(r.render(),e.componentViews.push(r)),r.needResize&&e.componentViewsWithResize.push(r),r.hasAnimateOut&&e.componentViewsWithAnimateOut.push(r)}))}},{key:"resize",value:function(){c._.each(this.componentViewsWithResize,function(t){"undefined"!=typeof t.resize&&t.resize()})}},{key:"debouncedResize",value:function(){c._.each(this.componentViewsWithResize,function(t){"undefined"!=typeof t.resize&&t.resize()})}},{key:"animateOut",value:function(){c._.each(this.componentViewsWithAnimateOut,function(t){"undefined"!=typeof t.animateOut&&t.animateOut()})}},{key:"destroyComponents",value:function(){this.initialized=!1,c._.each(this.componentViews,function(t){t.destroy()}),this.componentViews=[],this.componentViewsWithResize=[]}}]),t}();i["default"]=Ht},{"./components/add-to-trip":4,"./components/animation-icon":5,"./components/archive-search":6,"./components/art-card":7,"./components/audio-player":8,"./components/bubble-sidebar":9,"./components/carousel":10,"./components/cookie":11,"./components/custom-cursor":12,"./components/department-filter":13,"./components/doubledragger":14,"./components/download-card":15,"./components/education-card":16,"./components/expand-transition":17,"./components/faq-questions":18,"./components/fittext":19,"./components/fixed-details-sidebar":20,"./components/form-validate":21,"./components/gravity-form-request":22,"./components/image-reveal":23,"./components/infinite-scroll":24,"./components/lazy":25,"./components/map":26,"./components/marquee":27,"./components/modal-button":28,"./components/native-video":29,"./components/newsletter":30,"./components/notification-bar":31,"./components/overlay-gallery":32,"./components/page-title":33,"./components/play-button":35,"./components/play-button-close":34,"./components/play-share":36,"./components/range":37,"./components/read-more":38,"./components/search":39,"./components/select":40,"./components/share":41,"./components/text-alternater":42,"./components/text-fitter":43,"./components/trip-card":44,"./components/underlines":45,"./components/video":46,"babel-runtime/helpers/classCallCheck":107,"babel-runtime/helpers/createClass":108,"babel-runtime/helpers/toConsumableArray":114,config:47,core:1,vent:66}],50:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){var e,i,n,r,o,s;return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e=!0,i=!1,n=void 0,a.prev=3,r=(0,g["default"])((0,d["default"])(t));case 5:if(e=(o=r.next()).done){a.next=12;break}return s=o.value,a.next=9,[s,t[s]];case 9:e=!0,a.next=5;break;case 12:a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](3),i=!0,n=a.t0;case 18:a.prev=18,a.prev=19,!e&&r["return"]&&r["return"]();case 21:if(a.prev=21,!i){a.next=24;break}throw n;case 24:return a.finish(21);case 25:return a.finish(18);case 26:case"end":return a.stop()}},y,this,[[3,14,18,26],[19,,21,25]])}function o(t){return new u["default"](function(e,i){return t&&(t||t.email)?void v["default"].js.ajax({method:"POST",body:(0,a["default"])({action:"subscribe_to_newsletter"},t)}).then(function(t){void 0,e(t)}):(void 0,i())})}Object.defineProperty(i,"__esModule",{value:!0});var s=t("babel-runtime/helpers/extends"),a=n(s),l=t("babel-runtime/core-js/promise"),u=n(l),c=t("babel-runtime/regenerator"),h=n(c),f=t("babel-runtime/core-js/object/keys"),d=n(f),p=t("babel-runtime/core-js/get-iterator"),g=n(p);i.entries=r,i.subscribeToNewsletter=o;var m=(t("vent"),t("utils")),v=n(m),y=h["default"].mark(r)},{"babel-runtime/core-js/get-iterator":94,"babel-runtime/core-js/object/keys":102,"babel-runtime/core-js/promise":104,"babel-runtime/helpers/extends":110,"babel-runtime/regenerator":116,utils:65,vent:66}],51:[function(t,e,i){"use strict";var n=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};n.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},n.prototype.update=function(t){this.context.putImageData(t,0,0)},n.prototype.getPixelCount=function(){return this.width*this.height},n.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},n.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var r=function(){};if(r.prototype.getColor=function(t,e){var i=this.getPalette(t,5,e),n=i[0];return n},r.prototype.getPalette=function(t,e,i){"undefined"==typeof e&&(e=10),("undefined"==typeof i||i<1)&&(i=10);for(var r,o,a,l,u,c=new n(t),h=c.getImageData(),f=h.data,d=c.getPixelCount(),p=[],g=0;g<d;g+=i)r=4*g,o=f[r+0],a=f[r+1],l=f[r+2],u=f[r+3],u>=125&&(o>250&&a>250&&l>250||p.push([o,a,l]));var m=s.quantize(p,e),v=m?m.palette():null;return c.removeCanvas(),v},!o)var o={map:function(t,e){var i={};return e?t.map(function(t,n){return i.index=n,e.call(i,t)}):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var i={};return t.reduce(e?function(t,n,r){return i.index=r,t+e.call(i,n)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?o.map(t,e):t)}};var s=function(){function t(t,e,i){return(t<<2*u)+(e<<u)+i}function e(t){function e(){i.sort(t),n=!0}var i=[],n=!1;return{push:function(t){i.push(t),n=!1},peek:function(t){return n||e(),void 0===t&&(t=i.length-1),i[t]},pop:function(){return n||e(),i.pop()},size:function(){return i.length},map:function(t){return i.map(t)},debug:function(){return n||e(),i}}}function i(t,e,i,n,r,o,s){var a=this;a.r1=t,a.r2=e,a.g1=i,a.g2=n,a.b1=r,a.b2=o,a.histo=s}function n(){this.vboxes=new e(function(t,e){return o.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())})}function r(e){var i,n,r,o,s=1<<3*u,a=new Array(s);return e.forEach(function(e){n=e[0]>>c,r=e[1]>>c,o=e[2]>>c,i=t(n,r,o),a[i]=(a[i]||0)+1}),a}function s(t,e){var n,r,o,s=1e6,a=0,l=1e6,u=0,h=1e6,f=0;return t.forEach(function(t){n=t[0]>>c,r=t[1]>>c,o=t[2]>>c,n<s?s=n:n>a&&(a=n),r<l?l=r:r>u&&(u=r),o<h?h=o:o>f&&(f=o)}),new i(s,a,l,u,h,f,e)}function a(e,i){function n(t){var e,n,r,o,s,a=t+"1",l=t+"2",c=0;for(u=i[a];u<=i[l];u++)if(g[u]>p/2){for(r=i.copy(),o=i.copy(),e=u-i[a],n=i[l]-u,s=e<=n?Math.min(i[l]-1,~~(u+n/2)):Math.max(i[a],~~(u-1-e/2));!g[s];)s++;for(c=m[s];!c&&g[s-1];)c=m[--s];return r[l]=s,o[a]=r[l]+1,[r,o]}}if(i.count()){var r=i.r2-i.r1+1,s=i.g2-i.g1+1,a=i.b2-i.b1+1,l=o.max([r,s,a]);if(1==i.count())return[i.copy()];var u,c,h,f,d,p=0,g=[],m=[];if(l==r)for(u=i.r1;u<=i.r2;u++){for(f=0,c=i.g1;c<=i.g2;c++)for(h=i.b1;h<=i.b2;h++)d=t(u,c,h),f+=e[d]||0;p+=f,g[u]=p}else if(l==s)for(u=i.g1;u<=i.g2;u++){for(f=0,c=i.r1;c<=i.r2;c++)for(h=i.b1;h<=i.b2;h++)d=t(c,u,h),f+=e[d]||0;p+=f,g[u]=p}else for(u=i.b1;u<=i.b2;u++){for(f=0,c=i.r1;c<=i.r2;c++)for(h=i.g1;h<=i.g2;h++)d=t(c,h,u),f+=e[d]||0;p+=f,g[u]=p}return g.forEach(function(t,e){m[e]=p-t}),n(l==r?"r":l==s?"g":"b")}}function l(t,i){function l(t,e){for(var i,n=1,r=0;r<h;)if(i=t.pop(),i.count()){var o=a(u,i),s=o[0],l=o[1];if(!s)return;if(t.push(s),l&&(t.push(l),n++),n>=e)return;if(r++>h)return}else t.push(i),r++}if(!t.length||i<2||i>256)return!1;var u=r(t),c=0;u.forEach(function(){c++});var d=s(t,u),p=new e(function(t,e){return o.naturalOrder(t.count(),e.count())});p.push(d),l(p,f*i);for(var g=new e(function(t,e){return o.naturalOrder(t.count()*t.volume(),e.count()*e.volume())});p.size();)g.push(p.pop());l(g,i-g.size());for(var m=new n;g.size();)m.push(g.pop());return m}var u=5,c=8-u,h=1e3,f=.75;return i.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(e){var i=0,n=this,r=n.histo;if(!n._count_set||e){var o,s,a,l=0;for(o=n.r1;o<=n.r2;o++)for(s=n.g1;s<=n.g2;s++)for(a=n.b1;a<=n.b2;a++)i=t(o,s,a),l+=r[i]||0;n._count=l,n._count_set=!0}return n._count},copy:function(){var t=this;return new i(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var i=this,n=i.histo;if(!i._avg||e){var r,o,s,a,l,c=0,h=1<<8-u,f=0,d=0,p=0;for(o=i.r1;o<=i.r2;o++)for(s=i.g1;s<=i.g2;s++)for(a=i.b1;a<=i.b2;a++)l=t(o,s,a),r=n[l]||0,c+=r,f+=r*(o+.5)*h,d+=r*(s+.5)*h,p+=r*(a+.5)*h;c?i._avg=[~~(f/c),~~(d/c),~~(p/c)]:i._avg=[~~(h*(i.r1+i.r2+1)/2),~~(h*(i.g1+i.g2+1)/2),~~(h*(i.b1+i.b2+1)/2)]}return i._avg},contains:function(t){var e=this,i=t[0]>>c;return gval=t[1]>>c,bval=t[2]>>c,i>=e.r1&&i<=e.r2&&gval>=e.g1&&gval<=e.g2&&bval>=e.b1&&bval<=e.b2}},n.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map(function(t){return t.color})},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,i=0;i<e.size();i++)if(e.peek(i).vbox.contains(t))return e.peek(i).color;return this.nearest(t)},nearest:function(t){for(var e,i,n,r=this.vboxes,o=0;o<r.size();o++)i=Math.sqrt(Math.pow(t[0]-r.peek(o).color[0],2)+Math.pow(t[1]-r.peek(o).color[1],2)+Math.pow(t[2]-r.peek(o).color[2],2)),(i<e||void 0===e)&&(e=i,n=r.peek(o).color);return n},forcebw:function(){var t=this.vboxes;t.sort(function(t,e){return o.naturalOrder(o.sum(t.color),o.sum(e.color))});var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var i=t.length-1,n=t[i].color;n[0]>251&&n[1]>251&&n[2]>251&&(t[i].color=[255,255,255])}},{quantize:l}}();e.exports=r},{}],52:[function(t,e,i){(function(i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/helpers/typeof"),o=n(r);!function(t,i){var n={},r=t.document,s=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!s.TweenLite){var a,l,u,c,h,f=function(t){var e,i=t.split("."),n=s;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},d=f("com.greensock"),p=1e-10,g=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},m=function(){},v=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"===("undefined"==typeof i?"undefined":(0,o["default"])(i))&&!!i.push&&t.call(i)===e)}}(),y={},_=function ot(r,o,a,l){this.sc=y[r]?y[r].sc:[],y[r]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(c){for(var h,d,p,g,m=o.length,v=m;--m>-1;)(h=y[o[m]]||new ot(o[m],[])).gsClass?(u[m]=h.gsClass,v--):c&&h.sc.push(this);if(0===v&&a){if(d=("com.greensock."+r).split("."),p=d.pop(),g=f(d.join("."))[p]=this.gsClass=a.apply(a,u),l)if(s[p]=n[p]=g,"undefined"!=typeof e&&e.exports)if(r===i){e.exports=n[i]=g;for(m in n)g[m]=n[m]}else n[i]&&(n[i][p]=g);else"function"==typeof define&&define.amd&&define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return g});for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},b=t._gsDefine=function(t,e,i,n){return new _(t,e,i,n)},x=d._class=function(t,e,i){return e=e||function(){},b(t,[],function(){return e},i),e};b.globals=s;var w=[0,0,1,1],C=x("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?w.concat(e):w},!0),E=C.map={},S=C.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),u=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=l[u],r=n?x("easing."+o,null,!0):d.easing[o]||{},s=c.length;--s>-1;)a=c[s],E[o+"."+a]=E[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(u=C.prototype,u._calcEnd=!1,u.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},a=["Linear","Quad","Cubic","Quart","Quint,Strong"],l=a.length;--l>-1;)u=a[l]+",Power"+l,S(new C(null,null,1,l),u,"easeOut",!0),S(new C(null,null,2,l),u,"easeIn"+(0===l?",easeNone":"")),S(new C(null,null,3,l),u,"easeInOut");E.linear=d.easing.Linear.easeIn,E.swing=d.easing.Quad.easeInOut;var T=x("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});u=T.prototype,u.addEventListener=function(t,e,i,n,r){r=r||0;var o,s,a=this._listeners[t],l=0;for(this!==c||h||c.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)o=a[s],o.c===e&&o.s===i?a.splice(s,1):0===l&&o.pr<r&&(l=s+1);a.splice(l,0,{c:e,s:i,up:n,pr:r})},u.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},u.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var I=t.requestAnimationFrame,k=t.cancelAnimationFrame,P=Date.now||function(){return(new Date).getTime()},L=P();for(a=["ms","moz","webkit","o"],l=a.length;--l>-1&&!I;)I=t[a[l]+"RequestAnimationFrame"],k=t[a[l]+"CancelAnimationFrame"]||t[a[l]+"CancelRequestAnimationFrame"];x("Ticker",function(t,e){var i,n,o,s,a,l=this,u=P(),f=!(e===!1||!I)&&"auto",d=500,g=33,v="tick",y=function _(t){var e,r,c=P()-L;c>d&&(u+=c-g),L+=c,l.time=(L-u)/1e3,e=l.time-a,(!i||e>0||t===!0)&&(l.frame++,a+=e+(e>=s?.004:s-e),r=!0),t!==!0&&(o=n(_)),r&&l.dispatchEvent(v)};T.call(l),l.time=l.frame=0,l.tick=function(){y(!0)},l.lagSmoothing=function(t,e){d=t||1/p,g=Math.min(e,d,0)},l.sleep=function(){null!=o&&(f&&k?k(o):clearTimeout(o),n=m,o=null,l===c&&(h=!1))},l.wake=function(t){null!==o?l.sleep():t?u+=-L+(L=P()):l.frame>10&&(L=P()-d+5),n=0===i?m:f&&I?I:function(t){return setTimeout(t,1e3*(a-l.time)+1|0)},l===c&&(h=!0),y(2)},l.fps=function(t){return arguments.length?(i=t,s=1/(i||60),a=this.time+s,void l.wake()):i},l.useRAF=function(t){return arguments.length?(l.sleep(),f=t,void l.fps(i)):f},l.fps(t),setTimeout(function(){"auto"===f&&l.frame<5&&"hidden"!==r.visibilityState&&l.useRAF(!1)},1500)}),u=d.Ticker.prototype=new d.events.EventDispatcher,u.constructor=d.Ticker;var O=x("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,K){h||c.wake();var i=this.vars.useFrames?Z:K;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});c=O.ticker=new d.Ticker,u=O.prototype,u._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var A=function st(){h&&P()-L>2e3&&"hidden"!==r.visibilityState&&c.wake();var t=setTimeout(st,2e3);t.unref&&t.unref()};A(),u.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},u.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},u.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},u.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},u.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},u.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},u.render=function(t,e,i){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(t,e){return h||c.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(t,e){return this._enabled(!1,!1)},u.kill=function(t,e){return this._kill(t,e),this},u._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},u._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},u._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,o=n?n.length:0;switch(o){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},u.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=v(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},u.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},u.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},u.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},u.totalTime=function(t,e,i){if(h||c.wake(),!arguments.length)return this._totalTime;
if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(D.length&&Q(),this.render(t,e,!1),D.length&&Q())}return this},u.progress=u.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},u.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},u.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||p,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},u.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(h||t||c.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var M=x("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});u=M.prototype=new O,u.constructor=M,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},u._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},u.rawTime=function(){return h||c.wake(),this._totalTime};var R=x("TweenLite",function(e,i,n){if(O.call(this,i,n),this.render=R.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:R.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?$[R.defaultOverwrite]:"number"==typeof l?l>>0:$[l],(a||e instanceof Array||e.push&&v(e))&&"number"!=typeof e[0])for(this._targets=s=g(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(g(o))):(this._siblings[r]=tt(o,this,!1),1===l&&this._siblings[r].length>1&&it(o,this,null,1,this._siblings[r])):(o=s[r--]=R.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=tt(e,this,!1),1===l&&this._siblings.length>1&&it(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-p,this.render(Math.min(0,-this._delay)))},!0),N=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},j=function(t,e){var i,n={};for(i in t)Y[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!H[i]||H[i]&&H[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};u=R.prototype=new O,u.constructor=R,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,R.version="1.20.2",R.defaultEase=u._ease=new C(null,null,1,1),R.defaultOverwrite="auto",R.ticker=c,R.autoSleep=120,R.lagSmoothing=function(t,e){c.lagSmoothing(t,e)},R.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(R.selector=i,i(e)):"undefined"==typeof r?e:r.querySelectorAll?r.querySelectorAll(e):r.getElementById("#"===e.charAt(0)?e.substr(1):e)};var D=[],F={},z=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,B=/[\+-]=-?[\.\d]/,V=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?1===t&&this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<n&&e>-n&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},q=function(t,e,i,n){var r,o,s,a,l,u,c,h=[],f=0,d="",p=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",i&&(i(h),t=h[0],e=h[1]),h.length=0,r=t.match(z)||[],o=e.match(z)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),l=o.length,a=0;a<l;a++)c=o[a],u=e.substr(f,e.indexOf(c,f)-f),d+=u||!a?u:",",f+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),c===r[a]||r.length<=a?d+=c:(d&&(h.push(d),d=""),s=parseFloat(r[a]),h.push(s),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:s,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-s)||0,f:0,m:p&&p<4?Math.round:0}),f+=c.length;return d+=e.substr(f),d&&h.push(d),h.setRatio=V,B.test(e)&&(h.end=0),h},U=function(t,e,i,n,r,s,a,l,u){"function"==typeof n&&(n=n(u||0,t));var c,h=(0,o["default"])(t[e]),f="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),d="get"!==i?i:f?a?t[f](a):t[f]():t[e],p="string"==typeof n&&"="===n.charAt(1),g={t:t,p:e,s:d,f:"function"===h,pg:0,n:r||e,m:s?"function"==typeof s?s:Math.round:0,pr:0,c:p?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-d||0};if(("number"!=typeof d||"number"!=typeof n&&!p)&&(a||isNaN(d)||!p&&isNaN(n)||"boolean"==typeof d||"boolean"==typeof n?(g.fp=a,c=q(d,p?parseFloat(g.s)+g.c:n,l||R.defaultStringFilter,g),g={t:c,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(g.s=parseFloat(d),p||(g.c=parseFloat(n)-g.s||0))),g.c)return(g._next=this._firstPT)&&(g._next._prev=g),this._firstPT=g,g},G=R._internals={isArray:v,isSelector:N,lazyTweens:D,blobDif:q},H=R._plugins={},X=G.tweenLookup={},W=0,Y=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},$={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Z=O._rootFramesTimeline=new M,K=O._rootTimeline=new M,J=30,Q=G.lazyRender=function(){var t,e=D.length;for(F={};--e>-1;)t=D[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);D.length=0};K._startTime=c.time,Z._startTime=c.frame,K._active=Z._active=!0,setTimeout(Q,1),O._updateRoot=R.render=function(){var t,e,i;if(D.length&&Q(),K.render((c.time-K._startTime)*K._timeScale,!1,!1),Z.render((c.frame-Z._startTime)*Z._timeScale,!1,!1),D.length&&Q(),c.frame>=J){J=c.frame+(parseInt(R.autoSleep,10)||120);for(i in X){for(e=X[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete X[i]}if(i=K._first,(!i||i._paused)&&R.autoSleep&&!Z._first&&1===c._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||c.sleep()}}},c.addEventListener("tick",O._updateRoot);var tt=function(t,e,i){var n,r,o=t._gsTweenID;if(X[o||(t._gsTweenID=o="t"+W++)]||(X[o]={target:t,tweens:[]}),e&&(n=X[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return X[o].tweens},et=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),s=R.onOverwrite,s&&(o=s(t,e,i,n)),r!==!1&&o!==!1},it=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;o<l;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var u,c=e._startTime+p,h=[],f=0,d=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||nt(e,0,d),0===nt(a,u,d)&&(h[f++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((d||!a._initted)&&c-a._startTime<=2e-10||(h[f++]=a)));for(o=f;--o>-1;)if(a=h[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!et(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},nt=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&o-e<2*p?p:(o+=t.totalDuration()/t._timeScale/r)>e+p?0:o-e-p};u._init=function(){var t,e,i,n,r,o,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,c=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in s.startAt)r[n]=s.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&s.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=s.onUpdate,r.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=R.to(this.target,0,r),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(u=!1),i={};for(n in s)Y[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&s.lazy!==!1,i.immediateRender=u,this._startAt=R.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof C?c:"function"==typeof c?new C(c,s.easeParams):E[c]||R.defaultEase:R.defaultEase,s.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&R._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},u._initProps=function(e,i,n,r,o){var s,a,l,u,c,h;if(null==e)return!1;F[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&H.css&&this.vars.autoCSS!==!1&&j(this.vars,e);for(s in this.vars)if(h=this.vars[s],Y[s])h&&(h instanceof Array||h.push&&v(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[s]=h=this._swapSelfInParams(h,this));else if(H[s]&&(u=new H[s])._onInitTween(e,this.vars[s],this,o)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:u._priority,m:0},a=u._overwriteProps.length;--a>-1;)i[u._overwriteProps[a]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else i[s]=U.call(this,e,s,"get",h,s,0,null,this.vars.stringFilter,o);return r&&this._kill(r,e)?this._initProps(e,i,n,r,o):this._overwrite>1&&this._firstPT&&n.length>1&&it(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),l)},u.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||u===p&&"isPause"!==this.data)&&u!==t&&(i=!0,u>p&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:p);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(u!==p||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:p)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:t/l<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,D.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===p&&s!==p&&(this._rawPrevTime=0)))}},u._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:R.selector(e)||e;var n,r,s,a,l,u,c,h,f,d=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((v(e)||N(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){l=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;l=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(l){if(c=t||l,h=t!==r&&"all"!==r&&t!==l&&("object"!==("undefined"==typeof t?"undefined":(0,o["default"])(t))||!t._tempKill),i&&(R.onOverwrite||this.vars.onOverwrite)){for(s in c)l[s]&&(f||(f=[]),f.push(s));if((f||!t)&&!et(this,i,e,f))return!1}for(s in c)(a=l[s])&&(d&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(c)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete l[s]),h&&(r[s]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},u.invalidate=function(){return this._notifyPluginsOfEnabled&&R._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-p,this.render(Math.min(0,-this._delay))),this},u._enabled=function(t,e){if(h||c.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=tt(n[i],this,!0);else this._siblings=tt(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&R._onPluginEvent(t?"_onEnable":"_onDisable",this)},R.to=function(t,e,i){return new R(t,e,i)},R.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new R(t,e,i)},R.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new R(t,e,n)},R.delayedCall=function(t,e,i,n,r){return new R(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},R.set=function(t,e){return new R(t,0,e)},R.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:R.selector(t)||t;var i,n,r,o;if((v(t)||N(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(R.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(n=tt(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},R.killTweensOf=R.killDelayedCallsTo=function(t,e,i){"object"===("undefined"==typeof e?"undefined":(0,o["default"])(e))&&(i=e,e=!1);for(var n=R.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var rt=x("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=rt.prototype},!0);if(u=rt.prototype,rt.version="1.19.0",rt.API=2,u._firstPT=null,u._addTween=U,u.setRatio=V,u._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},u._mod=u._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},R._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},rt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===rt.API&&(H[(new t[e])._propName]=t[e]);return!0},b.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=x("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){rt.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new rt(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,rt.activate([s]),s},a=t._gsQueue){for(l=0;l<a.length;l++)a[l]();for(u in y)y[u].func||t.console.log("GSAP encountered missing dependency: "+u)}h=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:window,"TweenLite")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/typeof":115}],53:[function(t,e,i){(function(i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/helpers/typeof"),o=n(r),s="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:window;(s._gsQueue||(s._gsQueue=[])).push(function(){s._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,a,l=function te(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=te.prototype.setRatio},u=s._gsDefine.globals,c={},h=l.prototype=new t("css");h.constructor=l,l.version="1.20.0",l.API=2,l.defaultTransformPerspective=0,l.defaultSkewType="compensated",l.defaultSmoothOrigin=!0,h="px",l.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var f,d,p,g,m,v,y,_,b=/(?:\-|\.|\b)(\d|\.|e\-)+/g,x=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,C=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,E=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,I=/alpha\(opacity *=.+?\)/i,k=/^(rgb|hsl)/,P=/([A-Z])/g,L=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,A=function(t,e){return e.toUpperCase()},M=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,N=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,j=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,F=Math.PI/180,z=180/Math.PI,B={},V={style:{}},q=s.document||{createElement:function(){return V}},U=function(t,e){return q.createElementNS?q.createElementNS(e||"http://www.w3.org/1999/xhtml",t):q.createElement(t)},G=U("div"),H=U("img"),X=l._internals={_specialProps:c},W=(s.navigator||{}).userAgent||"",Y=function(){var t=W.indexOf("Android"),e=U("a");return p=W.indexOf("Safari")!==-1&&W.indexOf("Chrome")===-1&&(t===-1||parseFloat(W.substr(t+8,2))>3),m=p&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,g=W.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),$=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Z=function(t){s.console&&void 0},K="",J="",Q=function(t,e){e=e||G;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(J=3===n?"ms":i[n],K="-"+J.toLowerCase()+"-",J+t):null},tt=q.defaultView?q.defaultView.getComputedStyle:function(){},et=l.getStyle=function(t,e,i,n,r){var o;return Y||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||tt(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(P,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):$(t)},it=X.convertToPixels=function(t,i,n,r,o){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var s,a,u,c=M.test(i),h=t,f=G.style,d=n<0,p=1===n;if(d&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&i.indexOf("border")!==-1)s=n/100*(c?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+et(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=t.parentNode||q.body,et(h,"display").indexOf("flex")!==-1&&(f.position="absolute"),a=h._gsCache,u=e.ticker.frame,a&&c&&a.time===u)return a.width*n/100;f[c?"width":"height"]=n+r}h.appendChild(G),s=parseFloat(G[c?"offsetWidth":"offsetHeight"]),h.removeChild(G),c&&"%"===r&&l.cacheWidths!==!1&&(a=h._gsCache=h._gsCache||{},a.time=u,a.width=s/n*100),0!==s||o||(s=it(t,i,n,r,!0))}else a=tt(t).lineHeight,t.style.lineHeight=n,s=parseFloat(tt(t).lineHeight),t.style.lineHeight=a;return p&&(s/=100),d?-s:s},nt=X.calculateOffset=function(t,e,i){if("absolute"!==et(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=et(t,"margin"+n,i);return t["offset"+n]-(it(t,e,parseFloat(r),r.replace(E,""))||0)},rt=function(t,e){var i,n,r,o={};if(e=e||tt(t,null))if(i=e.length)for(;--i>-1;)r=e[i],r.indexOf("-transform")!==-1&&Ot!==r||(o[r.replace(L,A)]=e.getPropertyValue(r));else for(i in e)i.indexOf("Transform")!==-1&&Lt!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(L,A)]=e[i]);return Y||(o.opacity=$(t)),n=Ht(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,Mt&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},ot=function(t,e,i,n,r){var o,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&s.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(C,"")?o:0:nt(t,s),void 0!==u[s]&&(a=new bt(u,s,u[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},st={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],lt=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||tt(t))[e]||0;if(t.getCTM&&qt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=st[e],o=r.length;for(i=i||tt(t,null);--o>-1;)n-=parseFloat(et(t,"padding"+r[o],i,!0))||0,n-=parseFloat(et(t,"border"+r[o]+"Width",i,!0))||0;return n},ut=function ee(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":n[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(ee(n[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),t=r+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=r.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(C,"")),e.oy=parseFloat(o.replace(C,"")),e.v=t),e||t},ct=function(t,e){return"function"==typeof t&&(t=t(_,y)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ht=function(t,e){return"function"==typeof t&&(t=t(_,y)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ft=function(t,e,i,n){var r,o,s,a,l,u=1e-6;return"function"==typeof t&&(t=t(_,y)),null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:z)-(l?0:e),o.length&&(n&&(n[i]=e+s),t.indexOf("short")!==-1&&(s%=r,s!==s%(r/2)&&(s=s<0?s+r:s-r)),t.indexOf("_cw")!==-1&&s<0?s=(s+9999999999*r)%r-(s/r|0)*r:t.indexOf("ccw")!==-1&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),a<u&&a>-u&&(a=0),a},dt={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},pt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},gt=l.parseColor=function(t,e){var i,n,r,o,s,a,l,u,c,h,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),dt[t])i=dt[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+n+n+r+r+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(b),e){if(t.indexOf("=")!==-1)return t.match(x)}else s=Number(i[0])%360/360,a=Number(i[1])/100,l=Number(i[2])/100,r=l<=.5?l*(a+1):l+a-l*a,n=2*l-r,i.length>3&&(i[3]=Number(t[3])),i[0]=pt(s+1/3,n,r),i[1]=pt(s,n,r),i[2]=pt(s-1/3,n,r);else i=t.match(b)||dt.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=dt.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,u=Math.max(n,r,o),c=Math.min(n,r,o),l=(u+c)/2,u===c?s=a=0:(h=u-c,a=l>.5?h/(2-u-c):h/(u+c),s=u===n?(r-o)/h+(r<o?6:0):u===r?(o-n)/h+2:(n-r)/h+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},mt=function(t,e){var i,n,r,o=t.match(vt)||[],s=0,a="";if(!o.length)return t;for(i=0;i<o.length;i++)n=o[i],r=t.substr(s,t.indexOf(n,s)-s),s+=r.length+n.length,n=gt(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return a+t.substr(s)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(h in dt)vt+="|"+h+"\\b";vt=new RegExp(vt+")","gi"),l.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];vt.test(i)&&(e=i.indexOf("hsl(")!==-1||i.indexOf("hsla(")!==-1,t[0]=mt(t[0],e),t[1]=mt(t[1],e)),vt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=l.colorStringFilter);var yt=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(vt)||[""])[0]:"",s=t.split(o).join("").match(w)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=t.indexOf(" ")!==-1?" ":",",c=s.length,h=c>0?s[0].replace(b,""):"";return c?r=e?function(t){var e,f,d,p;if("number"==typeof t)t+=h;else if(n&&j.test(t)){for(p=t.replace(j,"|").split("|"),d=0;d<p.length;d++)p[d]=r(p[d]);return p.join(",")}if(e=(t.match(vt)||[o])[0],f=t.split(e).join("").match(w)||[],d=f.length,c>d--)for(;++d<c;)f[d]=i?f[(d-1)/2|0]:s[d];return a+f.join(u)+u+e+l+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(n&&j.test(t)){for(o=t.replace(j,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(e=t.match(w)||[],f=e.length,c>f--)for(;++f<c;)e[f]=i?e[(f-1)/2|0]:s[f];return a+e.join(u)+l}:function(t){return t}},_t=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,u=(i+"").split(" ");for(a={},l=0;l<4;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},bt=(X._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,s=this.data,a=s.proxy,l=s.firstMPT,u=1e-6;l;)e=a[l.v],l.r?e=Math.round(e):e<u&&e>-u&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),xt=(X._parseToProxy=function(t,e,i,n,r,o){var s,a,l,u,c,h=n,f={},d={},p=i._transform,g=B;for(i._transform=null,B=e,n=c=i.parse(t,e,n,r),B=g,o&&(i._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(a=n.p,d[a]=n.s+n.c,f[a]=n.s,o||(u=new bt(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,a=n.p+"_"+l,d[a]=n.data[l],f[a]=n[l],o||(u=new bt(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:f,end:d,firstMPT:u,pt:c}},X.CSSPropTween=function(t,e,n,r,o,s,l,u,c,h,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=l||e,t instanceof xt||a.push(this.n),this.r=u,this.type=s||0,c&&(this.pr=c,i=!0),this.b=void 0===h?n:h,this.e=void 0===f?n+r:f,o&&(this._next=o,o._prev=this)}),wt=function(t,e,i,n,r,o){var s=new xt(t,e,i,n-i,r,(-1),o);return s.b=i,s.e=s.xs0=n,s},Ct=l.parseComplex=function(t,e,i,n,r,o,s,a,u,c){i=i||o||"","function"==typeof n&&(n=n(_,y)),s=new xt(t,e,0,0,s,c?2:1,null,(!1),a,i,n),n+="",r&&vt.test(n+i)&&(n=[i,n],l.colorStringFilter(n),
i=n[0],n=n[1]);var h,d,p,g,m,v,w,C,E,S,T,I,k,P=i.split(", ").join(",").split(" "),L=n.split(", ").join(",").split(" "),O=P.length,A=f!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||(P=P.join(" ").replace(j,", ").split(" "),L=L.join(" ").replace(j,", ").split(" "),O=P.length),O!==L.length&&(P=(o||"").split(" "),O=P.length),s.plugin=u,s.setRatio=c,vt.lastIndex=0,h=0;h<O;h++)if(g=P[h],m=L[h],C=parseFloat(g),C||0===C)s.appendXtra("",C,ct(m,C),m.replace(x,""),A&&m.indexOf("px")!==-1,!0);else if(r&&vt.test(g))I=m.indexOf(")")+1,I=")"+(I?m.substr(I):""),k=m.indexOf("hsl")!==-1&&Y,S=m,g=gt(g,k),m=gt(m,k),E=g.length+m.length>6,E&&!Y&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(L[h]).join("transparent")):(Y||(E=!1),k?s.appendXtra(S.substr(0,S.indexOf("hsl"))+(E?"hsla(":"hsl("),g[0],ct(m[0],g[0]),",",!1,!0).appendXtra("",g[1],ct(m[1],g[1]),"%,",!1).appendXtra("",g[2],ct(m[2],g[2]),E?"%,":"%"+I,!1):s.appendXtra(S.substr(0,S.indexOf("rgb"))+(E?"rgba(":"rgb("),g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],E?",":I,!0),E&&(g=g.length<4?1:g[3],s.appendXtra("",g,(m.length<4?1:m[3])-g,I,!1))),vt.lastIndex=0;else if(v=g.match(b)){if(w=m.match(x),!w||w.length!==v.length)return s;for(p=0,d=0;d<v.length;d++)T=v[d],S=g.indexOf(T,p),s.appendXtra(g.substr(p,S-p),Number(T),ct(w[d],T),"",A&&"px"===g.substr(S+T.length,2),0===d),p=S+T.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(n.indexOf("=")!==-1&&s.data){for(I=s.xs0+s.data.s,h=1;h<s.l;h++)I+=s["xs"+h]+s.data["xn"+h];s.e=I+s["xs"+h]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Et=9;for(h=xt.prototype,h.l=h.pr=0;--Et>0;)h["xn"+Et]=0,h["xs"+Et]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new xt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var St=function(t,e){e=e||{},this.p=e.prefix?Q(t)||t:t,c[t]=c[this.p]=this,this.format=e.formatter||yt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Tt=X._registerComplexSpecialProp=function(t,e,i){"object"!==("undefined"==typeof e?"undefined":(0,o["default"])(e))&&(e={parser:i});var n,r,s=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;n<s.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new St(s[n],e)},It=X._registerPluginProp=function(t){if(!c[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Tt(t,{parser:function(t,i,n,r,o,s,a){var l=u.com.greensock.plugins[e];return l?(l._cssRegister(),c[n].parse(t,i,n,r,o,s,a)):(Z("Error: "+e+" js file not loaded."),o)}})}};h=St.prototype,h.parseComplex=function(t,e,i,n,r,o){var s,a,l,u,c,h,f=this.keyword;if(this.multi&&(j.test(i)||j.test(e)?(a=e.replace(j,"|").split("|"),l=i.replace(j,"|").split("|")):f&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,f&&(c=e.indexOf(f),h=i.indexOf(f),c!==h&&(h===-1?a[s]=a[s].split(f).join(""):c===-1&&(a[s]+=" "+f)));e=a.join(", "),i=l.join(", ")}return Ct(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},h.parse=function(t,e,i,n,o,s,a){return this.parseComplex(t.style,this.format(et(t,this.p,r,!1,this.dflt)),this.format(e),o,s)},l.registerSpecialProp=function(t,e,i){Tt(t,{parser:function(t,n,r,o,s,a,l){var u=new xt(t,r,0,0,s,2,r,(!1),i);return u.plugin=a,u.setRatio=e(t,n,o._tween,r),u},priority:i})},l.useSVGTransformAttr=!0;var kt,Pt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Lt=Q("transform"),Ot=K+"transform",At=Q("transformOrigin"),Mt=null!==Q("perspective"),Rt=X.Transform=function(){this.perspective=parseFloat(l.defaultTransformPerspective)||0,this.force3D=!(l.defaultForce3D===!1||!Mt)&&(l.defaultForce3D||"auto")},Nt=s.SVGElement,jt=function(t,e,i){var n,r=q.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Dt=q.documentElement||{},Ft=function(){var t,e,i,n=v||/Android/i.test(W)&&!s.chrome;return q.createElementNS&&!n&&(t=jt("svg",Dt),e=jt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[At]="50% 50%",e.style[Lt]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(g&&Mt),Dt.removeChild(t)),n}(),zt=function(t,e,i,n,r,o){var s,a,u,c,h,f,d,p,g,m,v,y,_,b,x=t._gsTransform,w=Gt(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!n||(s=n.split(" ")).length<2)&&(d=t.getBBox(),0===d.x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ut(e).split(" "),s=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),i.xOrigin=c=parseFloat(s[0]),i.yOrigin=h=parseFloat(s[1]),n&&w!==Ut&&(f=w[0],d=w[1],p=w[2],g=w[3],m=w[4],v=w[5],y=f*g-d*p,y&&(a=c*(g/y)+h*(-p/y)+(p*v-g*m)/y,u=c*(-d/y)+h*(f/y)-(f*v-d*m)/y,c=i.xOrigin=s[0]=a,h=i.yOrigin=s[1]=u)),x&&(o&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),r||r!==!1&&l.defaultSmoothOrigin!==!1?(a=c-_,u=h-b,x.xOffset+=a*w[0]+u*w[2]-a,x.yOffset+=a*w[1]+u*w[3]-u):x.xOffset=x.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},Bt=function ie(t){var e,i=U("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Dt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=ie}catch(s){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),Dt.removeChild(i),this.style.cssText=o,e},Vt=function(t){try{return t.getBBox()}catch(e){return Bt.call(t,!0)}},qt=function(t){return!(!(Nt&&t.getCTM&&Vt(t))||t.parentNode&&!t.ownerSVGElement)},Ut=[1,0,0,1,0,0],Gt=function(t,e){var i,n,r,o,s,a,l=t._gsTransform||new Rt,u=1e5,c=t.style;if(Lt?n=et(t,Ot,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(R),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Lt||!(a="none"===tt(t).display)&&t.parentNode||(a&&(o=c.display,c.display="block"),t.parentNode||(s=1,Dt.appendChild(t)),n=et(t,Ot,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?c.display=o:a&&$t(c,"display"),s&&Dt.removeChild(t)),(l.svg||t.getCTM&&qt(t))&&(i&&(c[Lt]+"").indexOf("matrix")!==-1&&(n=c[Lt],i=0),r=t.getAttribute("transform"),i&&r&&(r.indexOf("matrix")!==-1?(n=r,i=0):r.indexOf("translate")!==-1&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Ut;for(r=(n||"").match(b)||[],Et=r.length;--Et>-1;)o=Number(r[Et]),r[Et]=(s=o-(o|=0))?(s*u+(s<0?-.5:.5)|0)/u+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ht=X.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,s,a,u,c,h,f=n?t._gsTransform||new Rt:new Rt,d=f.scaleX<0,p=2e-5,g=1e5,m=Mt?parseFloat(et(t,At,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(l.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!qt(t)),f.svg&&(zt(t,et(t,At,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),kt=l.useSVGTransformAttr||Ft),o=Gt(t),o!==Ut){if(16===o.length){var y,_,b,x,w,C=o[0],E=o[1],S=o[2],T=o[3],I=o[4],k=o[5],P=o[6],L=o[7],O=o[8],A=o[9],M=o[10],R=o[12],N=o[13],j=o[14],D=o[11],F=Math.atan2(P,M);f.zOrigin&&(j=-f.zOrigin,R=O*j-o[12],N=A*j-o[13],j=M*j+f.zOrigin-o[14]),f.rotationX=F*z,F&&(x=Math.cos(-F),w=Math.sin(-F),y=I*x+O*w,_=k*x+A*w,b=P*x+M*w,O=I*-w+O*x,A=k*-w+A*x,M=P*-w+M*x,D=L*-w+D*x,I=y,k=_,P=b),F=Math.atan2(-S,M),f.rotationY=F*z,F&&(x=Math.cos(-F),w=Math.sin(-F),y=C*x-O*w,_=E*x-A*w,b=S*x-M*w,A=E*w+A*x,M=S*w+M*x,D=T*w+D*x,C=y,E=_,S=b),F=Math.atan2(E,C),f.rotation=F*z,F&&(x=Math.cos(F),w=Math.sin(F),y=C*x+E*w,_=I*x+k*w,b=O*x+A*w,E=E*x-C*w,k=k*x-I*w,A=A*x-O*w,C=y,I=_,O=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),F=Math.atan2(I,k),f.scaleX=(Math.sqrt(C*C+E*E+S*S)*g+.5|0)/g,f.scaleY=(Math.sqrt(k*k+P*P)*g+.5|0)/g,f.scaleZ=(Math.sqrt(O*O+A*A+M*M)*g+.5|0)/g,C/=f.scaleX,I/=f.scaleY,E/=f.scaleX,k/=f.scaleY,Math.abs(F)>p?(f.skewX=F*z,I=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(F))):f.skewX=0,f.perspective=D?1/(D<0?-D:D):0,f.x=R,f.y=N,f.z=j,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*C-f.yOrigin*I),f.y-=f.yOrigin-(f.yOrigin*E-f.xOrigin*k))}else if(!Mt||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var B=o.length>=6,V=B?o[0]:1,q=o[1]||0,U=o[2]||0,G=B?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,a=Math.sqrt(V*V+q*q),u=Math.sqrt(G*G+U*U),c=V||q?Math.atan2(q,V)*z:f.rotation||0,h=U||G?Math.atan2(U,G)*z+c:f.skewX||0,f.scaleX=a,f.scaleY=u,f.rotation=c,f.skewX=h,Mt&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*V+f.yOrigin*U),f.y-=f.yOrigin-(f.xOrigin*q+f.yOrigin*G))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(d?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=m;for(s in f)f[s]<p&&f[s]>-p&&(f[s]=0)}return n&&(t._gsTransform=f,f.svg&&(kt&&t.style[Lt]?e.delayedCall(.001,function(){$t(t.style,Lt)}):!kt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Xt=function(t){var e,i,n=this.data,r=-n.rotation*F,o=r+n.skewX*F,s=1e5,a=(Math.cos(r)*n.scaleX*s|0)/s,l=(Math.sin(r)*n.scaleX*s|0)/s,u=(Math.sin(o)*-n.scaleY*s|0)/s,c=(Math.cos(o)*n.scaleY*s|0)/s,h=this.t.style,f=this.t.currentStyle;if(f){i=l,l=-u,u=-i,e=f.filter,h.filter="";var d,p,g=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==f.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+c,b=n.x+g*n.xPercent/100,x=n.y+m*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?g*n.ox*.01:n.ox)-g/2,p=(n.oyp?m*n.oy*.01:n.oy)-m/2,b+=d-(d*a+p*l),x+=p-(d*u+p*c)),y?(d=g/2,p=m/2,_+=", Dx="+(d-(d*a+p*l)+b)+", Dy="+(p-(d*u+p*c)+x)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=e.replace(N,_):h.filter=_+" "+e,0!==t&&1!==t||1===a&&0===l&&0===u&&1===c&&(y&&_.indexOf("Dx=0, Dy=0")===-1||S.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!y){var w,C,T,I=v<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((a<0?-a:a)*g+(l<0?-l:l)*m))/2+b),n.ieOffsetY=Math.round((m-((c<0?-c:c)*m+(u<0?-u:u)*g))/2+x),Et=0;Et<4;Et++)C=at[Et],w=f[C],i=w.indexOf("px")!==-1?parseFloat(w):it(this.t,C,parseFloat(w),w.replace(E,""))||0,T=i!==n[C]?Et<2?-n.ieOffsetX:-n.ieOffsetY:Et<2?d-n.ieOffsetX:p-n.ieOffsetY,h[C]=(n[C]=Math.round(i-T*(0===Et||2===Et?1:I)))+"px"}}},Wt=X.set3DTransformRatio=X.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,u,c,h,f,d,p,m,v,y,_,b,x,w,C,E,S=this.data,T=this.t.style,I=S.rotation,k=S.rotationX,P=S.rotationY,L=S.scaleX,O=S.scaleY,A=S.scaleZ,M=S.x,R=S.y,N=S.z,j=S.svg,D=S.perspective,z=S.force3D,B=S.skewY,V=S.skewX;if(B&&(V+=B,I+=B),((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!N&&!D&&!P&&!k&&1===A||kt&&j||!Mt)return void(I||V||j?(I*=F,C=V*F,E=1e5,i=Math.cos(I)*L,o=Math.sin(I)*L,n=Math.sin(I-C)*-O,s=Math.cos(I-C)*O,C&&"simple"===S.skewType&&(e=Math.tan(C-B*F),e=Math.sqrt(1+e*e),n*=e,s*=e,B&&(e=Math.tan(B*F),e=Math.sqrt(1+e*e),i*=e,o*=e)),j&&(M+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,R+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset,kt&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),M+=.01*S.xPercent*m.width,R+=.01*S.yPercent*m.height),m=1e-6,M<m&&M>-m&&(M=0),R<m&&R>-m&&(R=0)),b=(i*E|0)/E+","+(o*E|0)/E+","+(n*E|0)/E+","+(s*E|0)/E+","+M+","+R+")",j&&kt?this.t.setAttribute("transform","matrix("+b):T[Lt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+b):T[Lt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+L+",0,0,"+O+","+M+","+R+")");if(g&&(m=1e-4,L<m&&L>-m&&(L=A=2e-5),O<m&&O>-m&&(O=A=2e-5),!D||S.z||S.rotationX||S.rotationY||(D=0)),I||V)I*=F,v=i=Math.cos(I),y=o=Math.sin(I),V&&(I-=V*F,v=Math.cos(I),y=Math.sin(I),"simple"===S.skewType&&(e=Math.tan((V-B)*F),e=Math.sqrt(1+e*e),v*=e,y*=e,S.skewY&&(e=Math.tan(B*F),e=Math.sqrt(1+e*e),i*=e,o*=e))),n=-y,s=v;else{if(!(P||k||1!==A||D||j))return void(T[Lt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+R+"px,"+N+"px)"+(1!==L||1!==O?" scale("+L+","+O+")":""));i=s=1,n=o=0}c=1,r=a=l=u=h=f=0,d=D?-1/D:0,p=S.zOrigin,m=1e-6,x=",",w="0",I=P*F,I&&(v=Math.cos(I),y=Math.sin(I),l=-y,h=d*-y,r=i*y,a=o*y,c=v,d*=v,i*=v,o*=v),I=k*F,I&&(v=Math.cos(I),y=Math.sin(I),e=n*v+r*y,_=s*v+a*y,u=c*y,f=d*y,r=n*-y+r*v,a=s*-y+a*v,c*=v,d*=v,n=e,s=_),1!==A&&(r*=A,a*=A,c*=A,d*=A),1!==O&&(n*=O,s*=O,u*=O,f*=O),1!==L&&(i*=L,o*=L,l*=L,h*=L),(p||j)&&(p&&(M+=r*-p,R+=a*-p,N+=c*-p+p),j&&(M+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,R+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset),M<m&&M>-m&&(M=w),R<m&&R>-m&&(R=w),N<m&&N>-m&&(N=0)),b=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",b+=(i<m&&i>-m?w:i)+x+(o<m&&o>-m?w:o)+x+(l<m&&l>-m?w:l),b+=x+(h<m&&h>-m?w:h)+x+(n<m&&n>-m?w:n)+x+(s<m&&s>-m?w:s),k||P||1!==A?(b+=x+(u<m&&u>-m?w:u)+x+(f<m&&f>-m?w:f)+x+(r<m&&r>-m?w:r),b+=x+(a<m&&a>-m?w:a)+x+(c<m&&c>-m?w:c)+x+(d<m&&d>-m?w:d)+x):b+=",0,0,0,0,1,0,",b+=M+x+R+x+N+x+(D?1+-N/D:1)+")",T[Lt]=b};h=Rt.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,Tt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,s,a,u){if(n._lastParsedTransform===u)return s;n._lastParsedTransform=u;var c,h=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[i]&&(c=u[i],u[i]=e),h&&(u.scale=h(_,t));var f,d,p,g,m,v,b,x,w,C=t._gsTransform,E=t.style,S=1e-6,T=Pt.length,I=u,k={},P="transformOrigin",L=Ht(t,r,!0,I.parseTransform),O=I.transform&&("function"==typeof I.transform?I.transform(_,y):I.transform);if(L.skewType=I.skewType||L.skewType||l.defaultSkewType,n._transform=L,O&&"string"==typeof O&&Lt)d=G.style,d[Lt]=O,d.display="block",d.position="absolute",q.body.appendChild(G),f=Ht(G,null,!1),"simple"===L.skewType&&(f.scaleY*=Math.cos(f.skewX*F)),L.svg&&(v=L.xOrigin,b=L.yOrigin,f.x-=L.xOffset,f.y-=L.yOffset,(I.transformOrigin||I.svgOrigin)&&(O={},zt(t,ut(I.transformOrigin),O,I.svgOrigin,I.smoothOrigin,!0),v=O.xOrigin,b=O.yOrigin,f.x-=O.xOffset-L.xOffset,f.y-=O.yOffset-L.yOffset),(v||b)&&(x=Gt(G,!0),f.x-=v-(v*x[0]+b*x[2]),f.y-=b-(v*x[1]+b*x[3]))),q.body.removeChild(G),f.perspective||(f.perspective=L.perspective),null!=I.xPercent&&(f.xPercent=ht(I.xPercent,L.xPercent)),null!=I.yPercent&&(f.yPercent=ht(I.yPercent,L.yPercent));else if("object"===("undefined"==typeof I?"undefined":(0,o["default"])(I))){if(f={scaleX:ht(null!=I.scaleX?I.scaleX:I.scale,L.scaleX),scaleY:ht(null!=I.scaleY?I.scaleY:I.scale,L.scaleY),scaleZ:ht(I.scaleZ,L.scaleZ),x:ht(I.x,L.x),y:ht(I.y,L.y),z:ht(I.z,L.z),xPercent:ht(I.xPercent,L.xPercent),yPercent:ht(I.yPercent,L.yPercent),perspective:ht(I.transformPerspective,L.perspective)},m=I.directionalRotation,null!=m)if("object"===("undefined"==typeof m?"undefined":(0,o["default"])(m)))for(d in m)I[d]=m[d];else I.rotation=m;"string"==typeof I.x&&I.x.indexOf("%")!==-1&&(f.x=0,f.xPercent=ht(I.x,L.xPercent)),"string"==typeof I.y&&I.y.indexOf("%")!==-1&&(f.y=0,f.yPercent=ht(I.y,L.yPercent)),f.rotation=ft("rotation"in I?I.rotation:"shortRotation"in I?I.shortRotation+"_short":"rotationZ"in I?I.rotationZ:L.rotation,L.rotation,"rotation",k),Mt&&(f.rotationX=ft("rotationX"in I?I.rotationX:"shortRotationX"in I?I.shortRotationX+"_short":L.rotationX||0,L.rotationX,"rotationX",k),f.rotationY=ft("rotationY"in I?I.rotationY:"shortRotationY"in I?I.shortRotationY+"_short":L.rotationY||0,L.rotationY,"rotationY",k)),f.skewX=ft(I.skewX,L.skewX),f.skewY=ft(I.skewY,L.skewY)}for(Mt&&null!=I.force3D&&(L.force3D=I.force3D,g=!0),p=L.force3D||L.z||L.rotationX||L.rotationY||f.z||f.rotationX||f.rotationY||f.perspective,p||null==I.scale||(f.scaleZ=1);--T>-1;)w=Pt[T],O=f[w]-L[w],(O>S||O<-S||null!=I[w]||null!=B[w])&&(g=!0,s=new xt(L,w,L[w],O,s),w in k&&(s.e=k[w]),s.xs0=0,s.plugin=a,n._overwriteProps.push(s.n));return O=I.transformOrigin,L.svg&&(O||I.svgOrigin)&&(v=L.xOffset,b=L.yOffset,zt(t,ut(O),f,I.svgOrigin,I.smoothOrigin),s=wt(L,"xOrigin",(C?L:f).xOrigin,f.xOrigin,s,P),s=wt(L,"yOrigin",(C?L:f).yOrigin,f.yOrigin,s,P),v===L.xOffset&&b===L.yOffset||(s=wt(L,"xOffset",C?v:L.xOffset,L.xOffset,s,P),s=wt(L,"yOffset",C?b:L.yOffset,L.yOffset,s,P)),O="0px 0px"),(O||Mt&&p&&L.zOrigin)&&(Lt?(g=!0,w=At,O=(O||et(t,w,r,!1,"50% 50%"))+"",s=new xt(E,w,0,0,s,(-1),P),s.b=E[w],s.plugin=a,Mt?(d=L.zOrigin,O=O.split(" "),L.zOrigin=(O.length>2&&(0===d||"0px"!==O[2])?parseFloat(O[2]):d)||0,s.xs0=s.e=O[0]+" "+(O[1]||"50%")+" 0px",s=new xt(L,"zOrigin",0,0,s,(-1),s.n),s.b=d,s.xs0=s.e=L.zOrigin):s.xs0=s.e=O):ut(O+"",L)),g&&(n._transformType=L.svg&&kt||!p&&3!==this._transformType?2:3),c&&(u[i]=c),h&&(u.scale=h),s},prefix:!0}),Tt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Tt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,s,a){e=this.format(e);var l,u,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<E.length;u++)this.p.indexOf("border")&&(E[u]=Q(E[u])),f=h=et(t,E[u],r,!1,"0px"),f.indexOf(" ")!==-1&&(h=f.split(" "),f=h[0],h=h[1]),d=c=l[u],p=parseFloat(f),_=f.substr((p+"").length),b="="===d.charAt(1),b?(g=parseInt(d.charAt(0)+"1",10),d=d.substr(2),g*=parseFloat(d),y=d.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(d),y=d.substr((g+"").length)),""===y&&(y=n[i]||_),y!==_&&(x=it(t,"borderLeft",p,_),w=it(t,"borderTop",p,_),"%"===y?(f=x/m*100+"%",h=w/v*100+"%"):"em"===y?(C=it(t,"borderLeft",1,"em"),f=x/C+"em",h=w/C+"em"):(f=x+"px",h=w+"px"),b&&(d=parseFloat(f)+g+y,c=parseFloat(h)+g+y)),s=Ct(S,E[u],f+" "+h,d+" "+c,!1,"0px",s);return s},prefix:!0,formatter:yt("0px 0px 0px 0px",!1,!0)}),Tt("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,o,s){return Ct(t.style,i,this.format(et(t,i,r,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:yt("0px 0px",!1,!0)}),Tt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,s){var a,l,u,c,h,f,d="background-position",p=r||tt(t,null),g=this.format((p?v?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(g.indexOf("%")!==-1!=(m.indexOf("%")!==-1)&&m.split(",").length<2&&(f=et(t,"backgroundImage").replace(O,""),f&&"none"!==f)){for(a=g.split(" "),l=m.split(" "),H.setAttribute("src",f),u=2;--u>-1;)g=a[u],c=g.indexOf("%")!==-1,c!==(l[u].indexOf("%")!==-1)&&(h=0===u?t.offsetWidth-H.width:t.offsetHeight-H.height,a[u]=c?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,m,o,s)},formatter:ut}),Tt("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",ut(t.indexOf(" ")===-1?t+" "+t:t)}}),Tt("perspective",{defaultValue:"0px",prefix:!0}),Tt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Tt("transformStyle",{prefix:!0}),Tt("backfaceVisibility",{prefix:!0}),Tt("userSelect",{prefix:!0}),Tt("margin",{parser:_t("marginTop,marginRight,marginBottom,marginLeft")}),Tt("padding",{parser:_t("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Tt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,s){var a,l,u;return v<9?(l=t.currentStyle,u=v<8?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(et(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,o,s)}}),Tt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Tt("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Tt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,s){var a=et(t,"borderTopWidth",r,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(E,"");return"px"!==u&&(a=parseFloat(a)/it(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+et(t,"borderTopStyle",r,!1,"solid")+" "+et(t,"borderTopColor",r,!1,"#000")),l.join(" "),o,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),Tt("borderWidth",{parser:_t("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Tt("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new xt(s,a,0,0,r,(-1),i,(!1),0,s[a],e)}});var Yt=function(t){var e,i=this.t,n=i.filter||et(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!et(this.data,"filter")):(i.filter=n.replace(I,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),n.indexOf("pacity")===-1?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(S,"opacity="+r))};Tt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,s){var a=parseFloat(et(t,"opacity",r,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===et(t,"visibility",r)&&0!==e&&(a=0),Y?o=new xt(l,"opacity",a,e-a,o):(o=new xt(l,"opacity",100*a,100*(e-a),o),o.xn1=u?1:0,l.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=s,o.setRatio=Yt),u&&(o=new xt(l,"visibility",0,0,o,(-1),null,(!1),0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var $t=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(P,"-$1").toLowerCase())):t.removeAttribute(e))},Zt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:$t(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Tt("className",{parser:function(t,e,n,o,s,a,l){var u,c,h,f,d,p=t.getAttribute("class")||"",g=t.style.cssText;if(s=o._classNamePT=new xt(t,n,0,0,s,2),s.setRatio=Zt,s.pr=-11,i=!0,s.b=p,c=rt(t,r),h=t._gsClassPT){for(f={},d=h.data;d;)f[d.p]=1,d=d._next;h.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),u=ot(t,c,rt(t),l,f),t.setAttribute("class",p),s.data=u.firstMPT,t.style.cssText=g,s=s.xfirst=o.parse(t,u.difs,s,a)}});var Kt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=c.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],c[i]&&(c[i].parse===a?r=!0:i="transformOrigin"===i?At:c[i].p),$t(s,i);r&&($t(s,Lt),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Tt("clearProps",{parser:function(t,e,n,r,o){return o=new xt(t,n,0,0,o,2),o.setRatio=Kt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),h="bezier,throwProps,physicsProps,physics2D".split(","),Et=h.length;Et--;)It(h[Et]);h=l.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o,s){if(!t.nodeType)return!1;this._target=y=t,this._tween=o,this._vars=e,_=s,f=e.autoRound,i=!1,n=e.suffixMap||l.suffixMap,r=tt(t,""),a=this._overwriteProps;var u,h,g,v,b,x,w,C,E,S=t.style;if(d&&""===S.zIndex&&(u=et(t,"zIndex",r),"auto"!==u&&""!==u||this._addLazySet(S,"zIndex",0)),"string"==typeof e&&(v=S.cssText,u=rt(t,r),S.cssText=v+";"+e,u=ot(t,u,rt(t)).difs,!Y&&T.test(e)&&(u.opacity=parseFloat(RegExp.$1)),e=u,S.cssText=v),e.className?this._firstPT=h=c.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=h=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,Lt?p&&(d=!0,""===S.zIndex&&(w=et(t,"zIndex",r),"auto"!==w&&""!==w||this._addLazySet(S,"zIndex",0)),m&&this._addLazySet(S,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):S.zoom=1,g=h;g&&g._next;)g=g._next;C=new xt(t,"transform",0,0,null,2),this._linkCSSP(C,null,g),C.setRatio=Lt?Wt:Xt,C.data=this._transform||Ht(t,r,!0),C.tween=o,C.pr=-1,a.pop()}if(i){for(;h;){for(x=h._next,g=v;g&&g.pr>h.pr;)g=g._next;(h._prev=g?g._prev:b)?h._prev._next=h:v=h,(h._next=g)?g._prev=h:b=h,h=x}this._firstPT=v}return!0},h.parse=function(t,e,i,o){var s,a,l,u,h,d,p,g,m,v,b=t.style;for(s in e){if(d=e[s],"function"==typeof d&&(d=d(_,y)),a=c[s])i=a.parse(t,d,s,this,i,o,e);else{if("--"===s.substr(0,2)){this._tween._propLookup[s]=this._addTween.call(this._tween,t.style,"setProperty",tt(t).getPropertyValue(s)+"",d+"",s,!1,s);continue}h=et(t,s,r)+"",m="string"==typeof d,"color"===s||"fill"===s||"stroke"===s||s.indexOf("Color")!==-1||m&&k.test(d)?(m||(d=gt(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=Ct(b,s,h,d,!0,"transparent",i,0,o)):m&&D.test(d)?i=Ct(b,s,h,d,!0,null,i,0,o):(l=parseFloat(h),p=l||0===l?h.substr((l+"").length):"",""!==h&&"auto"!==h||("width"===s||"height"===s?(l=lt(t,s,r),p="px"):"left"===s||"top"===s?(l=nt(t,s,r),p="px"):(l="opacity"!==s?0:1,p="")),v=m&&"="===d.charAt(1),v?(u=parseInt(d.charAt(0)+"1",10),d=d.substr(2),u*=parseFloat(d),g=d.replace(E,"")):(u=parseFloat(d),g=m?d.replace(E,""):""),""===g&&(g=s in n?n[s]:p),d=u||0===u?(v?u+l:u)+g:e[s],p!==g&&(""===g&&"lineHeight"!==s||(u||0===u)&&l&&(l=it(t,s,l,p),"%"===g?(l/=it(t,s,100,"%")/100,e.strictUnits!==!0&&(h=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=it(t,s,1,g):"px"!==g&&(u=it(t,s,u,g),g="px"),v&&(u||0===u)&&(d=u+l+g))),v&&(u+=l),!l&&0!==l||!u&&0!==u?void 0!==b[s]&&(d||d+""!="NaN"&&null!=d)?(i=new xt(b,s,u||l||0,0,i,(-1),s,(!1),0,h,d),i.xs0="none"!==d||"display"!==s&&s.indexOf("Style")===-1?d:h):Z("invalid "+s+" tween value: "+e[s]):(i=new xt(b,s,l,u-l,i,0,s,f!==!1&&("px"===g||"zIndex"===s),0,h,d),i.xs0=g))}o&&i&&!i.plugin&&(i.plugin=o)}return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<o&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||Ht(this._target,r,!0),this._transformType=this._transform.svg&&kt||!t&&3!==this._transformType?2:3};var Jt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new xt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Jt,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},h._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,o)};var Qt=function ne(t,e,i){var n,r,o,s;if(t.slice)for(r=t.length;--r>-1;)ne(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],s=o.type,o.style&&(e.push(rt(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||ne(o,e,i)};return l.cascadeTo=function(t,i,n){var r,o,s,a,l=e.to(t,i,n),u=[l],c=[],h=[],f=[],d=e._internals.reservedProps;for(t=l._targets||l.target,Qt(t,c,f),l.render(i,!0,!0),Qt(t,h),l.render(0,!0,!0),l._enabled(!0),r=f.length;--r>-1;)if(o=ot(f[r],c[r],h[r]),o.firstMPT){o=o.difs;for(s in n)d[s]&&(o[s]=n[s]);a={};for(s in o)a[s]=c[r][s];u.push(e.fromTo(f[r],i,a,o))}return u},t.activate([l]),l},!0)}),s._gsDefine&&s._gsQueue.pop()(),function(i){var n=function(){return(s.GreenSockGlobals||s)[i]};"undefined"!=typeof e&&e.exports?(t("../TweenLite.js"),e.exports=n()):"function"==typeof define&&define.amd&&define(["TweenLite"],n)}("CSSPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":52,"babel-runtime/helpers/typeof":115}],54:[function(t,e,i){(function(i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/helpers/typeof"),o=n(r),s="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:window;(s._gsQueue||(s._gsQueue=[])).push(function(){var t=(s.document||{}).documentElement,e=s,i=function(i,n){var r="x"===n?"Width":"Height",o="scroll"+r,s="client"+r,a=document.body;return i===e||i===t||i===a?Math.max(t[o],a[o])-(e["inner"+r]||t[s]||a[s]):i[o]-i["offset"+r]},n=function(t){return"string"==typeof t&&(t=TweenLite.selector(t)),t.length&&t!==e&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===e||t.nodeType&&t.style?t:null},r=function(i,n){var r="scroll"+("x"===n?"Left":"Top");return i===e&&(null!=i.pageXOffset?r="page"+n.toUpperCase()+"Offset":i=null!=t[r]?t:document.body),function(){return i[r]}},a=function(i,o){var s=n(i).getBoundingClientRect(),a=!o||o===e||o===document.body,l=(a?t:o).getBoundingClientRect(),u={x:s.left-l.left,y:s.top-l.top};return!a&&o&&(u.x+=r(o,"x")(),u.y+=r(o,"y")()),u},l=function(t,e,n){var r="undefined"==typeof t?"undefined":(0,o["default"])(t);return isNaN(t)?"number"===r||"string"===r&&"="===t.charAt(1)?t:"max"===t?i(e,n):Math.min(i(e,n),a(t,e)[n]):parseFloat(t);
},u=s._gsDefine.plugin({propName:"scrollTo",API:2,global:!0,version:"1.9.0",init:function(t,i,n){return this._wdw=t===e,this._target=t,this._tween=n,"object"!==("undefined"==typeof i?"undefined":(0,o["default"])(i))?(i={y:i},"string"==typeof i.y&&"max"!==i.y&&"="!==i.y.charAt(1)&&(i.x=i.y)):i.nodeType&&(i={y:i,x:i}),this.vars=i,this._autoKill=i.autoKill!==!1,this.getX=r(t,"x"),this.getY=r(t,"y"),this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=i.x?(this._addTween(this,"x",this.x,l(i.x,t,"x")-(i.offsetX||0),"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=i.y?(this._addTween(this,"y",this.y,l(i.y,t,"y")-(i.offsetY||0),"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var n=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,o=r-this.yPrev,s=n-this.xPrev,a=u.autoKillThreshold;this.x<0&&(this.x=0),this.y<0&&(this.y=0),this._autoKill&&(!this.skipX&&(s>a||s<-a)&&n<i(this._target,"x")&&(this.skipX=!0),!this.skipY&&(o>a||o<-a)&&r<i(this._target,"y")&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?n:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),c=u.prototype;u.max=i,u.getOffset=a,u.buildGetter=r,u.autoKillThreshold=7,c._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),s._gsDefine&&s._gsQueue.pop()(),function(i){var n=function(){return(s.GreenSockGlobals||s)[i]};"undefined"!=typeof e&&e.exports?(t("../TweenLite.js"),e.exports=n()):"function"==typeof define&&define.amd&&define(["TweenLite"],n)}("ScrollToPlugin")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":52,"babel-runtime/helpers/typeof":115}],55:[function(t,e,i){(function(i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/helpers/typeof"),o=n(r),s="undefined"!=typeof e&&e.exports&&"undefined"!=typeof i?i:window;(s._gsQueue||(s._gsQueue=[])).push(function(){s._gsDefine("utils.Draggable",["events.EventDispatcher","TweenLite","plugins.CSSPlugin"],function(t,e,i){var n,r,a,l,u,c,h,f,d,p={css:{}},g={css:{}},m={css:{}},v={css:{}},y=s._gsDefine.globals,_={},b={style:{}},x=s.document||{createElement:function(){return b}},w=x.documentElement||{},C=function(t){return x.createElementNS?x.createElementNS("http://www.w3.org/1999/xhtml",t):x.createElement(t)},E=C("div"),S=[],T=function(){return!1},I=180/Math.PI,k=999999999999999,P=Date.now||function(){return(new Date).getTime()},L=!(x.addEventListener||!x.all),O=x.createElement("div"),A=[],M={},R=0,N=/^(?:a|input|textarea|button|select)$/i,j=0,D=s.navigator&&s.navigator.userAgent.toLowerCase().indexOf("android")!==-1,F=0,z={},B={},V=function(t){if("string"==typeof t&&(t=e.selector(t)),!t||t.nodeType)return[t];var i,n=[],r=t.length;for(i=0;i!==r;n.push(t[i++]));return n},q=function(t,e){var i,n={};if(e)for(i in t)n[i]=t[i]*e;else for(i in t)n[i]=t[i];return n},U=function(){for(var t=A.length;--t>-1;)A[t]()},G=function(t){A.push(t),1===A.length&&e.ticker.addEventListener("tick",U,this,!1,1)},H=function(t){for(var i=A.length;--i>-1;)A[i]===t&&A.splice(i,1);e.to(X,0,{overwrite:"all",delay:15,onComplete:X})},X=function(){A.length||e.ticker.removeEventListener("tick",U)},W=function(t,e){var i;for(i in e)void 0===t[i]&&(t[i]=e[i]);return t},Y=function(){return null!=window.pageYOffset?window.pageYOffset:null!=x.scrollTop?x.scrollTop:w.scrollTop||x.body.scrollTop||0},$=function(){return null!=window.pageXOffset?window.pageXOffset:null!=x.scrollLeft?x.scrollLeft:w.scrollLeft||x.body.scrollLeft||0},Z=function Jt(t,e){Dt(t,"scroll",e),J(t.parentNode)||Jt(t.parentNode,e)},K=function Qt(t,e){Ft(t,"scroll",e),J(t.parentNode)||Qt(t.parentNode,e)},J=function(t){return!(t&&t!==w&&t!==x&&t!==x.body&&t!==window&&t.nodeType&&t.parentNode)},Q=function(t,e){var i="x"===e?"Width":"Height",n="scroll"+i,r="client"+i,o=x.body;return Math.max(0,J(t)?Math.max(w[n],o[n])-(window["inner"+i]||w[r]||o[r]):t[n]-t[r])},tt=function te(t){var e=J(t),i=Q(t,"x"),n=Q(t,"y");e?t=B:te(t.parentNode),t._gsMaxScrollX=i,t._gsMaxScrollY=n,t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0},et=function(t,e){return t=t||window.event,_.pageX=t.clientX+x.body.scrollLeft+w.scrollLeft,_.pageY=t.clientY+x.body.scrollTop+w.scrollTop,e&&(t.returnValue=!1),_},it=function(t){return t?("string"==typeof t&&(t=e.selector(t)),t.length&&t!==window&&t[0]&&t[0].style&&!t.nodeType&&(t=t[0]),t===window||t.nodeType&&t.style?t:null):t},nt=function(t,e){var i,r,o,s=t.style;if(void 0===s[e]){for(o=["O","Moz","ms","Ms","Webkit"],r=5,i=e.charAt(0).toUpperCase()+e.substr(1);--r>-1&&void 0===s[o[r]+i];);if(r<0)return"";n=3===r?"ms":o[r],e=n+i}return e},rt=function(t,e,i){var n=t.style;n&&(void 0===n[e]&&(e=nt(t,e)),null==i?n.removeProperty?n.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):n.removeAttribute(e):void 0!==n[e]&&(n[e]=i))},ot=x.defaultView?x.defaultView.getComputedStyle:T,st=/(?:Left|Right|Width)/i,at=/(?:\d|\-|\+|=|#|\.)*/g,lt=function ee(t,e,i,n,r){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var o,s=st.test(e),a=t,l=E.style,u=i<0;return u&&(i=-i),"%"===n&&e.indexOf("border")!==-1?o=i/100*(s?t.clientWidth:t.clientHeight):(l.cssText="border:0 solid red;position:"+ct(t,"position",!0)+";line-height:0;","%"!==n&&a.appendChild?l[s?"borderLeftWidth":"borderTopWidth"]=i+n:(a=t.parentNode||x.body,l[s?"width":"height"]=i+n),a.appendChild(E),o=parseFloat(E[s?"offsetWidth":"offsetHeight"]),a.removeChild(E),0!==o||r||(o=ee(t,e,i,n,!0))),u?-o:o},ut=function(t,e){if("absolute"!==ct(t,"position",!0))return 0;var i="left"===e?"Left":"Top",n=ct(t,"margin"+i,!0);return t["offset"+i]-(lt(t,e,parseFloat(n),(n+"").replace(at,""))||0)},ct=function(t,e,i){var n,r=(t._gsTransform||{})[e];return r||0===r?r:(t.style[e]?r=t.style[e]:(n=ot(t))?(r=n.getPropertyValue(e.replace(/([A-Z])/g,"-$1").toLowerCase()),r=r||n.length?r:n[e]):t.currentStyle&&(r=t.currentStyle[e]),"auto"!==r||"top"!==e&&"left"!==e||(r=ut(t,e)),i?r:parseFloat(r)||0)},ht=function(t,e,i){var n=t.vars,r=n[i],o=t._listeners[e];"function"==typeof r&&r.apply(n[i+"Scope"]||n.callbackScope||t,n[i+"Params"]||[t.pointerEvent]),o&&t.dispatchEvent(e)},ft=function(t,e){var i,n,r,o=it(t);return o?At(o,e):void 0!==t.left?(r=Tt(e),{left:t.left-r.x,top:t.top-r.y,width:t.width,height:t.height}):(n=t.min||t.minX||t.minRotation||0,i=t.min||t.minY||0,{left:n,top:i,width:(t.max||t.maxX||t.maxRotation||0)-n,height:(t.max||t.maxY||0)-i})},dt=function(){if(!x.createElementNS)return l=0,void(u=!1);var t,e,i,n,r=C("div"),o=x.createElementNS("http://www.w3.org/2000/svg","svg"),s=C("div"),a=r.style,d=x.body||w,p="flex"===ct(d,"display",!0);x.body&&mt&&(a.position="absolute",d.appendChild(s),s.appendChild(r),n=r.offsetParent,s.style[mt]="rotate(1deg)",f=r.offsetParent===n,s.style.position="absolute",a.height="10px",n=r.offsetTop,s.style.border="5px solid red",h=n!==r.offsetTop,d.removeChild(s)),a=o.style,o.setAttributeNS(null,"width","400px"),o.setAttributeNS(null,"height","400px"),o.setAttributeNS(null,"viewBox","0 0 400 400"),a.display="block",a.boxSizing="border-box",a.border="0px solid red",a.transform="none",r.style.cssText="width:100px;height:100px;overflow:scroll;-ms-overflow-style:none;",d.appendChild(r),r.appendChild(o),i=o.createSVGPoint().matrixTransform(o.getScreenCTM()),e=i.y,r.scrollTop=100,i.x=i.y=0,i=i.matrixTransform(o.getScreenCTM()),c=e-i.y<100.1?0:e-i.y-150,r.removeChild(o),d.removeChild(r),d.appendChild(o),p&&(d.style.display="block"),t=o.getScreenCTM(),e=t.e,a.border="50px solid red",t=o.getScreenCTM(),0===e&&0===t.e&&0===t.f&&1===t.a?(l=1,u=!0):(l=e!==t.e?1:0,u=1!==t.a),p&&(d.style.display="flex"),d.removeChild(o)},pt=""!==nt(E,"perspective"),gt=nt(E,"transformOrigin").replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),mt=nt(E,"transform"),vt=mt.replace(/^ms/g,"Ms").replace(/([A-Z])/g,"-$1").toLowerCase(),yt={},_t={},bt=s.SVGElement,xt=function(t){return!!(bt&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},wt=(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent))&&parseFloat(RegExp.$1)<11,Ct=[],Et=[],St=function ie(t){if(!t.getBoundingClientRect||!t.parentNode||!mt)return{offsetTop:0,offsetLeft:0,scaleX:1,scaleY:1,offsetParent:w};if(Wt.cacheSVGData!==!1&&t._dCache&&t._dCache.lastUpdate===e.ticker.frame)return t._dCache;var i,n,r,o,s,a,h,f,d,p,g,m,v=t,y=It(t);if(y.lastUpdate=e.ticker.frame,t.getBBox&&!y.isSVGRoot){for(v=t.parentNode,i=t.getBBox();v&&"svg"!==(v.nodeName+"").toLowerCase();)v=v.parentNode;return o=ie(v),y.offsetTop=i.y*o.scaleY,y.offsetLeft=i.x*o.scaleX,y.scaleX=o.scaleX,y.scaleY=o.scaleY,y.offsetParent=v||w,y}for(r=y.offsetParent,r===x.body&&(r=w),Et.length=Ct.length=0;v&&(s=ct(v,mt,!0),"matrix(1, 0, 0, 1, 0, 0)"!==s&&"none"!==s&&"translate3d(0px, 0px, 0px)"!==s&&(Et.push(v),Ct.push(v.style[mt]),v.style[mt]="none"),v!==r);)v=v.parentNode;for(n=r.getBoundingClientRect(),s=t.getScreenCTM(),f=t.createSVGPoint(),h=f.matrixTransform(s),f.x=f.y=10,f=f.matrixTransform(s),y.scaleX=(f.x-h.x)/10,y.scaleY=(f.y-h.y)/10,void 0===l&&dt(),y.borderBox&&!u&&t.getAttribute("width")&&(o=ot(t)||{},d=parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth)||0,p=parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)||0,g=parseFloat(o.width)||0,m=parseFloat(o.height)||0,y.scaleX*=(g-d)/g,y.scaleY*=(m-p)/m),c?(i=t.getBoundingClientRect(),y.offsetLeft=i.left-n.left,y.offsetTop=i.top-n.top):(y.offsetLeft=h.x-n.left,y.offsetTop=h.y-n.top),y.offsetParent=r,a=Et.length;--a>-1;)Et[a].style[mt]=Ct[a];return y},Tt=function(t,i){if(i=i||{},!t||t===w||!t.parentNode||t===window)return{x:0,y:0};var n=ot(t),r=gt&&n?n.getPropertyValue(gt):"50% 50%",o=r.split(" "),s=r.indexOf("left")!==-1?"0%":r.indexOf("right")!==-1?"100%":o[0],a=r.indexOf("top")!==-1?"0%":r.indexOf("bottom")!==-1?"100%":o[1];return"center"!==a&&null!=a||(a="50%"),("center"===s||isNaN(parseFloat(s)))&&(s="50%"),t.getBBox&&xt(t)?(t._gsTransform||(e.set(t,{x:"+=0",overwrite:!1}),void 0===t._gsTransform.xOrigin&&void 0),r=t.getBBox(),i.x=t._gsTransform.xOrigin-r.x,i.y=t._gsTransform.yOrigin-r.y):(t.getBBox&&(s+a).indexOf("%")!==-1&&(t=t.getBBox(),t={offsetWidth:t.width,offsetHeight:t.height}),i.x=s.indexOf("%")!==-1?t.offsetWidth*parseFloat(s)/100:parseFloat(s),i.y=a.indexOf("%")!==-1?t.offsetHeight*parseFloat(a)/100:parseFloat(a)),i},It=function(t){if(Wt.cacheSVGData!==!1&&t._dCache&&t._dCache.lastUpdate===e.ticker.frame)return t._dCache;var i,n=t._dCache=t._dCache||{},r=ot(t),o=t.getBBox&&xt(t),s="svg"===(t.nodeName+"").toLowerCase();if(n.isSVG=o,n.isSVGRoot=s,n.borderBox="border-box"===r.boxSizing,n.computedStyle=r,s)i=t.parentNode||w,i.insertBefore(E,t),n.offsetParent=E.offsetParent||w,i.removeChild(E);else if(o){for(i=t.parentNode;i&&"svg"!==(i.nodeName+"").toLowerCase();)i=i.parentNode;n.offsetParent=i}else n.offsetParent=t.offsetParent;return n},kt=function ne(t,e,i,n,r){if(t===window||!t||!t.style||!t.parentNode)return[1,0,0,1,0,0];var o,s,a,u,c,d,p,g,m,v,y,_,b,C,E=t._dCache||It(t),S=t.parentNode,T=S._dCache||It(S),I=E.computedStyle,k=E.isSVG?T.offsetParent:S.offsetParent;return o=E.isSVG&&(t.style[mt]+"").indexOf("matrix")!==-1?t.style[mt]:I?I.getPropertyValue(vt):t.currentStyle?t.currentStyle[mt]:"1,0,0,1,0,0",t.getBBox&&(t.getAttribute("transform")+"").indexOf("matrix")!==-1&&(o=t.getAttribute("transform")),o=(o+"").match(/(?:\-|\.|\b)(\d|\.|e\-)+/g)||[1,0,0,1,0,0],o.length>6&&(o=[o[0],o[1],o[4],o[5],o[12],o[13]]),n?o[4]=o[5]=0:E.isSVG&&(c=t._gsTransform)&&(c.xOrigin||c.yOrigin)&&(o[0]=parseFloat(o[0]),o[1]=parseFloat(o[1]),o[2]=parseFloat(o[2]),o[3]=parseFloat(o[3]),o[4]=parseFloat(o[4])-(c.xOrigin-(c.xOrigin*o[0]+c.yOrigin*o[2])),o[5]=parseFloat(o[5])-(c.yOrigin-(c.xOrigin*o[1]+c.yOrigin*o[3]))),e&&(void 0===l&&dt(),a=E.isSVG||E.isSVGRoot?St(t):t,E.isSVG?(u=t.getBBox(),v=T.isSVGRoot?{x:0,y:0}:S.getBBox(),a={offsetLeft:u.x-v.x,offsetTop:u.y-v.y,offsetParent:E.offsetParent}):E.isSVGRoot?(y=parseInt(I.borderTopWidth,10)||0,_=parseInt(I.borderLeftWidth,10)||0,b=(o[0]-l)*_+o[2]*y,C=o[1]*_+(o[3]-l)*y,d=e.x,p=e.y,g=d-(d*o[0]+p*o[2]),m=p-(d*o[1]+p*o[3]),o[4]=parseFloat(o[4])+g,o[5]=parseFloat(o[5])+m,e.x-=g,e.y-=m,d=a.scaleX,p=a.scaleY,r||(e.x*=d,e.y*=p),o[0]*=d,o[1]*=p,o[2]*=d,o[3]*=p,wt||(e.x+=b,e.y+=C),k===x.body&&a.offsetParent===w&&(k=w)):!h&&t.offsetParent&&(e.x+=parseInt(ct(t.offsetParent,"borderLeftWidth"),10)||0,e.y+=parseInt(ct(t.offsetParent,"borderTopWidth"),10)||0),s=S===w||S===x.body,o[4]=Number(o[4])+e.x+(a.offsetLeft||0)-i.x-(s?0:S.scrollLeft||0),o[5]=Number(o[5])+e.y+(a.offsetTop||0)-i.y-(s?0:S.scrollTop||0),S&&"fixed"===ct(t,"position",I)&&(o[4]+=$(),o[5]+=Y()),!S||S===w||k!==a.offsetParent||T.isSVG||f&&"100100"!==ne(S).join("")||(a=T.isSVGRoot?St(S):S,o[4]-=a.offsetLeft||0,o[5]-=a.offsetTop||0,h||!T.offsetParent||E.isSVG||E.isSVGRoot||(o[4]-=parseInt(ct(T.offsetParent,"borderLeftWidth"),10)||0,o[5]-=parseInt(ct(T.offsetParent,"borderTopWidth"),10)||0))),o},Pt=function(t,e){if(!t||t===window||!t.parentNode)return[1,0,0,1,0,0];for(var i,n,r,o,s,a,l,u,c=Tt(t,yt),h=Tt(t.parentNode,_t),f=kt(t,c,h,!1,!0);(t=t.parentNode)&&t.parentNode&&t!==w;)c=h,h=Tt(t.parentNode,c===yt?_t:yt),l=kt(t,c,h),i=f[0],n=f[1],r=f[2],o=f[3],s=f[4],a=f[5],f[0]=i*l[0]+n*l[2],f[1]=i*l[1]+n*l[3],f[2]=r*l[0]+o*l[2],f[3]=r*l[1]+o*l[3],f[4]=s*l[0]+a*l[2]+l[4],f[5]=s*l[1]+a*l[3]+l[5];return e&&(i=f[0],n=f[1],r=f[2],o=f[3],s=f[4],a=f[5],u=i*o-n*r,f[0]=o/u,f[1]=-n/u,f[2]=-r/u,f[3]=i/u,f[4]=(r*a-o*s)/u,f[5]=-(i*a-n*s)/u),f},Lt=function(t,e,i,n,r){t=it(t);var o=Pt(t,!1,r),s=e.x,a=e.y;return i&&(Tt(t,e),s-=e.x,a-=e.y),n=n===!0?e:n||{},n.x=s*o[0]+a*o[2]+o[4],n.y=s*o[1]+a*o[3]+o[5],n},Ot=function(t,e,i){var n=t.x*e[0]+t.y*e[2]+e[4],r=t.x*e[1]+t.y*e[3]+e[5];return t.x=n*i[0]+r*i[2]+i[4],t.y=n*i[1]+r*i[3]+i[5],t},At=function(t,e,i){if(!(t=it(t)))return null;e=it(e);var n,r,o,s,a,l,u,c,h,f,d,p,g,m,v,y,_,b,C,E,S,T,I=t.getBBox&&xt(t);if(t===window)s=Y(),r=$(),o=r+(w.clientWidth||t.innerWidth||x.body.clientWidth||0),a=s+((t.innerHeight||0)-20<w.clientHeight?w.clientHeight:t.innerHeight||x.body.clientHeight||0);else{if(void 0===e||e===window)return t.getBoundingClientRect();n=Tt(t),r=-n.x,s=-n.y,I?(p=t.getBBox(),g=p.width,m=p.height):"svg"!==(t.nodeName+"").toLowerCase()&&t.offsetWidth?(g=t.offsetWidth,m=t.offsetHeight):(S=ot(t),g=parseFloat(S.width),m=parseFloat(S.height)),o=r+g,a=s+m,"svg"!==t.nodeName.toLowerCase()||L||(v=St(t),T=v.computedStyle||{},b=(t.getAttribute("viewBox")||"0 0").split(" "),C=parseFloat(b[0]),E=parseFloat(b[1]),y=parseFloat(T.borderLeftWidth)||0,_=parseFloat(T.borderTopWidth)||0,o-=g-(g-y)/v.scaleX-C,a-=m-(m-_)/v.scaleY-E,r-=y/v.scaleX-C,s-=_/v.scaleY-E,S&&(o+=(parseFloat(T.borderRightWidth)+y)/v.scaleX,a+=(_+parseFloat(T.borderBottomWidth))/v.scaleY))}return t===e?{left:r,top:s,width:o-r,height:a-s}:(l=Pt(t),u=Pt(e,!0),c=Ot({x:r,y:s},l,u),h=Ot({x:o,y:s},l,u),f=Ot({x:o,y:a},l,u),d=Ot({x:r,y:a},l,u),r=Math.min(c.x,h.x,f.x,d.x),s=Math.min(c.y,h.y,f.y,d.y),z.x=z.y=0,i&&Tt(e,z),{left:r+z.x,top:s+z.y,width:Math.max(c.x,h.x,f.x,d.x)-r,height:Math.max(c.y,h.y,f.y,d.y)-s})},Mt=function(t){return!!(t&&t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},Rt=function(t){var e,i,n,r=[],o=t.length;for(e=0;e<o;e++)if(i=t[e],Mt(i))for(n=i.length,n=0;n<i.length;n++)r.push(i[n]);else i&&0!==i.length&&r.push(i);return r},Nt="ontouchstart"in w&&"orientation"in window,jt=function(t){for(var e=t.split(","),i=(void 0!==E.onpointerdown?"pointerdown,pointermove,pointerup,pointercancel":void 0!==E.onmspointerdown?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":t).split(","),n={},r=8;--r>-1;)n[e[r]]=i[r],n[i[r]]=e[r];return n}("touchstart,touchmove,touchend,touchcancel"),Dt=function(t,e,i,n){t.addEventListener?t.addEventListener(jt[e]||e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},Ft=function(t,e,i){t.removeEventListener?t.removeEventListener(jt[e]||e,i):t.detachEvent&&t.detachEvent("on"+e,i)},zt=function(t,e){for(var i=t.length;--i>-1;)if(t[i].identifier===e)return!0;return!1},Bt=function re(t){r=t.touches&&j<t.touches.length,Ft(t.target,"touchend",re)},Vt=function(t){r=t.touches&&j<t.touches.length,Dt(t.target,"touchend",Bt)},qt=function(t,e,i,n,r,s){var a,l,u,c={};if(e)if(1!==r&&e instanceof Array){if(c.end=a=[],u=e.length,"object"===(0,o["default"])(e[0]))for(l=0;l<u;l++)a[l]=q(e[l],r);else for(l=0;l<u;l++)a[l]=e[l]*r;i+=1.1,n-=1.1}else"function"==typeof e?c.end=function(i){var n,s,a=e.call(t,i);if(1!==r&&"object"===("undefined"==typeof a?"undefined":(0,o["default"])(a))){n={};for(s in a)n[s]=a[s]*r;a=n}return a}:c.end=e;return(i||0===i)&&(c.max=i),(n||0===n)&&(c.min=n),s&&(c.velocity=0),c},Ut=function oe(t){var e;return!(!t||!t.getAttribute||"BODY"===t.nodeName)&&(!("true"!==(e=t.getAttribute("data-clickable"))&&("false"===e||!t.onclick&&!N.test(t.nodeName+"")&&"true"!==t.getAttribute("contentEditable")))||oe(t.parentNode))},Gt=function(t,e){for(var i,n=t.length;--n>-1;)i=t[n],i.ondragstart=i.onselectstart=e?null:T,rt(i,"userSelect",e?"text":"none")},Ht=function(){var t,e=x.createElement("div"),i=x.createElement("div"),n=i.style,r=x.body||E;return n.display="inline-block",n.position="relative",e.style.cssText=i.innerHTML="width:90px; height:40px; padding:10px; overflow:auto; visibility: hidden",e.appendChild(i),r.appendChild(e),d=i.offsetHeight+18>e.scrollHeight,n.width="100%",mt||(n.paddingRight="500px",t=e.scrollLeft=e.scrollWidth-e.clientWidth,n.left="-90px",t=t!==e.scrollLeft),r.removeChild(e),t}(),Xt=function(t,i){t=it(t),i=i||{};var n,r,o,s,a,l,u=x.createElement("div"),c=u.style,h=t.firstChild,f=0,p=0,g=t.scrollTop,m=t.scrollLeft,v=t.scrollWidth,y=t.scrollHeight,_=0,b=0,w=0;pt&&i.force3D!==!1?(a="translate3d(",l="px,0px)"):mt&&(a="translate(",l="px)"),this.scrollTop=function(t,e){return arguments.length?void this.top(-t,e):-this.top()},this.scrollLeft=function(t,e){return arguments.length?void this.left(-t,e):-this.left()},this.left=function(n,r){if(!arguments.length)return-(t.scrollLeft+p);var o=t.scrollLeft-m,s=p;return(o>2||o<-2)&&!r?(m=t.scrollLeft,e.killTweensOf(this,!0,{left:1,scrollLeft:1}),this.left(-m),void(i.onKill&&i.onKill())):(n=-n,n<0?(p=n-.5|0,n=0):n>b?(p=n-b|0,n=b):p=0,(p||s)&&(a?this._suspendTransforms||(c[mt]=a+-p+"px,"+-f+l):c.left=-p+"px",Ht&&p+_>=0&&(c.paddingRight=p+_+"px")),t.scrollLeft=0|n,void(m=t.scrollLeft))},this.top=function(n,r){if(!arguments.length)return-(t.scrollTop+f);var o=t.scrollTop-g,s=f;return(o>2||o<-2)&&!r?(g=t.scrollTop,e.killTweensOf(this,!0,{top:1,scrollTop:1}),this.top(-g),void(i.onKill&&i.onKill())):(n=-n,n<0?(f=n-.5|0,n=0):n>w?(f=n-w|0,n=w):f=0,(f||s)&&(a?this._suspendTransforms||(c[mt]=a+-p+"px,"+-f+l):c.top=-f+"px"),t.scrollTop=0|n,void(g=t.scrollTop))},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return b},this.disable=function(){for(h=u.firstChild;h;)s=h.nextSibling,t.appendChild(h),h=s;t===u.parentNode&&t.removeChild(u)},this.enable=function(){if(h=t.firstChild,h!==u){for(;h;)s=h.nextSibling,u.appendChild(h),h=s;t.appendChild(u),this.calibrate()}},this.calibrate=function(e){var i,s,a=t.clientWidth===n;g=t.scrollTop,m=t.scrollLeft,a&&t.clientHeight===r&&u.offsetHeight===o&&v===t.scrollWidth&&y===t.scrollHeight&&!e||((f||p)&&(i=this.left(),s=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),a&&!e||(c.display="block",c.width="auto",c.paddingRight="0px",_=Math.max(0,t.scrollWidth-t.clientWidth),_&&(_+=ct(t,"paddingLeft")+(d?ct(t,"paddingRight"):0))),c.display="inline-block",c.position="relative",c.overflow="visible",c.verticalAlign="top",c.width="100%",c.paddingRight=_+"px",d&&(c.paddingBottom=ct(t,"paddingBottom",!0)),L&&(c.zoom="1"),n=t.clientWidth,r=t.clientHeight,v=t.scrollWidth,y=t.scrollHeight,b=t.scrollWidth-n,w=t.scrollHeight-r,o=u.offsetHeight,c.display="block",(i||s)&&(this.left(i),this.top(s)))},this.content=u,this.element=t,this._suspendTransforms=!1,this.enable()},Wt=function se(n,s){t.call(this,n),n=it(n),a||(a=y.com.greensock.plugins.ThrowPropsPlugin),this.vars=s=q(s||{}),this.target=n,this.x=this.y=this.rotation=0,this.dragResistance=parseFloat(s.dragResistance)||0,this.edgeResistance=isNaN(s.edgeResistance)?1:parseFloat(s.edgeResistance)||0,this.lockAxis=s.lockAxis,this.autoScroll=s.autoScroll||0,this.lockedAxis=null,this.allowEventDefault=!!s.allowEventDefault;var l,u,c,h,f,d,_,b,C,E,T,A,N,U,X,Y,$,Q,nt,ot,st,at,lt,ut,dt,pt,gt,mt,vt,yt,_t,bt,wt,Ct,Et=(s.type||(L?"top,left":"x,y")).toLowerCase(),St=Et.indexOf("x")!==-1||Et.indexOf("y")!==-1,Tt=Et.indexOf("rotation")!==-1,It=Tt?"rotation":St?"x":"left",kt=St?"y":"top",Ot=Et.indexOf("x")!==-1||Et.indexOf("left")!==-1||"scroll"===Et,At=Et.indexOf("y")!==-1||Et.indexOf("top")!==-1||"scroll"===Et,Mt=s.minimumMovement||2,Rt=this,Bt=V(s.trigger||s.handle||n),Ht={},Wt=0,Yt=!1,$t=s.clickableTest||Ut,Zt=0,Jt=function(t){return Rt.isPressed&&t.which<2?void Rt.endDrag():(t.preventDefault(),t.stopPropagation(),!1)},Qt=function(t){if(Rt.autoScroll&&Rt.isDragging&&(Yt||Q)){var e,i,r,o,s,a,l,c,h=n,f=15*Rt.autoScroll;for(Yt=!1,B.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=w.scrollTop?w.scrollTop:x.body.scrollTop,B.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=w.scrollLeft?w.scrollLeft:x.body.scrollLeft,o=Rt.pointerX-B.scrollLeft,s=Rt.pointerY-B.scrollTop;h&&!i;)i=J(h.parentNode),e=i?B:h.parentNode,r=i?{bottom:Math.max(w.clientHeight,window.innerHeight||0),right:Math.max(w.clientWidth,window.innerWidth||0),left:0,top:0}:e.getBoundingClientRect(),a=l=0,At&&(c=e._gsMaxScrollY-e.scrollTop,c<0?l=c:s>r.bottom-40&&c?(Yt=!0,l=Math.min(c,f*(1-Math.max(0,r.bottom-s)/40)|0)):s<r.top+40&&e.scrollTop&&(Yt=!0,l=-Math.min(e.scrollTop,f*(1-Math.max(0,s-r.top)/40)|0)),l&&(e.scrollTop+=l)),Ot&&(c=e._gsMaxScrollX-e.scrollLeft,c<0?a=c:o>r.right-40&&c?(Yt=!0,a=Math.min(c,f*(1-Math.max(0,r.right-o)/40)|0)):o<r.left+40&&e.scrollLeft&&(Yt=!0,a=-Math.min(e.scrollLeft,f*(1-Math.max(0,o-r.left)/40)|0)),a&&(e.scrollLeft+=a)),i&&(a||l)&&(window.scrollTo(e.scrollLeft,e.scrollTop),pe(Rt.pointerX+a,Rt.pointerY+l)),h=e}if(Q){var d=Rt.x,p=Rt.y,g=1e-6;d<g&&d>-g&&(d=0),p<g&&p>-g&&(p=0),Tt?(Rt.deltaX=d-vt.data.rotation,vt.data.rotation=Rt.rotation=d,vt.setRatio(1)):u?(At&&(Rt.deltaY=p-u.top(),u.top(p)),Ot&&(Rt.deltaX=d-u.left(),u.left(d))):St?(At&&(Rt.deltaY=p-vt.data.y,vt.data.y=p),Ot&&(Rt.deltaX=d-vt.data.x,vt.data.x=d),vt.setRatio(1)):(At&&(Rt.deltaY=p-parseFloat(n.style.top||0),n.style.top=p+"px"),Ot&&(Rt.deltaY=d-parseFloat(n.style.left||0),n.style.left=d+"px")),!b||t||bt||(bt=!0,ht(Rt,"drag","onDrag"),bt=!1)}Q=!1},te=function(t,i){var r,o=Rt.x,s=Rt.y;n._gsTransform||!St&&!Tt||e.set(n,{x:"+=0",overwrite:!1}),St?(Rt.y=n._gsTransform.y,Rt.x=n._gsTransform.x):Tt?Rt.x=Rt.rotation=n._gsTransform.rotation:u?(Rt.y=u.top(),Rt.x=u.left()):(Rt.y=parseInt(n.style.top,10)||0,Rt.x=parseInt(n.style.left,10)||0),(ot||st||at)&&!i&&(Rt.isDragging||Rt.isThrowing)&&(at&&(z.x=Rt.x,z.y=Rt.y,r=at(z),r.x!==Rt.x&&(Rt.x=r.x,Q=!0),r.y!==Rt.y&&(Rt.y=r.y,Q=!0)),ot&&(r=ot(Rt.x),r!==Rt.x&&(Rt.x=r,Tt&&(Rt.rotation=r),Q=!0)),st&&(r=st(Rt.y),r!==Rt.y&&(Rt.y=r),Q=!0)),Q&&Qt(!0),t||(Rt.deltaX=Rt.x-o,Rt.deltaY=Rt.y-s,ht(Rt,"throwupdate","onThrowUpdate"))},ee=function(){var t,e,i,r;_=!1,u?(u.calibrate(),Rt.minX=E=-u.maxScrollLeft(),Rt.minY=A=-u.maxScrollTop(),Rt.maxX=C=Rt.maxY=T=0,_=!0):s.bounds&&(t=ft(s.bounds,n.parentNode),Tt?(Rt.minX=E=t.left,Rt.maxX=C=t.left+t.width,Rt.minY=A=Rt.maxY=T=0):void 0!==s.bounds.maxX||void 0!==s.bounds.maxY?(t=s.bounds,Rt.minX=E=t.minX,Rt.minY=A=t.minY,Rt.maxX=C=t.maxX,Rt.maxY=T=t.maxY):(e=ft(n,n.parentNode),Rt.minX=E=ct(n,It)+t.left-e.left,Rt.minY=A=ct(n,kt)+t.top-e.top,Rt.maxX=C=E+(t.width-e.width),Rt.maxY=T=A+(t.height-e.height)),E>C&&(Rt.minX=C,Rt.maxX=C=E,E=Rt.minX),A>T&&(Rt.minY=T,Rt.maxY=T=A,A=Rt.minY),Tt&&(Rt.minRotation=E,Rt.maxRotation=C),_=!0),s.liveSnap&&(i=s.liveSnap===!0?s.snap||{}:s.liveSnap,r=i instanceof Array||"function"==typeof i,Tt?(ot=ce(r?i:i.rotation,E,C,1),st=null):i.points?at=he(r?i:i.points,E,C,A,T,i.radius,u?-1:1):(Ot&&(ot=ce(r?i:i.x||i.left||i.scrollLeft,E,C,u?-1:1)),At&&(st=ce(r?i:i.y||i.top||i.scrollTop,A,T,u?-1:1))))},ie=function(){Rt.isThrowing=!1,ht(Rt,"throwcomplete","onThrowComplete")},ne=function(){Rt.isThrowing=!1},re=function(t,e){var i,r,l,c;t&&a?(t===!0&&(i=s.snap||s.liveSnap||{},r=i instanceof Array||"function"==typeof i,t={resistance:(s.throwResistance||s.resistance||1e3)/(Tt?10:1)},Tt?t.rotation=qt(Rt,r?i:i.rotation,C,E,1,e):(Ot&&(t[It]=qt(Rt,r?i:i.points||i.x||i.left||i.scrollLeft,C,E,u?-1:1,e||"x"===Rt.lockedAxis)),At&&(t[kt]=qt(Rt,r?i:i.points||i.y||i.top||i.scrollTop,T,A,u?-1:1,e||"y"===Rt.lockedAxis)),(i.points||i instanceof Array&&"object"===(0,o["default"])(i[0]))&&(t.linkedProps=It+","+kt,t.radius=i.radius))),Rt.isThrowing=!0,c=isNaN(s.overshootTolerance)?1===s.edgeResistance?0:1-Rt.edgeResistance+.2:s.overshootTolerance,Rt.tween=l=a.to(u||n,{throwProps:t,ease:s.ease||y.Power3.easeOut,onComplete:ie,onOverwrite:ne,onUpdate:s.fastMode?ht:te,onUpdateParams:s.fastMode?[Rt,"onthrowupdate","onThrowUpdate"]:i&&i.radius?[!1,!0]:S},isNaN(s.maxDuration)?2:s.maxDuration,isNaN(s.minDuration)?0===c||"object"===("undefined"==typeof t?"undefined":(0,o["default"])(t))&&t.resistance>1e3?0:.5:s.minDuration,c),s.fastMode||(u&&(u._suspendTransforms=!0),l.render(l.duration(),!0,!0),te(!0,!0),Rt.endX=Rt.x,Rt.endY=Rt.y,Tt&&(Rt.endRotation=Rt.x),l.play(0),te(!0,!0),u&&(u._suspendTransforms=!1))):_&&Rt.applyBounds()},oe=function(t){var e,i,r,o,s,a,l,u,f,d=dt||[1,0,0,1,0,0];dt=Pt(n.parentNode,!0),t&&Rt.isPressed&&d.join(",")!==dt.join(",")&&(e=d[0],i=d[1],r=d[2],o=d[3],s=d[4],a=d[5],l=e*o-i*r,u=c*(o/l)+h*(-r/l)+(r*a-o*s)/l,f=c*(-i/l)+h*(e/l)+-(e*a-i*s)/l,h=u*dt[1]+f*dt[3]+dt[5],c=u*dt[0]+f*dt[2]+dt[4]),dt[1]||dt[2]||1!=dt[0]||1!=dt[3]||0!=dt[4]||0!=dt[5]||(dt=null)},ae=function(){var t=1-Rt.edgeResistance;oe(!1),dt&&(c=Rt.pointerX*dt[0]+Rt.pointerY*dt[2]+dt[4],h=Rt.pointerX*dt[1]+Rt.pointerY*dt[3]+dt[5]),Q&&(pe(Rt.pointerX,Rt.pointerY),Qt(!0)),u?(ee(),d=u.top(),f=u.left()):(le()?(te(!0,!0),ee()):Rt.applyBounds(),Tt?($=Rt.rotationOrigin=Lt(n,{x:0,y:0}),te(!0,!0),f=Rt.x,d=Rt.y=Math.atan2($.y-Rt.pointerY,Rt.pointerX-$.x)*I):(gt=n.parentNode?n.parentNode.scrollTop||0:0,mt=n.parentNode?n.parentNode.scrollLeft||0:0,d=ct(n,kt),f=ct(n,It))),_&&t&&(f>C?f=C+(f-C)/t:f<E&&(f=E-(E-f)/t),Tt||(d>T?d=T+(d-T)/t:d<A&&(d=A-(A-d)/t))),Rt.startX=f,Rt.startY=d},le=function(){return Rt.tween&&Rt.tween.isActive()},ue=function(){!O.parentNode||le()||Rt.isDragging||O.parentNode.removeChild(O)},ce=function(t,e,i,n){return"function"==typeof t?function(r){var o=Rt.isPressed?1-Rt.edgeResistance:1;return t.call(Rt,r>i?i+(r-i)*o:r<e?e+(r-e)*o:r)*n}:t instanceof Array?function(n){for(var r,o,s=t.length,a=0,l=k;--s>-1;)r=t[s],o=r-n,o<0&&(o=-o),o<l&&r>=e&&r<=i&&(a=s,l=o);return t[a]}:isNaN(t)?function(t){return t}:function(){return t*n}},he=function(t,e,i,n,r,o,s){return o=o&&o<k?o*o:k,"function"==typeof t?function(a){var l,u,c,h=Rt.isPressed?1-Rt.edgeResistance:1,f=a.x,d=a.y;return a.x=f=f>i?i+(f-i)*h:f<e?e+(f-e)*h:f,a.y=d=d>r?r+(d-r)*h:d<n?n+(d-n)*h:d,l=t.call(Rt,a),l!==a&&(a.x=l.x,a.y=l.y),1!==s&&(a.x*=s,a.y*=s),o<k&&(u=a.x-f,c=a.y-d,u*u+c*c>o&&(a.x=f,a.y=d)),a}:t instanceof Array?function(e){for(var i,n,r,s,a=t.length,l=0,u=k;--a>-1;)r=t[a],i=r.x-e.x,n=r.y-e.y,s=i*i+n*n,s<u&&(l=a,u=s);return u<=o?t[l]:e}:function(t){return t}},fe=function(t){var i;if(!(!l||Rt.isPressed||!t||("mousedown"===t.type||"pointerdown"===t.type)&&P()-Zt<30&&jt[Rt.pointerEvent.type])){if(pt=le(),Rt.pointerEvent=t,jt[t.type]?(ut=t.type.indexOf("touch")!==-1?t.currentTarget||t.target:x,Dt(ut,"touchend",ge),Dt(ut,"touchmove",de),Dt(ut,"touchcancel",ge),Dt(x,"touchstart",Vt)):(ut=null,Dt(x,"mousemove",de)),_t=null,Dt(x,"mouseup",ge),t&&t.target&&Dt(t.target,"mouseup",ge),lt=$t.call(Rt,t.target)&&!s.dragClickables)return Dt(t.target,"change",ge),ht(Rt,"press","onPress"),void Gt(Bt,!0);if(yt=!(!ut||Ot===At||Rt.vars.allowNativeTouchScrolling===!1)&&(Ot?"y":"x"),L?t=et(t,!0):yt||Rt.allowEventDefault||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()),t.changedTouches?(t=X=t.changedTouches[0],Y=t.identifier):t.pointerId?Y=t.pointerId:X=Y=null,j++,G(Qt),h=Rt.pointerY=t.pageY,c=Rt.pointerX=t.pageX,(yt||Rt.autoScroll)&&tt(n.parentNode),n.parentNode&&(u||Rt.autoScroll&&!Tt&&n.parentNode._gsMaxScrollX&&!O.parentNode)&&!n.getBBox&&(O.style.width=n.parentNode.scrollWidth+"px",n.parentNode.appendChild(O)),ae(),Rt.tween&&Rt.tween.kill(),Rt.isThrowing=!1,e.killTweensOf(u||n,!0,Ht),u&&e.killTweensOf(n,!0,{scrollTo:1}),Rt.tween=Rt.lockedAxis=null,(s.zIndexBoost||!Tt&&!u&&s.zIndexBoost!==!1)&&(n.style.zIndex=se.zIndex++),Rt.isPressed=!0,b=!(!s.onDrag&&!Rt._listeners.drag),!Tt)for(i=Bt.length;--i>-1;)rt(Bt[i],"cursor",s.cursor||"move");ht(Rt,"press","onPress")}},de=function(t){var e,i,n,o,s,a,u=t;if(l&&!r&&Rt.isPressed&&t){if(Rt.pointerEvent=t,e=t.changedTouches){if(t=e[0],t!==X&&t.identifier!==Y){for(o=e.length;--o>-1&&(t=e[o]).identifier!==Y;);if(o<0)return}}else if(t.pointerId&&Y&&t.pointerId!==Y)return;if(L)t=et(t,!0);else{if(ut&&yt&&!_t&&(i=t.pageX,n=t.pageY,dt&&(o=i*dt[0]+n*dt[2]+dt[4],n=i*dt[1]+n*dt[3]+dt[5],i=o),s=Math.abs(i-c),a=Math.abs(n-h),(s!==a&&(s>Mt||a>Mt)||D&&yt===_t)&&(_t=s>a&&Ot?"x":"y",Rt.vars.lockAxisOnTouchScroll!==!1&&(Rt.lockedAxis="x"===_t?"y":"x","function"==typeof Rt.vars.onLockAxis&&Rt.vars.onLockAxis.call(Rt,u)),D&&yt===_t)))return void ge(u);Rt.allowEventDefault||yt&&(!_t||yt===_t)||u.cancelable===!1||(u.preventDefault(),u.preventManipulation&&u.preventManipulation())}Rt.autoScroll&&(Yt=!0),pe(t.pageX,t.pageY)}},pe=function(t,e){var i,n,r,o,s,a,l=1-Rt.dragResistance,u=1-Rt.edgeResistance;Rt.pointerX=t,Rt.pointerY=e,Tt?(o=Math.atan2($.y-e,t-$.x)*I,s=Rt.y-o,Rt.y=o,s>180?d-=360:s<-180&&(d+=360),r=f+(d-o)*l):(dt&&(a=t*dt[0]+e*dt[2]+dt[4],e=t*dt[1]+e*dt[3]+dt[5],t=a),n=e-h,i=t-c,n<Mt&&n>-Mt&&(n=0),i<Mt&&i>-Mt&&(i=0),(Rt.lockAxis||Rt.lockedAxis)&&(i||n)&&(a=Rt.lockedAxis,a||(Rt.lockedAxis=a=Ot&&Math.abs(i)>Math.abs(n)?"y":At?"x":null,a&&"function"==typeof Rt.vars.onLockAxis&&Rt.vars.onLockAxis.call(Rt,Rt.pointerEvent)),"y"===a?n=0:"x"===a&&(i=0)),r=f+i*l,o=d+n*l),(ot||st||at)&&(Rt.x!==r||Rt.y!==o&&!Tt)?(at&&(z.x=r,z.y=o,a=at(z),r=a.x,o=a.y),ot&&(r=ot(r)),st&&(o=st(o))):_&&(r>C?r=C+(r-C)*u:r<E&&(r=E+(r-E)*u),Tt||(o>T?o=T+(o-T)*u:o<A&&(o=A+(o-A)*u))),Tt||dt||(r=Math.round(r),o=Math.round(o)),(Rt.x!==r||Rt.y!==o&&!Tt)&&(Tt?(Rt.endRotation=Rt.x=Rt.endX=r,Q=!0):(At&&(Rt.y=Rt.endY=o,Q=!0),Ot&&(Rt.x=Rt.endX=r,Q=!0)),!Rt.isDragging&&Rt.isPressed&&(Rt.isDragging=!0,ht(Rt,"dragstart","onDragStart")))},ge=function ye(t,i){if(l&&Rt.isPressed&&(!t||null==Y||i||!(t.pointerId&&t.pointerId!==Y||t.changedTouches&&!zt(t.changedTouches,Y)))){Rt.isPressed=!1;var r,o,a,u,c,h=t,f=Rt.isDragging,d=e.delayedCall(.001,ue);if(ut?(Ft(ut,"touchend",ye),Ft(ut,"touchmove",de),Ft(ut,"touchcancel",ye),Ft(x,"touchstart",Vt)):Ft(x,"mousemove",de),Ft(x,"mouseup",ye),t&&t.target&&Ft(t.target,"mouseup",ye),Q=!1,lt)return t&&Ft(t.target,"change",ye),Gt(Bt,!1),ht(Rt,"release","onRelease"),ht(Rt,"click","onClick"),void(lt=!1);if(H(Qt),!Tt)for(o=Bt.length;--o>-1;)rt(Bt[o],"cursor",s.cursor||"move");if(f&&(Wt=F=P(),Rt.isDragging=!1),j--,t){if(L&&(t=et(t,!1)),r=t.changedTouches,r&&(t=r[0],t!==X&&t.identifier!==Y)){for(o=r.length;--o>-1&&(t=r[o]).identifier!==Y;);if(o<0)return}Rt.pointerEvent=h,Rt.pointerX=t.pageX,Rt.pointerY=t.pageY}return h&&!f?(pt&&(s.snap||s.bounds)&&re(s.throwProps),ht(Rt,"release","onRelease"),D&&"touchmove"===h.type||(ht(Rt,"click","onClick"),
u=h.target||h.srcElement||n,Zt=P(),c=function(){Zt!==wt&&Rt.enabled()&&!Rt.isPressed&&(u.click?u.click():x.createEvent&&(a=x.createEvent("MouseEvents"),a.initMouseEvent("click",!0,!0,window,1,Rt.pointerEvent.screenX,Rt.pointerEvent.screenY,Rt.pointerX,Rt.pointerY,!1,!1,!1,!1,0,null),u.dispatchEvent(a)))},D||h.defaultPrevented||e.delayedCall(1e-5,c))):(re(s.throwProps),L||Rt.allowEventDefault||!h||!s.dragClickables&&$t.call(Rt,h.target)||!f||yt&&(!_t||yt!==_t)||h.cancelable===!1||(h.preventDefault(),h.preventManipulation&&h.preventManipulation()),ht(Rt,"release","onRelease")),le()&&d.duration(Rt.tween.duration()),f&&ht(Rt,"dragend","onDragEnd"),!0}},me=function(t){if(t&&Rt.isDragging&&!u){var e=t.target||t.srcElement||n.parentNode,i=e.scrollLeft-e._gsScrollX,r=e.scrollTop-e._gsScrollY;(i||r)&&(dt?(c-=i*dt[0]+r*dt[2],h-=r*dt[3]+i*dt[1]):(c-=i,h-=r),e._gsScrollX+=i,e._gsScrollY+=r,pe(Rt.pointerX,Rt.pointerY))}},ve=function(t){var e=P(),i=e-Zt<40,n=e-Wt<40,r=i&&wt===Zt,o=!!t.preventDefault,s=Rt.pointerEvent&&Rt.pointerEvent.defaultPrevented,a=i&&Ct===Zt,l=t.isTrusted||null==t.isTrusted&&i&&r;return o&&(r||n&&Rt.vars.suppressClickOnDrag!==!1)&&t.stopImmediatePropagation(),!i||Rt.pointerEvent&&Rt.pointerEvent.defaultPrevented||r&&l===a?void((Rt.isPressed||n||i)&&(o?l&&t.detail&&i&&!s||(t.preventDefault(),t.preventManipulation&&t.preventManipulation()):t.returnValue=!1)):(l&&r&&(Ct=Zt),void(wt=Zt))};nt=se.get(this.target),nt&&nt.kill(),this.startDrag=function(t){fe(t),Rt.isDragging||(Rt.isDragging=!0,ht(Rt,"dragstart","onDragStart"))},this.drag=de,this.endDrag=function(t){ge(t,!0)},this.timeSinceDrag=function(){return Rt.isDragging?0:(P()-Wt)/1e3},this.hitTest=function(t,e){return se.hitTest(Rt.target,t,e)},this.getDirection=function(t,e){var i,n,r,s,l,u,c="velocity"===t&&a?t:"object"!==("undefined"==typeof t?"undefined":(0,o["default"])(t))||Tt?"start":"element";return"element"===c&&(l=Kt(Rt.target),u=Kt(t)),i="start"===c?Rt.x-f:"velocity"===c?a.getVelocity(this.target,It):l.left+l.width/2-(u.left+u.width/2),Tt?i<0?"counter-clockwise":"clockwise":(e=e||2,n="start"===c?Rt.y-d:"velocity"===c?a.getVelocity(this.target,kt):l.top+l.height/2-(u.top+u.height/2),r=Math.abs(i/n),s=r<1/e?"":i<0?"left":"right",r<e&&(""!==s&&(s+="-"),s+=n<0?"up":"down"),s)},this.applyBounds=function(t){var e,i,r,o,a,l;if(t&&s.bounds!==t)return s.bounds=t,Rt.update(!0);if(te(!0),ee(),_){if(e=Rt.x,i=Rt.y,e>C?e=C:e<E&&(e=E),i>T?i=T:i<A&&(i=A),(Rt.x!==e||Rt.y!==i)&&(r=!0,Rt.x=Rt.endX=e,Tt?Rt.endRotation=e:Rt.y=Rt.endY=i,Q=!0,Qt(!0),Rt.autoScroll&&!Rt.isDragging))for(tt(n.parentNode),o=n,B.scrollTop=null!=window.pageYOffset?window.pageYOffset:null!=w.scrollTop?w.scrollTop:x.body.scrollTop,B.scrollLeft=null!=window.pageXOffset?window.pageXOffset:null!=w.scrollLeft?w.scrollLeft:x.body.scrollLeft;o&&!l;)l=J(o.parentNode),a=l?B:o.parentNode,At&&a.scrollTop>a._gsMaxScrollY&&(a.scrollTop=a._gsMaxScrollY),Ot&&a.scrollLeft>a._gsMaxScrollX&&(a.scrollLeft=a._gsMaxScrollX),o=a;Rt.isThrowing&&(r||Rt.endX>C||Rt.endX<E||Rt.endY>T||Rt.endY<A)&&re(s.throwProps,r)}return Rt},this.update=function(t,e,i){var r=Rt.x,o=Rt.y;return oe(!e),t?Rt.applyBounds():(Q&&i&&Qt(!0),te(!0)),e&&(pe(Rt.pointerX,Rt.pointerY),Q&&Qt(!0)),Rt.isPressed&&!e&&(Ot&&Math.abs(r-Rt.x)>.01||At&&Math.abs(o-Rt.y)>.01&&!Tt)&&ae(),Rt.autoScroll&&(tt(n.parentNode),Yt=Rt.isDragging,Qt(!0)),Rt.autoScroll&&(K(n,me),Z(n,me)),Rt},this.enable=function(t){var r,o,c;if("soft"!==t){for(o=Bt.length;--o>-1;)c=Bt[o],Dt(c,"mousedown",fe),Dt(c,"touchstart",fe),Dt(c,"click",ve,!0),Tt||rt(c,"cursor",s.cursor||"move"),rt(c,"touchCallout","none"),rt(c,"touchAction",Ot===At?"none":Ot?"pan-y":"pan-x"),xt(c)&&rt(c.ownerSVGElement||c,"touchAction",Ot===At?"none":Ot?"pan-y":"pan-x"),this.vars.allowContextMenu||Dt(c,"contextmenu",Jt);Gt(Bt,!1)}return Z(n,me),l=!0,a&&"soft"!==t&&a.track(u||n,St?"x,y":Tt?"rotation":"top,left"),u&&u.enable(),n._gsDragID=r="d"+R++,M[r]=this,u&&(u.element._gsDragID=r),e.set(n,{x:"+=0",overwrite:!1}),vt={t:n,data:L?U:n._gsTransform,tween:{},setRatio:L?function(){e.set(n,N)}:i._internals.setTransformRatio||i._internals.set3DTransformRatio},ae(),Rt.update(!0),Rt},this.disable=function(t){var e,i,r=Rt.isDragging;if(!Tt)for(e=Bt.length;--e>-1;)rt(Bt[e],"cursor",null);if("soft"!==t){for(e=Bt.length;--e>-1;)i=Bt[e],rt(i,"touchCallout",null),rt(i,"touchAction",null),Ft(i,"mousedown",fe),Ft(i,"touchstart",fe),Ft(i,"click",ve),Ft(i,"contextmenu",Jt);Gt(Bt,!0),ut&&(Ft(ut,"touchcancel",ge),Ft(ut,"touchend",ge),Ft(ut,"touchmove",de)),Ft(x,"mouseup",ge),Ft(x,"mousemove",de)}return K(n,me),l=!1,a&&"soft"!==t&&a.untrack(u||n,St?"x,y":Tt?"rotation":"top,left"),u&&u.disable(),H(Qt),Rt.isDragging=Rt.isPressed=lt=!1,r&&ht(Rt,"dragend","onDragEnd"),Rt},this.enabled=function(t,e){return arguments.length?t?Rt.enable(e):Rt.disable(e):l},this.kill=function(){return Rt.isThrowing=!1,e.killTweensOf(u||n,!0,Ht),Rt.disable(),delete M[n._gsDragID],Rt},Et.indexOf("scroll")!==-1&&(u=this.scrollProxy=new Xt(n,W({onKill:function(){Rt.isPressed&&ge(null)}},s)),n.style.overflowY=At&&!Nt?"auto":"hidden",n.style.overflowX=Ot&&!Nt?"auto":"hidden",n=u.content),s.force3D!==!1&&e.set(n,{force3D:!0}),Tt?Ht.rotation=1:(Ot&&(Ht[It]=1),At&&(Ht[kt]=1)),Tt?(N=v,U=N.css,N.overwrite=!1):St&&(N=Ot&&At?p:Ot?g:m,U=N.css,N.overwrite=!1),this.enable()},Yt=Wt.prototype=new t;Yt.constructor=Wt,Yt.pointerX=Yt.pointerY=Yt.startX=Yt.startY=Yt.deltaX=Yt.deltaY=0,Yt.isDragging=Yt.isPressed=!1,Wt.version="0.15.1",Wt.zIndex=1e3,Dt(x,"touchcancel",function(){}),Dt(x,"contextmenu",function(t){var e;for(e in M)M[e].isPressed&&M[e].endDrag()}),Wt.create=function(t,i){"string"==typeof t&&(t=e.selector(t));for(var n=t&&0!==t.length?Mt(t)?Rt(t):[t]:[],r=n.length;--r>-1;)n[r]=new Wt(n[r],i);return n},Wt.get=function(t){return M[(it(t)||{})._gsDragID]},Wt.timeSinceDrag=function(){return(P()-F)/1e3};var $t={},Zt=function(t){var e,i,n=0,r=0;for(t=it(t),e=t.offsetWidth,i=t.offsetHeight;t;)n+=t.offsetTop,r+=t.offsetLeft,t=t.offsetParent;return{top:n,left:r,width:e,height:i}},Kt=function(t,e){if(t===window)return $t.left=$t.top=0,$t.width=$t.right=w.clientWidth||t.innerWidth||x.body.clientWidth||0,$t.height=$t.bottom=(t.innerHeight||0)-20<w.clientHeight?w.clientHeight:t.innerHeight||x.body.clientHeight||0,$t;var i=t.pageX!==e?{left:t.pageX-$(),top:t.pageY-Y(),right:t.pageX-$()+1,bottom:t.pageY-Y()+1}:t.nodeType||t.left===e||t.top===e?L?Zt(t):it(t).getBoundingClientRect():t;return i.right===e&&i.width!==e?(i.right=i.left+i.width,i.bottom=i.top+i.height):i.width===e&&(i={width:i.right-i.left,height:i.bottom-i.top,right:i.right,left:i.left,bottom:i.bottom,top:i.top}),i};return Wt.hitTest=function(t,e,i){if(t===e)return!1;var n,r,o,s=Kt(t),a=Kt(e),l=a.left>s.right||a.right<s.left||a.top>s.bottom||a.bottom<s.top;return l||!i?!l:(o=(i+"").indexOf("%")!==-1,i=parseFloat(i)||0,n={left:Math.max(s.left,a.left),top:Math.max(s.top,a.top)},n.width=Math.min(s.right,a.right)-n.left,n.height=Math.min(s.bottom,a.bottom)-n.top,!(n.width<0||n.height<0)&&(o?(i*=.01,r=n.width*n.height,r>=s.width*s.height*i||r>=a.width*a.height*i):n.width>i&&n.height>i))},O.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;",Wt},!0)}),s._gsDefine&&s._gsQueue.pop()(),function(i){var n=function(){return(s.GreenSockGlobals||s)[i]};"undefined"!=typeof e&&e.exports?(t("../TweenLite.js"),t("../plugins/CSSPlugin.js"),e.exports=n()):"function"==typeof define&&define.amd&&define(["TweenLite","CSSPlugin"],n)}("Draggable")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../TweenLite.js":52,"../plugins/CSSPlugin.js":53,"babel-runtime/helpers/typeof":115}],56:[function(t,e,i){(function(t){"use strict";var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:window;!function(t){var e=t.GreenSockGlobals||t,i=function(t){var i,n=t.split("."),r=e;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},n=i("com.greensock.utils"),r=function R(t){var e=t.nodeType,i="";if(1===e||9===e||11===e){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=R(t)}else if(3===e||4===e)return t.nodeValue;return i},o=document,s=o.defaultView?o.defaultView.getComputedStyle:function(){},a=/([A-Z])/g,l=function(t,e,i,n){var r;return(i=i||s(t,null))?(t=i.getPropertyValue(e.replace(a,"-$1").toLowerCase()),r=t||i.length?t:i[e]):t.currentStyle&&(i=t.currentStyle,r=i[e]),n?r:parseInt(r,10)||0},u=function(t){return!!(t.length&&t[0]&&(t[0].nodeType&&t[0].style&&!t.nodeType||t[0].length&&t[0][0]))},c=function(t){var e,i,n,r=[],o=t.length;for(e=0;e<o;e++)if(i=t[e],u(i))for(n=i.length,n=0;n<i.length;n++)r.push(i[n]);else r.push(i);return r},h=/(?:\r|\n|\t\t)/g,f=/(?:\s\s+)/g,d=55296,p=56319,g=56320,m=127462,v=127487,y=127995,_=127999,b=function(t){return(t.charCodeAt(0)-d<<10)+(t.charCodeAt(1)-g)+65536},x=o.all&&!o.addEventListener,w=" style='position:relative;display:inline-block;"+(x?"*display:inline;*zoom:1;'":"'"),C=function(t,e){t=t||"";var i=t.indexOf("++")!==-1,n=1;return i&&(t=t.split("++").join("")),function(){return"<"+e+w+(t?" class='"+t+(i?n++:"")+"'>":">")}},E=n.SplitText=e.SplitText=function(t,e){if("string"==typeof t&&(t=E.selector(t)),!t)throw"cannot split a null element.";this.elements=u(t)?c(t):[t],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=e||{},this.split(e)},S=function N(t,e,i){var n=t.nodeType;if(1===n||9===n||11===n)for(t=t.firstChild;t;t=t.nextSibling)N(t,e,i);else 3!==n&&4!==n||(t.nodeValue=t.nodeValue.split(e).join(i))},T=function(t,e){for(var i=e.length;--i>-1;)t.push(e[i])},I=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},k=function(t,e,i){for(var n;t&&t!==e;){if(n=t._next||t.nextSibling)return n.textContent.charAt(0)===i;t=t.parentNode||t._parent}return!1},P=function j(t){var e,i,n=I(t.childNodes),r=n.length;for(e=0;e<r;e++)i=n[e],i._isSplit?j(i):(e&&3===i.previousSibling.nodeType?i.previousSibling.nodeValue+=3===i.nodeType?i.nodeValue:i.firstChild.nodeValue:3!==i.nodeType&&t.insertBefore(i.firstChild,i),t.removeChild(i))},L=function(t,e,i,n,r,a,u){var c,h,f,d,p,g,m,v,y,_,b,x,w=s(t),C=l(t,"paddingLeft",w),E=-999,I=l(t,"borderBottomWidth",w)+l(t,"borderTopWidth",w),L=l(t,"borderLeftWidth",w)+l(t,"borderRightWidth",w),O=l(t,"paddingTop",w)+l(t,"paddingBottom",w),A=l(t,"paddingLeft",w)+l(t,"paddingRight",w),M=.2*l(t,"fontSize"),R=l(t,"textAlign",w,!0),N=[],j=[],D=[],F=e.wordDelimiter||" ",z=e.span?"span":"div",B=e.type||e.split||"chars,words,lines",V=r&&B.indexOf("lines")!==-1?[]:null,q=B.indexOf("words")!==-1,U=B.indexOf("chars")!==-1,G="absolute"===e.position||e.absolute===!0,H=e.linesClass,X=(H||"").indexOf("++")!==-1,W=[];for(V&&1===t.children.length&&t.children[0]._isSplit&&(t=t.children[0]),X&&(H=H.split("++").join("")),h=t.getElementsByTagName("*"),f=h.length,p=[],c=0;c<f;c++)p[c]=h[c];if(V||G)for(c=0;c<f;c++)d=p[c],g=d.parentNode===t,(g||G||U&&!q)&&(x=d.offsetTop,V&&g&&Math.abs(x-E)>M&&"BR"!==d.nodeName&&(m=[],V.push(m),E=x),G&&(d._x=d.offsetLeft,d._y=x,d._w=d.offsetWidth,d._h=d.offsetHeight),V&&((d._isSplit&&g||!U&&g||q&&g||!q&&d.parentNode.parentNode===t&&!d.parentNode._isSplit)&&(m.push(d),d._x-=C,k(d,t,F)&&(d._wordEnd=!0)),"BR"===d.nodeName&&d.nextSibling&&"BR"===d.nextSibling.nodeName&&V.push([])));for(c=0;c<f;c++)d=p[c],g=d.parentNode===t,"BR"!==d.nodeName?(G&&(y=d.style,q||g||(d._x+=d.parentNode._x,d._y+=d.parentNode._y),y.left=d._x+"px",y.top=d._y+"px",y.position="absolute",y.display="block",y.width=d._w+1+"px",y.height=d._h+"px"),!q&&U?d._isSplit?(d._next=d.nextSibling,d.parentNode.appendChild(d)):d.parentNode._isSplit?(d._parent=d.parentNode,!d.previousSibling&&d.firstChild&&(d.firstChild._isFirst=!0),d.nextSibling&&" "===d.nextSibling.textContent&&!d.nextSibling.nextSibling&&W.push(d.nextSibling),d._next=d.nextSibling&&d.nextSibling._isFirst?null:d.nextSibling,d.parentNode.removeChild(d),p.splice(c--,1),f--):g||(x=!d.nextSibling&&k(d.parentNode,t,F),d.parentNode._parent&&d.parentNode._parent.appendChild(d),x&&d.parentNode.appendChild(o.createTextNode(" ")),e.span&&(d.style.display="inline"),N.push(d)):d.parentNode._isSplit&&!d._isSplit&&""!==d.innerHTML?j.push(d):U&&!d._isSplit&&(e.span&&(d.style.display="inline"),N.push(d))):V||G?(d.parentNode&&d.parentNode.removeChild(d),p.splice(c--,1),f--):q||t.appendChild(d);for(c=W.length;--c>-1;)W[c].parentNode.removeChild(W[c]);if(V){for(G&&(_=o.createElement(z),t.appendChild(_),b=_.offsetWidth+"px",x=_.offsetParent===t?0:t.offsetLeft,t.removeChild(_)),y=t.style.cssText,t.style.cssText="display:none;";t.firstChild;)t.removeChild(t.firstChild);for(v=" "===F&&(!G||!q&&!U),c=0;c<V.length;c++){for(m=V[c],_=o.createElement(z),_.style.cssText="display:block;text-align:"+R+";position:"+(G?"absolute;":"relative;"),H&&(_.className=H+(X?c+1:"")),D.push(_),f=m.length,h=0;h<f;h++)"BR"!==m[h].nodeName&&(d=m[h],_.appendChild(d),v&&d._wordEnd&&_.appendChild(o.createTextNode(" ")),G&&(0===h&&(_.style.top=d._y+"px",_.style.left=C+x+"px"),d.style.top="0px",x&&(d.style.left=d._x-x+"px")));0===f?_.innerHTML="&nbsp;":q||U||(P(_),S(_,String.fromCharCode(160)," ")),G&&(_.style.width=b,_.style.height=d._h+"px"),t.appendChild(_)}t.style.cssText=y}G&&(u>t.clientHeight&&(t.style.height=u-O+"px",t.clientHeight<u&&(t.style.height=u+I+"px")),a>t.clientWidth&&(t.style.width=a-A+"px",t.clientWidth<a&&(t.style.width=a+L+"px"))),T(i,N),T(n,j),T(r,D)},O=function(t,e,i,n){var s,a,l,u,c,g,x,w,C,E=e.span?"span":"div",T=e.type||e.split||"chars,words,lines",I=(T.indexOf("words")!==-1,T.indexOf("chars")!==-1),k="absolute"===e.position||e.absolute===!0,P=e.wordDelimiter||" ",L=" "!==P?"":k?"&#173; ":" ",O=e.span?"</span>":"</div>",A=!0,M=o.createElement("div"),R=t.parentNode;for(R.insertBefore(M,t),M.textContent=t.nodeValue,R.removeChild(t),t=M,s=r(t),x=s.indexOf("<")!==-1,e.reduceWhiteSpace!==!1&&(s=s.replace(f," ").replace(h,"")),x&&(s=s.split("<").join("{{LT}}")),c=s.length,a=(" "===s.charAt(0)?L:"")+i(),l=0;l<c;l++)if(g=s.charAt(l),g===P&&s.charAt(l-1)!==P&&l){for(a+=A?O:"",A=!1;s.charAt(l+1)===P;)a+=L,l++;l===c-1?a+=L:")"!==s.charAt(l+1)&&(a+=L+i(),A=!0)}else"{"===g&&"{{LT}}"===s.substr(l,6)?(a+=I?n()+"{{LT}}</"+E+">":"{{LT}}",l+=5):g.charCodeAt(0)>=d&&g.charCodeAt(0)<=p||s.charCodeAt(l+1)>=65024&&s.charCodeAt(l+1)<=65039?(w=b(s.substr(l,2)),C=b(s.substr(l+2,2)),u=w>=m&&w<=v&&C>=m&&C<=v||C>=y&&C<=_?4:2,a+=I&&" "!==g?n()+s.substr(l,u)+"</"+E+">":s.substr(l,u),l+=u-1):a+=I&&" "!==g?n()+g+"</"+E+">":g;t.outerHTML=a+(A?O:""),x&&S(R,"{{LT}}","<")},A=function D(t,e,i,n){var r,o,s=I(t.childNodes),a=s.length,u="absolute"===e.position||e.absolute===!0;if(3!==t.nodeType||a>1){for(e.absolute=!1,r=0;r<a;r++)o=s[r],(3!==o.nodeType||/\S+/.test(o.nodeValue))&&(u&&3!==o.nodeType&&"inline"===l(o,"display",null,!0)&&(o.style.display="inline-block",o.style.position="relative"),o._isSplit=!0,D(o,e,i,n));return e.absolute=u,void(t._isSplit=!0)}O(t,e,i,n)},M=E.prototype;M.split=function(t){this.isSplit&&this.revert(),this.vars=t=t||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var e,i,n,r=this.elements.length,o=t.span?"span":"div",s=("absolute"===t.position||t.absolute===!0,C(t.wordsClass,o)),a=C(t.charsClass,o);--r>-1;)n=this.elements[r],this._originals[r]=n.innerHTML,e=n.clientHeight,i=n.clientWidth,A(n,t,s,a),L(n,t,this.chars,this.words,this.lines,i,e);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},M.revert=function(){if(!this._originals)throw"revert() call wasn't scoped properly.";for(var t=this._originals.length;--t>-1;)this.elements[t].innerHTML=this._originals[t];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},E.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(E.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)},E.version="0.5.7"}(i),function(t){var n=function(){return(i.GreenSockGlobals||i)[t]};"undefined"!=typeof e&&e.exports?e.exports=n():"function"==typeof define&&define.amd&&define([],n)}("SplitText")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(t,e,i){"use strict";function n(){var t=s();return d&&(h=t-c),c=t,f+=.15*(c-f),{scrollY:c,deltaY:h,momentumY:f*-1}}function r(){u=o(r),d=!0,l.emit("scroll",n()),d=!1}var o=t("component-raf"),s=t("scrolltop"),a=t("tiny-emitter"),l=new a,u=-1,c=0,h=0,f=0,d=!1;e.exports={add:function(t){l.on("scroll",t),1===l.e.scroll.length&&(u=o(r))},addOnce:function(t){l.once("scroll",t),1===l.e.scroll.length&&(u=o(r))},remove:function(t){l.off("scroll",t),(!l.e.scroll||l.e.scroll.length<1)&&o.cancel(u)},getCurrent:function(){return n()},destroy:function(){o.cancel(u),l=new a,c=0,h=0,f=0},reset:function(){c=0,h=0,f=0},snapTo:function(t,e){window.scrollTo(t,e),f=e}}},{"component-raf":123,scrolltop:613,"tiny-emitter":622}],58:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/core-js/json/stringify"),o=n(r),s=s||{};s.Widget=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function n(t){return!!(""===t||t&&t.charCodeAt&&t.substr)}function r(t){return!!(t&&t.constructor&&t.call&&t.apply)}function s(t){return!(!t||1!==t.nodeType||"IFRAME"!==t.nodeName.toUpperCase())}function a(t){var e,i=!1;for(e in k)if(k.hasOwnProperty(e)&&k[e]===t){i=!0;break}return i}function l(t){var e,i,n;for(e=0,i=M.length;e<i&&(n=t(M[e]),n!==!1);e++);}function u(t){var e,i,n,r="";for("//"===t.substr(0,2)&&(t=window.location.protocol+t),n=t.split("/"),e=0,i=n.length;e<i&&e<3;e++)r+=n[e],e<2&&(r+="/");return r}function c(t){return t.contentWindow?t.contentWindow:t.contentDocument&&"parentWindow"in t.contentDocument?t.contentDocument.parentWindow:null}function h(t){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(t[e]);return i}function f(t,e,i){i.callbacks[t]=i.callbacks[t]||[],i.callbacks[t].push(e)}function d(t,e){var i,n=!0;return e.callbacks[t]=[],l(function(e){if(i=e.callbacks[t]||[],i.length)return n=!1,!1}),n}function p(t,e,i){var n,r,s=c(i);return!!s.postMessage&&(n=i.getAttribute("src").split("?")[0],r=(0,o["default"])({method:t,value:e}),"//"===n.substr(0,2)&&(n=window.location.protocol+n),n=n.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void s.postMessage(r,n))}function g(t){var e;return l(function(i){if(i.instance===t)return e=i,!1}),e}function m(t){var e;return l(function(i){if(c(i.element)===t)return e=i,!1}),e}function v(t,e){return function(i){var n=r(i),o=g(this),s=!n&&e?i:null,a=n&&!e?i:null;return a&&f(t,a,o),p(t,s,o.element),this}}function y(t,e,i){var n,r,o;for(n=0,r=e.length;n<r;n++)o=e[n],t[o]=v(o,i)}function _(t,e,i){return t+"?url="+e+"&"+b(i)}function b(t){var e,i,n=[];for(e in t)t.hasOwnProperty(e)&&(i=t[e],n.push(e+"="+("start_track"===e?parseInt(i,10):i?"true":"false")));return n.join("&")}function x(t,e,i){var n,r,o=t.callbacks[e]||[];for(n=0,r=o.length;n<r;n++)o[n].apply(t.instance,i);(a(e)||e===L.READY)&&(t.callbacks[e]=[])}function w(t){var e,i,n,r,o;try{i=JSON.parse(t.data)}catch(s){return!1}return e=m(t.source),n=i.method,r=i.value,(!e||C(t.origin)===C(e.domain))&&(e?(n===L.READY&&(e.isReady=!0,x(e,R),d(R,e)),n!==L.PLAY||e.playEventFired||(e.playEventFired=!0),n!==L.PLAY_PROGRESS||e.playEventFired||(e.playEventFired=!0,x(e,L.PLAY,[r])),o=[],void 0!==r&&o.push(r),void x(e,n,o)):(n===L.READY&&A.push(t.source),!1))}function C(t){return t.replace(j,"")}var E,S,T,I=i(1),k=i(2),P=i(3),L=I.api,O=I.bridge,A=[],M=[],R="__LATE_BINDING__",N="http://wt.soundcloud.dev:9200/",j=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",w,!1):window.attachEvent("onmessage",w),t.exports=T=function(t,e,i){if(n(t)&&(t=document.getElementById(t)),!s(t))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");e&&(i=i||{},t.src=_(N,e,i));var r,o,a=m(c(t));return a&&a.instance?a.instance:(r=A.indexOf(c(t))>-1,o=new E(t),M.push(new S(o,t,r)),o)},T.Events=L,window.SC=window.SC||{},window.SC.Widget=T,S=function(t,e,i){this.instance=t,this.element=e,this.domain=u(e.getAttribute("src")),this.isReady=!!i,this.callbacks={}},E=function(){},E.prototype={constructor:E,load:function(t,e){if(t){e=e||{};var i=this,n=g(this),r=n.element,o=r.src,s=o.substr(0,o.indexOf("?"));n.isReady=!1,n.playEventFired=!1,r.onload=function(){i.bind(L.READY,function(){var t,i=n.callbacks;for(t in i)i.hasOwnProperty(t)&&t!==L.READY&&p(O.ADD_LISTENER,t,n.element);e.callback&&e.callback()})},r.src=_(s,t,e)}},bind:function(t,e){var i=this,n=g(this);return n&&n.element&&(t===L.READY&&n.isReady?setTimeout(e,1):n.isReady?(f(t,e,n),p(O.ADD_LISTENER,t,n.element)):f(R,function(){i.bind(t,e)},n)),this},unbind:function(t){var e,i=g(this);i&&i.element&&(e=d(t,i),t!==L.READY&&e&&p(O.REMOVE_LISTENER,t,i.element))}},y(E.prototype,h(k)),y(E.prototype,h(P),!0)},function(t,e){e.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},e.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(t,e){t.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(t,e){t.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}])},{"babel-runtime/core-js/json/stringify":96}],59:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/typeof"),o=n(r);i["default"]={_isInitialized:!1,isInitialized:function(){return this._isInitialized},init:function(){!function(i,n){"function"==typeof define&&define.amd?define(["video.js"],function(t){return i.Youtube=n(t)}):"object"===("undefined"==typeof e?"undefined":(0,o["default"])(e))&&e.exports?e.exports=n(t("video.js")):i.Youtube=n(i.videojs)}(this,function(t){function e(){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}function i(){var t=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",e=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),e.appendChild(i)}var n=t.getComponent("Tech"),r=t.extend(n,{constructor:function(t,e){n.call(this,t,e),this.setPoster(t.poster),this.setSrc(this.options_.source,!0),setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube",o&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),r.isApiReady?this.initYTPlayer():r.apiReadyQueue.push(this)}.bind(this))},dispose:function(){this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile","")},createEl:function(){var t=document.createElement("div");t.setAttribute("id",this.options_.techId),t.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");var e=document.createElement("div");if(e.appendChild(t),!o&&!this.options_.ytControls){var i=document.createElement("div");i.setAttribute("class","vjs-iframe-blocker"),i.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),i.onclick=function(){this.pause()}.bind(this),e.appendChild(i)}return e},initYTPlayer:function(){var t={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};"undefined"!=typeof this.options_.autohide&&(t.autohide=this.options_.autohide),"undefined"!=typeof this.options_.cc_load_policy&&(t.cc_load_policy=this.options_.cc_load_policy),"undefined"!=typeof this.options_.ytControls&&(t.controls=this.options_.ytControls),"undefined"!=typeof this.options_.disablekb&&(t.disablekb=this.options_.disablekb),"undefined"!=typeof this.options_.end&&(t.end=this.options_.end),"undefined"!=typeof this.options_.color&&(t.color=this.options_.color),t.controls?"undefined"!=typeof this.options_.fs&&(t.fs=this.options_.fs):t.fs=0,"undefined"!=typeof this.options_.end&&(t.end=this.options_.end),"undefined"!=typeof this.options_.hl?t.hl=this.options_.hl:"undefined"!=typeof this.options_.language&&(t.hl=this.options_.language.substr(0,2)),"undefined"!=typeof this.options_.iv_load_policy&&(t.iv_load_policy=this.options_.iv_load_policy),"undefined"!=typeof this.options_.list?t.list=this.options_.list:this.url&&"undefined"!=typeof this.url.listId&&(t.list=this.url.listId),"undefined"!=typeof this.options_.listType&&(t.listType=this.options_.listType),"undefined"!=typeof this.options_.modestbranding&&(t.modestbranding=this.options_.modestbranding),"undefined"!=typeof this.options_.playlist&&(t.playlist=this.options_.playlist),"undefined"!=typeof this.options_.playsinline&&(t.playsinline=this.options_.playsinline),"undefined"!=typeof this.options_.rel&&(t.rel=this.options_.rel),"undefined"!=typeof this.options_.showinfo&&(t.showinfo=this.options_.showinfo),"undefined"!=typeof this.options_.start&&(t.start=this.options_.start),"undefined"!=typeof this.options_.theme&&(t.theme=this.options_.theme),this.activeVideoId=this.url?this.url.videoId:null,this.activeList=t.list,this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:t,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){this.playerReady_=!0,this.triggerReady(),this.playOnReady&&this.play()},onPlayerPlaybackQualityChange:function(){},onPlayerStateChange:function(t){var e=t.data;if(e!==this.lastState&&!this.errorNumber){switch(e){case-1:this.trigger("loadedmetadata"),this.trigger("durationchange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}this.lastState=e}},onPlayerError:function(t){this.errorNumber=t.data,this.trigger("error"),this.ytPlayer.stopVideo(),this.ytPlayer.destroy(),this.ytPlayer=null},error:function(){switch(this.errorNumber){case 5:return{code:"Error while trying to play the video"};case 2:case 100:case 150:return{code:"Unable to find the video"};case 101:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"YouTube unknown error ("+this.errorNumber+")"}},src:function(t){return t&&(this.setSrc({src:t}),this.options_.autoplay&&!o&&this.play()),this.source},poster:function(){return o?null:this.poster_},setPoster:function(t){this.poster_=t},setSrc:function(t){t&&t.src&&(delete this.errorNumber,this.source=t,this.url=r.parseUrl(t.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.checkHighResPoster()),this.options_.autoplay&&!o&&(this.isReady_?this.play():this.playOnReady=!0))},play:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.ytPlayer.loadVideoById(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(t){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(t,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==t&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(t){this.ytPlayer&&(this.ytPlayer.setPlaybackRate(t),this.trigger("ratechange"))},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source},ended:function(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(t){this.ytPlayer&&(this.ytPlayer.setVolume(100*t),this.setTimeout(function(){this.trigger("volumechange")},50))},muted:function(){return!!this.ytPlayer&&this.ytPlayer.isMuted()},setMuted:function(t){this.ytPlayer&&(this.muted(!0),t?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}};var t=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return{length:this.ytPlayer.getDuration(),start:function(){return 0},end:function(){return t}}},load:function(){},reset:function(){},supportsFullScreen:function(){return!0},checkHighResPoster:function(){var t="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var e=new Image;e.onload=function(){if("naturalHeight"in e){if(e.naturalHeight<=90||e.naturalWidth<=120)return}else if(e.height<=90||e.width<=120)return;this.poster_=t,this.trigger("posterchange")}.bind(this),e.onerror=function(){},e.src=t}catch(i){}}});r.isSupported=function(){return!0},r.canPlaySource=function(t){return"video/youtube"===t.type};var o=/(iPad|iPhone|iPod|Android)/g.test(navigator.userAgent);r.parseUrl=function(t){var e={videoId:null},i=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=t.match(i);n&&11===n[2].length&&(e.videoId=n[2]);var r=/[?&]list=([^#\&\?]+)/;return n=t.match(r),n&&n[1]&&(e.listId=n[1]),e},r.apiReadyQueue=[],window.onYouTubeIframeAPIReady=function(){r.isApiReady=!0;for(var t=0;t<r.apiReadyQueue.length;++t)r.apiReadyQueue[t].initYTPlayer()},e(),i(),"undefined"!=typeof t.registerTech?t.registerTech("Youtube",r):t.registerComponent("Youtube",r)}),this._isInitialized=!0}}},{"babel-runtime/helpers/typeof":115,"video.js":780}],60:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}t("babel-polyfill"),t("whatwg-fetch"),t("element-dataset"),t("element-closest"),t("./polyfills"),t("wicg-focus-ring");
var r=t("core"),o=t("./router"),s=n(o),a=t("./controller"),l=n(a),u=t("config"),c=(n(u),t("utils")),h=n(c),f=t("sniffer"),d=n(f),p=t("raf"),g=n(p),m=t("gsap"),v=(n(m),t("gsap-scrollto"));n(v);t("fastclick")(document.body),TweenLite.defaultEase=Power4.easeInOut;var y=r.Marionette.Application.extend({initialize:function(){void 0},onBeforeStart:function(){},onStart:function(){r.Backbone.history.loadUrl()}}),_=window.app=new y;_.router=new s["default"]({controller:new l["default"]}),d["default"].addClasses(document.documentElement),h["default"].is.touch&&document.documentElement.classList.add("is-touch"),"undefined"==typeof window.requestAnimationFrame&&g["default"].polyfill(),"standalone"in window.navigator&&window.navigator.standalone&&h["default"].html.classList.add("is-standalone"),"scrollRestoration"in history&&(history.scrollRestoration="manual")},{"./controller":48,"./polyfills":62,"./router":64,"babel-polyfill":91,config:47,core:1,"element-closest":565,"element-dataset":566,fastclick:568,gsap:587,"gsap-scrollto":54,raf:605,sniffer:619,utils:65,"whatwg-fetch":788,"wicg-focus-ring":789}],61:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/core-js/object/get-prototype-of"),o=n(r),s=t("babel-runtime/helpers/classCallCheck"),a=n(s),l=t("babel-runtime/helpers/createClass"),u=n(l),c=t("babel-runtime/helpers/possibleConstructorReturn"),h=n(c),f=t("babel-runtime/helpers/inherits"),d=n(f),p=t("../_core"),g=function(t){function e(){return(0,a["default"])(this,e),(0,h["default"])(this,(e.__proto__||(0,o["default"])(e)).apply(this,arguments))}return(0,d["default"])(e,t),(0,u["default"])(e,[{key:"initialize",value:function(){}},{key:"parse",value:function(t){var e=(0,p.$)(t),i=e.filter("title").text()||e.find("title").text()||e.find("input.data-title").val(),n=e.filter(this.get("viewSelector"));this.getPageVars(e),0==n.length&&(n=e.find(this.get("viewSelector")));var r=n.attr("class"),o=e.find(".page").attr("class");return{title:i,classNames:r,pageClassNames:o,viewData:n}}},{key:"getPageVars",value:function(t){BIA.COMPARE={IS_FINAL_TERM:this.getFieldValue(t,"[name=COMPARE-IS_FINAL_TERM]"),TERM_SLUG:this.getFieldValue(t,"[name=COMPARE-TERM_SLUG]"),IS_COMPARE_PAGE:this.getFieldValue(t,"[name=COMPARE-IS_COMPARE_PAGE]")}}},{key:"getFieldValue",value:function(t,e){var i=t.find(e);if(i.length){var n=i.val();return"true"===n&&(n=!0),"false"===n&&(n=!1),n}return!1}}]),e}(p.Backbone.Model);i["default"]=g},{"../_core":1,"babel-runtime/core-js/object/get-prototype-of":101,"babel-runtime/helpers/classCallCheck":107,"babel-runtime/helpers/createClass":108,"babel-runtime/helpers/inherits":111,"babel-runtime/helpers/possibleConstructorReturn":112}],62:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=t("babel-runtime/core-js/array/from"),o=n(r);t("location-origin"),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&this.indexOf(t,e)!==-1}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var n=i.lastIndexOf(t,e);return n!==-1&&n===e}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e=void 0,i=void 0;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),i=0;i<r;){var o;i in n&&(o=n[i],t.call(e,o,i,n)),i++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)}),o["default"]||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},i=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,r=function(t){var e=i(t);return Math.min(Math.max(e,0),n)};return function(t){var i=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o=arguments.length>1?arguments[1]:void 0,s=void 0;if("undefined"!=typeof o){if(!e(o))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(s=arguments[2])}for(var a=r(n.length),l=e(i)?Object(new i(a)):new Array(a),u=0,c=void 0;u<a;)c=n[u],o?l[u]="undefined"==typeof s?o(c,u):o.call(s,c,u):l[u]=c,u+=1;return l.length=a,l}}())},{"babel-runtime/core-js/array/from":93,"location-origin":598}],63:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t("../_core"),r=n.Marionette.Region.extend({show:function(t,e){if(this._ensureElement(e)){if(t=this._getView(t,e),t===this.currentView)return this;var i=e||{},r=t!==this.currentView,o=!!i.preventDestroy,s=!!i.forceShow,a=this.currentView;this.oldView=this.currentView;var l=!!this.currentView;this._isSwappingView=!!this.currentView;var u=r&&!o,c=r||s;if(l&&a.off("destroy",this.empty,this),this.triggerMethod("before:show",this,t,e),!t._isAttached&&c&&!t.waitForDataLoaded){var h=h||{};h.isTransitioning=!0,this.empty(h)}return this._setupChildView(t),this._renderView(t),c&&(this._attachView(t,e),l&&(a.el.classList.add("is-animating-out"),a.animateOut(),n.Marionette.triggerMethodOn(a,"animateOut",a,this,e),this._showNewView(t,l,u,a,e)),l||this._showNewView(t,l,u,a)),this.currentView=t,this._isSwappingView=!1,this}},_renderView:function(t){t.supportsRenderLifecycle||n.Marionette.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,n.Marionette.triggerMethodOn(t,"render",t))},_viewAnimateIn:function(t,e,i){var r=this;r.listenToOnce(t,"view:animateInEnd",function(){r.triggerMethod("show",r,t,e),n.Marionette.triggerMethodOn(t,"show",t,r),i&&r.destroyView(i),t.el.classList.remove("is-animating-in")}),window.isNotLanding&&(r.triggerMethod("before:animateIn",t,r),t.el.classList.add("is-animating-in"),t.animateInStarted=!0,t.animateIn(),n.Marionette.triggerMethodOn(t,"animateIn",t,r))},_showNewView:function(t,e,i,r,o){var s=this,a=this,l=!0;return t.waitForDataLoaded&&!t.isDataLoaded?(l=!1,t.isListeningForDataLoaded||this.listenToOnce(t,"view:dataLoaded",function(){a._showNewView(t,e,i,r)}),t.isListeningForDataLoaded=!0):"undefined"!=typeof r&&t.waitForOldView&&!r.animatedOut?(l=!1,r.isListeningForAnimateOutEnd||this.listenToOnce(r,"view:animateOutEnd",function(){a._showNewView(t,e,i,r)}),r.isListeningForAnimateOutEnd=!0):void(l&&!t.animateInStarted&&(a._viewAnimateIn(t,o,r),e&&i&&n._.delay(function(){a._destroyOldView(s.oldView)},1100)))},_destroyOldView:function(t){t.destroy&&!t.isDestroyed?t.destroy():t.remove&&(t.remove(),t.isDestroyed=!0)},empty:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},i=this.currentView;return i?(n.Marionette.triggerMethod(i,"animateOut"),n.Marionette.triggerMethodOn(i,"animateOut"),this.listenToOnce(i,"view:animateOutEnd",function(){var n=!e.preventDestroy;n||void 0,t._empty(i,n)}),this):(this._ensureElement(e)&&e.isTransitioning&&this.detachHtml(),this)},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),t._isDestroyed||(e?this.removeView(t):this._detachView(t),this._stopChildViewEvents(t)),this.triggerMethod("empty",this,t)},attachHtml:function(t){this.el.appendChild(t.el)}});i["default"]=r},{"../_core":1}],64:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("./_core"),o=t("utils"),s=n(o),a=t("vent"),l=r.Marionette.AppRouter.extend({appRoutes:r._.extend({},BIA.ROUTES||{},{"(en/)(nl/)":"home","(en/)(nl/)play/tinder(/)":"home","(en/)(nl/)play/gif(/)":"home","(en/)(nl/)play/roulette(/)":"home","(en/)(nl/)play/museum/roulette(/)":"home","(en/)(nl/)learn/collection/*path(/)":"collection","(en/)(nl/)verdiep/collectie/*path(/)":"collection","(en/)(nl/)visit/exhibitions-events/*path(/)":"calendar","(en/)(nl/)bezoek/agenda/*path(/)":"calendar","(en/)(nl/)visit/education(/*path)(/)":"archive","(en/)(nl/)bezoek/onderwijs(/*path)(/)":"archive","(en/)(nl/)art/*path(/)":"artpiece","(en/)(nl/)kunst/*path(/)":"artpiece","(en/)(nl/)news/*path(/)":"newsarticle","(en/)(nl/)nieuws/*path(/)":"newsarticle","(en/)(nl/)research/*path(/)":"newsarticle","(en/)(nl/)onderzoek/*path(/)":"newsarticle","(en/)(nl/)event/*path(/)":"newsarticle","(en/)(nl/)evenement/*path(/)":"newsarticle","(en/)(nl/)education/*path(/)":"newsarticle","(en/)(nl/)educatie/*path(/)":"newsarticle","(en)(nl)/artist/*path(/)":"artist","(en)(nl)/artiest/*path(/)":"artist","(en/)learn/research(/*path)(/)":"archive","(nl/)verdiep/onderzoek(/*path)(/)":"archive","(nl/)verdiep/nieuws(/*path)(/)":"archive","(en/)learn/news(/*path)(/)":"archive","(en/)about/publications(/*path)(/)":"archive","(nl/)over-ons/publicaties(/*path)(/)":"archive","(en/)press/general-info(/*path)(/)":"page","(nl/)pers/algemene-informatie(/*path)(/)":"page","(en/)about/press(/*path)(/)":"archive","(nl/)over-ons/pers(/*path)(/)":"archive","(en/)(nl/)faq(/*path)(/)":"faq","(en/)(nl/)search-results(/*path)(/)":"searchresults","(en/)(nl/)zoek-resultaten(/*path)(/)":"searchresults","(en/)(nl/)my-trip(/*path)(/)":"mytrip","(en/)(nl/)mijn-trip(/*path)(/)":"mytrip","(en/)visit/visitor-info(/*path)(/)":"page","(nl/)bezoek/bezoek-info(/*path)(/)":"page","(en/)discover/our-buildings(/*path)(/)":"page","(nl/)ontdek/onze-gebouwen(/*path)(/)":"page","(en/)learn/frans-hals(/*path)(/)":"page","(nl/)verdiep/frans-hals(/*path)(/)":"page","(en/)support/benefactors(/*path)(/)":"page","(nl/)steun/begunstigers(/*path)(/)":"page","(en/)support/memberships(/*path)(/)":"page","(nl/)steun/word-lid(/*path)(/)":"page","(en/)support/donate(/*path)(/)":"page","(nl/)steun/doneer(/*path)(/)":"page","(en/)support/anbi(/*path)(/)":"page","(nl/)steun/anbi(/*path)(/)":"page","(en/)curators(/)":"page","(nl/)curatoren(/)":"page","(en/)discover/about(/*path)(/)":"page","(nl/)ontdek/over-ons(/*path)(/)":"page","*path":"page"}),initialize:function(){this.urlHistory=[],this.firstRoute={url:r.Backbone.history.fragment,handler:r.Backbone.history.fragment.replace("/","")}},onRoute:function(t,e,i){this.currentRootPath=i&&i.length>0?r.Backbone.history.fragment.replace(new RegExp(i[0]+"/?$"),""):r.Backbone.history.fragment;var n=window.location.hash;history.pushState&&n&&(this.currentHash=n,a.basic.trigger("deeplink",n.substr(1))),this.urlHistory.push({url:r.Backbone.history.fragment,handler:t,path:e}),s["default"].trackPageView(),this.urlHistory.length>1&&a.basic.trigger("app:pagechange")},current:function(){return void 0,this.urlHistory.length>0&&this.urlHistory[this.urlHistory.length-1]},previous:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(this.urlHistory.length>1){var e=this.urlHistory[this.urlHistory.length-2].url;r.Backbone.history.navigate(e,{trigger:!0})}else r.Backbone.history.navigate(t,{trigger:!0})}});i["default"]=l},{"./_core":1,utils:65,vent:66}],65:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/slicedToArray"),o=n(r),s=t("babel-runtime/core-js/get-iterator"),a=n(s),l=t("babel-runtime/core-js/object/keys"),u=n(l),c=t("babel-runtime/core-js/json/stringify"),h=n(c),f=t("babel-runtime/helpers/typeof"),d=n(f),p=t("babel-runtime/core-js/promise"),g=n(p),m=t("core"),v=t("sniffer"),y=n(v),_=t("Functions"),b={html:document.documentElement,body:document.body,view:document.getElementById("js-page-view"),width:window.innerWidth,height:window.innerHeight,myAccountMobileMenuScrollValue:0,sniff:y["default"],is:{get touch(){return"ontouchstart"in document.documentElement},get retina(){var t="(-webkit-min-device-pixel-ratio: 1.5),\n                                (min--moz-device-pixel-ratio: 1.5),\n                                (-o-min-device-pixel-ratio: 3/2),\n                                (min-resolution: 1.5dppx)";return!!(window.devicePixelRatio>1||window.matchMedia&&window.matchMedia(t).matches)}},js:{ajax:function(t){return new g["default"](function(e,i){if(!t.method)return void 0;t.headers||(t.headers={"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}),t.credentials||(t.credentials="same-origin");var n=t.url||BIA.AJAX_URL;if(t.body){var r="object"==(0,d["default"])(t.body)?b.js.serialize(t.body):t.body,o=t.method.toLowerCase();"post"===o?"FormData"===t.body.constructor.name?t.headers={}:t.body=r:"get"===o&&(delete t.body,n.includes("?")?n+=n.endsWith("&")||n.endsWith("?")?"":"&":0!==r.indexOf("?")&&(n+="?"),n+=r)}fetch(n,t).then(function(t){var n=t.headers.get("content-type"),r=function(t){return n.indexOf(t)!==-1};t.ok&&n?e(r("application/json")?t.json():r("text/")?t.text():r("form-data")?t.formData():r("image/")?t.blob():r("audio/")||r("video/")||r("application/ogg")?t.arrayBuffer():t):(void 0,i(t))})["catch"](function(t){void 0,i(t)})})},xhr:function x(t){var x=new XMLHttpRequest,e=t.method||"POST",i=t.url||BIA.AJAX_URL,n=t.contentType||"application/x-www-form-urlencoded; charset=UTF-8",r=function(t){var e=!1;return 200===x.status?e="json"===x.responseType?x.response:JSON.parse(x.responseText):void 0,e},o=function(t){void 0},s=function(){void 0};return x.open(e,i,!0),x.setRequestHeader("Content-Type",n),x.onload=r,x.onerror=o,x.onabort=s,x.send((0,h["default"])(t.body)),x.done=function(t){return x.addEventListener("load",function(){var e=r();t(e)}),x},x},inView:function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.height,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return i=Math.round(i-t),n=!!n&&Math.round(n-t),i&&n?i<r&&n>o:i&&!n?i<r:!i&&n?n>0:void 0},getFragment:function(t){return t.replace(window.location.origin,"")},crossBorder:function(t){var e={width:window.innerWidth,time:0,message:!1};return function(){var i=Date.now(),n=window.innerWidth,r=(e.width-t)*(n-t)<0;return r=e.message=!!r&&(n<e.width?"under":"over"),e.width=n,e.time=i,r}},clamp:function(t,e,i){return Math.min(i,Math.max(e,t))},getTranslateValue:function(t,e){var i=window.getComputedStyle(t).transform,n=0,r=0;if(i&&"none"!=i){var o=i.replace(/[^0-9\-.,]/g,"").split(",");n=o[12]||o[4],r=o[13]||o[5]}return"x"==e?parseInt(n):"y"==e?parseInt(r):{x:parseInt(n),y:parseInt(r)}},serialize:function(t){return(0,u["default"])(t).reduce(function(e,i){return e.push(i+"="+encodeURIComponent(t[i])),e},[]).join("&")},map:function(t,e,i){return e[0]+(i-t[0])*(e[1]-e[0])/(t[1]-t[0])},scrollLock:{locked:!1,toggle:function(t){t?(document.body.classList.add("lock-scroll"),document.body.addEventListener("touchmove",this.preventTouchMove,!1),this.locked=!0):t||(document.body.classList.remove("lock-scroll"),document.body.removeEventListener("touchmove",this.preventTouchMove,!1),this.locked=!1)},preventTouchMove:function(t){for(var e=document.querySelectorAll(".allow-touch-scroll"),i=t.target,n=!0,r=0;r<e.length;r++)if(e[r].contains(i)){n=!1;break}n&&t.preventDefault()}},setCookie:function(t,e,i){var n=new Date;n.setTime(n.getTime()+60*i*1e3);var r="expires="+n.toUTCString();document.cookie=t+"="+e+";"+r+";path=/"},getCookie:function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie),n=i.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}},css:function(t,e){if(t)if(Array.isArray(t)||t instanceof NodeList)t.forEach(function(t){b.css(t,e)});else{var i=!0,n=!1,r=void 0;try{for(var s,l=(0,a["default"])((0,_.entries)(e));!(i=(s=l.next()).done);i=!0){var u=(0,o["default"])(s.value,2),c=u[0],h=u[1];t.style[c]=h}}catch(f){n=!0,r=f}finally{try{!i&&l["return"]&&l["return"]()}finally{if(n)throw r}}}},setLoading:{init:function(){this.loadingTL=new TimelineMax({pause:!0,repeat:-1})},start:function(){b.body.classList.add("is-loading")},stop:function(){b.body.classList.remove("is-loading")}},trackPageView:function(){this.tracking.googleAnalytics()},tracking:{googleAnalytics:function(){"undefined"!=typeof ga&&(ga("set","page",window.location.pathname),ga("send","pageview"))},gtmTrackAddToBag:function(t){"undefined"!=typeof datalayer&&dataLayer.push({event:"addToCart",ecommerce:{currencyCode:b.getSerializedArrayValue(t,"tag_currency"),add:{products:[{id:b.getSerializedArrayValue(t,"product_id"),price:b.getSerializedArrayValue(t,"tag_price"),quantity:b.getSerializedArrayValue(t,"quantity")}]}}})},gtmTrackCheckout:function(t){"undefined"!=typeof datalayer&&dataLayer.push(t)}},getSerializedArrayValue:function(t,e){return t=m._.indexBy(t,"name"),t.hasOwnProperty(e)?t[e].value:""},getScrollbarWidth:function(t){return t.offsetWidth-t.clientWidth},getRgb:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e||(e=/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/i.exec(t)),e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}};i["default"]=b},{Functions:50,"babel-runtime/core-js/get-iterator":94,"babel-runtime/core-js/json/stringify":96,"babel-runtime/core-js/object/keys":102,"babel-runtime/core-js/promise":104,"babel-runtime/helpers/slicedToArray":113,"babel-runtime/helpers/typeof":115,core:1,sniffer:619}],66:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0}),i.account=i.basic=void 0;var r=t("backbone.radio"),o=n(r),s=o["default"].channel("basic"),a=o["default"].channel("account");i.basic=s,i.account=a},{"backbone.radio":118}],67:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("vent"),s=t("utils"),a=n(s),l=t("raf-scroll"),u=n(l),c=t("../behaviors/modal"),h=n(c),f=t("./base/defaultWithRegion"),d=n(f),p=d["default"].extend({ui:r._.extend({categoriesMenu:".categories-menu",categoriesMenuInner:".categories-menu__inner",footer:".footer",bubbleLinks:".categories-menu__item",bubbleCanvas:".bubble-canvas",readMoreBtn:".read-more-btn",readLessBtn:".read-more-content__close-btn",readMoreContent:".read-more-content",searchToggle:".categories-menu__item--search",noSidebarLink:".has-no-sidebar"},d["default"].prototype.ui),events:r._.extend({"click @ui.noSidebarLink":"hideAndResetSidebar","click @ui.bubbleLinks":"toggleCategory","click @ui.readMoreBtn":"toggleReadMore","click @ui.readLessBtn":"toggleReadMore","click @ui.searchToggle":"toggleSearchOverlay"},d["default"].prototype.events),behaviors:{Modal:h["default"]},initialize:function(){d["default"].prototype.initialize.call(this),this.rafScroll=this.rafScroll.bind(this)},addEvents:function(){d["default"].prototype.addEvents.call(this)},animateIn:function(){d["default"].prototype.animateIn.call(this)},animateInEnd:function(){d["default"].prototype.animateInEnd.call(this),this.cacheValues(),u["default"].add(this.rafScroll),this.el.classList.add("in-view")},animateOut:function(){d["default"].prototype.animateOut.call(this),u["default"].remove(this.rafScroll)},debouncedResize:function(){void 0,this.cacheValues()},toggleReadMore:function(){this.el.classList.toggle("read-more-visible"),this.debouncedResize()},rafScroll:function(t){this.menuCache.footerTop-t.scrollY<a["default"].height?this.menuCache.isFixed&&(this.ui.categoriesMenu[0].classList.remove("is-fixed"),this.menuCache.isFixed=!1):this.menuCache.isFixed||(this.ui.categoriesMenu[0].classList.add("is-fixed"),this.menuCache.isFixed=!0)},cacheValues:function(){var t=window.pageYOffset,e=this.ui.footer[0].getBoundingClientRect();void 0,this.menuCache={footerTop:e.top+t,isFixed:!0}},hideAndResetSidebar:function(t){o.basic.trigger("sidebar:reset",t)},toggleSearchOverlay:function(){this.el.classList.add("has-search-overlay")}});i["default"]=p},{"../_core":1,"../behaviors/modal":3,"./base/defaultWithRegion":73,"raf-scroll":57,utils:65,vent:66}],68:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("default"),s=n(o),a=t("config"),l=n(a),u=t("utils"),c=n(u),h=t("raf-scroll"),f=n(h),d=s["default"].extend({ui:r._.extend({detailsInner:".artist-details__inner",readMore:".js-read-more",footer:".footer"},s["default"].prototype.ui),events:r._.extend({"click @ui.readMore":"expandDescription"},s["default"].prototype.events),initialize:function(){s["default"].prototype.initialize.call(this),this.rafScroll=this.rafScroll.bind(this)},addEvents:function(){s["default"].prototype.addEvents.call(this)},removeEvents:function(){s["default"].prototype.removeEvents.call(this)},animateIn:function(){s["default"].prototype.animateIn.call(this)},animateInEnd:function(){s["default"].prototype.animateInEnd.call(this),this.el.classList.add("in-view"),c["default"].width>=l["default"].breakpoints.medium&&(this.cacheValues(),f["default"].add(this.rafScroll.bind(this)))},animateOut:function(){this.el.style.zIndex="-2",s["default"].prototype.animateOut.call(this)},destroy:function(){s["default"].prototype.destroy.call(this)},debouncedResize:function(){s["default"].prototype.debouncedResize.call(this),c["default"].width>=l["default"].breakpoints.medium&&(this.ui.detailsInner[0].classList.remove("is-fixed"),this.ui.detailsInner[0].classList.remove("is-bottom"),this.detailsBounds.isBottom=!1,this.detailsBounds.isSticky=!1,this.cacheValues())},cacheValues:function(){var t=window.pageYOffset,e=this.ui.detailsInner[0].getBoundingClientRect();this.detailsBounds={el:this.ui.detailsInner[0],top:e.top+t,bottom:e.bottom+t,isSticky:!1,isBottom:!1};var i=this.ui.footer[0].getBoundingClientRect();this.footerBounds={el:this.ui.footer[0],top:i.top+t}},rafScroll:function(t){this.footerBounds.top-t.scrollY<c["default"].height?this.detailsBounds.isBottom||(this.detailsBounds.el.classList.add("is-bottom"),this.detailsBounds.isBottom=!0):this.detailsBounds.bottom-t.scrollY<c["default"].height?(this.detailsBounds.isSticky||(this.detailsBounds.isSticky=!0,this.detailsBounds.el.classList.add("is-fixed")),this.detailsBounds.isBottom&&(this.detailsBounds.el.classList.remove("is-bottom"),this.detailsBounds.isBottom=!1)):this.detailsBounds.isSticky&&(this.detailsBounds.isSticky=!1,this.detailsBounds.el.classList.remove("is-fixed"))},expandDescription:function(t){t.preventDefault(),t.currentTarget.remove(),this.el.classList.add("full-description")}});i["default"]=d},{"../_core":1,config:47,"default":71,"raf-scroll":57,utils:65}],69:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/core-js/get-iterator"),o=n(r),s=t("babel-runtime/helpers/toConsumableArray"),a=n(s),l=t("../_core"),u=t("default"),c=n(u),h=t("config"),f=n(h),d=t("utils"),p=n(d),g=t("color-thief"),m=n(g),v=t("../behaviors/modal"),y=n(v),_=t("vent"),b=t("raf-scroll"),x=n(b),w=c["default"].extend({ui:l._.extend({image:".js-main-img",imageInner:".js-main-img-inner",highlightedArea:".js-highlighted-area",highlightedAreaMobile:".js-highlighted-area-mobile",mobileHighlightedAreaHeader:".js-highlighted-area-mobile-header",mobileHighlightedAreaImage:".js-highlighted-area-mobile-img",indicator:".js-indicator",splitscreen:".js-splitscreen",info:".js-detail-wrapper",infoTitle:".js-detail-title",infoArtist:".js-detail-artist",infoCopy:".js-detail-copy",scrollableArea:".js-scrollable-area",buyBtn:".sidebar__btn"},c["default"].prototype.ui),events:l._.extend({"click @ui.image":"zoomImage","mousemove @ui.image":"mouseMove","click @ui.highlightedArea":"openHighlightedArea","click @ui.mobileHighlightedAreaHeader":"closeHighlightedArea"},c["default"].prototype.events),behaviors:{Modal:y["default"]},initialize:function(){var t=app.router.current();t!==!1&&(this.fromCollectionOverview="collection"==t.handler),this.isAnimatedIn=!1,this.pageScroll=this.pageScroll.bind(this),this.halfWindowHeight=p["default"].height/2,this.updateImagePos=this.updateImagePos.bind(this),c["default"].prototype.initialize.call(this),this.fromCollectionOverview&&(this.preventTransitionElement=!0,this.el.classList.add("from-overview")),this.listenTo(_.basic,"menu:updateColor",this.updateColor)},onDataLoaded:function(){void 0,this.resize(),this.mainImgSrc=this.ui.imageInner[0].getAttribute("data-mainimg"),void 0,this.mainImg=new Image,this.mainImg.src=this.mainImgSrc,""!==this.mainImgSrc&&(this.preloadData=[this.mainImgSrc])},addEvents:function(){this.updateHeaderColor(),c["default"].prototype.addEvents.call(this)},removeEvents:function(){c["default"].prototype.removeEvents.call(this)},animateIn:function(){var t=this;void 0,this.fromCollectionOverview?(void 0,window.scrollTo(0,0),this.el.style.opacity=1,this.el.style.visibility="visible",this.el.classList.remove("from-overview"),this.animateInEnd()):(TweenMax.from(this.el,.65,{opacity:0}),c["default"].prototype.animateIn.call(this)),l._.delay(function(){t.el.classList.add("is-ready")},900),app.router.urlHistory.length>1&&document.body.classList.add("has-link-back")},animateInEnd:function(){c["default"].prototype.animateInEnd.call(this)},updateHeaderColor:function(){var t=window.brightnessimg,e=document.createElement("img");e.setAttribute("src",t),e.onload=function(t){var i=void 0,n=new m["default"];i=n.getColor(e);var r=Math.sqrt(i[0]*i[0]*.241+i[1]*i[1]*.691+i[2]*i[2]*.068),o=r>160?"dark":"light";p["default"].body.setAttribute("data-brightness",o)}},getCache:function(){var t=this;this.highlightedAreas=[],p["default"].width<=f["default"].breakpoints.medium&&[].concat((0,a["default"])(this.ui.mobileHighlightedAreaImage)).forEach(function(t){var e=t.querySelector(".js-line"),i=t.getBoundingClientRect().height-(e.getBoundingClientRect().bottom-.16*p["default"].width),n=i+.08*p["default"].width;e.style.bottom=-n+"px",e.style.height=n+"px"}),[].concat((0,a["default"])(this.ui.highlightedArea)).forEach(function(e,i){var n=e.getAttribute("data-pos").split(","),r=e.getBoundingClientRect();t.highlightedAreas[i]={element:e,index:i,boundingRect:{top:r.top+window.pageYOffset,bottom:r.bottom+window.pageYOffset,height:r.height},zoom:parseInt(e.getAttribute("data-zoom")),zoomStartingPoint:e.querySelector(".js-highlighted-title").getBoundingClientRect().bottom+window.pageYOffset,maxZoomPoint:r.height/2,backgroundPos:[parseInt(n[0]),parseInt(n[1])],nextLine:e.querySelector(".js-line")}}),this.detailAnimationTrigger=this.ui.infoTitle[0].getBoundingClientRect().bottom-this.ui.infoTitle[0].getBoundingClientRect().height+window.pageYOffset,window.requestAnimationFrame(function(){t.maxScrollPoint=t.ui.scrollableArea[0].getBoundingClientRect().height}),this.zoomImageWidth=.7*this.ui.image[0].getBoundingClientRect().width,this.zoomImageHeight=.7*this.ui.image[0].getBoundingClientRect().height,this.initialHorizontalBGPos=void 0!==this.ui.imageInner[0].getAttribute("data-bgHorizonPos")?this.ui.imageInner[0].getAttribute("data-bgHorizonPos"):50,this.initalYPosImage=0},pageScroll:function(t){if(!this.ui.image[0].classList.contains("is-zoomed-in")){var e=t.scrollY+p["default"].height;if(this.ui.highlightedArea.length>0)if(t.scrollY<=p["default"].height)this.ui.image[0].classList.remove("is-absolute"),this.ui.image[0].classList.remove("allow-zoom"),this.translateImage(t,"splitscreen");else if(t.scrollY>p["default"].height&&e<=this.highlightedAreas[0].boundingRect.top)this.ui.image[0].classList.remove("is-absolute"),this.ui.image[0].classList.add("allow-zoom"),this.ui.imageInner[0].style.right="50%";else if(e>this.highlightedAreas[0].boundingRect.top&&e<=this.maxScrollPoint){this.ui.image[0].classList.remove("is-absolute"),this.ui.image[0].classList.remove("allow-zoom");for(var i=0;i<this.highlightedAreas.length;i++)e>=this.highlightedAreas[i].zoomStartingPoint&&t.scrollY<this.highlightedAreas[i].zoomStartingPoint&&this.translateImage(t,"zoom",this.highlightedAreas[i])}else this.ui.image[0].classList.remove("allow-zoom"),this.ui.image[0].classList.add("is-absolute");else t.scrollY<=p["default"].height?(this.ui.image[0].classList.remove("is-absolute"),this.ui.image[0].classList.remove("allow-zoom"),this.translateImage(t,"splitscreen")):e<=this.maxScrollPoint?(this.ui.image[0].classList.remove("is-absolute"),this.ui.image[0].classList.add("allow-zoom"),this.ui.imageInner[0].style.right="50%"):(this.ui.image[0].classList.remove("allow-zoom"),this.ui.image[0].classList.add("is-absolute"));e>=this.detailAnimationTrigger?this.animateDetailIn(!0):this.animateDetailIn(!1)}},translateImage:function(t,e,i){var n=t.scrollY,r=void 0,o=void 0,s=void 0,a=void 0,l=void 0,u=void 0,c=void 0;switch(e){case"splitscreen":var h=this.mainImg.width,f=this.mainImg.height,d=h/f,g=document.querySelector(".splitscreen"),m=g.clientWidth,v=g.clientHeight,y=m/v,_=v*h/f,b=100*_/m;r=p["default"].js.clamp(0,p["default"].height,n),o=p["default"].js.map([0,p["default"].height],[100,0],r),a=p["default"].js.map([0,p["default"].height],[0,50],r),c=p["default"].js.map([0,p["default"].height],[0,20],r),s=p["default"].js.map([0,p["default"].height],[0,.3],r);var x=100*o/100+100;d>y?(document.querySelector(".single-art .splitscreen__img--inner").style.width=2*b+"%",this.ui.imageInner[0].style.width=2*b+"%",document.querySelector(".single-art .splitscreen__img--inner").style.height="",x=(2*b-100)*o/100+100):(document.querySelector(".single-art .splitscreen__img--inner").style.height="",this.ui.imageInner[0].style.width="",document.querySelector(".single-art .splitscreen__img--inner").style.width="",x=100*o/100+100),this.ui.image[0].style.transform="scale("+(1-s)+")",this.ui.imageInner[0].style.backgroundSize="100%",this.ui.imageInner[0].style.backgroundPosition=a+"%"+this.initialHorizontalBGPos+"%",this.ui.imageInner[0].style.width=Math.floor(x)+"%",this.ui.imageInner[0].style.right=a+"%",this.ui.splitscreen[0].style.transform="translate3d(0px, "+c+"%, 0px)",this.ui.image[0].style.overflow="hidden";break;case"zoom":void 0,this.ui.image[0].style.overflow="visible";var w=t.scrollY+p["default"].height-i.zoomStartingPoint,C=void 0!==this.highlightedAreas[i.index-1]?this.highlightedAreas[i.index-1].zoom:100,E=void 0!==this.highlightedAreas[i.index-1]?this.highlightedAreas[i.index-1].backgroundPos:[50,50],S=(C-i.zoom)*-1,T=(E[0]-i.backgroundPos[0])*-1,I=(E[1]-i.backgroundPos[1])*-1;r=p["default"].js.clamp(0,i.maxZoomPoint,w),o=p["default"].js.map([0,i.maxZoomPoint],[0,S],r),l=p["default"].js.map([0,i.maxZoomPoint],[0,T],r),u=p["default"].js.map([0,i.maxZoomPoint],[0,I],r),0===i.index&&(s=p["default"].js.map([0,i.maxZoomPoint],[0,.3],r),this.ui.image[0].style.transform="scale("+(.7+s)+")"),this.ui.imageInner[0].style.backgroundSize=C+o+"%",this.ui.imageInner[0].style.backgroundPosition=E[0]+l+"% "+(E[1]+u)+"%",w<=i.maxZoomPoint?this.setIndicator(this.ui.indicator[i.index],!1):w>i.maxZoomPoint&&w<=i.boundingRect.height-50?this.setIndicator(this.ui.indicator[i.index],!0):this.setIndicator(this.ui.indicator[i.index],!1)}},setIndicator:function(t,e){t.classList.toggle("visible",e)},zoomImage:function(t){if(t.currentTarget.classList.contains("allow-zoom")){this.rafZoom&&(window.cancelAnimationFrame(this.rafZoom),this.rafZoom="undefined");var e=t.currentTarget,i=e.classList.contains("is-animating");
e.classList.toggle("invert-cursor"),e.classList.contains("is-zoomed-out")?TweenMax.to(this.ui.image[0],.95,{scale:i?.7:1,top:i?"auto":"-50%",left:i?.04*p["default"].width:0,width:i?p["default"].width/2-.02*p["default"].width:p["default"].width,height:i?"100%":2*p["default"].height,ease:Expo.easeOut,onComplete:function(){e.classList.remove("is-animating"),e.offsetWidth===p["default"].width&&(e.classList.remove("invert-cursor"),e.classList.remove("is-zoomed-out"),e.classList.add("is-zoomed-in"))}}):TweenMax.to(this.ui.image[0],.95,{scale:i?1:.7,top:i?"-50%":"auto",left:i?0:.04*p["default"].width,width:i?p["default"].width:p["default"].width/2-.02*p["default"].width,height:i?2*p["default"].height:"100%",ease:Expo.easeOut,onComplete:function(){e.classList.remove("is-animating"),TweenMax.set(e,{clearProps:"top, left, width, height"}),TweenMax.set(e.querySelector(".js-main-img-inner"),{clearProps:"x, y"}),e.offsetWidth<p["default"].width&&(e.classList.remove("invert-cursor"),e.classList.remove("is-zoomed-in"),e.classList.add("is-zoomed-out"))}}),p["default"].body.classList.toggle("has-zoom-open"),e.classList.toggle("is-animating"),TweenMax.to(this.ui.imageInner[0],.7,{y:0,ease:Expo.easeOut},0)}},updateColor:function(t){var e=!0,i=!1,n=void 0;try{for(var r,s=(0,o["default"])(this.ui.buyBtn);!(e=(r=s.next()).done);e=!0){var a=r.value;void 0;var l=a.dataset.color,u=[a.querySelector(".sidebar__btn__label"),a.querySelector(".static-svg svg"),a.querySelector(".animation-svg svg")],c=new TimelineLite({paused:!0});c.to(u,1,{color:l,stroke:l,ease:Power2.easeInOut},0),c.restart()}}catch(h){i=!0,n=h}finally{try{!e&&s["return"]&&s["return"]()}finally{if(i)throw n}}},mouseMove:function(t){!t.currentTarget.classList.contains("is-animating")&&t.currentTarget.classList.contains("allow-zoom")&&(t.currentTarget.classList.contains("is-zoomed-out")||(this.translateY=p["default"].js.map([p["default"].height*-1,p["default"].height],[-25,25],t.clientY-this.halfWindowHeight),this.rafZoom=window.requestAnimationFrame(this.updateImagePos)))},updateImagePos:function(t){var e=this.translateY;this.initalYPosImage=this.initalYPosImage+.85*(e-this.initalYPosImage),this.ui.imageInner[0].style.transform="translateY("+this.initalYPosImage.toFixed(2)+"%)",this.initialYPosImage=this.translateY},animateDetailIn:function(t){this.ui.info[0].classList.toggle("in-view",t)},openHighlightedArea:function(t){p["default"].width>=f["default"].breakpoints.medium||(l.Backbone.history.navigate(l.Backbone.history.getFragment(),{trigger:!1}),window.onpopstate=function(t){void 0},this.ui.highlightedAreaMobile[t.currentTarget.getAttribute("data-index")].classList.add("in-view"))},closeHighlightedArea:function(t){l.Backbone.history.navigate(l.Backbone.history.getFragment(),{trigger:!1}),t.currentTarget.parentNode.classList.remove("in-view")},animateOut:function(){this.el.style.zIndex="-2",x["default"].remove(this.pageScroll),c["default"].prototype.animateOut.call(this),p["default"].body.setAttribute("data-brightness","dark"),TweenMax.to(this.el,.65,{opacity:0})},animateOutEnd:function(){c["default"].prototype.animateOutEnd.call(this),document.body.classList.remove("has-link-back")},resize:function(){this.getCache(),p["default"].width<f["default"].breakpoints.medium?(x["default"].remove(this.pageScroll),this.animateDetailIn(!0)):x["default"].add(this.pageScroll)},destroy:function(){c["default"].prototype.destroy.call(this)}});i["default"]=w},{"../_core":1,"../behaviors/modal":3,"babel-runtime/core-js/get-iterator":94,"babel-runtime/helpers/toConsumableArray":114,"color-thief":51,config:47,"default":71,"raf-scroll":57,utils:65,vent:66}],70:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=n(o),a=t("utils"),l=n(a),u=t("vent"),c=t("components-factory"),h=n(c),f=t("webfontloader"),d=n(f),p=t("../header"),g=n(p),m=t("../footer"),v=n(m),y=t("../quicklinks-menu"),_=n(y),b=t("default"),x=n(b),w=t("../../regions/TransitionRegion"),C=n(w),E=t("../../behaviors/localization-switch"),S=n(E),T=t("js-cookie"),I=(n(T),r.Marionette.View.extend({template:!1,ui:{main:"#js-page-view",pageTransitionCurtains:".page-transition-curtains",cookieBar:"[data-component=cookie]",notificationBar:"[data-component=notification-bar]"},events:{"click a[href]":"hijackLink"},behaviors:{LocalizationSwitch:S["default"]},initialize:function(t){this.addConfig(),window.isNotLanding=!0,this.headerView=(new g["default"]).render(),this.footerView=(new v["default"]).render(),this.quicklinksMenuView=(new _["default"]).render(),this.addRegions({mainViewRegion:{selector:t.mainViewElement,regionClass:C["default"]}}),this.bindUIElements();var e=this.getRegion("mainViewRegion");this.listenTo(e,"before:transitionIn",this.onBeforeViewTransitionIn),this.listenTo(e,"before:show",this.onBeforeViewShow),this.listenTo(e,"show",this.onViewShow),this.listenTo(u.basic,"app:navigate",this.navigate),this.listenTo(u.basic,"app:pagechange",this.checkCartNeedsRefresh),this.listenTo(u.basic,"url:replace",this.replaceUrl),this.listenTo(u.basic,"app:fakePageRefresh",this.fakePageRefresh),this.resize=this.resize.bind(this),this.debouncedResize=r._.debounce(this.debouncedResize,150),window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize)},addConfig:function(){},onRender:function(){void 0;var t=[];return this.ui.cookieBar.length&&t.push(this.ui.cookieBar[0]),this.ui.notificationBar.length&&t.push(this.ui.notificationBar[0]),t.length&&(this.components=new h["default"],this.components.initComponents({components:t})),this},loadFonts:function(t){void 0,d["default"].load({monotype:{projectId:s["default"].fontsProjectId},active:function(){return void 0,t&&t.call(),!0},loading:function(t){},fontloading:function(t,e){},fontactive:function(t,e){},fontinactive:function(t,e){},inactive:function(e){return void 0,t&&t.call(),!0}})},hijackLink:function(t){if(!t.metaKey&&!t.ctrlKey){var e=t.currentTarget;e.classList.contains("no-route")||e.hasAttribute("download")||this.navigate(e,t)}},navigate:function(t,e){var i=t.href||"",n=t.hasAttribute("target")&&t.getAttribute("target").indexOf("_blan")!==-1,o=window.location.origin;if(i.indexOf("://")!==-1&&i.indexOf(o)===-1||n)return window.open(i,"_blank"),e.preventDefault();if(i==window.location.href)return u.basic.trigger("menu:close"),u.basic.trigger("header:closeMenu"),e.preventDefault();if("mailto"==i.substr(0,6)||"tel:"==i.substr(0,4))return!0;if((0==i.indexOf(o)||i.indexOf("://")==-1)&&!n&&"#"!=i.substr(0,1)){e.preventDefault(),u.basic.trigger("header:closeMenu");var s=i.replace(o,"");r.Backbone.history.navigate(s,{trigger:!0})}},toNewPageAnimation:function(t,e){var i=this;if(t.hasAttribute("data-page-colorset")){var n=JSON.parse(t.getAttribute("data-page-colorset"));this.ui.pageTransitionCurtains[0].style.color=n.primary,this.ui.pageTransitionCurtains[0].classList.add("is-closed"),setTimeout(function(){l["default"].html.style.background=n.primary,i.ui.pageTransitionCurtains[0].classList.remove("is-closed")},500),u.basic.trigger("menu:updateColor",n.primary)}},replaceUrl:function(t){var e=t.replace(window.location.origin,"");r.Backbone.history.navigate(e,{trigger:!1})},fakePageRefresh:function(t){this.listenToOnce(this.getRegion("mainViewRegion").currentView,"view:animateOutEnd",t),void 0,u.basic.trigger("app:pagechange"),u.basic.trigger("play:closePlaySections"),this.getRegion("mainViewRegion").show(new x["default"])},onBeforeViewTransitionIn:function(t){},onBeforeViewShow:function(t){},onViewShow:function(t){},checkCartNeedsRefresh:function(){void 0,s["default"].cartNeedsRefresh&&u.basic.trigger("cart:refresh"),s["default"].cartNeedsRefresh=!1},resizeTexts:["Repainting artworks","Researching new layouts","Choosing new font sizes","Mixing new colors"],resize:function(){if(void 0,l["default"].width=window.innerWidth,l["default"].height=window.innerHeight,!this.isResizing&&!l["default"].sniff.isDevice){this.isResizing=!0;var t=Math.floor(Math.random()*this.resizeTexts.length),e=l["default"].body.querySelector(".resizing__title");e.innerHTML=this.resizeTexts[t],l["default"].body.classList.add("is-resizing")}this.getRegion("mainViewRegion").currentView&&this.getRegion("mainViewRegion").currentView.resize(),this.debouncedResize(),u.basic.trigger("app:resize")},debouncedResize:function(){this.isResizing=!1,l["default"].body.classList.remove("is-resizing"),this.getRegion("mainViewRegion").currentView&&this.getRegion("mainViewRegion").currentView.debouncedResize(),u.basic.trigger("app:debouncedresize")}}));i["default"]=I},{"../../behaviors/localization-switch":2,"../../regions/TransitionRegion":63,"../footer":78,"../header":79,"../quicklinks-menu":87,"components-factory":49,config:47,core:1,"default":71,"js-cookie":596,utils:65,vent:66,webfontloader:786}],71:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("babel-runtime/helpers/slicedToArray"),a=n(s),l=t("babel-runtime/helpers/extends"),u=n(l),c=t("core"),h=t("config"),f=n(h),d=t("utils"),p=n(d),g=t("vent"),m=t("../../models/pageData"),v=n(m),y=t("components-factory"),_=n(y),b=t("raf-scroll"),x=n(b),w=t("./lazy-parallax.js"),C=n(w),E=c.Marionette.View.extend((0,u["default"])({},C["default"].functions,{template:c._.noop,ui:(0,u["default"])({components:"[data-component]"},C["default"].ui,{sections:"section[data-color], .footer[data-color]"}),events:{},behaviors:{},waitForOldView:!0,waitForDataLoaded:!0,initialize:function(){this.options.url&&(this.cache={},this.state={},this.preloadData=[],this.animatedOut=!1,this.hasSubView=!1,this.pageData=null,this.preventTransitionElement=!1,this.components=new _["default"](this),this.createBound(),this.fetchData(),this.getSlug(),c.Marionette.View.prototype.initialize.call(this),this.listenTo(g.basic,"app:pagechange",this.pageChange),this.listenTo(g.basic,"lazy:updateCache",this.updateLazyCache))},createBound:function(){var t=this;["animateIn","animateInEnd","animateOut","animateOutEnd","resize","lazyLoop","parallaxLoop","animateInViewLoop","checkSectionColor","updateLazyCache"].forEach(function(e){t[e]=t[e].bind(t)})},getSlug:function(){this.vars={},this.vars.url=c.Backbone.history.getFragment();var t=this.vars.url.split("?"),e=(0,a["default"])(t,2),i=e[0],n=e[1];this.vars.url=i,n=void 0===n?"":n,i=i.replace(/\/$/,"").replace(/\//g,"-"),this.vars.lang=i.substring(0,2),i=i.slice(3),this.vars.frag=i,this.vars.query=n,this.vars.slug=i||n?"art"==i.substring(0,3)?"artpiece":i:"home"},fetchData:function(){var t=this;this.pageData=new v["default"]({viewSelector:this.options.viewSelector}),void 0,this.options.isInitialView?this.dataLoaded(!1):this.pageData.fetch({url:this.options.url,data:{previousURL:app.router.current().url,secondary:"undefined"!=typeof this.secondary&&this.secondary},method:"post",context:this,dataType:"html",success:function(){},error:function(e,i){404==i.status&&t.pageData.set(t.pageData.parse(i.responseText))},complete:function(e){var i=(0,c.$)(e.responseText).filter('link[rel="alternate"][hreflang]')||(0,c.$)(e.responseText).find('link[rel="alternate"][hreflang]');t.refreshAlternativeRels(i),t.dataLoaded(!0)}})},dataLoaded:function(t){var e=this;void 0,t||(void 0,this.$el=(0,c.$)(this.el),this.pageData.set(this.pageData.parse(this.options.isSubView?this.options.initialContent:(0,c.$)("html").html()))),(t||this.options.isSubView)&&this.$el.addClass(this.pageData.get("classNames")).html(this.pageData.get("viewData").html()),c._.isFunction(this.onViewDataAdded)&&this.onViewDataAdded(),void 0!==this.pageData.get("title")&&(document.title=this.pageData.get("title")),this.bindUIElements(),c._.isFunction(this.onDataLoaded)&&this.onDataLoaded(),this.components.initComponents({components:this.ui.components}),this.addEvents(),this.preloadContent(function(){e.isDataLoaded=!0,e.trigger("view:dataLoaded")}),this.preventTransitionElement||(this.transitionElement=this.el.classList.contains("sub-view__page")?this.el.parentNode.parentNode.parentNode:this.el,this.transitionElement.querySelector(".js-page-inner").classList.contains("prevent-transition")&&(this.transitionElement.querySelector(".js-page-inner").classList.add("show"),window.scrollTo(0,0)))},preloadContent:function(t){void 0;var e=0,i=this.preloadData.length;if(i>0)for(var n=0;n<i;n++){var r=function(n){e++,void 0,e==i&&(void 0,t())};(0,c.$)("<img>").on("load",r).on("error",r).attr("src",this.preloadData[n])}else t()},addEvents:function(){},removeEvents:function(){x["default"].remove(this.checkSectionColor)},animateIn:function(){var t=this;if(void 0,this.transitionElement=this.el.classList.contains("sub-view__page")?this.el.parentNode.parentNode.parentNode:this.el,this.transitionElement.querySelector(".js-transition-element")&&!this.options.isInitialView){var e=0==Math.floor(Math.random()*Math.floor(2))?"horizontal":"vertical",i=0==Math.floor(Math.random()*Math.floor(2))?"from-center":"to-center";[].concat((0,o["default"])(this.transitionElement.querySelectorAll(".js-transition-element .page-transition-element"))).forEach(function(t){t.classList.add(e,i)}),requestAnimationFrame(function(){return t.transitionElement.querySelector(".js-transition-element").classList.add("show")})}this.vars&&p["default"].body.classList.add("is-"+this.vars.slug),p["default"].body.classList.remove("is-loading"),setTimeout(function(){window.scrollTo(0,0),t.animateInEnd()},350),g.basic.trigger("view:animateIn")},animateInEnd:function(){var t=this;this.updateBodyColor(),this.transitionElement=this.el.classList.contains("sub-view__page")?this.el.parentNode.parentNode.parentNode:this.el,this.transitionElement.querySelector(".js-page-inner").classList.add("show"),setTimeout(function(){if(t.setLazyParallaxCache(),t.lazyCache&&x["default"].add(t.lazyLoop),t.parallaxCache&&x["default"].add(t.parallaxLoop),t.animateInViewCache&&x["default"].add(t.animateInViewLoop),t.setSectionCache(),x["default"].add(t.checkSectionColor),t.el.classList.add("in-view"),t.trigger("view:animateInEnd"),!t.hasSubView){var e=void 0;"function"==typeof Event?e=new Event("bia_gf_init"):(e=document.createEvent("Event"),e.initEvent("bia_gf_init",!0,!0)),document.body.dispatchEvent(e)}t.components.componentViews.forEach(function(t){"undefined"!=typeof t.initMap&&t.initMap()})},300)},updateLazyCache:function(t,e){var i=c._.union(this.lazyCache,t,t);this.lazyCache=i,this.lazyCacheCount=i.length;var n=c._.union(this.animateInViewCache,e,e);this.animateInViewCache=n,this.animateInViewCacheCount=n.length},setSectionCache:function(){var t=this;this.sections=[],this.checkPoint=window.innerWidth<f["default"].breakpoints.medium?.8*p["default"].height:.45*p["default"].height,[].concat((0,o["default"])(this.ui.sections)).forEach(function(e){var i=e.getBoundingClientRect(),n={el:e,color:e.getAttribute("data-color"),top:i.top+window.pageYOffset};t.sections.push(n)})},checkSectionColor:function(t){for(var e=this.sections.length-1;e>=0;e--)if(this.sections[e].top-t.scrollY<this.checkPoint){this.currentColor&&this.currentColor==this.sections[e].color||(this.currentColor=this.sections[e].color,g.basic.trigger("menu:updateColor",this.currentColor));break}},updateBodyColor:function(){window.colorset&&(p["default"].html.style.background=window.colorset.top)},animateOut:function(){this.updateBodyColor(),this.vars&&p["default"].body.classList.remove("is-"+this.vars.slug),this.components.animateOut(),this.el.classList.remove("is-ready","in-view"),x["default"].remove(this.lazyLoop),this.animateInViewCache&&(x["default"].remove(this.animateInViewLoop),[].concat((0,o["default"])(document.querySelectorAll(".js-animate-in-view.is-in-view"))).forEach(function(t){void 0,(0,c.$)(t).hasClass("flickity-enabled")?TweenLite.to(t,.6,{opacity:0,ease:Power2.easeOut}):t.classList.remove("is-in-view")})),this.animateOutEnd()},animateOutEnd:function(){void 0,this.animatedOut=!0,this.trigger("view:animateOutEnd")},refreshAlternativeRels:function(t){(0,c.$)("html").find('head link[rel="alternate"][hreflang]').remove();t.each(function(){(0,c.$)("html head").append((0,c.$)(this))})},resize:function(){},debouncedResize:function(){void 0,this.components.debouncedResize(),this.setLazyParallaxCache(),this.setSectionCache()},onBeforeDestroy:function(){this.removeEvents(),this.components.destroyComponents()},destroy:function(){c.Marionette.View.prototype.destroy.call(this)}}));i["default"]=E},{"../../models/pageData":61,"./lazy-parallax.js":74,"babel-runtime/helpers/extends":110,"babel-runtime/helpers/slicedToArray":113,"babel-runtime/helpers/toConsumableArray":114,"components-factory":49,config:47,core:1,"raf-scroll":57,utils:65,vent:66}],72:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("../../_core"),a=t("vent"),l=t("default"),u=n(l),c=t("utils"),h=n(c),f=u["default"].extend({ui:s._.extend({introLink:".js-intro-link"},u["default"].prototype.ui),events:s._.extend({},u["default"].prototype.events),animateIn:function(){var t=this;void 0,this.categoriesMenuWrapper=document.querySelector(".categories-menu"),this.categoriesMenu=document.querySelector(".categories-menu__inner"),this.hasSidebar=!0,this.removeSidebar=!1,this.listenTo(a.basic,"sidebar:reset",this.checkForSidebar),u["default"].prototype.animateIn.call(this),setTimeout(function(){t.trigger("subview:ready")},300),this.ui.introLink.length>0&&this.ui.introLink[0].querySelector("a").addEventListener("click",function(t){[].concat((0,o["default"])(document.querySelectorAll(".sidebar__link > a"))).forEach(function(e){t.currentTarget.getAttribute("href")==e.getAttribute("href")&&(e.classList.add("make-active"),a.basic.trigger("sidebar:toggleActive"))})}),this.footerTop=document.querySelector("footer").getBoundingClientRect().top;var e=h["default"].view.querySelectorAll(".page-archive");void 0,e.length>0&&e[0].classList.remove("has-search-overlay")},animateInEnd:function(){this.elHeight=this.el.offsetHeight,this.subView=document.querySelector(".sub-view"),this.subView.style.minHeight="",u["default"].prototype.animateInEnd.call(this)},animateOut:function(){this.elHeight=this.el.offsetHeight,this.subView=document.querySelector(".sub-view"),this.subView.style.minHeight=this.elHeight+"px",this.toggleSidebar(),[].concat((0,o["default"])(this.el.querySelectorAll(".is-in-view"))).forEach(function(t){t.classList.remove("is-in-view")}),this.el.classList.remove("in-view"),window.pageYOffset+h["default"].height>this.footerTop&&TweenMax.to(window,.55,{scrollTo:0,ease:Expo.easeInOut}),u["default"].prototype.animateOut.call(this)},addEvents:function(){"undefined"!=typeof this.pageData.get("pageClassNames")&&""!==this.pageData.get("pageClassNames")&&this.trigger("subview:changePageClass",this.pageData.get("pageClassNames")),u["default"].prototype.addEvents.call(this)},toggleSidebar:function(){void 0!==this.categoriesMenuWrapper&&null!==this.categoriesMenuWrapper&&(this.removeSidebar?this.categoriesMenuWrapper.classList.add("hidden-categories-submenu"):this.categoriesMenuWrapper.classList.remove("hidden-categories-submenu"))},checkForSidebar:function(t){this.removeSidebar=t.currentTarget.classList.contains("has-no-sidebar")}});i["default"]=f},{"../../_core":1,"babel-runtime/helpers/toConsumableArray":114,"default":71,utils:65,vent:66}],73:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../../_core"),o=t("default"),s=n(o),a=t("config"),l=(n(a),t("utils")),u=(n(l),t("raf-scroll")),c=(n(u),t("../../regions/TransitionRegion")),h=n(c),f=t("./defaultSubView"),d=n(f),p=s["default"].extend({ui:r._.extend({},s["default"].prototype.ui),events:r._.extend({},s["default"].prototype.events),initialize:function(){s["default"].prototype.initialize.call(this),this.initialContent="",this.subView=null,this.hasSubView=!0,this.hasSidebar=!0},onViewDataAdded:function(){this.$el.find(".sub-view .sub-view__page").html("")},onDataLoaded:function(){void 0,this.addRegions({secondaryRegion:{selector:".sub-view",regionClass:h["default"]}}),this.initialContent=this.pageData.get("viewData").html(),this.changeSubView(this.options.url,!0)},changeSubView:function(t,e){var i=this;void 0;var n=".sub-view .sub-view__page",o=".sub-view__page";this.subView=new d["default"]({el:e?n:"",isInitialView:e,isSubView:!0,initialContent:e?this.initialContent:"",viewSelector:o,url:t}),this.options.isInitialView=!1,this.showChildView("secondaryRegion",this.subView),this.subView.on("view:animateInEnd",function(){return r._.defer(i.debouncedResize.bind(i))}),this.subView.on("view:animateInEnd",function(){return r._.defer(i.resize.bind(i))}),this.subView.on("view:animateInEnd",function(){var t=!1;"function"==typeof Event?t=new Event("bia_gf_init"):(t=document.createEvent("Event"),t.initEvent("bia_gf_init",!0,!0)),document.body.dispatchEvent(t)}),this.subView.on("subview:changePageClass",function(t){return r._.defer(i.changePageClass.bind(i,t))})},changePageClass:function(t){void 0;var e="";this.el.classList.contains("in-view")&&(e+=" in-view"),this.el.classList.contains("show-sidebar")&&(e+=" show-sidebar"),this.el.className=t+e},addEvents:function(){s["default"].prototype.addEvents.call(this)},removeEvents:function(){s["default"].prototype.removeEvents.call(this)},animateIn:function(){this.subViewEl=document.querySelector(".sub-view"),this.subViewEl.querySelector(".sub-view__page")&&(this.subViewEl.style.minHeight=this.subViewEl.querySelector(".sub-view__page").offsetHeight+"px"),s["default"].prototype.animateIn.call(this)},animateInEnd:function(){s["default"].prototype.animateInEnd.call(this)},animateOut:function(){var t=this.el.querySelectorAll(".sub-view__page");this.subView&&(t.length>0&&(t.length>1?t[1].style.minHeight=t[1].offsetHeight+"px":t[0].style.minHeight=t[0].offsetHeight+"px"),this.subView.destroy(),this.subView=null),this.el.style.zIndex="-2",s["default"].prototype.animateOut.call(this)},onDestroy:function(){this.emptyRegions(),void 0}});i["default"]=p},{"../../_core":1,"../../regions/TransitionRegion":63,"./defaultSubView":72,config:47,"default":71,"raf-scroll":57,utils:65}],74:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("utils"),l=n(a),u={ui:{lazyParallaxElements:'[data-component="lazy"], .js-parallax, .js-animate-in-view'},functions:{setLazyParallaxCache:function(){var t=this,e=window.pageYOffset;this.lazyCache=[],this.parallaxCache=[],this.animateInViewCache=[],this.ui.lazyParallaxElements&&"string"!=typeof this.ui.lazyParallaxElements&&0!==this.ui.lazyParallaxElements.length&&([].concat((0,o["default"])(this.ui.lazyParallaxElements)).forEach(function(i,n){var r=window.getComputedStyle(i).display,o=!i.classList.contains("js-parallax--medium-up")||i.classList.contains("js-parallax--medium-up")&&l["default"].width>=1024,a=i.hasAttribute("data-component")&&"lazy"===i.getAttribute("data-component"),u=i.classList.contains("js-parallax"),c=i.classList.contains("js-animate-in-view");if(u&&(i.style.transform="none"),"none"!=r&&o){var h=i.getBoundingClientRect(),f={el:i,height:h.height,top:h.top+e,bottom:h.bottom+e};if(a&&(f.lazy=i.classList.contains("prevent-lazyload")?null:(0,s.$)(i).data("lazy"),f.isLoading=!1,t.lazyCache.push(f)),u){var d=i.hasAttribute("data-direction")?i.getAttribute("data-direction"):"vertical";if(f.speed=i.hasAttribute("data-speed")?i.getAttribute("data-speed"):null,f.direction=d,i.hasAttribute("data-start")){var p=t.convertBounds(i.getAttribute("data-start"),i,h,e,d,!0);f.start=p.target,f.top=p.bound}if(i.hasAttribute("data-end")){var g=t.convertBounds(i.getAttribute("data-end"),i,h,e,d,!1);f.end=g.target,f.bottom=g.bound}f.lerp=f.start,f.lastLerp=-1,t.parallaxCache.push(f)}c&&(f.inView=!1,t.animateInViewCache.push(f))}}),this.lazyCacheCount=this.lazyCache.length,this.parallaxCacheCount=this.parallaxCache.length,this.animateInViewCacheCount=this.animateInViewCache.length)},convertBounds:function(t,e,i,n,r,o){var a={target:(o?i.top:i.bottom)+n,bound:(o?i.top:i.bottom)+n};if(t.indexOf("%")>-1)if("vertical"==r){var l=i.height/100*parseInt(t);a.target=l,a.bound=o?i.top+l+n:i.bottom-l+n}else a.target=i.width/100*parseInt(t);else if("parentTop"===t){var u=e.parentNode.getBoundingClientRect();a.target=u.top-i.top+n,a.bound=(o?u.top:u.bottom)+n}else if("parentBottom"===t){var c=e.parentNode.getBoundingClientRect();a.target=c.bottom-i.bottom+n,a.bound=(o?c.top:c.bottom)+n}else if(0==t.indexOf("top-#")||0==t.indexOf("top-.")){var h=(0,s.$)(e).closest(t.replace("top-",""));if(h.length>0){var f=h[0].getBoundingClientRect();a.target=f.top-i.top+n,a.bound=(o?f.top:f.bottom)+n}}else if(0==t.indexOf("bottom-#")||0==t.indexOf("bottom-.")){var d=(0,s.$)(e).closest(t.replace("bottom-",""));if(d.length>0){var p=d[0].getBoundingClientRect();a.target=p.bottom-i.bottom+n,a.bound=(o?p.top:p.bottom)+n}}else a.target=parseInt(t),"vertical"==r&&(a.bound=i.top+parseInt(t)+n);return a},lazyLoop:function(t){if(!(this.lazyCacheCount<=0))for(var e=this.lazyCacheCount-1;e>=0;e--){var i=this.lazyCache[e];i.lazy&&l["default"].js.inView(t.scrollY,i.el,i.top,i.bottom)&&(i.isLoading||(i.isLoading=!0,i.lazy.lazyload(i.bounding)),i.lazy.state.loaded&&(this.lazyCache.splice(e,1),this.lazyCacheCount--))}},parallaxLoop:function(t){if(0!==this.parallaxCacheCount)for(var e=0;e<this.parallaxCacheCount;e++){var i=this.parallaxCache[e];l["default"].js.inView(t.scrollY,i.el,i.top,i.bottom)&&(null!=i.speed?this.parallaxSpeed(i,t.scrollY):null!=i.start&&null!=i.end&&this.parallaxDistance(i,t.scrollY,!0))}},animateInViewLoop:function(t){if(0!==this.animateInViewCacheCount)for(var e=0;e<this.animateInViewCacheCount;e++){var i=this.animateInViewCache[e];l["default"].js.inView(t.scrollY,i.el,i.top)?i.inView||(i.el.classList.add("is-in-view"),i.inView=!0):i.inView&&(i.el.classList.remove("is-in-view"),i.inView=!1)}},parallaxSpeed:function(t,e){var i=e*t.speed;t.lerp+=.1*(i-t.lerp),this.parallaxTransform(t)},parallaxDistance:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=l["default"].js.map([Math.max(0,t.top-l["default"].height),t.bottom],[t.start,t.end],e);i&&(n=l["default"].js.clamp(n,Math.min(t.start,t.end),Math.max(t.start,t.end))),t.lerp+=.25*(n-t.lerp),this.parallaxTransform(t)},parallaxTransform:function(t){var e=t.lerp.toFixed(2),i=e===t.lastLerp?Math.round(t.lerp):t.lerp;t.lastLerp=e,"vertical"==t.direction?t.el.style.transform="translate3d(0,"+i+"px,0)":t.el.style.transform="translate3d("+i+"px,0,0)"}}};i["default"]=u},{"babel-runtime/helpers/toConsumableArray":114,core:1,utils:65}],75:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r,o=t("babel-runtime/helpers/defineProperty"),s=n(o),a=t("../_core"),l=t("vent"),u=t("default"),c=(n(u),t("./base/defaultWithRegion")),h=n(c),f=t("config"),d=n(f),p=t("utils"),g=n(p),m=t("paper"),v=(n(m),t("raf-scroll")),y=n(v),_=t("../behaviors/modal"),b=n(_);t("gsap-draggable");var x=h["default"].extend({ui:a._.extend((r={page:".page-content",menu:".layout-menu",menuItems:".layout-menu__item",filtersBar:".layout-filters",filtersContainer:".layout-filters__container",filtersWipe:".layout-filters__wipe",filtersItems:".layout-filters__item",sidebar:".layout-sidebar"},(0,s["default"])(r,"menuItems",".calendar-menu__item"),(0,s["default"])(r,"menuInner",".bubble-sidebar__container"),(0,s["default"])(r,"bubbleCanvas",".bubble-canvas"),(0,s["default"])(r,"filterLinks",".js-collection-filters-link"),(0,s["default"])(r,"eventCard",".js-item"),(0,s["default"])(r,"pageCurtainTop",".js-page-transition-top"),(0,s["default"])(r,"pageCurtainBottom",".js-page-transition-bottom"),r),h["default"].prototype.ui),events:a._.extend({"click @ui.filtersItems":"changeActiveFilter","click @ui.filterLinks":"clickFilter","click @ui.pageLinks":"clickPageLink","click @ui.eventCard":"animateEventCardOut"},h["default"].prototype.events),state:{filtersOpen:!0,isTransitioning:!1,isTransitioningEnd:!1},bubbleState:{desktopInit:!1,mobileInit:!1,index:1},behaviors:{Modal:b["default"]},initialize:function(){this.firstLoad=!0,this.pageScroll=this.pageScroll.bind(this),this.filtersContainerSelector=".layout-filters__inner",h["default"].prototype.initialize.call(this)},onDataLoaded:function(){var t=this;if(h["default"].prototype.onDataLoaded.call(this),y["default"].add(this.pageScroll),this.state.filter=this.ui.page[0].getAttribute("data-current-filter"),this.state.filter){Array.prototype.filter.call(this.ui.menuItems,function(e){if(e.getAttribute("data-target")===t.state.filter)return e});setTimeout(function(){t.openFilter(t.ui.menuItems[0],!1),t.el.classList.add("show-sidebar"),t.resize()},500)}},changeActiveFilter:function(t){var e=t.currentTarget;this.el.querySelector(".layout-filters__label.active").classList.remove("active"),e.querySelector(".layout-filters__label").classList.add("active")},clickFilter:function(t){t.preventDefault();var e=t.currentTarget;this.openFilter(e,t.currentTarget.getAttribute("href"))},clickMenu:function(t){t.preventDefault();var e=t.currentTarget;e.getAttribute("data-target");this.activeLink(e,this.ui.menuItems),this.openFilter(e,e.getAttribute("href"))},openFilter:function(t,e){var i=this;this.openFiltersBar(t),this.ui.menuItems.forEach(function(t){t.classList.remove("is-active"),t.querySelector(".calendar-menu__label").classList.remove("active")}),t.classList.add("is-active"),t.querySelector(".calendar-menu__label").classList.add("active"),e&&l.basic.trigger("url:replace",e);var n=this.firstLoad===!1?100:this.options.isInitialView?1850:1500;setTimeout(function(){try{i.toggleBubble(t)}catch(e){void 0}},n),this.secondaryView(t)},openFiltersBar:function(t){var e=t.getAttribute("data-target"),i=Array.prototype.filter.call(this.ui.filtersContainer,function(t){if(t.getAttribute("data-name")===e)return t});if(i=i[0],i&&("when"===e||"wanneer"===e)){try{i.scrollTo(0,0)}catch(n){void 0}var r=i.querySelector(".layout-filters__item--now"),o=r.getBoundingClientRect();setTimeout(function(){try{g["default"].width<d["default"].breakpoints.medium?i.scrollTo(o.left-g["default"].width/2+o.width/2,0):i.scrollTo(0,o.top-g["default"].height/2+o.height/2)}catch(t){void 0}},200)}this.transitionFiltersAnimation(e,i)},transitionFiltersAnimation:function(t,e){this.ui.filtersContainer.forEach(function(t){t.classList.remove("is-open")}),e.classList.add("is-open"),this.el.setAttribute("data-filters-is-open",t)},secondaryView:function(t){window.pageYOffset+window.innerHeight>this.cache.footerTop&&TweenLite.to(window,0,{scrollTo:{
y:this.cache.footerTop-window.innerHeight},ease:Power3.easeInOut})},pageScroll:function(t){this.cache.isMobile||this.positionSidebar(t)},positionSidebar:function(t){if(this.state.isTransitioning)return void this.ui.sidebar[0].classList.remove("is-bottom");this.state.isTransitioningEnd&&this.getCache();var e="undefined"!=typeof t?t.scrollY:window.pageYOffset;e+window.innerHeight>this.cache.footerTop?this.ui.sidebar[0].classList.add("is-bottom"):this.ui.sidebar[0].classList.remove("is-bottom")},getCache:function(){void 0;var t=this.el.querySelector(".js-explore-area")?this.el.querySelector(".js-explore-area"):this.el.querySelector(".js-footer");this.cache={footerTop:t.getBoundingClientRect().top+window.pageYOffset,isMobile:window.innerWidth<d["default"].breakpoints.medium}},animateEventCardOut:function(t){var e=this;if(t.preventDefault(),g["default"].width>=d["default"].breakpoints.medium){if("svg"===t.target.tagName||"path"===t.target.tagName||(0,a.$)(t.target).hasClass("buy-ticket-button")||(0,a.$)(t.target).hasClass("conversion-button"))return;this.preventDefaultAnimateOut=!0;var i=t.currentTarget.querySelector(".js-transition-img"),n=i.getAttribute("data-colorset").split("|"),r=(t.currentTarget.querySelector(".event-card__image").getAttribute("data-href"),Math.ceil(.04*g["default"].width)),o=Math.ceil((i.getBoundingClientRect().left-r)*-1),s=Math.ceil(i.getBoundingClientRect().top*-1);i.style.zIndex=500,this.ui.pageCurtainTop[0].style.backgroundColor=n[1],this.ui.pageCurtainBottom[0].style.backgroundColor=n[0],TweenMax.to(i,.8,{left:o,top:s,width:g["default"].width-r,height:g["default"].height,ease:Expo.easeInOut,onComplete:function(){i.classList.add("is-animated");var t=i.cloneNode(!0),n=e.ui.pageCurtainTop[0].cloneNode(!0),r=e.ui.pageCurtainBottom[0].cloneNode(!0),o=document.createElement("div");o.innerHTML="",o.setAttribute("class","divClone"),document.querySelector(".page-view").appendChild(o),document.querySelector(".divClone").appendChild(t),document.querySelector(".divClone").appendChild(n),document.querySelector(".divClone").appendChild(r),setTimeout(function(){e.animateOut({productAnimationDone:!0})},950)}})}},resize:function(){this.getCache()},addEvents:function(){h["default"].prototype.addEvents.call(this)},removeEvents:function(){h["default"].prototype.removeEvents.call(this)},animateIn:function(){h["default"].prototype.animateIn.call(this)},animateInEnd:function(){h["default"].prototype.animateInEnd.call(this)},animateOut:function(t){var e=this;y["default"].remove(this.pageScroll),void 0,setTimeout(function(){e.el.classList.remove("show-sidebar")},100),this.preventDefaultAnimateOut?"undefined"!=typeof t&&t.productAnimationDone&&(window.scrollTo(0,0),this.animateOutEnd()):h["default"].prototype.animateOut.call(this)},animateOutEnd:function(){h["default"].prototype.animateOutEnd.call(this)},destroy:function(){h["default"].prototype.destroy.call(this)}});i["default"]=x},{"../_core":1,"../behaviors/modal":3,"./base/defaultWithRegion":73,"babel-runtime/helpers/defineProperty":109,config:47,"default":71,"gsap-draggable":55,paper:602,"raf-scroll":57,utils:65,vent:66}],76:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("../_core"),a=t("vent"),l=t("default"),u=(n(l),t("./base/defaultWithRegion")),c=n(u),h=t("config"),f=n(h),d=t("utils"),p=n(d),g=t("paper"),m=n(g),v=t("raf-scroll"),y=n(v);t("gsap-draggable");var _=c["default"].extend({ui:s._.extend({pageContent:".sub-view",parentContent:".js-page-inner",filterLinks:".js-collection-filters-link",pageLinks:".js-collection-page-link",sidebar:".collection-sidebar",menu:".collection-menu",menuInner:".collection-menu__container",menuItems:".collection-menu__item",filters:".collection-filters",filtersContainer:".collection-filters__container",filtersWipe:".collection-filters__wipe",bubbleLinks:".svg-link",bubbleCanvas:".bubble-canvas",searchForm:".collection-search__form",artCard:".js-item",readMore:".js-read-more-label",readMoreTarget:".js-read-more-target"},c["default"].prototype.ui),events:s._.extend({"click @ui.menuItems":"resetClasses","click @ui.filterLinks":"clickFilterLink","click @ui.pageLinks":"clickPageLink","click @ui.artCard":"animateArtCardOut","submit @ui.searchForm":"submitSearchForm","click @ui.readMore":"toggleReadMore"},c["default"].prototype.events),state:{filter:"",value:"",defaultColor:"",color:"",filtersOpen:!0,isAnimated:!1},bubbleState:{desktopInit:!1,mobileInit:!1,index:1},initialize:function(){var t=this;this.pageScroll=this.pageScroll.bind(this),this.firstLoad=!0,this.listenTo(a.basic,"infinite-scroll:layout",function(){t.getCache()}),c["default"].prototype.initialize.call(this)},onDataLoaded:function(){var t=this;c["default"].prototype.onDataLoaded.call(this);var e=window.collection.filter,i=window.collection.value;if(this.state.defaultColor=this.ui.pageContent[0].getAttribute("data-original-color"),this.state.color=this.ui.pageContent[0].getAttribute("data-color"),TweenLite.set(this.ui.parentContent[0],{clearProps:"all"}),e&&(this.state.filter=e),i&&(this.state.value=i),this.state.filter){var n=Array.prototype.filter.call(this.ui.filterLinks,function(e){if(e.getAttribute("data-target")===t.state.filter)return e});setTimeout(function(){t.openFilter(n[0]),t.resize(),t.el.classList.add("show-sidebar")},500)}this.setBrightness(this.state.color)},submitSearchForm:function(t){t.preventDefault();var e=t.currentTarget.getAttribute("action"),i=t.currentTarget.querySelector(".js-input").value.toLowerCase().replace(/\s+/g,"-");e+=i;var n=e.replace(window.location.origin,"");s.Backbone.history.navigate(n,{trigger:!0})},resetClasses:function(){this.el.querySelector(".sub-view__page").classList.remove("is-search-results")},addEvents:function(){c["default"].prototype.addEvents.call(this)},removeEvents:function(){c["default"].prototype.removeEvents.call(this)},animateIn:function(){c["default"].prototype.animateIn.call(this)},animateInEnd:function(){var t=this;setTimeout(function(){y["default"].add(t.pageScroll),t.getCache()},500),c["default"].prototype.animateInEnd.call(this)},initPaper:function(){var t=this;if(!(window.innerWidth>=f["default"].breakpoints.medium&&this.bubbleState.desktopInit||window.innerWidth<f["default"].breakpoints.medium&&this.bubbleState.mobileInit)){"undefined"!=typeof this.paperScope&&(this.paperScope.project.clear(),this.ui.bubbleCanvas[0].removeAttribute("style"));var e=this.ui.menuInner[0].scrollWidth,i=this.ui.bubbleCanvas[0].getBoundingClientRect();this.paperScope=new m["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[0]),p["default"].width<f["default"].breakpoints.medium&&(this.paper.view.viewSize=new m["default"].Size(e,i.height),this.paper.view.draw()),this.path=new this.paper.Path,this.path.fillColor="#9ACF8A",this.path.removeSegments(),this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft),p["default"].width<f["default"].breakpoints.medium?([].concat((0,o["default"])(this.ui.filterLinks)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.left+(i.right-i.left)/2,r=Math.max(1e3,window.innerWidth);t.path.add(new t.paper.Point(n-.2*r,0)),t.path.add(new t.paper.Point(n-.065*r,0)),t.path.add(new t.paper.Point(n,0)),t.path.add(new t.paper.Point(n+.065*r,0)),t.path.add(new t.paper.Point(n+.2*r,0))}),this.path.add(this.paper.view.bounds.topRight),this.bubbleState.desktopInit=!1,this.bubbleState.mobileInit=!0):([].concat((0,o["default"])(this.ui.filterLinks)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.top+(i.bottom-i.top)/2,r=Math.max(1e3,window.innerHeight);t.path.add(new t.paper.Point(0,n-.2*r)),t.path.add(new t.paper.Point(0,n-.065*r)),t.path.add(new t.paper.Point(0,n)),t.path.add(new t.paper.Point(0,n+.065*r)),t.path.add(new t.paper.Point(0,n+.2*r))}),this.path.add(this.paper.view.bounds.bottomLeft),this.bubbleState.mobileInit=!1,this.bubbleState.desktopInit=!0),this.path.smooth({type:"catmull-rom",factor:.5,from:2,to:-2})}},toggleBubble:function(t){this.firstLoad=!1,t&&t.getAttribute("data-index")&&(this.bubbleState.index=t.getAttribute("data-index"));for(var e=5*this.bubbleState.index-2,i=new TimelineLite,n=0;n<this.path.segments.length;n++)p["default"].width<f["default"].breakpoints.medium?n===e?i.to(this.path.segments[n].point,1,{ease:Elastic.easeOut,y:.7*this.paper.view.size.height},0):i.to(this.path.segments[n].point,.3,{ease:Quart.easeOut,y:0},0):n===e?i.to(this.path.segments[n].point,1,{ease:Elastic.easeOut,x:.7*this.paper.view.size.width},0):i.to(this.path.segments[n].point,.3,{ease:Quart.easeOut,x:0},0)},clickFilterLink:function(t){var e=t.currentTarget;this.openFilter(e)},toggleReadMore:function(t){this.bindUIElements(),this.readMoreTl=new TimelineMax({paused:!0}),this.readMoreTl.to(t.currentTarget,.25,{height:0,opacity:0,ease:Cubic.easeOut}),TweenMax.set(this.ui.readMoreTarget,{height:"auto"}),this.readMoreTl.from(this.ui.readMoreTarget,.4,{height:0,ease:Cubic.easeOut},0),this.readMoreTl.fromTo(this.ui.readMoreTarget,.4,{opacity:0},{opacity:1},0),this.readMoreTl.restart(),document.querySelector(".read-more-content__close-btn").addEventListener("click",this.closeReadMore.bind(this))},closeReadMore:function(t){this.readMoreTl.timeScale(1),this.readMoreTl.reverse(),document.querySelector(".read-more-content__close-btn").removeEventListener("click",this.closeReadMore)},openFilter:function(t){var e=this,i=t.getAttribute("data-target");if("search"===i?this.ui.filters[0].classList.add("is-hidden"):(this.openFiltersBar(t),this.ui.filters[0].classList.remove("is-hidden")),this.ui.filterLinks.forEach(function(t){t.classList.remove("active")}),t.classList.add("active"),p["default"].width<f["default"].breakpoints.medium){var n=t.getBoundingClientRect(),r=n.left+n.width/2-p["default"].width/2;TweenLite.to(this.ui.menu[0],.5,{scrollTo:{x:r},ease:Power3.easeInOut})}var o=this.firstLoad===!1?100:this.options.isInitialView?1850:1e3;setTimeout(function(){e.toggleBubble(t)},o),this.secondaryView(t)},clickPageLink:function(t){t.preventDefault();var e=t.currentTarget;this.secondaryView(e),this.ui.pageLinks.forEach(function(t){t.classList.remove("is-active"),t.querySelectorAll(".underline-left, .underlines").forEach(function(t){t.classList.remove("active")})}),e.classList.add("is-active"),e.querySelectorAll(".underline-left, .underlines").forEach(function(t){t.classList.add("active")})},secondaryView:function(t){var e=this;window.pageYOffset+window.innerHeight>this.cache.footerTop&&TweenLite.to(window,0,{scrollTo:{y:this.cache.footerTop-window.innerHeight},ease:Power3.easeInOut});var i=t.getAttribute("data-value")?t.getAttribute("data-value"):this.state.defaultColor;this.ui.pageContent[0].getAttribute("data-color")!==i&&(this.ui.pageContent[0].classList.toggle("white-title","#000000"===i),TweenLite.to(this.ui.parentContent[0],2,{backgroundColor:i,ease:Expo.easeOut}),TweenLite.to(this.ui.pageContent[0],2,{backgroundColor:i,ease:Expo.easeOut}),p["default"].html.style.background=i,setTimeout(function(){e.setBrightness(i)},1100),this.state.color=i,this.ui.pageContent[0].setAttribute("data-color",i))},openFiltersBar:function(t){var e=t.getAttribute("data-target"),i=Array.prototype.filter.call(this.ui.filtersContainer,function(t){if(t.getAttribute("data-name")===e)return t});i=i[0],this.transitionFiltersAnimation(e,i)},transitionFiltersAnimation:function(t,e){this.ui.filtersContainer.forEach(function(t){t.classList.remove("is-open")}),e.classList.add("is-open"),this.el.setAttribute("data-filters-is-open",t)},animateArtCardOut:function(t){var e=this;if(t.preventDefault(),p["default"].width>=f["default"].breakpoints.medium){this.preventDefaultAnimateOut=!0;var i=t.currentTarget.querySelector(".js-transition-img"),n=(0,s.$)(i).data("lazy");void 0,n.lazyload(),(0,s.$)(i).one("loaded",function(){void 0,p["default"].body.classList.add("is-animating-detail");var n=(t.currentTarget.querySelector(".art-card__link").getAttribute("data-href"),Math.ceil(.04*p["default"].width)),r=Math.ceil((i.getBoundingClientRect().left-n)*-1),o=Math.ceil(i.getBoundingClientRect().top*-1),s=null!==i.getAttribute("data-bgPosition")?i.getAttribute("data-bgPosition"):"50",a="50% "+s+"%";i.style.zIndex=500,TweenMax.to(i,.75,{left:r,top:o,width:p["default"].width-n,backgroundPosition:a,height:p["default"].height,ease:Expo.easeInOut,onComplete:function(){i.classList.add("is-animated"),e.animateOut({productAnimationDone:!0})}}),TweenMax.to(i,1,{backgroundPosition:a,ease:Expo.easeOut},0)})}},setBrightness:function(t){var e=p["default"].getRgb(t),i=Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068),n=i>100?"dark":"light";p["default"].body.setAttribute("data-brightness",n)},pageScroll:function(t){this.cache.isMobile||this.positionSidebar(t)},positionSidebar:function(t){var e="undefined"!=typeof t?t.scrollY:window.pageYOffset;e+window.innerHeight>this.cache.footerTop?this.ui.sidebar[0].classList.add("is-bottom"):this.ui.sidebar[0].classList.remove("is-bottom")},getCache:function(){this.cache={footerTop:this.el.querySelector(".js-footer").getBoundingClientRect().top+window.pageYOffset,isMobile:window.innerWidth<f["default"].breakpoints.medium}},resize:function(){var t=this;this.getCache(),this.initPaper(),setTimeout(function(){t.firstLoad||t.toggleBubble()},200)},animateOut:function(t){for(var e=0;e<this.path.segments.length;e++)p["default"].width<f["default"].breakpoints.medium?TweenMax.to(this.path.segments[e].point,.3,{ease:Quart.easeOut,y:0},0):TweenMax.to(this.path.segments[e].point,.3,{ease:Quart.easeOut,x:0},0);this.el.classList.remove("show-sidebar"),y["default"].remove(this.pageScroll),this.bubbleState.desktopInit=!1,this.bubbleState.mobileInit=!1,this.preventDefaultAnimateOut?"undefined"!=typeof t&&t.productAnimationDone&&this.animateOutEnd():c["default"].prototype.animateOut.call(this)},animateOutEnd:function(){void 0,c["default"].prototype.animateOutEnd.call(this)},destroy:function(){this.bubbleState.init=!1,c["default"].prototype.destroy.call(this)}});i["default"]=_},{"../_core":1,"./base/defaultWithRegion":73,"babel-runtime/helpers/toConsumableArray":114,config:47,"default":71,"gsap-draggable":55,paper:602,"raf-scroll":57,utils:65,vent:66}],77:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("vent"),s=t("config"),a=(n(s),t("utils")),l=n(a),u=t("paper"),c=(n(u),t("raf-scroll")),h=n(c),f=t("./base/defaultWithRegion"),d=n(f),p=d["default"].extend({ui:r._.extend({categoriesMenu:".categories-menu",categoriesMenuInner:".categories-menu__inner",footer:".footer",bubbleLinks:".categories-menu__item",bubbleCanvas:".bubble-canvas"},d["default"].prototype.ui),events:r._.extend({"click @ui.bubbleLinks":"toggleCategory"},d["default"].prototype.events),bubbleState:{init:!1,index:1},initialize:function(){d["default"].prototype.initialize.call(this),this.rafScroll=this.rafScroll.bind(this)},addEvents:function(){this.listenTo(o.basic,"question:changed",this.debouncedResize),d["default"].prototype.addEvents.call(this)},removeEvents:function(){d["default"].prototype.removeEvents.call(this)},animateIn:function(){d["default"].prototype.animateIn.call(this)},animateInEnd:function(){d["default"].prototype.animateInEnd.call(this),this.cacheValues(),this.ui.categoriesMenu.length>0&&h["default"].add(this.rafScroll),this.el.classList.add("in-view")},animateOut:function(){this.el.style.zIndex="-2",d["default"].prototype.animateOut.call(this),h["default"].remove(this.rafScroll)},destroy:function(){d["default"].prototype.destroy.call(this)},debouncedResize:function(){this.cacheValues()},rafScroll:function(t){this.menuCache.footerTop-t.scrollY<l["default"].height?this.ui.categoriesMenu[0].classList.remove("is-fixed"):this.ui.categoriesMenu[0].classList.add("is-fixed")},cacheValues:function(){var t=window.pageYOffset,e=this.ui.footer[0].getBoundingClientRect();this.menuCache={footerTop:e.top+t}}});i["default"]=p},{"../_core":1,"./base/defaultWithRegion":73,config:47,paper:602,"raf-scroll":57,utils:65,vent:66}],78:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("../behaviors/localization-switch"),s=n(o),a=t("config"),l=(n(a),t("utils")),u=(n(l),t("vent"),r.Marionette.View.extend({el:".js-footer",template:r._.noop,needResize:!0,ui:{},events:{},behaviors:{LocalizationSwitch:s["default"]},initialize:function(){},onRender:function(){}}));i["default"]=u},{"../behaviors/localization-switch":2,config:47,core:1,utils:65,vent:66}],79:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("babel-runtime/helpers/defineProperty"),a=n(s),l=t("core"),u=t("config"),c=n(u),h=t("utils"),f=n(h),d=t("vent"),p=t("components-factory"),g=n(p),m=t("../behaviors/localization-switch"),v=n(m),y=t("raf-scroll"),_=n(y),b=t("paper"),x=n(b),w=l.Marionette.View.extend({el:".js-header",tooltip:".tickets",template:l._.noop,needResize:!0,ui:{components:"[data-component]",navLink:".main-nav__link",navLinksLevel2:".nav-dropdown__link",navForm:"form.lang-selector",navItem:".main-nav__item",dropdown:".nav-dropdown",backBtn:".nav-dropdown__back",bubbleCanvas:".header-bubbles",buyBtn:".header__btn",bubbleCanvasDropdownHeader:".js-dropdown-header-canvas"},events:(0,a["default"])({"click @ui.navLink":"OpenSubMenu","click @ui.navForm":"clickForm","click @ui.backBtn":"closeSubMenu","mouseenter @ui.navLink":"enterLink","mouseleave @ui.dropdown":"leaveDropdown"},"mouseleave @ui.dropdown","OpenSubMenu"),behaviors:{LocalizationSwitch:v["default"]},headerHeight:.058*window.innerWidth,state:{fixed:!1,inview:!0,isOpen:!1,hasBackground:!1,lastTop:0,top:0},initialize:function(){this.components=new g["default"](this),this.listenTo(d.basic,"app:pagechange",this.pageChange),this.listenTo(d.basic,"app:debouncedresize",this.debouncedResize.bind(this)),this.listenTo(d.basic,"header:closeMenu",this.resetMenu.bind(this)),this.listenTo(d.basic,"menu:updateColor",this.updateColor),this.onUpdate=this.onUpdate.bind(this),this.menuScroll=this.menuScroll.bind(this),this.crossBorderMedium=f["default"].js.crossBorder(c["default"].breakpoints.medium),this.menus={};for(var t=0;t<this.ui.dropdown.length;t++)this.menus[this.ui.dropdown[t].getAttribute("data-dropdown")]={el:this.ui.dropdown[t],color:window.getComputedStyle(this.ui.dropdown[t]).backgroundColor}},onRender:function(){f["default"].setLoading.init(),this.components.initComponents({components:this.ui.components}),this.initPaper(),this.updateActiveLink(),this.initPaperDropdown(),f["default"].view.addEventListener("mouseenter",this.leaveDropdown.bind(this)),window.innerWidth>=c["default"].breakpoints.medium&&_["default"].add(this.menuScroll),document.querySelector(".mobile-lang-switcher").addEventListener("click",function(){window.innerWidth<c["default"].breakpoints.medium&&document.querySelector("body").classList.toggle("menu-lang-switcher-is-open")})},menuScroll:function(t){t.deltaY;t.scrollY>this.headerHeight?this.state.hasBackground||(this.el.classList.add("has-background"),this.state.hasBackground=!0):this.state.hasBackground&&(this.el.classList.remove("has-background"),this.state.hasBackground=!1),t.deltaY>0&&t.scrollY>=0?(this.state.fixed&&(f["default"].body.classList.add("hide-tooltip"),this.el.classList.remove("fixed"),this.state.lastTop=Math.max(0,t.scrollY),this.el.style.top=this.state.lastTop+"px",this.state.fixed=!1),this.state.inview&&t.scrollY>this.state.lastTop+this.headerHeight&&(this.state.inview=!1)):t.deltaY<0&&t.scrollY>=0&&(this.state.inview||(this.state.lastTop=Math.max(0,t.scrollY-this.headerHeight),this.el.style.top=this.state.lastTop+"px",this.state.inview=!0),this.state.inview&&t.scrollY<this.state.lastTop&&(f["default"].body.classList.remove("hide-tooltip"),this.el.classList.add("fixed"),this.el.style.top="0px",this.state.fixed=!0))},OpenSubMenu:function(t){var e=this;if("1"!==t.currentTarget.dataset.preventClick){if(t.preventDefault(),f["default"].width>=c["default"].breakpoints.medium)return void(f["default"].is.touch&&(this.toggleDropdown(t),[].concat((0,o["default"])(document.querySelectorAll(".js-close-nav-dropdown"))).forEach(function(t){t.addEventListener("click",e.closeTouchDropdown.bind(e))})));var i=t.currentTarget.getAttribute("data-target");this.menus[i].el.classList.add("is-open"),this.activeMenu=this.menus[i].el,f["default"].body.classList.add("submenu-is-open"),d.basic.trigger("menu:updateColor",this.menus[i].color,!0),f["default"].is.touch&&(this.closeTouchDropdown(),this.openDropdown(t),t.currentTarget.parentNode.querySelector(".nav-dropdown").classList.add("is-open"),[].concat((0,o["default"])(document.querySelectorAll(".js-close-nav-dropdown"))).forEach(function(t){t.addEventListener("click",e.closeTouchDropdown.bind(e))}))}},toggleDropdown:function(t){this.enterLink(t),[].concat((0,o["default"])(this.ui.navItem)).forEach(function(t){t.classList.remove("tablet-nav-open")}),t.currentTarget.parentNode.classList.add("tablet-nav-open")},closeSubMenu:function(t,e){this.activeMenu&&this.activeMenu.classList.remove("is-open"),f["default"].body.classList.remove("submenu-is-open"),e||d.basic.trigger("menu:updateColor","#cca69a",!0)},resetMenu:function(){var t=this;setTimeout(function(){return t.closeSubMenu(!1,!0)},400)},pageChange:function(){var t=this;f["default"].body.classList.remove("menu-is-open"),f["default"].body.classList.remove("menu-lang-switcher-is-open"),f["default"].body.classList.remove("menu-lang-switcher-is-hover"),f["default"].js.scrollLock.toggle(!1),this.updateActiveLink(),setTimeout(function(){t.closeSubMenu(!1,!0),t.leaveDropdown(),t.closeTouchDropdown()},f["default"].width<1024?300:0)},updateColor:function(t,e){var i=[this.ui.buyBtn[0].querySelector(".header__btn__label"),this.ui.buyBtn[0].querySelector(".static-svg svg"),this.ui.buyBtn[0].querySelector(".animation-svg svg"),this.el.querySelector(".logo")],n=new TimelineLite({paused:!0});n.to(i,1,{color:t,stroke:t,ease:Power2.easeInOut},0),n.restart()},updateActiveLink:function(){[].concat((0,o["default"])(this.ui.navLink)).forEach(function(t){t.classList.remove("is-active")}),[].concat((0,o["default"])(this.ui.navLinksLevel2)).forEach(function(t){var e=t.getAttribute("href");window.location.href===e?(t.classList.add("is-active"),t.closest(".main-nav__item").querySelector(".main-nav__link").classList.add("is-active")):t.classList.remove("is-active")})},initPaper:function(){"undefined"!=typeof this.paperScope&&this.paperScope.project.clear(),this.paperScope=new x["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[0]),this.width=this.paper.view.size.width,this.height=this.ui.bubbleCanvas[0].clientHeight+2,this.path=new this.paper.Path,this.path.fillColor="#F37449",this.initializePath()},initPaperDropdown:function(){var t=this;"undefined"!=typeof this.paperScopeDropdown&&this.paperScope.project.clear(),this.paperScopeDropdown=new x["default"].PaperScope,this.ui.bubbleCanvasDropdownHeader.forEach(function(e){var i=t.paperScopeDropdown.setup(e),n=new t.paper.Path,r=i.view.size.width,o=e.clientHeight,s=r/2;n.add(i.view.bounds.topLeft),n.add(new i.Point(s-.15*window.innerWidth,0)),n.add(new i.Point(s-.045*window.innerWidth,.875*o)),n.add(new i.Point(s,o)),n.add(new i.Point(s+.045*window.innerWidth,.875*o)),n.add(new i.Point(s+.15*window.innerWidth,0)),n.add(i.view.bounds.topRight),n.add(i.view.bounds.topLeft),n.closed=!0,n.smooth({type:"catmull-rom",factor:.5,from:1,to:6}),n.fillColor="#cca69a"})},initializePath:function(){var t=this;this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft),this.path.add(this.paper.view.bounds.bottomLeft),[].concat((0,o["default"])(this.ui.navLink)).forEach(function(e){var i=e.getBoundingClientRect(),n=i.left+(i.right-i.left)/2;t.path.add(new t.paper.Point(n-.15*window.innerWidth,t.height)),t.path.add(new t.paper.Point(n-.045*window.innerWidth,t.height)),t.path.add(new t.paper.Point(n,t.height)),t.path.add(new t.paper.Point(n+.045*window.innerWidth,t.height)),t.path.add(new t.paper.Point(n+.15*window.innerWidth,t.height))}),this.path.add(this.paper.view.bounds.bottomRight),this.path.add(this.paper.view.bounds.topRight),this.path.closed=!0,this.path.smooth({type:"catmull-rom",factor:.5,from:2,to:30}),this.path.fillColor="#fce373"},enterLink:function(t){f["default"].is.touch&&c["default"].width<1024||(this.ui.navLink.forEach(function(t){t.classList.remove("is-hover")}),t.currentTarget.classList.add("is-hover"),this.openDropdown(t))},clickForm:function(t){f["default"].width>c["default"].breakpoints.medium&&f["default"].body.classList.toggle("menu-lang-switcher-is-open")},closeTouchDropdown:function(){f["default"].width>=1024&&([].concat((0,o["default"])(document.querySelectorAll(".nav-dropdown.is-open"))).forEach(function(t){t.classList.remove("is-open")}),[].concat((0,o["default"])(this.ui.navItem)).forEach(function(t){t.classList.remove("tablet-nav-open")})),this.leaveDropdown()},openDropdown:function(t){this.toggleBubble(t),this.state.isOpen=!0,f["default"].body.classList.add("menu-is-open"),t.currentTarget.dataset.isLangSwitcher&&f["default"].body.classList.add("menu-lang-switcher-is-hover"),clearTimeout(this.clearDropdownClass),this.addDropdownClass=setTimeout(function(){return f["default"].body.classList.add("dropdown-is-open")},400)},updateBubbleColor:function(t){var e=t.currentTarget.getAttribute("data-target"),i=this.menus[e].el.querySelector(".nav-dropdown__inner"),n=window.getComputedStyle(i).backgroundColor,r=n.replace("rgb(","").replace(")","").split(", "),o={r:parseInt(r[0]),g:parseInt(r[1]),b:parseInt(r[2])};this.curColor&&this.state.isOpen?(this.tl&&TweenMax.killTweensOf(this.curColor),this.tl=new TimelineLite({onUpdate:this.onUpdate,ease:Circ.easeInOut}),this.tl.to(this.curColor,.4,{r:o.r},0),this.tl.to(this.curColor,.4,{g:o.g},0),this.tl.to(this.curColor,.4,{b:o.b},0)):(this.path.fillColor=n,this.curColor=o)},onUpdate:function(t){this.path.fillColor="rgb("+this.curColor.r+", "+this.curColor.g+", "+this.curColor.b+")"},toggleBubble:function(t){if(this.path)for(var e=t?t.currentTarget.getAttribute("data-index"):-1,i=5*e-1,n=new TimelineLite,r=0;r<this.path.segments.length;r++)r==i?n.fromTo(this.path.segments[r].point,1.2,{y:this.height},{ease:Elastic.easeOut,y:.875*this.height},0):r>0&&r<this.path.segments.length-1&&n.to(this.path.segments[r].point,.8,{ease:Quart.easeOut,y:this.height},0)},leaveDropdown:function(t){var e=this;f["default"].width<c["default"].breakpoints.medium||(f["default"].body.classList.remove("menu-is-open"),f["default"].body.classList.remove("menu-lang-switcher-is-open"),f["default"].body.classList.remove("menu-lang-switcher-is-hover"),this.ui.navLink.forEach(function(t){t.classList.remove("is-hover")}),clearTimeout(this.addDropdownClass),this.clearDropdownClass=setTimeout(function(){f["default"].body.classList.remove("dropdown-is-open"),e.state.isOpen=!1},50),this.toggleBubble())},debouncedResize:function(){var t=this.crossBorderMedium();"over"==t?_["default"].add(this.menuScroll):"under"==t&&_["default"].remove(this.menuScroll),f["default"].width>=c["default"].breakpoints.medium&&setTimeout(this.initPaper(),1e3)}});i["default"]=w},{"../behaviors/localization-switch":2,"babel-runtime/helpers/defineProperty":109,"babel-runtime/helpers/toConsumableArray":114,"components-factory":49,config:47,core:1,paper:602,"raf-scroll":57,utils:65,vent:66}],80:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("../_core"),a=t("default"),l=n(a),u=t("config"),c=n(u),h=t("utils"),f=n(h),d=t("../views/play-tinder"),p=n(d),g=t("../views/play-roulette"),m=n(g),v=t("../views/play-gifmefrans"),y=n(v),_=t("raf-scroll"),b=n(_),x=t("flickity"),w=n(x),C=l["default"].extend({ui:s._.extend({artpiecesMashup:".js-split-artpieces",section:".js-home-section",artpiecesWrapper:".js-artpieces-wrapper",triggerTop:".js-trigger-top",triggerBottom:".js-trigger-bottom",heroText:".js-hero-text",artpiecesImage:".split-artpieces__image",artpiecesCurtain:".split-artpieces__curtain",newsCardThumbs:".home-journal .news-card__thumbnail"},l["default"].prototype.ui),events:s._.extend({"mouseenter @ui.triggerTop":"mouseEnter","mouseleave @ui.triggerTop":"mouseLeave","mousemove @ui.triggerTop":"mouseMove","mouseleave @ui.heroText":"mouseLeaveHero","click @ui.triggerTop":"navigateToArtpiece","click @ui.triggerBottom":"navigateToArtpiece","mouseenter @ui.triggerBottom":"mouseEnter","mouseleave @ui.triggerBottom":"mouseLeave","mousemove @ui.triggerBottom":"mouseMove"},l["default"].prototype.events),initialize:function(){this.pageScroll=this.pageScroll.bind(this),this.changeImages=this.changeImages.bind(this),this.isAnimating=!1,this.updateArtpiecePos=this.updateArtpiecePos.bind(this),this.artpieceCache={oldX:0,oldY:0,x:0,y:0,distanceXPosition:0,distanceYPosition:0,isMouseDown:!1,needForRAF:!0},l["default"].prototype.initialize.call(this)},addEvents:function(){l["default"].prototype.addEvents.call(this),this.playStart(),this.alignNewsCards();var t=window.location.href;t.indexOf("/play/")>0&&(t.indexOf("/roulette/")>0?this.roulette=(new m["default"]).render():t.indexOf("/gif/")>0?this.gifmefrans=(new y["default"]).render():t.indexOf("/tinder/")>0&&(this.tinder=(new p["default"]).render()))},removeEvents:function(){l["default"].prototype.removeEvents.call(this)},animateIn:function(){l["default"].prototype.animateIn.call(this)},animateInEnd:function(){this.el.querySelector('[data-component="page-title"]').classList.add("is-ready"),this.el.classList.add("is-ready");var t=document.querySelector(".js-logo");t&&t.blur(),this.wrapperWidth=this.ui.artpiecesWrapper[0].getBoundingClientRect().width,this.resize(),l["default"].prototype.animateInEnd.call(this)},alignNewsCards:function(){var t=0;[].concat((0,o["default"])(this.ui.newsCardThumbs)).forEach(function(e){t=Math.max(t,e.clientHeight)}),[].concat((0,o["default"])(this.ui.newsCardThumbs)).forEach(function(e){e.style.height=t+"px"})},getCache:function(){var t=this;window.requestAnimationFrame(function(){t.cache.footerTop=t.el.querySelector(".page-home__container").getBoundingClientRect().bottom+window.pageYOffset,t.cache.artpiecesMashupTop=t.el.querySelector(".page-home__container").getBoundingClientRect().top+window.pageYOffset}),this.cache.sections=[],[].concat((0,o["default"])(this.ui.section)).forEach(function(e,i){var n=window.pageYOffset,r=e.getBoundingClientRect();t.cache.sections[i]={el:e,top:r.top+n,bottom:r.bottom+n,isActive:0==i}}),this.currentActive=0},pageScroll:function(t){t.scrollY>=this.cache.artpiecesMashupTop&&t.scrollY+f["default"].height<this.cache.footerTop?(this.ui.artpiecesMashup[0].classList.add("is-sticky"),this.ui.artpiecesMashup[0].classList.remove("is-bottom-abs")):t.scrollY+f["default"].height>=this.cache.footerTop?(this.ui.artpiecesMashup[0].classList.remove("is-sticky"),this.ui.artpiecesMashup[0].classList.add("is-bottom-abs")):(this.ui.artpiecesMashup[0].classList.remove("is-sticky"),this.ui.artpiecesMashup[0].classList.remove("is-bottom-abs")),this.changeImages(t)},initFlktySlider:function(){this.ui.artpiecesWrapper.forEach(function(t){t.classList.add("is-active")}),this.flkty=new w["default"](this.ui.artpiecesMashup[0],{cellSelector:".js-artpieces-wrapper",prevNextButtons:!1,wrapAround:!0,freeScroll:!1,pageDots:!1,dragThreshold:f["default"].sniff.isDevice?10:3}),this.flkty.on("scroll",this.parallaxArtPieces.bind(this));
},parallaxArtPieces:function(){var t=this,e=f["default"].js.getTranslateValue(this.flkty.slider,"x");this.flkty.slides.forEach(function(i,n){var r=t.flkty.size.width*(parseInt(t.ui.artpiecesWrapper[n].style.left)/100),o=t.ui.artpiecesCurtain[2*n],s=(r+e)*-.8;o.style.transform="translateX("+s+"px)";var o=t.ui.artpiecesCurtain[2*n+1],s=(r+e)*-.2;o.style.transform="translateX("+s+"px)"})},changeImages:function(t){var e=this;if(!this.isAnimating)for(var i=this.cache.sections.length-1;i>=0;i--)this.cache.sections[i].top-t.scrollY<.5*f["default"].height&&this.cache.sections[i].bottom-t.scrollY>.5*f["default"].height?(i!==this.currentActive&&(this.isAnimating=!0,this.ui.artpiecesMashup[0].classList.add("is-animating"),window.setTimeout(function(){e.ui.artpiecesMashup[0].classList.remove("is-animating"),e.isAnimating=!1,e.ui.triggerTop[0].classList.contains("is-active")?(0,s.$)(e.ui.triggerTop[0]).trigger("mouseenter"):e.ui.triggerBottom[0].classList.contains("is-active")&&(0,s.$)(e.ui.triggerBottom[0]).trigger("mouseenter")},850)),this.cache.sections[i].isActive=!0,this.currentActive=i):t.scrollY<this.cache.sections[0].top?(this.cache.sections[i].isActive=!1,this.cache.sections[0].isActive=!0):t.scrollY>this.cache.sections[this.cache.sections.length-1].top?(this.cache.sections[i].isActive=!1,this.cache.sections[this.cache.sections.length-1].isActive=!0):this.cache.sections[i].isActive=!1,this.ui.artpiecesWrapper[i]&&this.ui.artpiecesWrapper[i].classList.toggle("is-active",this.cache.sections[i].isActive)},mouseEnter:function(t){this.position=t.currentTarget.getAttribute("data-pos"),this.target="top"==this.position?this.el.querySelector(".js-artpieces-wrapper.is-active .split-artpieces__image--top .js-artpiece"):this.el.querySelector(".js-artpieces-wrapper.is-active .split-artpieces__image--bottom .js-artpiece");var e=this.el.querySelector(".js-artpieces-wrapper.is-active");null==this.target||e&&(0,s.$)(e).hasClass("has-video")||(t.preventDefault(),t.stopPropagation(),this.artpieceCache.isMouseDown=!0,this.artpieceCache.distanceXPosition=0,this.artpieceCache.distanceYPosition=0,this.artpieceCache.needForRAF=!0,this.targetWidth=this.target.getBoundingClientRect().width,this.map={fromMin:-this.targetWidth/2,fromMax:this.wrapperWidth-this.targetWidth/2,toMin:0,toMax:this.wrapperWidth-this.targetWidth},this.updateArtpiecePos())},mouseMove:function(t){null!=this.target&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.classList.add("is-active"),this.artpieceCache.isMouseDown&&(this.artpieceCache.distanceXPosition=f["default"].js.map([this.map.fromMin,this.map.fromMax],[this.map.toMin,this.map.toMax],t.offsetX-this.targetWidth/2),this.artpieceCache.distanceYPosition="top"==this.position?f["default"].height/2-t.offsetY:t.offsetY))},mouseLeave:function(t){t.preventDefault(),t.stopPropagation(),t.currentTarget.classList.remove("is-active"),this.artpieceCache.needForRAF=!1,setTimeout(s._.bind(function(){this.artpieceCache.needForRAF||(this.artpieceCache.isMouseDown=!1)},this),500)},updateArtpiecePos:function(){if(null!=this.target){this.artpieceCache.isMouseDown&&window.requestAnimationFrame(this.updateArtpiecePos);var t=this.artpieceCache.distanceXPosition;this.artpieceCache.x=this.artpieceCache.x+.1*(t-this.artpieceCache.x);var e="top"==this.position?this.artpieceCache.distanceYPosition*-1:this.artpieceCache.distanceYPosition;this.artpieceCache.y=this.artpieceCache.y+.1*(e-this.artpieceCache.y),this.target.style.transform="translate("+this.artpieceCache.x.toFixed(2)+"px, "+this.artpieceCache.y.toFixed(2)+"px",this.swap()}},swap:function(){this.artpieceCache.oldX=this.artpieceCache.x,this.artpieceCache.oldY=this.artpieceCache.y},navigateToArtpiece:function(t){var e="top"==t.currentTarget.getAttribute("data-pos")?document.querySelector(".js-artpieces-wrapper.is-active .js-artpiece-top .js-artpiece"):document.querySelector(".js-artpieces-wrapper.is-active .js-artpiece-bottom .js-artpiece");e&&(window.location=e.getAttribute("data-href"))},resize:function(){f["default"].width<c["default"].breakpoints.medium?(b["default"].remove(this.pageScroll),this.initFlktySlider()):(this.ui.artpiecesCurtain.forEach(function(t){t.style.transform=""}),this.getCache(),b["default"].add(this.pageScroll),this.flkty&&this.flkty.destroy())},mouseMoveHero:function(t){var e=document.querySelector(".js-hero-text"),i=e.getBoundingClientRect().height,n=t.clientY,r=(t.clientX,function(t,e,i){var n=e/2,r=i-n,o=r/n;t.style.transform="perspective("+n+"px) rotateX("+o+"deg)"});r(e,i,n)},mouseLeaveHero:function(){var t=document.querySelector(".js-hero-text"),e=t.getBoundingClientRect().height/2;t.style.transform="perspective("+e+"px) rotateX(0deg) rotateX(0deg)"},debouncedResize:function(){this.alignNewsCards()},animateOut:function(){this.el.style.zIndex="-2",b["default"].remove(this.pageScroll),l["default"].prototype.animateOut.call(this)},destroy:function(){this.flkty&&this.flkty.off("scroll",this.parallaxArtPieces),l["default"].prototype.destroy.call(this)},playStart:function(){var t=document.querySelector(".page-home");t.classList.contains("is-tinder")?document.querySelector(".play-tinder").classList.add("in-view"):t.classList.contains("is-gif")?document.querySelector(".play-gifmefrans").classList.add("in-view"):t.classList.contains("is-roulette")&&document.querySelector(".play-roulette").classList.add("in-view")}});i["default"]=C},{"../_core":1,"../views/play-gifmefrans":84,"../views/play-roulette":85,"../views/play-tinder":86,"babel-runtime/helpers/toConsumableArray":114,config:47,"default":71,flickity:575,"raf-scroll":57,utils:65}],81:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("babel-runtime/core-js/json/stringify"),a=n(s),l=t("../_core"),u=t("default"),c=n(u),h=t("config"),f=n(h),d=t("utils"),p=n(d),g=t("raf-scroll"),m=n(g),v=t("js-cookie"),y=n(v),_=c["default"].extend({ui:l._.extend({copyLink:".js-copy-link",uniqueURL:".js-unique-url",removeEvent:".js-remove",tripWrapper:".js-my-trip-wrapper",detailsInner:".my-trip-details__inner",footer:".footer",timeline:".my-trip-timeline"},c["default"].prototype.ui),events:l._.extend({"click @ui.copyLink":"copyLinkToClipboard","click @ui.removeEvent":"removeEventFromList"},c["default"].prototype.events),initialize:function(){c["default"].prototype.initialize.call(this)},addEvents:function(){c["default"].prototype.addEvents.call(this)},removeEvents:function(){c["default"].prototype.removeEvents.call(this)},onDataLoaded:function(){this.timelineHal=this.el.querySelector(".my-trip-timeline__hal")?this.el.querySelector(".my-trip-timeline__hal"):"",this.timelineMap=this.el.querySelector(".my-trip-timeline__map")?this.el.querySelector(".my-trip-timeline__map"):"",this.timelineHof=this.el.querySelector(".my-trip-timeline__hof")?this.el.querySelector(".my-trip-timeline__hof"):"",this.timelineMapInner=this.timelineMap?this.timelineMap.querySelector(".my-trip-timeline__map__inner"):void 0},animateIn:function(){c["default"].prototype.animateIn.call(this)},animateInEnd:function(){c["default"].prototype.animateInEnd.call(this),this.ui.tripWrapper[0].classList.add("in-view"),p["default"].width>=f["default"].breakpoints.medium&&(this.cacheValues(),m["default"].add(this.rafScroll.bind(this)))},cacheValues:function(){var t=window.pageYOffset,e=this.ui.detailsInner[0].getBoundingClientRect();this.detailsBounds={el:this.ui.detailsInner[0],top:e.top+t,bottom:e.bottom+t,isSticky:!1,isBottom:!1};var i=this.ui.footer[0].getBoundingClientRect();this.footerBounds={el:this.ui.footer[0],top:i.top+t}},rafScroll:function(t){this.footerBounds.top-t.scrollY<p["default"].height?this.detailsBounds.isBottom||(this.detailsBounds.el.classList.add("is-bottom"),this.detailsBounds.isBottom=!0):this.detailsBounds.bottom-t.scrollY<p["default"].height?(this.detailsBounds.isSticky||(this.detailsBounds.isSticky=!0,this.detailsBounds.el.classList.add("is-fixed")),this.detailsBounds.isBottom&&(this.detailsBounds.el.classList.remove("is-bottom"),this.detailsBounds.isBottom=!1)):this.detailsBounds.isSticky&&(this.detailsBounds.isSticky=!1,this.detailsBounds.el.classList.remove("is-fixed"))},copyLinkToClipboard:function(t){t.preventDefault(),this.ui.uniqueURL[0].focus(),this.ui.uniqueURL[0].setSelectionRange(0,this.ui.uniqueURL[0].value.length-1),document.execCommand("copy")},removeEventFromList:function(t){var e=this,i=t.currentTarget.getAttribute("data-rmeventid"),n=JSON.parse(y["default"].get("my-trip"));this.removeAnimation(t);var r=n.trip_events;r=r.split(","),this.myCurrentTrip={trip_id:n.trip_id,trip_events:n.trip_events};var s=r.indexOf(i);s>-1&&r.splice(s,1),0===r.length&&p["default"].body.classList.toggle("has-trip",!1),this.myCurrentTrip.trip_events=r.join(","),y["default"].set("my-trip",(0,a["default"])(this.myCurrentTrip),{expires:7}),this.el.querySelectorAll(".trip-card").length>0?p["default"].js.ajax({method:"POST",body:{action:"add_new_event_to_trip"}}).then(function(t){p["default"].body.classList.toggle("has-trip",!0),e.el.classList.add("is-in-trip"),document.querySelector(".quicklinks-sidebar--trip").innerHTML=t.html;var i=[].concat((0,o["default"])(document.querySelector(".quicklinks-sidebar--trip").querySelectorAll("[data-component]")));e.components.initComponents({components:i})}):p["default"].body.classList.remove("has-trip")},removeAnimation:function(t){var e=t.currentTarget.closest(".exhibition-wrapper");this.currentExhibitionInner=e.querySelector(".exhibition-inner");var i=e.clientHeight,n=t.currentTarget.closest(".my-trip-timeline__exhibitions"),r=(0,l.$)(e).prevAll(),o=this.ui.timeline[0];l.$.each(r,function(t,e){e.classList.toggle("mirror")});var s=new TimelineLite({onComplete:this.completeRemove.bind(this)});s.to(e,.25,{opacity:0},0),s.to(e,.5,{y:i,clearProps:"transform",ease:Circ.easeInOut},0),s.to(n,.5,{y:i*-1,clearProps:"transform",ease:Circ.easeInOut},0),s.to(r,.5,{y:i,clearProps:"transform",ease:Circ.easeInOut},0),s.to(o,.5,{height:o.clientHeight-i,clearProps:"height",ease:Circ.easeInOut},0),n.parentNode.classList.contains("my-trip-timeline__hal")&&(s.to(this.timelineMap,.5,{y:i*-1,clearProps:"transform",ease:Circ.easeInOut},0),s.to(this.timelineHof,.5,{y:i*-1,clearProps:"transform",ease:Circ.easeInOut},0))},completeRemove:function(){this.currentExhibitionInner.remove(),this.checkForEventsLeft()},checkForEventsLeft:function(){var t=0,e=0;[].concat((0,o["default"])(this.el.querySelectorAll(".trip-card"))).forEach(function(i){"hal"===i.getAttribute("data-loc")?t++:e++}),void 0,0==t&&e>0?""!==this.timelineHal&&(this.removeTimelineAnimation("hal"),this.timelineHal=""):t>0&&0==e&&""!==this.timelineHof&&(this.removeTimelineAnimation("hof"),this.timelineHof=""),this.debouncedResize(),0===t&&0===e&&(void 0,window.location.href="http://franshals.local.buildinamsterdam.com/en/visit/calendar/")},removeTimelineAnimation:function(t){var e=this,i="hof"==t?this.timelineHof:"hal"==t?this.timelineHal:void 0;if(void 0!=i){var n=this.timelineMap.clientHeight,r=this.timelineHal.clientHeight,o="hof"==t?n*-1:(n+r)*-1;this.removeTimelineMapAnimation(),TweenMax.to(this.timelineHof,.75,{y:o,ease:Circ.easeInOut,clearProps:"transform",onComplete:function(){i.remove()}}),TweenMax.to(i,.75,{opacity:0}),TweenMax.to(this.ui.timeline,.75,{height:this.ui.timeline[0].clientHeight-i.clientHeight-n,clearProps:"height",ease:Circ.easeInOut,onComplete:function(){e.debouncedResize()}})}},removeTimelineMapAnimation:function(){var t=this,e={mapScale:1,mapInnerScale:1};TweenMax.to(e,.75,{mapScale:.1,ease:Circ.easeInOut,onUpdate:function(){e.mapInnerScale=1/e.mapScale,t.timelineMap.style.transform="scale("+e.mapScale+")",t.timelineMapInner.style.transform="scale("+e.mapInnerScale+")"},onComplete:function(){t.timelineMap.remove()}})},debouncedResize:function(){c["default"].prototype.debouncedResize.call(this),p["default"].width>=f["default"].breakpoints.medium&&(this.ui.detailsInner[0].classList.remove("is-fixed"),this.ui.detailsInner[0].classList.remove("is-bottom"),this.detailsBounds.isBottom=!1,this.detailsBounds.isSticky=!1,this.cacheValues())},animateOut:function(){this.el.style.zIndex="-2",c["default"].prototype.animateOut.call(this)},destroy:function(){c["default"].prototype.destroy.call(this)}});i["default"]=_},{"../_core":1,"babel-runtime/core-js/json/stringify":96,"babel-runtime/helpers/toConsumableArray":114,config:47,"default":71,"js-cookie":596,"raf-scroll":57,utils:65}],82:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("../_core"),a=t("default"),l=n(a),u=t("config"),c=n(u),h=t("vent"),f=t("utils"),d=n(f),p=t("raf-scroll"),g=n(p),m=t("../behaviors/modal"),v=n(m),y=l["default"].extend({ui:s._.extend({galleryWrapper:".news-article__gallery-wrapper",gallery:".news-article__gallery",paragraphs:".news-article__paragraph[data-image]",explore:".explore-area",details:".news-article__details",slides:".js-gallery-slide",overlayGallery:".overlay-gallery",prevnext:".prevnext",marquee:'[data-component="marquee"]',openGallery:".js-open-gallery",splitBottom:".js-title-first-half",pageTopColor:".js-page-top-color",animationSlides:".animation-slides",animationSlideTop:".animation-slides__top",animationSlideBottom:".animation-slides__bottom",pageTitle:'[data-component="page-title"]',sidebar:".details-sidebar__general",toggleModal:".js-toggle-modal"},l["default"].prototype.ui),events:s._.extend({"click @ui.slides":"toggleOverlayGallery","click @ui.openGallery":"toggleOverlayGallery","click @ui.prevnext":"clickPrevNext","click @ui.toggleModal":"toggleModal"},l["default"].prototype.events),behaviors:{Modal:v["default"]},initialize:function(){var t=app.router.current();t!==!1&&(this.fromCalendarOverview="calendar"==t.handler),this.fromCalendarOverview&&this.el.classList.add("from-overview"),this.pageScroll=this.pageScroll.bind(this),l["default"].prototype.initialize.call(this)},addEvents:function(){l["default"].prototype.addEvents.call(this)},removeEvents:function(){l["default"].prototype.removeEvents.call(this),g["default"].remove(this.pageScroll)},animateIn:function(){var t=this;app.router.urlHistory.length>1&&document.body.classList.add("has-link-back"),this.fromCalendarOverview&&0!=document.querySelectorAll(".divClone").length?(this.el.style.opacity=1,this.el.style.visibility="visible",document.querySelector(".js-page-transition-top").classList.add("animate-in"),document.querySelector(".js-page-transition-bottom").classList.add("animate-in"),window.setTimeout(function(){var e=document.querySelector(".divClone");e.parentNode.removeChild(e),t.animateInEnd()},750),window.setTimeout(function(){t.el.classList.remove("from-overview")},1500)):l["default"].prototype.animateIn.call(this)},animateInEnd:function(){l["default"].prototype.animateInEnd.call(this),this.el.classList.add("in-view");var t=this.ui.details[0].clientHeight;this.isCuratedPage=this.el.querySelectorAll(".news-article--curated").length>0,this.updateColors(),d["default"].width>=c["default"].breakpoints.medium&&(this.el.querySelector(".js-page-inner").style.paddingTop=this.ui.pageTopColor[0].getBoundingClientRect().bottom-this.ui.splitBottom[0].getBoundingClientRect().bottom+"px",t>d["default"].height?(this.isCuratedPage||(this.setSlideParallax(),this.cacheValues()),g["default"].add(this.pageScroll)):this.ui.gallery.length>0&&this.ui.gallery[0].classList.add("is-passive"))},animateOut:function(){var t=this;if(this.toPrevNext){var e=window.colorset[this.toPrevNext];this.ui.animationSlideTop[0].style.backgroundColor=e.secondary,this.ui.animationSlideBottom[0].style.backgroundColor=e.primary,this.ui.animationSlides[0].classList.add("animate-out");var i=(0,s.$)(this.ui.pageTitle[0]).data("component-instance");i.animateOut(),this.ui.prevnext[0].style.opacity=0,this.ui.prevnext[1].style.opacity=0,setTimeout(function(){return t.animateOutEnd()},1e3)}else this.el.style.zIndex="-2",l["default"].prototype.animateOut.call(this)},animateOutEnd:function(){l["default"].prototype.animateOutEnd.call(this),document.body.classList.remove("has-link-back")},destroy:function(){l["default"].prototype.destroy.call(this)},clickPrevNext:function(t){t.preventDefault(),this.toPrevNext=t.currentTarget.getAttribute("data-target")},setSlideParallax:function(){if(0!=this.ui.slides.length){window.pageYOffset,this.ui.slides[0].parentNode.getBoundingClientRect().top,this.ui.slides[0].getBoundingClientRect()}},cacheValues:function(){var t=this,e=window.pageYOffset,i=this.ui.galleryWrapper[0].getBoundingClientRect(),n=this.ui.gallery[0].getBoundingClientRect();this.galleryCache={el:this.ui.gallery[0],top:i.top+e,height:n.height,isCenteredFromTop:(d["default"].height-n.height)/2,isSticky:!1},this.galleryCache.el.style.top=this.galleryCache.isCenteredFromTop+"px";var r=this.ui.explore[0].getBoundingClientRect();this.exploreCache={el:this.ui.explore[0],top:r.top+e,isPushingGallery:d["default"].height-(this.galleryCache.isCenteredFromTop-.04*d["default"].width),isBottom:!1},this.paragraphsCache=[],[].concat((0,o["default"])(this.ui.paragraphs)).forEach(function(i){var n=i.getBoundingClientRect();t.paragraphsCache.push({el:i,top:n.top+e,galleryImageEl:t.ui.gallery[0].querySelector('[data-image-id="'+i.getAttribute("data-image")+'"]')})}),this.numSlides=this.paragraphsCache.length,this.currentSlide=0,this.ui.sidebar[0].classList.remove("is-fixed"),this.ui.sidebar[0].classList.remove("is-abs-bottom");var s=this.ui.sidebar[0].getBoundingClientRect();this.sidebarCache={footerTop:r.top+window.pageYOffset,sidebarTop:s.top-d["default"].width/12.5+window.pageYOffset,sidebarBottom:s.bottom+d["default"].width/25+window.pageYOffset,isActive:!1}},toggleModal:function(t){if("#modal-education"===t.currentTarget.getAttribute("data-target")){t.preventDefault();var e=document.querySelector(".js-modal-inner"),i=e.querySelector(".js-program input");i.value=t.currentTarget.getAttribute("data-title"),e.parentNode.setAttribute("data-edulvl",t.currentTarget.getAttribute("data-edulvl")),e.parentNode.classList.add("is-open"),d["default"].body.classList.add("has-modal-open")}},pageScroll:function(t){this.isCuratedPage||(this.controlSticky(t),this.controlGallerySlide(t))},controlSticky:function(t){var e=this.galleryCache.top-t.scrollY<=this.galleryCache.isCenteredFromTop,i=this.exploreCache.top-t.scrollY<=this.exploreCache.isPushingGallery;i?this.galleryCache.isBottom||(this.galleryCache.el.classList.add("is-bottom"),this.galleryCache.isBottom=!0):e?(this.galleryCache.isSticky||(this.galleryCache.el.classList.add("is-sticky"),this.galleryCache.isSticky=!0),this.galleryCache.isBottom&&(this.galleryCache.el.classList.remove("is-bottom"),this.galleryCache.isBottom=!1)):this.galleryCache.isSticky&&(this.galleryCache.el.classList.remove("is-sticky"),this.galleryCache.isSticky=!1)},controlGallerySlide:function(t){for(var e=this.numSlides-1;e>=0;e--){var i=this.paragraphsCache[e].top-t.scrollY<=.75*d["default"].height;if(i){if(this.currentSlide==e)return;this.paragraphsCache[e].galleryImageEl&&this.paragraphsCache[e].galleryImageEl.classList.add("is-active"),this.paragraphsCache[this.currentSlide].galleryImageEl&&this.paragraphsCache[this.currentSlide].galleryImageEl.classList.remove("is-active"),this.currentSlide=e;break}}},parallaxSlide:function(t){var e=d["default"].js.map([0,window.innerHeight],[this.parallaxValues.start,this.parallaxValues.end],t.scrollY);e=d["default"].js.clamp(e,this.parallaxValues.start,this.parallaxValues.end),this.parallaxValues.el.style.transform="translate3d(0,"+e+"px,0)"},toggleOverlayGallery:function(t){var e=t.currentTarget.getAttribute("data-image-id")?t.currentTarget.getAttribute("data-image-id"):0;h.basic.trigger("carousel:select",e),this.ui.overlayGallery[0].classList.add("is-open")},updateColors:function(){this.ui.marquee.length>0&&window.colorset&&((0,s.$)('<style>\n\n                        [data-component="marquee"] .tooltippy:after {\n                            color: '+window.colorset.bottom+';\n                        }\n\n                        [data-component="marquee"] .tooltippy svg {\n                            stroke: '+window.colorset.bottom+';\n                        }\n\n                        .explore-area [data-component="marquee"] .flickity-button.previous {\n                            cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="'+window.colorset.bottom+'" height="28" viewBox="0 0 28 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M0.226712 12.5048L27.0037 0.527578L21.0532 12.5098L27.0037 23.4821L0.226712 12.5048Z"/></svg>\') 12 12, auto;\n                        }\n\n                        .explore-area [data-component="marquee"] .flickity-button.next {\n                            cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="'+window.colorset.bottom+'" height="28" viewBox="0 0 28 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M27.0233 11.4952L0.246343 23.4724L6.19682 11.4902L0.246347 0.517929L27.0233 11.4952Z"/></svg>\') 12 12, auto;\n                        }\n\n                    </style>').appendTo(this.ui.marquee),(0,s.$)(this.ui.footer).css("background-color",window.colorset.top),(0,s.$)(this.ui.footer).find(".lang-selector").css("background-color",window.colorset.top))},positionSidebar:function(t){t.scrollY>=this.sidebarCache.sidebarTop&&t.scrollY+(this.sidebarCache.sidebarBottom-this.sidebarCache.sidebarTop)<this.sidebarCache.footerTop?(this.ui.sidebar[0].classList.remove("is-abs-bottom"),this.ui.sidebar[0].classList.add("is-fixed")):t.scrollY+(this.sidebarCache.sidebarBottom-this.sidebarCache.sidebarTop)>=this.sidebarCache.footerTop?(this.ui.sidebar[0].classList.add("is-abs-bottom"),this.ui.sidebar[0].classList.remove("is-fixed")):(this.ui.sidebar[0].classList.remove("is-abs-bottom"),this.ui.sidebar[0].classList.remove("is-fixed"))},debouncedResize:function(){var t=this.ui.details[0].clientHeight;d["default"].width>=c["default"].breakpoints.medium&&(t>d["default"].height&&(this.setSlideParallax(),this.isCuratedPage||this.cacheValues()),0==this.sidebarCache.isActive&&(this.sidebarCache.isActive=!0))}});i["default"]=y},{"../_core":1,"../behaviors/modal":3,"babel-runtime/helpers/toConsumableArray":114,config:47,"default":71,"raf-scroll":57,utils:65,vent:66}],83:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("../_core"),o=t("default"),s=n(o),a=t("config"),l=n(a),u=t("utils"),c=n(u),h=t("paper"),f=(n(h),t("raf-scroll")),d=n(f),p=t("./base/defaultWithRegion"),g=n(p),m=g["default"].extend({ui:r._.extend({sidebar:".js-fixed-sidebar",pageContent:".page-content",sidebarLinks:".sidebar__links",bubbleLinks:".bubble-link",bubbleCanvas:".bubble-canvas",marquee:'[data-component="marquee"]',readMoreBtn:".read-more-btn",readLessBtn:".read-more-content__close-btn",readMoreContent:".read-more-content",errorPage:".error-page",footer:".footer"},g["default"].prototype.ui),events:r._.extend({"click @ui.readMoreBtn":"toggleReadMore","click @ui.readLessBtn":"toggleReadMore"},g["default"].prototype.events),bubbleState:{init:!1,index:1},initialize:function(){void 0,this.pageScroll=this.pageScroll.bind(this),g["default"].prototype.initialize.call(this)},onDataLoaded:function(){c["default"].width>=l["default"].breakpoints.medium&&d["default"].add(this.pageScroll),g["default"].prototype.onDataLoaded.call(this)},addEvents:function(){g["default"].prototype.addEvents.call(this),this.ui.errorPage.length>0&&(this.isErrorPage=!0)},removeEvents:function(){g["default"].prototype.removeEvents.call(this)},animateIn:function(){g["default"].prototype.animateIn.call(this),app.router.urlHistory.length>1&&pageHasBackButton&&document.body.classList.add("has-link-back")},animateInEnd:function(){g["default"].prototype.animateInEnd.call(this),this.el.classList.add("in-view"),this.updateColors(),this.resize()},toggleReadMore:function(){this.ui.readMoreContent[0].classList.toggle("visible")},getCache:function(){var t=this;r._.delay(function(){t.cache={footerTop:t.el.querySelector(".js-footer").getBoundingClientRect().top+window.pageYOffset,isMobile:window.innerWidth<l["default"].breakpoints.medium},c["default"].width<l["default"].breakpoints.medium&&d["default"].add(t.pageScroll)},2e3)},pageScroll:function(t){this.cache.isMobile?this.ui.sidebar.length>0&&(t.scrollY>.188*c["default"].width?this.ui.sidebar[0]&&this.ui.sidebar[0].classList.add("is-fixed"):this.ui.sidebar[0]&&this.ui.sidebar[0].classList.remove("is-fixed")):this.ui.sidebar.length>0&&this.ui.sidebar[0]&&this.positionSidebar(t)},positionSidebar:function(t){t.scrollY+c["default"].height>=this.cache.footerTop?this.ui.sidebar[0].classList.remove("is-fixed"):this.ui.sidebar[0].classList.add("is-fixed")},animateOut:function(){d["default"].remove(this.pageScroll),g["default"].prototype.animateOut.call(this)},animateOutEnd:function(){void 0,s["default"].prototype.animateOutEnd.call(this),document.body.classList.remove("has-link-back")},updateColors:function(){this.ui.marquee.length>0&&window.colorset&&((0,r.$)('<style>\n\n                        [data-component="marquee"] .tooltippy:after {\n                            color: '+window.colorset.top+';\n                        }\n\n                        [data-component="marquee"] .tooltippy svg {\n                            stroke: '+window.colorset.top+';\n                        }\n\n                        .explore-area [data-component="marquee"] .flickity-button.previous {\n                            cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="'+window.colorset.top+'" height="28" viewBox="0 0 28 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M0.226712 12.5048L27.0037 0.527578L21.0532 12.5098L27.0037 23.4821L0.226712 12.5048Z"/></svg>\') 12 12, auto;\n                        }\n\n                        .explore-area [data-component="marquee"] .flickity-button.next {\n                            cursor: url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="'+window.colorset.top+'" height="28" viewBox="0 0 28 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M27.0233 11.4952L0.246343 23.4724L6.19682 11.4902L0.246347 0.517929L27.0233 11.4952Z"/></svg>\') 12 12, auto;\n                        }\n\n                    </style>').appendTo(this.ui.marquee),(0,r.$)(this.ui.footer).css("background-color",window.colorset.top),(0,r.$)(this.ui.footer).find(".lang-selector").css("background-color",window.colorset.top))},debouncedResize:function(){c["default"].width<l["default"].breakpoints.medium&&this.ui.sidebar.length>0&&this.ui.sidebar[0].classList.remove("is-fixed"),void 0,this.getCache()},onDestroy:function(){d["default"].remove(this.pageScroll)}});i["default"]=m},{"../_core":1,"./base/defaultWithRegion":73,config:47,"default":71,paper:602,"raf-scroll":57,utils:65}],84:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=(n(s),t("vent")),l=t("components-factory"),u=n(l),c=t("flickity"),h=n(c),f=t("hammerjs"),d=(n(f),r.Marionette.View.extend({el:".js-play-gifmefrans",template:r._.noop,needResize:!0,playGifMeFransImageCurrent:0,ui:{lazy:'[data-component="lazy"]',components:"[data-component]",stepOne:".js-step-1",stepTwo:".js-step-2",stepThree:".js-step-3",upperSection:".js-upper-section",lowerSection:".js-lower-section",upperCurtain:".js-curtain-upper",lowerCurtain:".js-curtain-lower",share:".js-share",back:".js-back",shareWrapper:".play-section__choice--share_wrapper",playGifMeFransBtn:".js-start-gifmefrans",playGifMeFransCursor:".play-gifmefrans__cursor",playGifMeFransImage:".play-gifmefrans__image-top",playGifMeFransFrame:".play-section__gifspin",playGifMeFransFrameTop:".play-gifmefrans__frame-wrapper--top",playGifMeFransFrameBottom:".play-gifmefrans__frame-wrapper--bottom",playGifMeFransBack:".play-gifmefrans__frame-back",downloadBtn:"#btn-download",hideIcon:".hideIcon",closeBtn:".play-btn__close"},events:{"click @ui.playGifMeFransBtn":"startGIFMeFrans","click @ui.playGifMeFransBack":"changeGIF","click @ui.playGifMeFransFrame":"changeGIF","click @ui.back":"backGIF","mouseenter @ui.shareWrapper":"shareEnter","mouseleave @ui.shareWrapper":"shareLeave","mouseenter @ui.back":"shareEnter","mouseleave @ui.back":"shareLeave","click @ui.downloadBtn":"downloadGif","click @ui.closeBtn":"closeGIFMeFrans"},initialize:function(){this.components=new u["default"](this),this.swipeRight=this.swipeRight.bind(this),this.swipeLeft=this.swipeLeft.bind(this)},onRender:function(){this.components.initComponents({components:this.ui.components}),this.listenTo(a.basic,"app:pagechange",this.closeGIFMeFrans),this.resize()},getCache:function(){},startGIFMeFrans:function(){var t=this;this.loading=!1,this.el.classList.add("start-gifmefrans"),this.el.addEventListener("mousemove",this.mouseMove),this.playGifMeFransImageLength=this.ui.playGifMeFransImage.length,this.playGifMeFransImagePrev=this.playGifMeFransImageLength,this.playGifMeFransImageCurrent=0,this.playGifMeFransImageBackCurrent=0,this.playGifMeFransImageBackPrev=this.playGifMeFransImageLength,this.ui.lazy.forEach(function(t){(0,r.$)(t).data("lazy").lazyload()}),setTimeout(function(){t.ui.stepOne[0].style.display="none",t.ui.stepTwo[0].classList.add("is-active")},750),setTimeout(function(){t.ui.share[0].classList.add("show"),t.ui.back[0].classList.add("show"),t.ui.playGifMeFransCursor[0].classList.add("show"),t.ui.hideIcon[0].classList.add("show"),t.flktyGifTop=new h["default"](t.ui.playGifMeFransFrameTop[0],{prevNextButtons:!1,wrapAround:!0,draggable:!1,pageDots:!1,selectedAttraction:.01,friction:.15}),t.flktyGifBottom=new h["default"](t.ui.playGifMeFransFrameBottom[0],{prevNextButtons:!1,wrapAround:!0,draggable:!1,pageDots:!1,rightToLeft:!0,selectedAttraction:.01,friction:.15}),setTimeout(function(){t.el.classList.add("unsplit-img")},300)},1500),this.currentImage=this.ui.playGifMeFransImage[this.playGifMeFransImageCurrent].getAttribute("data-imgshare"),this.swipeFrame=new Hammer(this.ui.playGifMeFransFrame[0],{domEvents:!0}),this.swipeFrame.on("swiperight",this.swipeRight),this.swipeFrame.on("swipeleft",this.swipeLeft),this.swipeBack=new Hammer(this.ui.playGifMeFransBack[0],{domEvents:!0}),this.swipeBack.on("swiperight",this.swipeRight),this.swipeBack.on("swipeleft",this.swipeLeft)},swipeRight:function(){void 0,this.changeGIF()},swipeLeft:function(){void 0,this.backGIF()},changeGIF:function(){var t=this;this.playGifMeFransImagePrev=this.playGifMeFransImageCurrent,this.playGifMeFransImageCurrent=Math.floor(Math.random()*this.playGifMeFransImageLength),this.playGifMeFransImageCurrent==this.playGifMeFransImagePrev&&(this.playGifMeFransImageCurrent==this.playGifMeFransImageLength?this.playGifMeFransImageCurrent=0:this.playGifMeFransImageCurrent=this.playGifMeFransImageCurrent+1),this.flktyGifTop.select(this.playGifMeFransImageCurrent,!0,!1),this.flktyGifBottom.select(this.playGifMeFransImageCurrent,!0,!1),this.ui.playGifMeFransCursor[0].classList.add("is-loading"),setTimeout(function(){t.ui.playGifMeFransCursor[0].classList.remove("is-loading")},300)},backGIF:function(){var t=this;this.playGifMeFransImageCurrent==this.playGifMeFransImagePrev&&(this.playGifMeFransImageBackCurrent=Math.floor(Math.random()*this.playGifMeFransImageLength)),this.playGifMeFransImageBackCurrent==this.playGifMeFransImageBackPrev&&(this.playGifMeFransImageBackBackCurrent=Math.floor(Math.random()*this.playGifMeFransImageLength)),this.playGifMeFransImageCurrent=this.playGifMeFransImagePrev,
this.ui.playGifMeFransCursor[0].classList.add("is-loading"),setTimeout(function(){t.ui.playGifMeFransCursor[0].classList.remove("is-loading")},300),this.flktyGifTop.select(this.playGifMeFransImageBackCurrent,!0,!1),this.flktyGifBottom.select(this.playGifMeFransImageBackCurrent,!0,!1)},mouseMove:function(t){this.mouseY=t.clientY,this.windowHeight=window.innerHeight,this.midpoint=this.windowHeight/2,this.pos=this.mouseY-this.midpoint,this.val=this.pos/this.midpoint*8,this.mouseX=t.clientX,this.windowWidth=window.innerWidth,this.midpointX=this.windowWidth/2,this.posX=this.mouseX-this.midpointX,this.valX=this.posX/this.midpointX*8,this.mainMove=document.getElementsByClassName("play-section__gifspin"),this.mainMove[0].style.transform="perspective("+this.midpoint+"px) rotateX("+this.val+"deg)"},shareEnter:function(t){this.ui.playGifMeFransCursor[0].classList.remove("show")},shareLeave:function(t){this.ui.playGifMeFransCursor[0].classList.add("show")},downloadGif:function(){this.ui.downloadBtn[0].href=this.currentImage,this.ui.downloadBtn[0].download="FransHals-GIF_"+(this.playGifMeFransImageCurrent+1)+".gif"},closeGIFMeFrans:function(){var t=this;this.el.classList.contains("in-view")&&(void 0,setTimeout(function(){t.el.classList.remove("start-gifmefrans"),t.ui.stepOne[0].style.display="",t.ui.stepTwo[0].classList.remove("is-active"),t.ui.playGifMeFransImage[0].classList.remove("is-active"),t.ui.share[0].classList.remove("show"),t.ui.back[0].classList.remove("show"),t.ui.playGifMeFransCursor[0].classList.remove("show"),t.el.classList.remove("unsplit-img"),t.ui.hideIcon[0].classList.remove("show")},350))},resize:function(){this.getCache()}}));i["default"]=d},{"components-factory":49,config:47,core:1,flickity:575,hammerjs:588,utils:65,vent:66}],85:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("core"),o=t("config"),s=(n(o),t("utils")),a=n(s),l=t("components-factory"),u=n(l),c=t("vent"),h=t("flickity"),f=n(h),d=t("paper"),p=n(d),g=r.Marionette.View.extend({el:".js-play-roulette",template:r._.noop,needResize:!0,ui:{lazy:'[data-component="lazy"]',components:"[data-component]",playRouletteBtn:".js-start-roulette",stepOne:".js-step-1",stepTwo:".js-step-2",stepThree:".js-step-3",shuffle:".js-shuffle",share:".js-share",changingImages:".js-roulette-img",topSpinner:".js-top-spinner",bottomSpinner:".js-bottom-spinner",lock:".js-lock",bubbleCanvas:".js-bubbles",downloadBtn:"#btn-download",downloadBtnURL:"#btn-download_url",hideIcon:".hideIcon",closeBtn:".play-btn__close"},events:{"click @ui.playRouletteBtn":"startIntro","click @ui.shuffle":"startSpinning","click @ui.lock":"toggleLock","click @ui.downloadBtn":"downloadCanvas","click @ui.closeBtn":"closeRoulette"},initialize:function(){this.components=new u["default"](this),this.topLocked=!1,this.bottomLocked=!1},onRender:function(){this.components.initComponents({components:this.ui.components}),this.listenTo(c.basic,"app:pagechange",this.closeRoulette)},startIntro:function(){var t=this;this.el.classList.add("start-roulette"),this.ui.lazy.forEach(function(t){(0,r.$)(t).data("lazy").lazyload()}),this.spinning=!0,this.bottomPaintingsLength=this.ui.bottomSpinner[0].getElementsByClassName("js-roulette-img").length,this.topPaintingsLength=this.ui.topSpinner[0].getElementsByClassName("js-roulette-img").length,this.curIndexTop=0,this.curIndexBottom=0,setTimeout(function(){t.ui.stepOne[0].style.display="none",t.ui.stepTwo[0].classList.add("is-active")},750),setTimeout(function(){t.ui.share[0].classList.add("show"),t.ui.lock[0].classList.add("show"),t.ui.lock[1].classList.add("show"),t.ui.shuffle[0].classList.add("show"),t.ui.hideIcon[0].classList.add("show"),setTimeout(function(){t.ui.shuffle[0].classList.add("highlighted")},750),t.el.classList.add("unsplit-img"),t.flktyTop=new f["default"](t.ui.topSpinner[0],{prevNextButtons:!1,wrapAround:!0,pageDots:!1,selectedAttraction:.01,friction:.183}),void 0,t.flktyBottom=new f["default"](t.ui.bottomSpinner[0],{prevNextButtons:!1,wrapAround:!0,pageDots:!1,rightToLeft:!0,selectedAttraction:.01,friction:.183}),t.flktyTop.on("dragEnd",t.startSpinning.bind(t)),t.flktyBottom.on("dragEnd",t.startSpinning.bind(t)),t.imageWidth=t.ui.topSpinner[0].querySelector(".js-roulette-img").getBoundingClientRect().width,t.ui.topSpinner[0].classList.add("is-active"),t.ui.bottomSpinner[0].classList.add("is-active"),t.flktyTop.select(t.topPaintingsLength,!0,!1),t.flktyBottom.select(t.bottomPaintingsLength,!0,!1),t.initPaper(),t.imgSource1=t.ui.topSpinner[0].querySelector(".is-selected").getAttribute("data-imgshare"),t.imgSource2=t.ui.bottomSpinner[0].querySelector(".is-selected").getAttribute("data-imgshare"),t.spinning=!1},1500)},startSpinning:function(t){var e=this;if(1==!this.spinning){this.spinning=!0,this.ui.shuffle[0].classList.add("is-spinning"),this.translationValues={topX:this.flktyTop.x,bottomX:this.flktyBottom.x};var i=(Math.floor(6*Math.random())+20).toFixed(),n=(Math.floor(10*Math.random())+20).toFixed();if(!this.topLocked){var r=i/this.topPaintingsLength,o=r%Math.floor(r),s=o*this.topPaintingsLength;this.curIndexTop+=Math.round(s),this.curIndexTop>this.topPaintingsLength-1&&(this.curIndexTop=this.curIndexTop%this.topPaintingsLength)}if(!this.bottomLocked){var a=n/this.bottomPaintingsLength,l=a%Math.floor(a),u=l*this.bottomPaintingsLength;this.curIndexBottom+=Math.round(u),this.curIndexBottom>this.bottomPaintingsLength-1&&(this.curIndexBottom=this.curIndexBottom%this.bottomPaintingsLength)}this.imgSource1=this.ui.topSpinner[0].getElementsByClassName("js-roulette-img")[this.curIndexTop].getAttribute("data-imgshare"),this.imgSource2=this.ui.bottomSpinner[0].getElementsByClassName("js-roulette-img")[this.curIndexBottom].getAttribute("data-imgshare");this.flktyTop.x+this.imageWidth*i*-1,this.flktyBottom.x+this.imageWidth*n*-1;this.topLocked||(this.flktyTop.x=Math.floor(-90*(this.imageWidth*this.topPaintingsLength)),this.flktyTop.integratePhysics(),this.flktyTop.settle(this.flktyTop.x),requestAnimationFrame(function(){e.flktyTop.select(e.curIndexTop)})),this.bottomLocked||(this.flktyBottom.x=Math.floor(-80*(this.imageWidth*this.bottomPaintingsLength)),this.flktyBottom.integratePhysics(),this.flktyBottom.settle(this.flktyBottom.x),requestAnimationFrame(function(){e.flktyBottom.select(e.curIndexBottom)})),setTimeout(function(){e.ui.shuffle[0].classList.remove("is-spinning"),e.spinning=!1},1500)}},toggleLock:function(t){var e=t.currentTarget,i=e.getAttribute("data-pos");e.classList.contains("is-locked")?(e.classList.remove("is-locked"),"top"===i?this.topLocked=!1:this.bottomLocked=!1):(e.classList.add("is-locked"),"top"===i?this.topLocked=!0:this.bottomLocked=!0)},initPaper:function(){this.height=this.ui.bubbleCanvas[0].clientHeight+2,"undefined"!=typeof this.paperScope&&this.paperScope.project.clear();for(var t=0;t<this.ui.bubbleCanvas.length;t++)this.paperScope=new p["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[t]),this.path=new this.paper.Path,a["default"].body.classList.contains("is-play-museum-roulette")?this.path.fillColor=0==t?"#6fab9e":"#f8b5b8":this.path.fillColor=0==t?"#a385bd":"#f9a04e",this.initializePath(t)},initializePath:function(t){this.path.removeSegments(),this.path.segments=[],0==t?this.path.add(this.paper.view.bounds.topLeft):this.path.add(this.paper.view.bounds.bottomLeft);var e=this.ui.lock[0].getBoundingClientRect(),i=e.width/2;this.path.add(new this.paper.Point(i-.25*e.width,0==t?0:this.height)),this.path.add(new this.paper.Point(i-.1*e.width,0==t?0:this.height)),this.path.add(new this.paper.Point(i,0==t?.6*this.height:.3*this.height)),this.path.add(new this.paper.Point(i+.1*e.width,0==t?0:this.height)),this.path.add(new this.paper.Point(i+.25*e.width,0==t?0:this.height)),0==t?this.path.add(this.paper.view.bounds.topRight):this.path.add(this.paper.view.bounds.bottomRight),this.path.smooth({type:"catmull-rom",factor:.5})},makeImg:function(t,e,i){var n=this;this.canvas=document.getElementById("play-canvas");var r=this.canvas.getContext("2d"),o=800,s=400;r.canvas.width=o,r.canvas.height=2*s,r.clearRect(0,0,o,2*s);var a=new Image,l=new Image;a.src=t,a.onload=function(){var t=n.getImagePositions(a.naturalWidth,a.naturalHeight,o,s,"top");r.drawImage(a,t.formattedX,t.formattedY,t.formattedWidth,t.formattedHeight,0,0,o,s),l.src=e,l.onload=function(){var t=n.getImagePositions(l.naturalWidth,l.naturalHeight,o,s,"bottom");r.drawImage(l,t.formattedX,t.formattedY,t.formattedWidth,t.formattedHeight,0,s,o,s),n.ui.downloadBtnURL[0].href=document.getElementById("play-canvas").toDataURL(),n.downloadCanvasClick()}}},getImagePositions:function(t,e,i,n,r){var o=t/i,s=e/n;if("top"===r){if(o===s)return{formattedWidth:t,formattedHeight:e,formattedX:0,formattedY:0};if(s<o){var a=i*s,l=0;return{formattedWidth:a,formattedHeight:e,formattedX:l,formattedY:0}}var u=n*o,c=0;return{formattedWidth:t,formattedHeight:u,formattedX:0,formattedY:c}}if(o===s)return{formattedWidth:t,formattedHeight:e,formattedX:0,formattedY:0};if(s<o){var h=i*s,f=(t-h)/2;return{formattedWidth:h,formattedHeight:e,formattedX:f,formattedY:0}}var d=n*o,p=e-d;return{formattedWidth:t,formattedHeight:d,formattedX:0,formattedY:p}},downloadCanvas:function(){this.makeImg(this.imgSource1,this.imgSource2,this.ui.downloadBtn[0])},downloadCanvasClick:function(t){this.ui.downloadBtnURL[0].download="FransHals-ArtRoulette.png",this.ui.downloadBtnURL[0].click()},closeRoulette:function(){var t=this;this.el.classList.contains("in-view")&&setTimeout(function(){t.el.classList.remove("start-roulette"),t.ui.stepOne[0].style.display="",t.ui.stepTwo[0].classList.remove("is-active"),t.ui.share[0].classList.remove("show"),t.ui.lock[0].classList.remove("show"),t.ui.lock[1].classList.remove("show"),t.ui.shuffle[0].classList.remove("show"),t.ui.hideIcon[0].classList.remove("show"),t.ui.shuffle[0].classList.remove("highlighted"),t.el.classList.remove("unsplit-img"),t.ui.topSpinner[0].classList.remove("is-active"),t.ui.bottomSpinner[0].classList.remove("is-active")},350)}});i["default"]=g},{"components-factory":49,config:47,core:1,flickity:575,paper:602,utils:65,vent:66}],86:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=(n(a),t("utils")),u=n(l),c=(t("vent"),t("components-factory")),h=n(c);t("gsap-splitext");var f=t("hammerjs"),d=(n(f),s.Marionette.View.extend({el:".js-play-tinder",template:s._.noop,needResize:!0,ui:{components:"[data-component]",playTinderBtn:".js-start-tinder",closeTinderBtn:".js-close-tinder",replayTinderBtn:".js-replay-tinder",stepOne:".js-step-1",stepTwo:".js-step-2",stepThree:".js-step-3",stepFour:".js-step-4",tinderCards:".js-tinder-card",tinderCardCircle:".js-tinder-circle",tinderCardWrapper:".js-tinder-wrapper",tinderCardMain:".tinder-cards__wrapper",like:".js-like",dislike:".js-dislike",explanation:".js-explanation",choiceText:".js-choice-text",artistName:".js-artist-name",matchedArtistName:".js-matched-artist-name",upperCurtain:".js-curtain-upper",lowerCurtain:".js-curtain-lower",upperSection:".js-upper-section",lowerSection:".js-lower-section",closeBtn:".play-btn__close"},events:{"click @ui.playTinderBtn":"startTinderIntro","click @ui.closeBtn":"closeTinder","click @ui.closeTinderBtn":"closeMatch","click @ui.replayTinderBtn":"replayTinder"},initialize:function(){this.components=new h["default"](this),this.isMatch=!1,this.mousePressed=this.mousePressed.bind(this),this.mouseReleased=this.mouseReleased.bind(this),this.mouseMove=this.mouseMove.bind(this),this.updateTinderCard=this.updateTinderCard.bind(this),this.touchPressed=this.touchPressed.bind(this),this.touchReleased=this.touchReleased.bind(this),this.touchMove=this.touchMove.bind(this),this.updateTinderRAF=""},onRender:function(){var t=this;this.components.initComponents({components:this.ui.components}),this.splitText=[],[].concat((0,o["default"])(this.ui.choiceText)).forEach(function(e){t.splitText.push(new SplitText(e,{type:"chars"}))}),this.cardIndex=0,this.topTinderCard=this.ui.tinderCards[this.cardIndex],this.totalCards=this.ui.tinderCards.length,this.ui.tinderCards[this.cardIndex].classList.add("first-card"),this.replay=!1,this.explain=!0,void 0},getCache:function(){var t=this.ui.like[0].getBoundingClientRect(),e=this.ui.dislike[0].getBoundingClientRect();this.cache={dislikePosX:e.left+e.width/2,likePosX:t.left+t.width/2},this.topTinderCard=this.ui.tinderCards[this.cardIndex],this.topTinderCardBounds=this.topTinderCard.getBoundingClientRect(),this.topTinderCardCenter=[this.topTinderCardBounds.left+this.topTinderCardBounds.width/2,this.topTinderCardBounds.top+this.topTinderCardBounds.height/2],this.topTinderCardPos={newTranslateX:0,newTranslateY:0,translateY:0,translateX:0,newScale:.95,scale:.95,rotate:0},this.curtainScale=0,this.isAnimatingBG=!1},startTinderIntro:function(){var t=this;this.bindUIElements(),this.el.classList.add("start-tinder"),s._.delay(function(){t.ui.stepOne[0].style.display="none",t.ui.stepTwo[0].classList.add("is-active"),window.setTimeout(function(){t.ui.tinderCardMain[0].classList.add("show")},300),t.el.classList.add("is-animating-explain"),t.spreadArtists()},850)},spreadArtists:function(){for(var t=this,e=1,i=function(i){var n=i%2==0?35:-35,r=i%2==0?e*e*3:e*e*-3,o=10-i,s={translateY:0,translateX:0,rotation:0,scale:.95-.05*(e*e)},a=new TimelineMax({onCompleteScope:t,onComplete:function(){1==t.explain?i===t.totalCards-1&&(t.el.classList.add("is-animating-explain"),t.explainLikeDislike()):t.prepareTinderGame()}});a.to(s,.65,{delay:1,translateY:e*e*3,translateX:n*e,rotation:r,ease:Quart.easeOut,onUpdate:function(){t.ui.tinderCards[i].style.transform="translateY("+s.translateY+"%) translateX("+s.translateX+"%) rotate("+s.rotation+"deg) scale("+s.scale+")"},onComplete:function(){window.setTimeout(function(){t.ui.like[0].classList.add("show"),t.ui.dislike[0].classList.add("show")},750)}}),a.to(s,.65,{delay:.55+.15*i,translateY:4*i,translateX:0,rotation:0,scale:.95-.05*i,ease:Cubic.easeInOut,onUpdate:function(){t.ui.tinderCards[i].style.transform="translateY("+s.translateY+"%) translateX("+s.translateX+"%) rotate("+s.rotation+"deg) scale("+s.scale+")"}}),TweenMax.set(t.ui.tinderCards[i],{delay:.95,opacity:1}),t.ui.tinderCards[i].style.zIndex=o,i%2==0&&(e+=1)},n=1;n<this.totalCards;n++)i(n)},unspreadArtists:function(){var t=this;TweenMax.staggerTo(this.ui.tinderCards,.75,{cycle:{scale:function(e){if(e>t.cardIndex-1)return.95-.05*(e-t.cardIndex)},y:function(e){if(e>t.cardIndex-1)return 4*(e-t.cardIndex)+"%"},rotationY:function(e){if(e>t.cardIndex-1)return 90}},ease:Cubic.easeInOut,onCompleteScope:this,onComplete:function(){}},.012,this.matchArtist())},explainLikeDislike:function(){var t=this;this.explain=!1;var e=new TimelineLite,i={translateX:0,translateY:0,rotation:0,scale:.95};void 0,this.topTinderCard.classList.add("is-animating"),e.to(i,.85,{translateX:55,translateY:-5,rotation:5,scale:1,ease:Cubic.easeInOut,onUpdate:function(){t.topTinderCard.style.transform="translateY("+i.translateY+"%) translateX("+i.translateX+"%) rotate("+i.rotation+"deg) scale("+i.scale+")",t.topTinderCard.classList.add("picked-up"),i.translateX>20&&(t.ui.like[0].classList.add("highlighted"),t.ui.explanation[0].classList.add("is-active"))}}),e.to(i,.85,{delay:1,translateX:0,translateY:0,rotation:0,scale:.95,ease:Cubic.easeInOut,onUpdate:function(){t.topTinderCard.style.transform="translateY("+i.translateY+"%) translateX("+i.translateX+"%) rotate("+i.rotation+"deg) scale("+i.scale+")",i.translateX<25&&(t.ui.like[0].classList.remove("highlighted"),t.ui.explanation[0].classList.remove("is-active"),t.topTinderCard.classList.remove("picked-up"))}}),e.to(i,.85,{delay:.5,translateX:-55,translateY:-5,rotation:-5,scale:1,ease:Cubic.easeInOut,onUpdate:function(){t.topTinderCard.style.transform="translateY("+i.translateY+"%) translateX("+i.translateX+"%) rotate("+i.rotation+"deg) scale("+i.scale+")",t.topTinderCard.classList.add("picked-up"),i.translateX<-20&&(t.ui.dislike[0].classList.add("highlighted"),t.ui.explanation[1].classList.add("is-active"))}}),e.to(i,.85,{delay:1,translateX:0,translateY:0,rotation:0,scale:.95,ease:Cubic.easeInOut,onUpdate:function(){t.topTinderCard.style.transform="translateY("+i.translateY+"%) translateX("+i.translateX+"%) rotate("+i.rotation+"deg) scale("+i.scale+")",i.translateX>-25&&(t.ui.dislike[0].classList.remove("highlighted"),t.ui.explanation[1].classList.remove("is-active"),t.topTinderCard.classList.remove("picked-up"))},onComplete:function(){TweenMax.set(t.topTinderCard,{clearProps:"transform"}),t.el.classList.remove("is-animating-explain"),t.prepareTinderGame()}})},prepareTinderGame:function(){this.ui.dislike[0].classList.add("show"),this.ui.like[0].classList.add("show"),this.cardIndex+1==this.totalCards||(this.url=this.ui.tinderCards[this.cardIndex+1].getAttribute("data-url"),this.colorset=JSON.parse(this.ui.tinderCards[this.cardIndex+1].getAttribute("data-colorset")),this.ui.lowerCurtain[0].style.backgroundColor=this.colorset.bottom,this.ui.upperCurtain[0].style.backgroundColor=this.colorset.top),this.ui.tinderCards[0].classList.add("is-animating"),this.stopLoop=!1,this.getCache(),this.updateTinderCard(),this.topTinderCard.addEventListener("mousedown",this.mousePressed),this.el.addEventListener("mouseup",this.mouseReleased),1==this.touchPress,u["default"].is.touch&&(void 0,this.swipeCard=new Hammer(this.topTinderCard,{domEvents:!0}),this.swipeCard.on("panstart",this.touchPressed),this.swipeCard.on("panend",this.touchReleased),this.swipeIndex=0)},mousePressed:function(t){this.mouseMove(t),this.topTinderCardPos.scale=1,this.topTinderCard.classList.add("picked-up"),this.ui.explanation[2].classList.add("is-active"),this.el.addEventListener("mousemove",this.mouseMove)},mouseReleased:function(){var t=this;this.el.removeEventListener("mousemove",this.mouseMove),this.topTinderCardPos.scale=.95,this.topTinderCard.classList.remove("picked-up"),this.ui.explanation[2].classList.remove("is-active"),this.mouseX<.4*u["default"].width?this.dislikeCard():this.mouseX>.6*u["default"].width?this.likeCard():window.requestAnimationFrame(function(){t.topTinderCardPos.newTranslateX=0,t.topTinderCardPos.newTranslateY=0})},mouseMove:function(t){this.topTinderCardPos.newTranslateX=t.clientX-this.topTinderCardCenter[0],this.topTinderCardPos.newTranslateY=t.clientY-this.topTinderCardCenter[1],this.mouseX=t.clientX,this.fadeOptions()},touchPressed:function(t){this.topTinderCard.classList.add("picked-up"),this.ui.explanation[2].classList.add("is-active"),this.topTinderCard.style.transform="translateX("+this.topTinderCardPos.translateX.toFixed(2)+"px) translateY("+this.topTinderCardPos.translateY.toFixed(2)+"px) rotate("+this.topTinderCardPos.rotate.toFixed(2)+"deg) scale("+this.topTinderCardPos.scale.toFixed(2)+")",this.topTinderCard.classList.add("picked-up"),this.ui.explanation[2].classList.add("is-active"),this.swipeCard.on("panmove",this.touchMove)},touchReleased:function(){var t=this;0==this.swipeIndex&&(this.topTinderCardPos.scale=.95,this.topTinderCard.style.transform="translateX("+this.topTinderCardPos.translateX.toFixed(2)+"px) translateY("+this.topTinderCardPos.translateY.toFixed(2)+"px) rotate("+this.topTinderCardPos.rotate.toFixed(2)+"deg) scale("+this.topTinderCardPos.scale.toFixed(2)+")",this.topTinderCard.classList.remove("picked-up"),this.ui.explanation[2].classList.remove("is-active"),this.mouseX<.4*u["default"].width?(this.dislikeCard(),this.swipeIndex++):this.mouseX>.6*u["default"].width?(this.likeCard(),this.swipeIndex++):window.requestAnimationFrame(function(){t.topTinderCardPos.newTranslateX=0,t.topTinderCardPos.newTranslateY=0}))},touchMove:function(t){this.topTinderCardPos.newTranslateX=t.center.x-this.topTinderCardCenter[0],this.topTinderCardPos.newTranslateY=t.center.y-this.topTinderCardCenter[1],this.topTinderCard.style.transform="translateX("+this.topTinderCardPos.newTranslateX.toFixed(2)+"px) translateY("+this.topTinderCardPos.newTranslateY.toFixed(2)+"px) rotate("+this.topTinderCardPos.rotate.toFixed(2)+"deg) scale("+this.topTinderCardPos.scale.toFixed(2)+")",this.mouseX=t.center.x,this.fadeOptions()},updateTinderCard:function(){this.stopLoop||(this.updateTinderRAF=window.requestAnimationFrame(this.updateTinderCard)),this.topTinderCardPos.translateX+=.15*(this.topTinderCardPos.newTranslateX-this.topTinderCardPos.translateX),this.topTinderCardPos.translateY+=.15*(this.topTinderCardPos.newTranslateY-this.topTinderCardPos.translateY),this.topTinderCardPos.newRotate=u["default"].js.map([-u["default"].width/2,u["default"].width/2],[-25,25],this.topTinderCardPos.translateX),this.topTinderCardPos.newScale+=.1*(this.topTinderCardPos.scale-this.topTinderCardPos.newScale),this.topTinderCardPos.rotate=this.topTinderCardPos.newRotate+.05*(this.topTinderCardPos.newRotate-this.topTinderCardPos.rotate),this.topTinderCard.style.transform="translateX("+this.topTinderCardPos.translateX.toFixed(2)+"px) translateY("+this.topTinderCardPos.translateY.toFixed(2)+"px) rotate("+this.topTinderCardPos.rotate.toFixed(2)+"deg) scale("+this.topTinderCardPos.newScale.toFixed(2)+")",this.isMatch||(this.mouseX<.4*u["default"].width?(this.ui.dislike[0].classList.add("highlighted"),this.ui.like[0].classList.remove("highlighted"),this.ui.explanation[2].classList.remove("is-active"),this.ui.explanation[3].classList.remove("is-active"),this.ui.explanation[4].classList.add("is-active"),this.ui.explanation[5].classList.remove("is-active")):this.mouseX>.6*u["default"].width?(this.ui.like[0].classList.add("highlighted"),this.ui.dislike[0].classList.remove("highlighted"),this.ui.explanation[2].classList.remove("is-active"),this.ui.explanation[3].classList.add("is-active"),this.ui.explanation[4].classList.remove("is-active"),this.ui.explanation[5].classList.remove("is-active")):(this.ui.dislike[0].classList.remove("highlighted"),this.ui.like[0].classList.remove("highlighted"),this.ui.explanation[3].classList.remove("is-active"),this.ui.explanation[4].classList.remove("is-active"),this.ui.explanation[5].classList.remove("is-active")))},fadeOptions:function(){var t=1,e=1;this.mouseX<u["default"].width/2?(t=u["default"].js.map([-u["default"].width/3,0],[.2,1],this.topTinderCardPos.newTranslateX),e=u["default"].js.map([-u["default"].width/3,0],[.8,1],this.topTinderCardPos.newTranslateX),this.ui.like[0].style.opacity=t,this.ui.like[0].style.transform="scale("+e+")"):(t=u["default"].js.map([0,u["default"].width/3],[1,.2],this.topTinderCardPos.newTranslateX),e=u["default"].js.map([0,u["default"].width/3],[1,.8],this.topTinderCardPos.newTranslateX),this.ui.dislike[0].style.opacity=t,this.ui.dislike[0].style.transform="scale("+e+")")},likeCard:function(){this.cardClipAnimation("like"),TweenMax.set([this.ui.dislike[0],this.ui.like[0]],{clearProps:"all"})},dislikeCard:function(){this.cardClipAnimation("dislike"),TweenMax.set([this.ui.dislike[0],this.ui.like[0]],{clearProps:"all"})},cardClipAnimation:function(t){var e=this;void 0,this.topTinderCardPos.newTranslateX=("like"==t?this.cache.likePosX:this.cache.dislikePosX)-this.topTinderCardCenter[0],this.topTinderCardPos.newTranslateY=0;var i={wrapperScale:1,circleScale:1},n=Math.round(Math.random()),r=u["default"].width<=1024&&u["default"].is.touch?3.333:2.5;TweenMax.to(i,.45,{wrapperScale:r,ease:Cubic.easeInOut,onUpdate:function(){e.ui.tinderCards[e.cardIndex].classList.add("is-hidding"),i.circleScale=1/i.wrapperScale,e.ui.tinderCardCircle[e.cardIndex].style.transform="scale("+i.circleScale+")",e.ui.tinderCardWrapper[e.cardIndex].style.transform="scale("+i.wrapperScale+")"},onCompleteScope:this,onComplete:function(){window.requestAnimationFrame(function(){e.stopLoop=!0,e.topTinderCard.removeEventListener("mousedown",e.mousePressed),e.el.removeEventListener("mouseup",e.mouseReleased),e.ui.dislike[0].classList.remove("highlighted"),e.ui.like[0].classList.remove("highlighted"),e.mouseX=e.topTinderCardCenter[0],e.mouseY=e.topTinderCardCenter[1]}),"like"==t?(n=Math.round(Math.random()),0===n&&(e.isMatch=!0,e.ui.dislike[0].classList.remove("show"),e.ui.like[0].classList.remove("show"),e.ui.explanation[2].classList.remove("is-active"),e.ui.explanation[3].classList.remove("is-active"),e.ui.explanation[4].classList.remove("is-active")),window.setTimeout(function(){0===n?(e.stopLoop=!1,e.updateTinderCard(),e.unspreadArtists()):(void 0,e.ui.explanation[5].classList.add("is-active"),e.removeArtist())},650)):window.setTimeout(function(){void 0,e.removeArtist()},650)}})},matchArtist:function(){var t=this;this.matchArtistDelay=this.totalCards-1-this.cardIndex,this.matchArtistDelay=750+50*this.matchArtistDelay,window.setTimeout(function(){var e=t.ui.tinderCards[t.cardIndex].getAttribute("data-gif"),i=document.createElement("img");i.addEventListener("load",function(){t.ui.tinderCards[t.cardIndex].querySelector(".image").style.backgroundImage="url('"+e+"')"}),i.src=e,t.ui.tinderCardMain[0].classList.add("unspread"),t.url=t.ui.tinderCards[t.cardIndex].getAttribute("data-url"),t.text=t.ui.tinderCards[t.cardIndex].getAttribute("data-text"),t.colorset=JSON.parse(t.ui.tinderCards[t.cardIndex].getAttribute("data-colorset")),t.ui.closeTinderBtn[0].href=t.url,t.ui.closeTinderBtn[0].querySelector("span").innerHTML=t.text,t.ui.closeTinderBtn[0].style.backgroundColor=t.colorset.top,t.topTinderCardPos.newTranslateX=0,t.topTinderCardPos.newTranslateY=-u["default"].height/3.5,void 0,t.ui.matchedArtistName[0].innerHTML=t.ui.artistName[t.cardIndex].innerHTML,window.setTimeout(function(){t.el.classList.remove("start-tinder"),t.el.classList.add("has-match")},300)},this.matchArtistDelay)},removeArtist:function(){var t=this;this.cardIndex=this.cardIndex+1,void 0,this.topTinderCard=this.ui.tinderCards[this.cardIndex];var e={wrapperScale:2.5,circleScale:.4};this.cardIndex==this.totalCards||this.changeBGColor(),TweenMax.to(this.ui.tinderCards[this.cardIndex-1],.45,{opacity:0}),this.cardIndex==this.totalCards?this.endTinder():(this.topTinderCard.classList.add("first-card"),TweenMax.to(e,.65,{wrapperScale:800,ease:Cubic.easeInOut,onCompleteScope:this,onComplete:function(){t.ui.tinderCards[t.cardIndex-1].classList.remove("is-hidding","is-animating","first-card"),t.ui.tinderCards[t.cardIndex-1].classList.add("prev-card"),t.bindUIElements(),t.stopLoop=!0,cancelAnimationFrame(t.updateTinderRAF),t.ui.tinderCards[t.cardIndex].classList.add("is-animating"),TweenMax.staggerTo(t.ui.tinderCards,.75,{cycle:{scale:function(e){if(e>t.cardIndex-1)return.95-.05*(e-t.cardIndex)},y:function(e){if(e>t.cardIndex-1)return 4*(e-t.cardIndex)+"%"}},ease:Cubic.easeInOut,onCompleteScope:t,onComplete:function(){t.stopLoop=!1,t.updateTinderCard(),t.prepareTinderGame()}},.05)}},0))},changeBGColor:function(){var t=this;this.ui.lowerCurtain[0].classList.add("is-animating"),this.ui.upperCurtain[0].classList.add("is-animating"),window.setTimeout(function(){t.ui.closeTinderBtn[0].href=t.url,t.ui.closeTinderBtn[0].querySelector("span").innerHTML=t.text,t.ui.closeTinderBtn[0].style.backgroundColor=t.colorset.top,t.ui.replayTinderBtn[0].style.backgroundColor=t.colorset.top,t.ui.lowerSection[0].style.backgroundColor=t.colorset.bottom,t.ui.upperSection[0].style.backgroundColor=t.colorset.top,t.ui.lowerCurtain[0].classList.remove("is-animating"),t.ui.upperCurtain[0].classList.remove("is-animating")},650)},endTinder:function(){var t=this;window.setTimeout(function(){t.ui.dislike[0].classList.remove("show"),t.ui.like[0].classList.remove("show"),t.ui.explanation[0].classList.remove("is-active"),t.ui.explanation[1].classList.remove("is-active"),t.ui.explanation[2].classList.remove("is-active"),t.ui.explanation[3].classList.remove("is-active"),t.ui.explanation[4].classList.remove("is-active"),t.el.classList.remove("start-tinder"),t.el.classList.add("no-match")},300),window.setTimeout(function(){t.ui.tinderCardMain[0].classList.remove("show")},750)},replayTinder:function(){var t=this;this.replay=!0,this.cardIndex=0,[].concat((0,o["default"])(this.ui.tinderCards)).forEach(function(t){t.classList.remove("first-card"),t.classList.remove("prev-card"),t.classList.remove("is-animating"),t.classList.remove("is-hidding"),t.style.cssText="",t.querySelector(".js-tinder-circle").style.cssText="",t.querySelector(".js-tinder-wrapper").style.cssText=""}),this.bindUIElements(),this.ui.tinderCards[this.cardIndex].classList.add("first-card"),this.url=this.ui.tinderCards[this.cardIndex].getAttribute("data-url"),this.text=this.ui.tinderCards[this.cardIndex].getAttribute("data-text"),this.colorset=JSON.parse(this.ui.tinderCards[this.cardIndex].getAttribute("data-colorset")),this.ui.lowerCurtain[0].style.backgroundColor=this.colorset.bottom,this.ui.upperCurtain[0].style.backgroundColor=this.colorset.top,this.el.classList.add("start-tinder"),this.el.classList.remove("no-match"),window.setTimeout(function(){t.changeBGColor(),t.ui.stepTwo[0].classList.add("is-active")},300),window.setTimeout(function(){t.ui.tinderCardMain[0].classList.add("show"),t.spreadArtists()},750),window.setTimeout(function(){t.stopLoop=!1,t.getCache(),t.updateTinderCard(),t.topTinderCard.addEventListener("mousedown",t.mousePressed),t.el.addEventListener("mouseup",t.mouseReleased)},950)},resize:function(){this.prepareTinderGame()},closeMatch:function(){var t=this;this.el.classList.remove("in-view"),this.el.classList.add("is-hidding"),window.setTimeout(function(){t.el.classList.remove("is-hidding"),t.closeTinder()},1100)},closeTinder:function(){var t=this;this.el.classList.contains("in-view")&&setTimeout(function(){t.el.classList.remove("start-tinder"),t.ui.stepOne[0].style.display="",t.ui.stepTwo[0].classList.remove("is-active"),t.ui.tinderCardMain[0].classList.remove("show"),t.ui.tinderCardMain[0].classList.remove("unspread"),t.ui.like[0].classList.remove("show"),t.ui.dislike[0].classList.remove("show"),t.el.classList.remove("has-match"),t.cardIndex=0,[].concat((0,o["default"])(t.ui.tinderCards)).forEach(function(t){t.classList.remove("first-card"),t.classList.remove("prev-card"),t.classList.remove("is-animating"),t.classList.remove("is-hidding"),t.style.cssText="",t.querySelector(".js-tinder-circle").style.cssText="",t.querySelector(".js-tinder-wrapper").style.cssText="",TweenMax.set(t,{clearProps:"transform"})}),t.bindUIElements(),t.ui.tinderCards[0].classList.add("first-card"),t.colorset=JSON.parse(t.ui.tinderCards[0].getAttribute("data-colorset")),t.ui.lowerSection[0].style.backgroundColor=t.colorset.bottom,t.ui.upperSection[0].style.backgroundColor=t.colorset.top},350)}}));i["default"]=d},{"babel-runtime/helpers/toConsumableArray":114,"components-factory":49,config:47,core:1,"gsap-splitext":56,hammerjs:588,utils:65,vent:66}],87:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/helpers/toConsumableArray"),o=n(r),s=t("core"),a=t("config"),l=n(a),u=t("utils"),c=n(u),h=t("vent"),f=t("components-factory"),d=n(f),p=t("../behaviors/localization-switch"),g=n(p),m=t("paper"),v=n(m),y=t("flickity"),_=n(y),b=s.Marionette.View.extend({el:".quicklinks-menu",template:s._.noop,needResize:!0,ui:{lazy:'[data-component="lazy"]',components:"[data-component]",toggleMenu:".js-toggleMenu",svg:".svg-link svg",svgLink:".svg-link",svgFill:".svg-link-fill",langSelectorLabel:".lang-selector label",bubbleLinks:".quicklinks-menu__link",bubbleCanvas:".bubble-canvas",sidebar:".js-quicklinks-sidebar",closeSidebar:".js-close-sidebar",closeSidebarIcon:".js-close-sidebar-icon",slider:".js-slider",backLink:".svg-link-back",menuInner:".quicklinks-menu__inner"},events:{"click @ui.bubbleLinks":"toggleSidebar","click @ui.closeSidebar":"toggleSidebar","click @ui.backLink":"clickBackLink",
"mouseenter @ui.closeSidebar":"mouseEnter","mouseleave @ui.closeSidebar":"mouseLeave","mousemove @ui.closeSidebar":"mouseMove"},behaviors:{localizationSwitch:g["default"]},state:{menuOpen:!1,index:-1},initialize:function(){var t=this;this.components=new d["default"](this),this.isLazyLoaded=!1,this.update=this.update.bind(this),[].concat((0,o["default"])(document.querySelectorAll(".js-toggleMenu"))).forEach(function(e){e.addEventListener("click",t.toggleMenu.bind(t))}),[].concat((0,o["default"])(document.querySelectorAll(".lang-selector--in-header .form-element"))).forEach(function(e){c["default"].width<l["default"].breakpoints.medium&&e.addEventListener("click",t.toggleLang.bind(t))}),this.listenTo(h.basic,"app:pagechange",this.toggleSidebar.bind(this)),this.listenTo(h.basic,"menu:updateColor",this.updateColor),this.listenTo(h.basic,"menu:updateColor",this.hasSubmenu),this.listenTo(h.basic,"app:resize",this.resize.bind(this)),this.listenTo(h.basic,"sidebars:close",this.toggleSidebar.bind(this)),this.listenTo(h.basic,"view:animateIn",this.animateIn.bind(this)),this.listenTo(h.basic,"sidebar:openTrip",function(){t.toggleSidebar(!1,document.querySelector(".svg-link.trip"))}),this.listenTo(h.basic,"header:closeMenu",function(){t.state.menuOpen=!1}),this.cache={xpos:0,ypos:0,isMouseOver:!1,needForRAF:!0}},onRender:function(){c["default"].setLoading.init(),this.sidebars={};for(var t=0;t<this.ui.sidebar.length;t++){var e=this.ui.sidebar[t].getAttribute("data-link");this.sidebars[e]={name:e,el:this.ui.sidebar[t],color:window.getComputedStyle(this.ui.sidebar[t]).backgroundColor}}this.activeSidebar=!1,this.screenHeight=c["default"].height,this.menuHeight=this.ui.menuInner[0].offsetHeight,this.ui.components.length>0&&this.components.initComponents({components:this.ui.components}),c["default"].width<l["default"].breakpoints.medium&&this.initSlider(),this.initPaper(),c["default"].width>=l["default"].breakpoints.medium&&this.toggleBubble()},initSlider:function(){this.flkty=new _["default"](this.ui.slider[0],{prevNextButtons:!1,wrapAround:!1,freeScroll:!0,pageDots:!1,contain:!0,cellAlign:"left"})},initPaper:function(){this.bubbleCanvasHeight=this.ui.bubbleCanvas[0].getBoundingClientRect().height,"undefined"!=typeof this.paperScope&&this.paperScope.project.clear(),this.paperScope=new v["default"].PaperScope,this.paper=this.paperScope.setup(this.ui.bubbleCanvas[0]),this.path=new this.paper.Path,this.path.fillColor="#231f20",this.initializePath()},resize:function(){var t=this;window.setTimeout(function(){t.updateMenuHeight(!0)},400),this.debouncedResize()},initializePath:function(){var t=this;this.path.removeSegments(),this.path.segments=[],this.path.add(this.paper.view.bounds.topLeft),[].concat((0,o["default"])(this.ui.bubbleLinks)).forEach(function(e){var i=e.getBoundingClientRect(),n=Math.max(1e3,window.innerHeight);if(c["default"].width<l["default"].breakpoints.medium){var r=i.left+(i.right-i.left)/2;t.path.add(new t.paper.Point(r-.2*n,t.bubbleCanvasHeight)),t.path.add(new t.paper.Point(r-.065*n,t.bubbleCanvasHeight)),t.path.add(new t.paper.Point(r,t.bubbleCanvasHeight)),t.path.add(new t.paper.Point(r+.065*n,t.bubbleCanvasHeight)),t.path.add(new t.paper.Point(r+.2*n,t.bubbleCanvasHeight))}else{var o=i.top+(i.bottom-i.top)/2;t.path.add(new t.paper.Point(0,o-.2*n)),t.path.add(new t.paper.Point(0,o-.065*n)),t.path.add(new t.paper.Point(0,o)),t.path.add(new t.paper.Point(0,o+.065*n)),t.path.add(new t.paper.Point(0,o+.2*n))}}),this.path.add(this.paper.view.bounds.bottomLeft),this.path.smooth({type:"catmull-rom",factor:.5})},toggleMenu:function(t){this.state.menuOpen?(c["default"].body.classList.remove("menu-is-open"),c["default"].body.classList.remove("hide-tooltip"),c["default"].body.classList.remove("menu-lang-switcher-is-open"),c["default"].js.scrollLock.toggle(!1),this.updateColor(this.lastColor,!0),h.basic.trigger("header:closeMenu")):(this.toggleSidebar(),c["default"].body.classList.add("menu-is-open"),c["default"].body.classList.add("hide-tooltip"),c["default"].body.classList.remove("menu-lang-switcher-is-open"),c["default"].js.scrollLock.toggle(!0),this.state.menuOpen=!0,this.updateColor("#cca69a",!0))},toggleLang:function(t){void 0,t.pointerId!==-1&&c["default"].body.classList.toggle("menu-lang-switcher-is-open")},toggleSidebar:function(t,e){var i=this;if(!this.activeSidebar||!this.activeSidebar.el.classList.contains("to-results")){this.isLazyLoaded||(this.isLazyLoaded=!0,this.ui.lazy.forEach(function(t){(0,s.$)(t).data("lazy").lazyload()})),t&&t.preventDefault();var n=t?t.currentTarget.getAttribute("data-link"):void 0!==e&&e.getAttribute("data-link");if(n&&n!=this.activeSidebar.name)this.toggleBubble(t),this.state.menuOpen&&this.toggleMenu(),this.activeSidebar&&this.activeSidebar.el.classList.remove("is-active"),window.setTimeout(function(){i.activeSidebar&&i.el.classList.remove("is-"+i.activeSidebar.el.getAttribute("data-link")),i.activeSidebar=i.sidebars[n]},400),c["default"].body.classList.contains("is-home")&&c["default"].width>=l["default"].breakpoints.medium&&(this.ui.menuInner[0].style.height=c["default"].height+"px"),this.sidebars[n].el.classList.add("is-active"),this.updateColor(this.sidebars[n].color,!0),this.el.classList.add("has-sidebar-open"),c["default"].body.classList.add("has-sidebar-open"),this.el.classList.add("is-"+n),h.basic.trigger("sidebar:update");else{this.toggleBubble();var r=this.activeSidebar?this.activeSidebar.el.getAttribute("data-link"):"";window.setTimeout(function(){i.activeSidebar&&i.activeSidebar.el.classList.remove("is-active"),i.activeSidebar=!1,i.updateMenuHeight()},400),this.updateColor(this.lastColor,!0),this.el.classList.remove("has-sidebar-open"),c["default"].body.classList.remove("has-sidebar-open"),this.el.classList.remove("is-"+r),h.basic.trigger("sidebar:update")}}},toggleBubble:function(t){t&&t.currentTarget&&t.currentTarget.getAttribute("data-index")?this.state.index=t.currentTarget.getAttribute("data-index"):c["default"].width>=l["default"].breakpoints.medium?this.state.index=4:this.state.index="";for(var e=5*this.state.index-2,i=new TimelineLite,n=0;n<this.path.segments.length;n++)c["default"].width<l["default"].breakpoints.medium?n===e?i.to(this.path.segments[n].point,1,{ease:Elastic.easeOut,y:.3*this.paper.view.size.height},.05):i.to(this.path.segments[n].point,.3,{ease:Quart.easeOut,y:this.bubbleCanvasHeight},.05):n==e?i.to(this.path.segments[n].point,1,{ease:Elastic.easeOut,x:.7*this.paper.view.size.width},.05):i.to(this.path.segments[n].point,.3,{ease:Quart.easeOut,x:0},.05)},updateColor:function(t,e){if(!this.state.menuOpen||e){e||(this.lastColor=t);var i=new TimelineLite({paused:!0});[].concat((0,o["default"])(this.ui.svgLink)).forEach(function(e){i.to(e,1,{color:t,ease:Power2.easeInOut},0)}),[].concat((0,o["default"])(this.ui.svg)).forEach(function(e){i.to(e,1,{stroke:t,ease:Power2.easeInOut},0)}),[].concat((0,o["default"])(this.ui.svgFill)).forEach(function(e){i.to(e,1,{backgroundColor:t,ease:Power2.easeInOut},0)}),[].concat((0,o["default"])(this.ui.langSelectorLabel)).forEach(function(e){e.style.color=t}),this.ui.toggleMenu.length>0&&(this.ui.toggleMenu[0].style.backgroundColor=t),this.ui.closeSidebarIcon.length>0&&(this.ui.closeSidebarIcon[0].style.backgroundColor=t),i.restart()}},clickBackLink:function(t){t.preventDefault(),t.currentTarget.classList.add("is-clicked"),setTimeout(function(){t.currentTarget.classList.remove("is-clicked")},500),window.history.back()},debouncedResize:function(){this.initPaper(),this.toggleBubble(),c["default"].width>=l["default"].breakpoints.medium?this.flkty&&this.flkty.destroy():this.initSlider()},animateIn:function(){this.updateMenuHeight()},updateMenuHeight:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];c["default"].width>=l["default"].breakpoints.medium?(t&&(this.ui.menuInner[0].style.height="",this.menuHeight=this.ui.menuInner[0].offsetHeight),c["default"].body.classList.contains("is-home")&&!c["default"].body.classList.contains("has-sidebar-open")?this.ui.menuInner[0].style.height=this.menuHeight+"px":this.ui.menuInner[0].style.height=c["default"].height+"px"):this.ui.menuInner[0].style.height=""},mouseEnter:function(t){t.preventDefault(),t.stopPropagation(),this.ui.closeSidebarIcon[0].classList.add("is-hover"),this.cache.isMouseOver=!0,this.cache.needForRAF=!0,this.update()},mouseMove:function(t){if(t.preventDefault(),t.stopPropagation(),this.cache.isMouseOver){var e="touchmove"==t.type?t.touches[0].clientX:t.clientX,i=e-this.ui.closeSidebarIcon[0].offsetWidth/2;this.cache.xpos=i;var n="touchmove"==t.type?t.touches[0].clientY:t.clientY,r=n-this.ui.closeSidebarIcon[0].offsetHeight/2;this.cache.ypos=r}},mouseLeave:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.cache.needForRAF=!1,this.cache.needForRAF||(this.cache.isMouseOver=!1),this.ui.closeSidebarIcon[0].classList.remove("is-hover"),window.requestAnimationFrame(function(){e.ui.closeSidebarIcon[0].style.transform=""})},update:function(){this.cache.isMouseOver&&requestAnimationFrame(this.update),this.ui.closeSidebarIcon[0].style.transform="translate("+this.cache.xpos.toFixed(2)+"px, "+this.cache.ypos.toFixed(2)+"px)"},hasSubmenu:function(){(0,s.$)(".has-menu").length>0?this.ui.bubbleCanvas[0].classList.add("hide-blob"):(0,s.$)(".hide-blob").length>0?this.ui.bubbleCanvas[0].classList.add("hide-blob"):this.ui.bubbleCanvas[0].classList.remove("hide-blob")}});i["default"]=b},{"../behaviors/localization-switch":2,"babel-runtime/helpers/toConsumableArray":114,"components-factory":49,config:47,core:1,flickity:575,paper:602,utils:65,vent:66}],88:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(i,"__esModule",{value:!0});var r=t("babel-runtime/core-js/object/keys"),o=n(r),s=t("babel-runtime/helpers/toConsumableArray"),a=n(s),l=t("../_core"),u=t("default"),c=n(u),h=t("config"),f=(n(h),t("utils")),d=(n(f),t("raf-scroll")),p=(n(d),t("vent")),g=t("select2"),m=(n(g),c["default"].extend({ui:l._.extend({filterBtn:".search-results__filter__item",resultsTab:".search-results__tab",select:".js-example-basic-single"},c["default"].prototype.ui),events:l._.extend({"click @ui.filterBtn":"toggleTab"},c["default"].prototype.events),initialize:function(){c["default"].prototype.initialize.call(this)},addEvents:function(){c["default"].prototype.addEvents.call(this),this.cacheTabs()},removeEvents:function(){c["default"].prototype.removeEvents.call(this)},animateIn:function(){c["default"].prototype.animateIn.call(this)},animateInEnd:function(){c["default"].prototype.animateInEnd.call(this),this.el.classList.add("in-view")},onDataLoaded:function(){var t=document.querySelector(".quicklinks-sidebar--search"),e=document.querySelector(".js-close-sidebar");t.classList.contains("to-results")&&(e.style.display="none",TweenMax.to(t,.5,{opacity:0,onComplete:function(){t.classList.remove("to-results"),p.basic.trigger("sidebars:close"),setTimeout(function(){t.style.opacity=1,e.style.display="block",document.querySelector(".quicklinks-menu").classList.remove("to-results")},500)}}))},animateOut:function(){c["default"].prototype.animateOut.call(this)},destroy:function(){c["default"].prototype.destroy.call(this)},debouncedResize:function(){},cacheTabs:function(){var t=this;this.tabs={},[].concat((0,a["default"])(this.ui.resultsTab)).forEach(function(e,i){var n=e.getAttribute("data-tab");t.tabs[n]={cat:n,el:e,menuItem:t.ui.filterBtn[i]}}),this.currentTab=this.tabs[(0,o["default"])(this.tabs)[0]]},toggleTab:function(t){var e=t.currentTarget.getAttribute("data-cat");this.currentTab.cat!==e&&(this.tabs[e].el.classList.add("is-active"),this.currentTab.el.classList.remove("is-active"),this.tabs[e].menuItem.classList.add("is-active"),this.currentTab.menuItem.classList.remove("is-active"),this.currentTab=this.tabs[e],this.setSectionCache())}}));i["default"]=m},{"../_core":1,"babel-runtime/core-js/object/keys":102,"babel-runtime/helpers/toConsumableArray":114,config:47,"default":71,"raf-scroll":57,select2:614,utils:65,vent:66}],89:[function(t,e,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n(t.acorn={})}(this,function(t){"use strict";function e(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}}function i(t,i){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&F.test(String.fromCharCode(t)):i!==!1&&e(t,B)))}function n(t,i){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&z.test(String.fromCharCode(t)):i!==!1&&(e(t,B)||e(t,V)))))}function r(t,e){return new q(t,{beforeExpr:!0,binop:e})}function o(t,e){return void 0===e&&(e={}),e.keyword=t,H[t]=new q(t,e)}function s(t){return 10===t||13===t||8232===t||8233===t}function a(t,e){return J.call(t,e)}function l(t,e){for(var i=1,n=0;;){Y.lastIndex=n;var r=Y.exec(t);if(!(r&&r.index<e))return new et(i,e-n);++i,n=r.index+r[0].length}}function u(t){var e={};for(var i in nt)e[i]=t&&a(t,i)?t[i]:nt[i];if(e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),tt(e.onToken)){var n=e.onToken;e.onToken=function(t){return n.push(t)}}return tt(e.onComment)&&(e.onComment=c(e,e.onComment)),e}function c(t,e){return function(i,n,r,o,s,a){var l={type:i?"Block":"Line",value:n,start:r,end:o};t.locations&&(l.loc=new it(this,s,a)),t.ranges&&(l.range=[r,o]),e.push(l)}}function h(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function f(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}function d(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}function p(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(1023&t)+56320))}function g(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function m(t){return i(t,!0)||36===t||95===t}function v(t){return n(t,!0)||36===t||95===t||8204===t||8205===t}function y(t){return t>=65&&t<=90||t>=97&&t<=122}function _(t){return t>=0&&t<=1114111}function b(t){return 100===t||68===t||115===t||83===t||119===t||87===t}function x(t){return y(t)||95===t}function w(t){return x(t)||C(t)}function C(t){return t>=48&&t<=57}function E(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function S(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}function T(t){return t>=48&&t<=55}function I(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(1023&t)+56320))}function k(t,e){return new ot(e,t).parse()}function P(t,e,i){var n=new ot(i,t,e);return n.nextToken(),n.parseExpression()}function L(t,e){return new ot(e,t)}function O(e,i,n){t.parse_dammit=e,t.LooseParser=i,t.pluginsLoose=n}var A={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},M="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",R={5:M,6:M+" const class extends export import super"},N=/^in(stanceof)?$/,j="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",D="---------------------------------------------------------------------------------------------------------------------------------------------------",F=new RegExp("["+j+"]"),z=new RegExp("["+j+D+"]");j=D=null;var B=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,785,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,54,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,86,25,391,63,32,0,257,0,11,39,8,0,22,0,12,39,3,3,55,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,698,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,65,1,31,6124,20,754,9486,286,82,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,60,67,1213,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,3,5761,15,7472,3104,541],V=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,10,2,4,9,83,11,7,0,161,11,6,9,7,3,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,87,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,423,9,280,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,19719,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,2214,6,110,6,6,9,792487,239],q=function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null},U={beforeExpr:!0},G={startsExpr:!0},H={},X={num:new q("num",G),regexp:new q("regexp",G),string:new q("string",G),name:new q("name",G),eof:new q("eof"),bracketL:new q("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new q("]"),braceL:new q("{",{beforeExpr:!0,startsExpr:!0}),braceR:new q("}"),parenL:new q("(",{beforeExpr:!0,startsExpr:!0}),parenR:new q(")"),comma:new q(",",U),semi:new q(";",U),colon:new q(":",U),dot:new q("."),question:new q("?",U),arrow:new q("=>",U),template:new q("template"),invalidTemplate:new q("invalidTemplate"),ellipsis:new q("...",U),backQuote:new q("`",G),dollarBraceL:new q("${",{beforeExpr:!0,startsExpr:!0}),eq:new q("=",{beforeExpr:!0,isAssign:!0}),assign:new q("_=",{beforeExpr:!0,isAssign:!0}),incDec:new q("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new q("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:r("||",1),logicalAND:r("&&",2),bitwiseOR:r("|",3),bitwiseXOR:r("^",4),bitwiseAND:r("&",5),equality:r("==/!=/===/!==",6),relational:r("</>/<=/>=",7),bitShift:r("<</>>/>>>",8),plusMin:new q("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:r("%",10),star:r("*",10),slash:r("/",10),starstar:new q("**",{beforeExpr:!0}),_break:o("break"),_case:o("case",U),_catch:o("catch"),_continue:o("continue"),_debugger:o("debugger"),_default:o("default",U),_do:o("do",{isLoop:!0,beforeExpr:!0}),_else:o("else",U),_finally:o("finally"),_for:o("for",{isLoop:!0}),_function:o("function",G),_if:o("if"),_return:o("return",U),_switch:o("switch"),_throw:o("throw",U),_try:o("try"),_var:o("var"),_const:o("const"),_while:o("while",{isLoop:!0}),_with:o("with"),_new:o("new",{beforeExpr:!0,startsExpr:!0}),_this:o("this",G),_super:o("super",G),_class:o("class",G),_extends:o("extends",U),_export:o("export"),_import:o("import"),_null:o("null",G),_true:o("true",G),_false:o("false",G),_in:o("in",{beforeExpr:!0,binop:7}),_instanceof:o("instanceof",{beforeExpr:!0,binop:7}),_typeof:o("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:o("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:o("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},W=/\r\n?|\n|\u2028|\u2029/,Y=new RegExp(W.source,"g"),$=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Z=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,K=Object.prototype,J=K.hasOwnProperty,Q=K.toString,tt=Array.isArray||function(t){return"[object Array]"===Q.call(t)},et=function(t,e){this.line=t,this.column=e};et.prototype.offset=function(t){return new et(this.line,this.column+t)};var it=function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)},nt={ecmaVersion:7,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}},rt={},ot=function(t,e,i){this.options=t=u(t),this.sourceFile=t.sourceFile,this.keywords=h(R[t.ecmaVersion>=6?6:5]);var n="";if(!t.allowReserved){for(var r=t.ecmaVersion;!(n=A[r]);r--);"module"==t.sourceType&&(n+=" await")}this.reservedWords=h(n);var o=(n?n+" ":"")+A.strict;this.reservedWordsStrict=h(o),this.reservedWordsStrictBind=h(o+" "+A.strictBind),this.input=String(e),this.containsEsc=!1,this.loadPlugins(t.plugins),i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(W).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=X.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.inFunction=this.inGenerator=this.inAsync=!1,this.yieldPos=this.awaitPos=0,this.labels=[],0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterFunctionScope(),this.regexpState=null};ot.prototype.isKeyword=function(t){return this.keywords.test(t)},ot.prototype.isReservedWord=function(t){return this.reservedWords.test(t)},ot.prototype.extend=function(t,e){this[t]=e(this[t])},ot.prototype.loadPlugins=function(t){var e=this;for(var i in t){var n=rt[i];if(!n)throw new Error("Plugin '"+i+"' not found");n(e,t[i])}},ot.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};var st=ot.prototype,at=/^(?:'((?:\\.|[^'])*?)'|"((?:\\.|[^"])*?)"|;)/;st.strictDirective=function(t){for(var e=this;;){Z.lastIndex=t,t+=Z.exec(e.input)[0].length;var i=at.exec(e.input.slice(t));if(!i)return!1;if("use strict"==(i[1]||i[2]))return!0;t+=i[0].length}},st.eat=function(t){return this.type===t&&(this.next(),!0)},st.isContextual=function(t){return this.type===X.name&&this.value===t&&!this.containsEsc},st.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},st.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},st.canInsertSemicolon=function(){return this.type===X.eof||this.type===X.braceR||W.test(this.input.slice(this.lastTokEnd,this.start))},st.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},st.semicolon=function(){this.eat(X.semi)||this.insertSemicolon()||this.unexpected()},st.afterTrailingComma=function(t,e){if(this.type==t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},st.expect=function(t){this.eat(t)||this.unexpected()},st.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")},st.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,"Parenthesized pattern")}},st.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;return e?(i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),void(n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property"))):i>=0||n>=0},st.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},st.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var lt=ot.prototype;lt.parseTopLevel=function(t){var e=this,i={};for(t.body||(t.body=[]);this.type!==X.eof;){var n=e.parseStatement(!0,!0,i);t.body.push(n)}return this.adaptDirectivePrologue(t.body),this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var ut={kind:"loop"},ct={kind:"switch"};lt.isLet=function(){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Z.lastIndex=this.pos;var t=Z.exec(this.input),e=this.pos+t[0].length,r=this.input.charCodeAt(e);if(91===r||123==r)return!0;if(i(r,!0)){for(var o=e+1;n(this.input.charCodeAt(o),!0);)++o;var s=this.input.slice(e,o);if(!N.test(s))return!0}return!1},lt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Z.lastIndex=this.pos;var t=Z.exec(this.input),e=this.pos+t[0].length;return!(W.test(this.input.slice(this.pos,e))||"function"!==this.input.slice(e,e+8)||e+8!=this.input.length&&n(this.input.charAt(e+8)))},lt.parseStatement=function(t,e,i){var n,r=this.type,o=this.startNode();switch(this.isLet()&&(r=X._var,n="let"),r){case X._break:case X._continue:return this.parseBreakContinueStatement(o,r.keyword);case X._debugger:return this.parseDebuggerStatement(o);case X._do:return this.parseDoStatement(o);case X._for:return this.parseForStatement(o);case X._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1);case X._class:return t||this.unexpected(),this.parseClass(o,!0);case X._if:return this.parseIfStatement(o);case X._return:return this.parseReturnStatement(o);case X._switch:return this.parseSwitchStatement(o);case X._throw:return this.parseThrowStatement(o);case X._try:return this.parseTryStatement(o);case X._const:case X._var:return n=n||this.value,t||"var"==n||this.unexpected(),this.parseVarStatement(o,n);case X._while:return this.parseWhileStatement(o);case X._with:return this.parseWithStatement(o);case X.braceL:return this.parseBlock();case X.semi:return this.parseEmptyStatement(o);case X._export:case X._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===X._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t||this.unexpected(),this.next(),this.parseFunctionStatement(o,!0);var s=this.value,a=this.parseExpression();return r===X.name&&"Identifier"===a.type&&this.eat(X.colon)?this.parseLabeledStatement(o,s,a):this.parseExpressionStatement(o,a)}},lt.parseBreakContinueStatement=function(t,e){var i=this,n="break"==e;this.next(),this.eat(X.semi)||this.insertSemicolon()?t.label=null:this.type!==X.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var o=i.labels[r];if(null==t.label||o.name===t.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(t.label&&n)break}}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,n?"BreakStatement":"ContinueStatement")},lt.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},lt.parseDoStatement=function(t){return this.next(),this.labels.push(ut),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(X._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(X.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},lt.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.inAsync&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ut),this.enterLexicalScope(),this.expect(X.parenL),this.type===X.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===X._var||this.type===X._const||i){var n=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),!(this.type===X._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==n.declarations.length||"var"!==r&&n.declarations[0].init?(e>-1&&this.unexpected(e),this.parseFor(t,n)):(this.options.ecmaVersion>=9&&(this.type===X._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n))}var o=new f,s=this.parseExpression(!0,o);return this.type===X._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.options.ecmaVersion>=9&&(this.type===X._in?e>-1&&this.unexpected(e):t.await=e>-1),this.toAssignable(s,!1,o),this.checkLVal(s),this.parseForIn(t,s)):(this.checkExpressionErrors(o,!0),e>-1&&this.unexpected(e),this.parseFor(t,s))},lt.parseFunctionStatement=function(t,e){return this.next(),this.parseFunction(t,!0,!1,e)},lt.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!this.strict&&this.type==X._function),t.alternate=this.eat(X._else)?this.parseStatement(!this.strict&&this.type==X._function):null,this.finishNode(t,"IfStatement")},lt.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(X.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},lt.parseSwitchStatement=function(t){var e=this;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(X.braceL),this.labels.push(ct),this.enterLexicalScope();for(var i,n=!1;this.type!=X.braceR;)if(e.type===X._case||e.type===X._default){var r=e.type===X._case;i&&e.finishNode(i,"SwitchCase"),t.cases.push(i=e.startNode()),i.consequent=[],e.next(),r?i.test=e.parseExpression():(n&&e.raiseRecoverable(e.lastTokStart,"Multiple default clauses"),n=!0,i.test=null),e.expect(X.colon)}else i||e.unexpected(),i.consequent.push(e.parseStatement(!0));return this.exitLexicalScope(),i&&this.finishNode(i,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},lt.parseThrowStatement=function(t){return this.next(),W.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement");
};var ht=[];lt.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===X._catch){var e=this.startNode();this.next(),this.expect(X.parenL),e.param=this.parseBindingAtom(),this.enterLexicalScope(),this.checkLVal(e.param,"let"),this.expect(X.parenR),e.body=this.parseBlock(!1),this.exitLexicalScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(X._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},lt.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},lt.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ut),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},lt.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},lt.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},lt.parseLabeledStatement=function(t,e,i){for(var n=this,r=0,o=n.labels;r<o.length;r+=1){var s=o[r];s.name===e&&n.raise(i.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===X._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=n.labels[l];if(u.statementStart!=t.start)break;u.statementStart=n.start,u.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(!0),("ClassDeclaration"==t.body.type||"VariableDeclaration"==t.body.type&&"var"!=t.body.kind||"FunctionDeclaration"==t.body.type&&(this.strict||t.body.generator))&&this.raiseRecoverable(t.body.start,"Invalid labeled declaration"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},lt.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},lt.parseBlock=function(t){var e=this;void 0===t&&(t=!0);var i=this.startNode();for(i.body=[],this.expect(X.braceL),t&&this.enterLexicalScope();!this.eat(X.braceR);){var n=e.parseStatement(!0);i.body.push(n)}return t&&this.exitLexicalScope(),this.finishNode(i,"BlockStatement")},lt.parseFor=function(t,e){return t.init=e,this.expect(X.semi),t.test=this.type===X.semi?null:this.parseExpression(),this.expect(X.semi),t.update=this.type===X.parenR?null:this.parseExpression(),this.expect(X.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},lt.parseForIn=function(t,e){var i=this.type===X._in?"ForInStatement":"ForOfStatement";return this.next(),"ForInStatement"==i&&("AssignmentPattern"===e.type||"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(this.strict||"Identifier"!==e.declarations[0].id.type))&&this.raise(e.start,"Invalid assignment in for-in loop head"),t.left=e,t.right="ForInStatement"==i?this.parseExpression():this.parseMaybeAssign(),this.expect(X.parenR),this.exitLexicalScope(),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,i)},lt.parseVar=function(t,e,i){var n=this;for(t.declarations=[],t.kind=i;;){var r=n.startNode();if(n.parseVarId(r,i),n.eat(X.eq)?r.init=n.parseMaybeAssign(e):"const"!==i||n.type===X._in||n.options.ecmaVersion>=6&&n.isContextual("of")?"Identifier"==r.id.type||e&&(n.type===X._in||n.isContextual("of"))?r.init=null:n.raise(n.lastTokEnd,"Complex binding patterns require an initialization value"):n.unexpected(),t.declarations.push(n.finishNode(r,"VariableDeclarator")),!n.eat(X.comma))break}return t},lt.parseVarId=function(t,e){t.id=this.parseBindingAtom(e),this.checkLVal(t.id,e,!1)},lt.parseFunction=function(t,e,i,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(t.generator=this.eat(X.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&&(t.id="nullableID"===e&&this.type!=X.name?null:this.parseIdent(),t.id&&this.checkLVal(t.id,"var"));var r=this.inGenerator,o=this.inAsync,s=this.yieldPos,a=this.awaitPos,l=this.inFunction;return this.inGenerator=t.generator,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),e||(t.id=this.type==X.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i),this.inGenerator=r,this.inAsync=o,this.yieldPos=s,this.awaitPos=a,this.inFunction=l,this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},lt.parseFunctionParams=function(t){this.expect(X.parenL),t.params=this.parseBindingList(X.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},lt.parseClass=function(t,e){var i=this;this.next(),this.parseClassId(t,e),this.parseClassSuper(t);var n=this.startNode(),r=!1;for(n.body=[],this.expect(X.braceL);!this.eat(X.braceR);){var o=i.parseClassMember(n);o&&"MethodDefinition"===o.type&&"constructor"===o.kind&&(r&&i.raise(o.start,"Duplicate constructor in the same class"),r=!0)}return t.body=this.finishNode(n,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},lt.parseClassMember=function(t){var e=this;if(this.eat(X.semi))return null;var i=this.startNode(),n=function(t,n){void 0===n&&(n=!1);var r=e.start,o=e.startLoc;return!!e.eatContextual(t)&&(!(e.type===X.parenL||n&&e.canInsertSemicolon())||(i.key&&e.unexpected(),i.computed=!1,i.key=e.startNodeAt(r,o),i.key.name=t,e.finishNode(i.key,"Identifier"),!1))};i.kind="method",i["static"]=n("static");var r=this.eat(X.star),o=!1;r||(this.options.ecmaVersion>=8&&n("async",!0)?(o=!0,r=this.options.ecmaVersion>=9&&this.eat(X.star)):n("get")?i.kind="get":n("set")&&(i.kind="set")),i.key||this.parsePropertyName(i);var s=i.key;return i.computed||i["static"]||!("Identifier"===s.type&&"constructor"===s.name||"Literal"===s.type&&"constructor"===s.value)?i["static"]&&"Identifier"===s.type&&"prototype"===s.name&&this.raise(s.start,"Classes may not have a static property named prototype"):("method"!==i.kind&&this.raise(s.start,"Constructor can't have get/set modifier"),r&&this.raise(s.start,"Constructor can't be a generator"),o&&this.raise(s.start,"Constructor can't be an async method"),i.kind="constructor"),this.parseClassMethod(t,i,r,o),"get"===i.kind&&0!==i.value.params.length&&this.raiseRecoverable(i.value.start,"getter should have no params"),"set"===i.kind&&1!==i.value.params.length&&this.raiseRecoverable(i.value.start,"setter should have exactly one param"),"set"===i.kind&&"RestElement"===i.value.params[0].type&&this.raiseRecoverable(i.value.params[0].start,"Setter cannot use rest params"),i},lt.parseClassMethod=function(t,e,i,n){e.value=this.parseMethod(i,n),t.body.push(this.finishNode(e,"MethodDefinition"))},lt.parseClassId=function(t,e){t.id=this.type===X.name?this.parseIdent():e===!0?this.unexpected():null},lt.parseClassSuper=function(t){t.superClass=this.eat(X._extends)?this.parseExprSubscripts():null},lt.parseExport=function(t,e){var i=this;if(this.next(),this.eat(X.star))return this.expectContextual("from"),this.type!==X.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(X._default)){this.checkExport(e,"default",this.lastTokStart);var n;if(this.type===X._function||(n=this.isAsyncFunction())){var r=this.startNode();this.next(),n&&this.next(),t.declaration=this.parseFunction(r,"nullableID",!1,n)}else if(this.type===X._class){var o=this.startNode();t.declaration=this.parseClass(o,"nullableID")}else t.declaration=this.parseMaybeAssign(),this.semicolon();return this.finishNode(t,"ExportDefaultDeclaration")}if(this.shouldParseExportStatement())t.declaration=this.parseStatement(!0),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id.name,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==X.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var s=0,a=t.specifiers;s<a.length;s+=1){var l=a[s];i.checkUnreserved(l.local)}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},lt.checkExport=function(t,e,i){t&&(a(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},lt.checkPatternExport=function(t,e){var i=this,n=e.type;if("Identifier"==n)this.checkExport(t,e.name,e.start);else if("ObjectPattern"==n)for(var r=0,o=e.properties;r<o.length;r+=1){var s=o[r];i.checkPatternExport(t,s)}else if("ArrayPattern"==n)for(var a=0,l=e.elements;a<l.length;a+=1){var u=l[a];u&&i.checkPatternExport(t,u)}else"Property"==n?this.checkPatternExport(t,e.value):"AssignmentPattern"==n?this.checkPatternExport(t,e.left):"RestElement"==n?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"==n&&this.checkPatternExport(t,e.expression)},lt.checkVariableExport=function(t,e){var i=this;if(t)for(var n=0,r=e;n<r.length;n+=1){var o=r[n];i.checkPatternExport(t,o.id)}},lt.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},lt.parseExportSpecifiers=function(t){var e=this,i=[],n=!0;for(this.expect(X.braceL);!this.eat(X.braceR);){if(n)n=!1;else if(e.expect(X.comma),e.afterTrailingComma(X.braceR))break;var r=e.startNode();r.local=e.parseIdent(!0),r.exported=e.eatContextual("as")?e.parseIdent(!0):r.local,e.checkExport(t,r.exported.name,r.exported.start),i.push(e.finishNode(r,"ExportSpecifier"))}return i},lt.parseImport=function(t){return this.next(),this.type===X.string?(t.specifiers=ht,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===X.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},lt.parseImportSpecifiers=function(){var t=this,e=[],i=!0;if(this.type===X.name){var n=this.startNode();if(n.local=this.parseIdent(),this.checkLVal(n.local,"let"),e.push(this.finishNode(n,"ImportDefaultSpecifier")),!this.eat(X.comma))return e}if(this.type===X.star){var r=this.startNode();return this.next(),this.expectContextual("as"),r.local=this.parseIdent(),this.checkLVal(r.local,"let"),e.push(this.finishNode(r,"ImportNamespaceSpecifier")),e}for(this.expect(X.braceL);!this.eat(X.braceR);){if(i)i=!1;else if(t.expect(X.comma),t.afterTrailingComma(X.braceR))break;var o=t.startNode();o.imported=t.parseIdent(!0),t.eatContextual("as")?o.local=t.parseIdent():(t.checkUnreserved(o.imported),o.local=o.imported),t.checkLVal(o.local,"let"),e.push(t.finishNode(o,"ImportSpecifier"))}return e},lt.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},lt.isDirectiveCandidate=function(t){return"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var ft=ot.prototype;ft.toAssignable=function(t,e,i){var n=this;if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Can not use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var r=0,o=t.properties;r<o.length;r+=1){var s=o[r];n.toAssignable(s,e),"RestElement"!==s.type||"ArrayPattern"!==s.argument.type&&"ObjectPattern"!==s.argument.type||n.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);case"AssignmentPattern":break;case"ParenthesizedExpression":this.toAssignable(t.expression,e);break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},ft.toAssignableList=function(t,e){for(var i=this,n=t.length,r=0;r<n;r++){var o=t[r];o&&i.toAssignable(o,e)}if(n){var s=t[n-1];6===this.options.ecmaVersion&&e&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return t},ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},ft.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==X.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case X.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(X.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case X.braceL:return this.parseObj(!0)}return this.parseIdent()},ft.parseBindingList=function(t,e,i){for(var n=this,r=[],o=!0;!this.eat(t);)if(o?o=!1:n.expect(X.comma),e&&n.type===X.comma)r.push(null);else{if(i&&n.afterTrailingComma(t))break;if(n.type===X.ellipsis){var s=n.parseRestBinding();n.parseBindingListItem(s),r.push(s),n.type===X.comma&&n.raise(n.start,"Comma is not permitted after the rest element"),n.expect(t);break}var a=n.parseMaybeDefault(n.start,n.startLoc);n.parseBindingListItem(a),r.push(a)}return r},ft.parseBindingListItem=function(t){return t},ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(X.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")},ft.checkLVal=function(t,e,i){var n=this;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(a(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e&&"none"!==e&&(("var"===e&&!this.canDeclareVarName(t.name)||"var"!==e&&!this.canDeclareLexicalName(t.name))&&this.raiseRecoverable(t.start,"Identifier '"+t.name+"' has already been declared"),"var"===e?this.declareVarName(t.name):this.declareLexicalName(t.name));break;case"MemberExpression":e&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ObjectPattern":for(var r=0,o=t.properties;r<o.length;r+=1){var s=o[r];n.checkLVal(s,e,i)}break;case"Property":this.checkLVal(t.value,e,i);break;case"ArrayPattern":for(var l=0,u=t.elements;l<u.length;l+=1){var c=u[l];c&&n.checkLVal(c,e,i)}break;case"AssignmentPattern":this.checkLVal(t.left,e,i);break;case"RestElement":this.checkLVal(t.argument,e,i);break;case"ParenthesizedExpression":this.checkLVal(t.expression,e,i);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}};var dt=ot.prototype;dt.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n,r=t.key;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var o=t.kind;if(this.options.ecmaVersion>=6)return void("__proto__"===n&&"init"===o&&(e.proto&&(i&&i.doubleProto<0?i.doubleProto=r.start:this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0));n="$"+n;var s=e[n];if(s){var a;a="init"===o?this.strict&&s.init||s.get||s.set:s.init||s[o],a&&this.raiseRecoverable(r.start,"Redefinition of property")}else s=e[n]={init:!1,get:!1,set:!1};s[o]=!0}},dt.parseExpression=function(t,e){var i=this,n=this.start,r=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===X.comma){var s=this.startNodeAt(n,r);for(s.expressions=[o];this.eat(X.comma);)s.expressions.push(i.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return o},dt.parseMaybeAssign=function(t,e,i){if(this.inGenerator&&this.isContextual("yield"))return this.parseYield();var n=!1,r=-1,o=-1;e?(r=e.parenthesizedAssign,o=e.trailingComma,e.parenthesizedAssign=e.trailingComma=-1):(e=new f,n=!0);var s=this.start,a=this.startLoc;this.type!=X.parenL&&this.type!=X.name||(this.potentialArrowAt=this.start);var l=this.parseMaybeConditional(t,e);if(i&&(l=i.call(this,l,s,a)),this.type.isAssign){var u=this.startNodeAt(s,a);return u.operator=this.value,u.left=this.type===X.eq?this.toAssignable(l,!1,e):l,n||f.call(e),e.shorthandAssign=-1,this.checkLVal(l),this.next(),u.right=this.parseMaybeAssign(t),this.finishNode(u,"AssignmentExpression")}return n&&this.checkExpressionErrors(e,!0),r>-1&&(e.parenthesizedAssign=r),o>-1&&(e.trailingComma=o),l},dt.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(X.question)){var o=this.startNodeAt(i,n);return o.test=r,o.consequent=this.parseMaybeAssign(),this.expect(X.colon),o.alternate=this.parseMaybeAssign(t),this.finishNode(o,"ConditionalExpression")}return r},dt.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1);return this.checkExpressionErrors(e)?r:r.start==i&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,i,n,-1,t)},dt.parseExprOp=function(t,e,i,n,r){var o=this.type.binop;if(null!=o&&(!r||this.type!==X._in)&&o>n){var s=this.type===X.logicalOR||this.type===X.logicalAND,a=this.value;this.next();var l=this.start,u=this.startLoc,c=this.parseExprOp(this.parseMaybeUnary(null,!1),l,u,o,r),h=this.buildBinary(e,i,t,c,a,s);return this.parseExprOp(h,e,i,n,r)}return t},dt.buildBinary=function(t,e,i,n,r,o){var s=this.startNodeAt(t,e);return s.left=i,s.operator=r,s.right=n,this.finishNode(s,o?"LogicalExpression":"BinaryExpression")},dt.parseMaybeUnary=function(t,e){var i,n=this,r=this.start,o=this.startLoc;if(this.inAsync&&this.isContextual("await"))i=this.parseAwait(),e=!0;else if(this.type.prefix){var s=this.startNode(),a=this.type===X.incDec;s.operator=this.value,s.prefix=!0,this.next(),s.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(t,!0),a?this.checkLVal(s.argument):this.strict&&"delete"===s.operator&&"Identifier"===s.argument.type?this.raiseRecoverable(s.start,"Deleting local variable in strict mode"):e=!0,i=this.finishNode(s,a?"UpdateExpression":"UnaryExpression")}else{if(i=this.parseExprSubscripts(t),this.checkExpressionErrors(t))return i;for(;this.type.postfix&&!this.canInsertSemicolon();){var l=n.startNodeAt(r,o);l.operator=n.value,l.prefix=!1,l.argument=i,n.checkLVal(i),n.next(),i=n.finishNode(l,"UpdateExpression")}}return!e&&this.eat(X.starstar)?this.buildBinary(r,o,i,this.parseMaybeUnary(null,!1),"**",!1):i},dt.parseExprSubscripts=function(t){var e=this.start,i=this.startLoc,n=this.parseExprAtom(t),r="ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd);if(this.checkExpressionErrors(t)||r)return n;var o=this.parseSubscripts(n,e,i);return t&&"MemberExpression"===o.type&&(t.parenthesizedAssign>=o.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=o.start&&(t.parenthesizedBind=-1)),o},dt.parseSubscripts=function(t,e,i,n){for(var r=this,o=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd==t.end&&!this.canInsertSemicolon()&&"async"===this.input.slice(t.start,t.end),s=void 0;;)if((s=r.eat(X.bracketL))||r.eat(X.dot)){var a=r.startNodeAt(e,i);a.object=t,a.property=s?r.parseExpression():r.parseIdent(!0),a.computed=!!s,s&&r.expect(X.bracketR),t=r.finishNode(a,"MemberExpression")}else if(!n&&r.eat(X.parenL)){var l=new f,u=r.yieldPos,c=r.awaitPos;r.yieldPos=0,r.awaitPos=0;var h=r.parseExprList(X.parenR,r.options.ecmaVersion>=8,!1,l);if(o&&!r.canInsertSemicolon()&&r.eat(X.arrow))return r.checkPatternErrors(l,!1),r.checkYieldAwaitInDefaultParams(),r.yieldPos=u,r.awaitPos=c,r.parseArrowExpression(r.startNodeAt(e,i),h,!0);r.checkExpressionErrors(l,!0),r.yieldPos=u||r.yieldPos,r.awaitPos=c||r.awaitPos;var d=r.startNodeAt(e,i);d.callee=t,d.arguments=h,t=r.finishNode(d,"CallExpression")}else{if(r.type!==X.backQuote)return t;var p=r.startNodeAt(e,i);p.tag=t,p.quasi=r.parseTemplate({isTagged:!0}),t=r.finishNode(p,"TaggedTemplateExpression")}},dt.parseExprAtom=function(t){var e,i=this.potentialArrowAt==this.start;switch(this.type){case X._super:return this.inFunction||this.raise(this.start,"'super' outside of function or class"),e=this.startNode(),this.next(),this.type!==X.dot&&this.type!==X.bracketL&&this.type!==X.parenL&&this.unexpected(),this.finishNode(e,"Super");case X._this:return e=this.startNode(),this.next(),this.finishNode(e,"ThisExpression");case X.name:var n=this.start,r=this.startLoc,o=this.containsEsc,s=this.parseIdent(this.type!==X.name);if(this.options.ecmaVersion>=8&&!o&&"async"===s.name&&!this.canInsertSemicolon()&&this.eat(X._function))return this.parseFunction(this.startNodeAt(n,r),!1,!1,!0);if(i&&!this.canInsertSemicolon()){if(this.eat(X.arrow))return this.parseArrowExpression(this.startNodeAt(n,r),[s],!1);if(this.options.ecmaVersion>=8&&"async"===s.name&&this.type===X.name&&!o)return s=this.parseIdent(),!this.canInsertSemicolon()&&this.eat(X.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(n,r),[s],!0)}return s;case X.regexp:var a=this.value;return e=this.parseLiteral(a.value),e.regex={pattern:a.pattern,flags:a.flags},e;case X.num:case X.string:return this.parseLiteral(this.value);case X._null:case X._true:case X._false:return e=this.startNode(),e.value=this.type===X._null?null:this.type===X._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case X.parenL:var l=this.start,u=this.parseParenAndDistinguishExpression(i);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(u)&&(t.parenthesizedAssign=l),t.parenthesizedBind<0&&(t.parenthesizedBind=l)),u;case X.bracketL:return e=this.startNode(),this.next(),e.elements=this.parseExprList(X.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression");case X.braceL:return this.parseObj(!1,t);case X._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case X._class:return this.parseClass(this.startNode(),!1);case X._new:return this.parseNew();case X.backQuote:return this.parseTemplate();default:this.unexpected()}},dt.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},dt.parseParenExpression=function(){this.expect(X.parenL);var t=this.parseExpression();return this.expect(X.parenR),t},dt.parseParenAndDistinguishExpression=function(t){var e,i=this,n=this.start,r=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s,a=this.start,l=this.startLoc,u=[],c=!0,h=!1,d=new f,p=this.yieldPos,g=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==X.parenR;){if(c?c=!1:i.expect(X.comma),o&&i.afterTrailingComma(X.parenR,!0)){h=!0;break}if(i.type===X.ellipsis){s=i.start,u.push(i.parseParenItem(i.parseRestBinding())),i.type===X.comma&&i.raise(i.start,"Comma is not permitted after the rest element");break}u.push(i.parseMaybeAssign(!1,d,i.parseParenItem))}var m=this.start,v=this.startLoc;if(this.expect(X.parenR),t&&!this.canInsertSemicolon()&&this.eat(X.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=g,this.parseParenArrowList(n,r,u);u.length&&!h||this.unexpected(this.lastTokStart),s&&this.unexpected(s),this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=g||this.awaitPos,u.length>1?(e=this.startNodeAt(a,l),e.expressions=u,this.finishNodeAt(e,"SequenceExpression",m,v)):e=u[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(n,r);return y.expression=e,this.finishNode(y,"ParenthesizedExpression")}return e},dt.parseParenItem=function(t){return t},dt.parseParenArrowList=function(t,e,i){return this.parseArrowExpression(this.startNodeAt(t,e),i)};var pt=[];dt.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(X.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),("target"!==t.property.name||i)&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is new.target"),this.inFunction||this.raiseRecoverable(t.start,"new.target can only be used in functions"),this.finishNode(t,"MetaProperty")}var n=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(),n,r,!0),this.eat(X.parenL)?t.arguments=this.parseExprList(X.parenR,this.options.ecmaVersion>=8,!1):t.arguments=pt,this.finishNode(t,"NewExpression")},dt.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===X.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===X.backQuote,this.finishNode(i,"TemplateElement")},dt.parseTemplate=function(t){var e=this;void 0===t&&(t={});var i=t.isTagged;void 0===i&&(i=!1);var n=this.startNode();this.next(),n.expressions=[];var r=this.parseTemplateElement({isTagged:i});for(n.quasis=[r];!r.tail;)e.expect(X.dollarBraceL),n.expressions.push(e.parseExpression()),e.expect(X.braceR),n.quasis.push(r=e.parseTemplateElement({isTagged:i}));return this.next(),this.finishNode(n,"TemplateLiteral")},dt.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===X.name||this.type===X.num||this.type===X.string||this.type===X.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===X.star)&&!W.test(this.input.slice(this.lastTokEnd,this.start))},dt.parseObj=function(t,e){var i=this,n=this.startNode(),r=!0,o={};for(n.properties=[],this.next();!this.eat(X.braceR);){if(r)r=!1;else if(i.expect(X.comma),i.afterTrailingComma(X.braceR))break;var s=i.parseProperty(t,e);t||i.checkPropClash(s,o,e),n.properties.push(s)}return this.finishNode(n,t?"ObjectPattern":"ObjectExpression")},dt.parseProperty=function(t,e){var i,n,r,o,s=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(X.ellipsis))return t?(s.argument=this.parseIdent(!1),this.type===X.comma&&this.raise(this.start,"Comma is not permitted after the rest element"),this.finishNode(s,"RestElement")):(this.type===X.parenL&&e&&(e.parenthesizedAssign<0&&(e.parenthesizedAssign=this.start),e.parenthesizedBind<0&&(e.parenthesizedBind=this.start)),s.argument=this.parseMaybeAssign(!1,e),this.type===X.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(s,"SpreadElement"));this.options.ecmaVersion>=6&&(s.method=!1,s.shorthand=!1,(t||e)&&(r=this.start,o=this.startLoc),t||(i=this.eat(X.star)));var a=this.containsEsc;return this.parsePropertyName(s),!t&&!a&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(s)?(n=!0,i=this.options.ecmaVersion>=9&&this.eat(X.star),this.parsePropertyName(s,e)):n=!1,this.parsePropertyValue(s,t,i,n,r,o,e,a),this.finishNode(s,"Property")},dt.parsePropertyValue=function(t,e,i,n,r,o,s,a){if((i||n)&&this.type===X.colon&&this.unexpected(),this.eat(X.colon))t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),t.kind="init";else if(this.options.ecmaVersion>=6&&this.type===X.parenL)e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n);else if(e||a||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type==X.comma||this.type==X.braceR)this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?(this.checkUnreserved(t.key),t.kind="init",e?t.value=this.parseMaybeDefault(r,o,t.key):this.type===X.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,o,t.key)):t.value=t.key,t.shorthand=!0):this.unexpected();else{(i||n)&&this.unexpected(),t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var l="get"===t.kind?0:1;if(t.value.params.length!==l){var u=t.value.start;"get"===t.kind?this.raiseRecoverable(u,"getter should have no params"):this.raiseRecoverable(u,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")}},dt.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(X.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(X.bracketR),t.key;t.computed=!1}return t.key=this.type===X.num||this.type===X.string?this.parseExprAtom():this.parseIdent(!0)},dt.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},dt.parseMethod=function(t,e){var i=this.startNode(),n=this.inGenerator,r=this.inAsync,o=this.yieldPos,s=this.awaitPos,a=this.inFunction;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=t),this.options.ecmaVersion>=8&&(i.async=!!e),this.inGenerator=i.generator,this.inAsync=i.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,this.enterFunctionScope(),this.expect(X.parenL),i.params=this.parseBindingList(X.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1),this.inGenerator=n,this.inAsync=r,this.yieldPos=o,this.awaitPos=s,this.inFunction=a,this.finishNode(i,"FunctionExpression")},dt.parseArrowExpression=function(t,e,i){var n=this.inGenerator,r=this.inAsync,o=this.yieldPos,s=this.awaitPos,a=this.inFunction;return this.enterFunctionScope(),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.inGenerator=!1,this.inAsync=t.async,this.yieldPos=0,this.awaitPos=0,this.inFunction=!0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.inGenerator=n,this.inAsync=r,this.yieldPos=o,this.awaitPos=s,this.inFunction=a,this.finishNode(t,"ArrowFunctionExpression")},dt.parseFunctionBody=function(t,e){var i=e&&this.type!==X.braceL,n=this.strict,r=!1;if(i)t.body=this.parseMaybeAssign(),t.expression=!0,this.checkParams(t,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);n&&!o||(r=this.strictDirective(this.end),r&&o&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var s=this.labels;this.labels=[],r&&(this.strict=!0),this.checkParams(t,!n&&!r&&!e&&this.isSimpleParamList(t.params)),t.body=this.parseBlock(!1),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=s}this.exitFunctionScope(),this.strict&&t.id&&this.checkLVal(t.id,"none"),this.strict=n},dt.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if("Identifier"!==n.type)return!1}return!0},dt.checkParams=function(t,e){for(var i=this,n={},r=0,o=t.params;r<o.length;r+=1){var s=o[r];i.checkLVal(s,"var",e?null:n)}},dt.parseExprList=function(t,e,i,n){for(var r=this,o=[],s=!0;!this.eat(t);){if(s)s=!1;else if(r.expect(X.comma),e&&r.afterTrailingComma(t))break;var a=void 0;i&&r.type===X.comma?a=null:r.type===X.ellipsis?(a=r.parseSpread(n),n&&r.type===X.comma&&n.trailingComma<0&&(n.trailingComma=r.start)):a=r.parseMaybeAssign(!1,n),o.push(a)}return o},dt.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&"yield"===n&&this.raiseRecoverable(e,"Can not use 'yield' as identifier inside a generator"),this.inAsync&&"await"===n&&this.raiseRecoverable(e,"Can not use 'await' as identifier inside an async function"),
this.isKeyword(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!=-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(n)&&(this.inAsync||"await"!==n||this.raiseRecoverable(e,"Can not use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}},dt.parseIdent=function(t,e){var i=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===X.name?i.name=this.value:this.type.keyword?(i.name=this.type.keyword,"class"!==i.name&&"function"!==i.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),this.next(),this.finishNode(i,"Identifier"),t||this.checkUnreserved(i),i},dt.parseYield=function(){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type==X.semi||this.canInsertSemicolon()||this.type!=X.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(X.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},dt.parseAwait=function(){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0),this.finishNode(t,"AwaitExpression")};var gt=ot.prototype;gt.raise=function(t,e){var i=l(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n},gt.raiseRecoverable=gt.raise,gt.curPosition=function(){if(this.options.locations)return new et(this.curLine,this.pos-this.lineStart)};var mt=ot.prototype,vt=Object.assign||function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];for(var n=0,r=e;n<r.length;n+=1){var o=r[n];for(var s in o)a(o,s)&&(t[s]=o[s])}return t};mt.enterFunctionScope=function(){this.scopeStack.push({"var":{},lexical:{},childVar:{},parentLexical:{}})},mt.exitFunctionScope=function(){this.scopeStack.pop()},mt.enterLexicalScope=function(){var t=this.scopeStack[this.scopeStack.length-1],e={"var":{},lexical:{},childVar:{},parentLexical:{}};this.scopeStack.push(e),vt(e.parentLexical,t.lexical,t.parentLexical)},mt.exitLexicalScope=function(){var t=this.scopeStack.pop(),e=this.scopeStack[this.scopeStack.length-1];vt(e.childVar,t["var"],t.childVar)},mt.canDeclareVarName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!a(e.lexical,t)&&!a(e.parentLexical,t)},mt.canDeclareLexicalName=function(t){var e=this.scopeStack[this.scopeStack.length-1];return!a(e.lexical,t)&&!a(e["var"],t)&&!a(e.childVar,t)},mt.declareVarName=function(t){this.scopeStack[this.scopeStack.length-1]["var"][t]=!0},mt.declareLexicalName=function(t){this.scopeStack[this.scopeStack.length-1].lexical[t]=!0};var yt=function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new it(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])},_t=ot.prototype;_t.startNode=function(){return new yt(this,this.start,this.startLoc)},_t.startNodeAt=function(t,e){return new yt(this,t,e)},_t.finishNode=function(t,e){return d.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},_t.finishNodeAt=function(t,e,i,n){return d.call(this,t,e,i,n)};var bt=function(t,e,i,n,r){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=n,this.generator=!!r},xt={b_stat:new bt("{",(!1)),b_expr:new bt("{",(!0)),b_tmpl:new bt("${",(!1)),p_stat:new bt("(",(!1)),p_expr:new bt("(",(!0)),q_tmpl:new bt("`",(!0),(!0),function(t){return t.tryReadTemplateToken()}),f_stat:new bt("function",(!1)),f_expr:new bt("function",(!0)),f_expr_gen:new bt("function",(!0),(!1),null,(!0)),f_gen:new bt("function",(!1),(!1),null,(!0))},wt=ot.prototype;wt.initialContext=function(){return[xt.b_stat]},wt.braceIsBlock=function(t){var e=this.curContext();return e===xt.f_expr||e===xt.f_stat||(t!==X.colon||e!==xt.b_stat&&e!==xt.b_expr?t===X._return||t==X.name&&this.exprAllowed?W.test(this.input.slice(this.lastTokEnd,this.start)):t===X._else||t===X.semi||t===X.eof||t===X.parenR||t==X.arrow||(t==X.braceL?e===xt.b_stat:t!=X._var&&t!=X.name&&!this.exprAllowed):!e.isExpr)},wt.inGeneratorContext=function(){for(var t=this,e=this.context.length-1;e>=1;e--){var i=t.context[e];if("function"===i.token)return i.generator}return!1},wt.updateContext=function(t){var e,i=this.type;i.keyword&&t==X.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},X.parenR.updateContext=X.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var t=this.context.pop();t===xt.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr},X.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?xt.b_stat:xt.b_expr),this.exprAllowed=!0},X.dollarBraceL.updateContext=function(){this.context.push(xt.b_tmpl),this.exprAllowed=!0},X.parenL.updateContext=function(t){var e=t===X._if||t===X._for||t===X._with||t===X._while;this.context.push(e?xt.p_stat:xt.p_expr),this.exprAllowed=!0},X.incDec.updateContext=function(){},X._function.updateContext=X._class.updateContext=function(t){t.beforeExpr&&t!==X.semi&&t!==X._else&&(t!==X.colon&&t!==X.braceL||this.curContext()!==xt.b_stat)?this.context.push(xt.f_expr):this.context.push(xt.f_stat),this.exprAllowed=!1},X.backQuote.updateContext=function(){this.curContext()===xt.q_tmpl?this.context.pop():this.context.push(xt.q_tmpl),this.exprAllowed=!1},X.star.updateContext=function(t){if(t==X._function){var e=this.context.length-1;this.context[e]===xt.f_expr?this.context[e]=xt.f_expr_gen:this.context[e]=xt.f_gen}this.exprAllowed=!0},X.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&("of"==this.value&&!this.exprAllowed||"yield"==this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Ct={$LONE:["ASCII","ASCII_Hex_Digit","AHex","Alphabetic","Alpha","Any","Assigned","Bidi_Control","Bidi_C","Bidi_Mirrored","Bidi_M","Case_Ignorable","CI","Cased","Changes_When_Casefolded","CWCF","Changes_When_Casemapped","CWCM","Changes_When_Lowercased","CWL","Changes_When_NFKC_Casefolded","CWKCF","Changes_When_Titlecased","CWT","Changes_When_Uppercased","CWU","Dash","Default_Ignorable_Code_Point","DI","Deprecated","Dep","Diacritic","Dia","Emoji","Emoji_Component","Emoji_Modifier","Emoji_Modifier_Base","Emoji_Presentation","Extender","Ext","Grapheme_Base","Gr_Base","Grapheme_Extend","Gr_Ext","Hex_Digit","Hex","IDS_Binary_Operator","IDSB","IDS_Trinary_Operator","IDST","ID_Continue","IDC","ID_Start","IDS","Ideographic","Ideo","Join_Control","Join_C","Logical_Order_Exception","LOE","Lowercase","Lower","Math","Noncharacter_Code_Point","NChar","Pattern_Syntax","Pat_Syn","Pattern_White_Space","Pat_WS","Quotation_Mark","QMark","Radical","Regional_Indicator","RI","Sentence_Terminal","STerm","Soft_Dotted","SD","Terminal_Punctuation","Term","Unified_Ideograph","UIdeo","Uppercase","Upper","Variation_Selector","VS","White_Space","space","XID_Continue","XIDC","XID_Start","XIDS"],General_Category:["Cased_Letter","LC","Close_Punctuation","Pe","Connector_Punctuation","Pc","Control","Cc","cntrl","Currency_Symbol","Sc","Dash_Punctuation","Pd","Decimal_Number","Nd","digit","Enclosing_Mark","Me","Final_Punctuation","Pf","Format","Cf","Initial_Punctuation","Pi","Letter","L","Letter_Number","Nl","Line_Separator","Zl","Lowercase_Letter","Ll","Mark","M","Combining_Mark","Math_Symbol","Sm","Modifier_Letter","Lm","Modifier_Symbol","Sk","Nonspacing_Mark","Mn","Number","N","Open_Punctuation","Ps","Other","C","Other_Letter","Lo","Other_Number","No","Other_Punctuation","Po","Other_Symbol","So","Paragraph_Separator","Zp","Private_Use","Co","Punctuation","P","punct","Separator","Z","Space_Separator","Zs","Spacing_Mark","Mc","Surrogate","Cs","Symbol","S","Titlecase_Letter","Lt","Unassigned","Cn","Uppercase_Letter","Lu"],Script:["Adlam","Adlm","Ahom","Anatolian_Hieroglyphs","Hluw","Arabic","Arab","Armenian","Armn","Avestan","Avst","Balinese","Bali","Bamum","Bamu","Bassa_Vah","Bass","Batak","Batk","Bengali","Beng","Bhaiksuki","Bhks","Bopomofo","Bopo","Brahmi","Brah","Braille","Brai","Buginese","Bugi","Buhid","Buhd","Canadian_Aboriginal","Cans","Carian","Cari","Caucasian_Albanian","Aghb","Chakma","Cakm","Cham","Cherokee","Cher","Common","Zyyy","Coptic","Copt","Qaac","Cuneiform","Xsux","Cypriot","Cprt","Cyrillic","Cyrl","Deseret","Dsrt","Devanagari","Deva","Duployan","Dupl","Egyptian_Hieroglyphs","Egyp","Elbasan","Elba","Ethiopic","Ethi","Georgian","Geor","Glagolitic","Glag","Gothic","Goth","Grantha","Gran","Greek","Grek","Gujarati","Gujr","Gurmukhi","Guru","Han","Hani","Hangul","Hang","Hanunoo","Hano","Hatran","Hatr","Hebrew","Hebr","Hiragana","Hira","Imperial_Aramaic","Armi","Inherited","Zinh","Qaai","Inscriptional_Pahlavi","Phli","Inscriptional_Parthian","Prti","Javanese","Java","Kaithi","Kthi","Kannada","Knda","Katakana","Kana","Kayah_Li","Kali","Kharoshthi","Khar","Khmer","Khmr","Khojki","Khoj","Khudawadi","Sind","Lao","Laoo","Latin","Latn","Lepcha","Lepc","Limbu","Limb","Linear_A","Lina","Linear_B","Linb","Lisu","Lycian","Lyci","Lydian","Lydi","Mahajani","Mahj","Malayalam","Mlym","Mandaic","Mand","Manichaean","Mani","Marchen","Marc","Masaram_Gondi","Gonm","Meetei_Mayek","Mtei","Mende_Kikakui","Mend","Meroitic_Cursive","Merc","Meroitic_Hieroglyphs","Mero","Miao","Plrd","Modi","Mongolian","Mong","Mro","Mroo","Multani","Mult","Myanmar","Mymr","Nabataean","Nbat","New_Tai_Lue","Talu","Newa","Nko","Nkoo","Nushu","Nshu","Ogham","Ogam","Ol_Chiki","Olck","Old_Hungarian","Hung","Old_Italic","Ital","Old_North_Arabian","Narb","Old_Permic","Perm","Old_Persian","Xpeo","Old_South_Arabian","Sarb","Old_Turkic","Orkh","Oriya","Orya","Osage","Osge","Osmanya","Osma","Pahawh_Hmong","Hmng","Palmyrene","Palm","Pau_Cin_Hau","Pauc","Phags_Pa","Phag","Phoenician","Phnx","Psalter_Pahlavi","Phlp","Rejang","Rjng","Runic","Runr","Samaritan","Samr","Saurashtra","Saur","Sharada","Shrd","Shavian","Shaw","Siddham","Sidd","SignWriting","Sgnw","Sinhala","Sinh","Sora_Sompeng","Sora","Soyombo","Soyo","Sundanese","Sund","Syloti_Nagri","Sylo","Syriac","Syrc","Tagalog","Tglg","Tagbanwa","Tagb","Tai_Le","Tale","Tai_Tham","Lana","Tai_Viet","Tavt","Takri","Takr","Tamil","Taml","Tangut","Tang","Telugu","Telu","Thaana","Thaa","Thai","Tibetan","Tibt","Tifinagh","Tfng","Tirhuta","Tirh","Ugaritic","Ugar","Vai","Vaii","Warang_Citi","Wara","Yi","Yiii","Zanabazar_Square","Zanb"]};Array.prototype.push.apply(Ct.$LONE,Ct.General_Category),Ct.gc=Ct.General_Category,Ct.sc=Ct.Script_Extensions=Ct.scx=Ct.Script;var Et=ot.prototype,St=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":""),this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]};St.prototype.reset=function(t,e,i){var n=i.indexOf("u")!==-1;this.start=0|t,this.source=e+"",this.flags=i,this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchN=n&&this.parser.options.ecmaVersion>=9},St.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)},St.prototype.at=function(t){var e=this.source,i=e.length;if(t>=i)return-1;var n=e.charCodeAt(t);return!this.switchU||n<=55295||n>=57344||t+1>=i?n:(n<<10)+e.charCodeAt(t+1)-56613888},St.prototype.nextIndex=function(t){var e=this.source,i=e.length;if(t>=i)return i;var n=e.charCodeAt(t);return!this.switchU||n<=55295||n>=57344||t+1>=i?t+1:t+2},St.prototype.current=function(){return this.at(this.pos)},St.prototype.lookahead=function(){return this.at(this.nextIndex(this.pos))},St.prototype.advance=function(){this.pos=this.nextIndex(this.pos)},St.prototype.eat=function(t){return this.current()===t&&(this.advance(),!0)},Et.validateRegExpFlags=function(t){for(var e=this,i=t.validFlags,n=t.flags,r=0;r<n.length;r++){var o=n.charAt(r);i.indexOf(o)==-1&&e.raise(t.start,"Invalid regular expression flag"),n.indexOf(o,r+1)>-1&&e.raise(t.start,"Duplicate regular expression flag")}},Et.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},Et.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames.indexOf(n)===-1&&t.raise("Invalid named capture referenced")}},Et.regexp_disjunction=function(t){var e=this;for(this.regexp_alternative(t);t.eat(124);)e.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},Et.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},Et.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!(t.switchU?!this.regexp_eatAtom(t):!this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},Et.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},Et.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},Et.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},Et.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},Et.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},Et.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},Et.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},Et.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},Et.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},Et.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},Et.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!g(e)&&(t.lastIntValue=e,t.advance(),!0)},Et.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!g(i);)t.advance();return t.pos!==e},Et.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(e===-1||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},Et.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},Et.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},Et.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=p(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=p(t.lastIntValue);return!0}return!1},Et.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=t.current();return t.advance(),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(i=t.lastIntValue),m(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)},Et.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=t.current();return t.advance(),92===i&&this.regexp_eatRegExpUnicodeEscapeSequence(t)&&(i=t.lastIntValue),v(i)?(t.lastIntValue=i,!0):(t.pos=e,!1)},Et.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},Et.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},Et.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},Et.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},Et.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},Et.regexp_eatZero=function(t){return 48===t.current()&&!C(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},Et.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},Et.regexp_eatControlLetter=function(t){var e=t.current();return!!y(e)&&(t.lastIntValue=e%32,t.advance(),!0)},Et.regexp_eatRegExpUnicodeEscapeSequence=function(t){var e=t.pos;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var i=t.lastIntValue;if(t.switchU&&i>=55296&&i<=56319){var n=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(r>=56320&&r<=57343)return t.lastIntValue=1024*(i-55296)+(r-56320)+65536,!0}t.pos=n,t.lastIntValue=i}return!0}if(t.switchU&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&_(t.lastIntValue))return!0;t.switchU&&t.raise("Invalid unicode escape"),t.pos=e}return!1},Et.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},Et.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1},Et.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(b(e))return t.lastIntValue=-1,t.advance(),!0;if(t.switchU&&this.options.ecmaVersion>=9&&(80===e||112===e)){if(t.lastIntValue=-1,t.advance(),t.eat(123)&&this.regexp_eatUnicodePropertyValueExpression(t)&&t.eat(125))return!0;t.raise("Invalid property name")}return!1},Et.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),!0}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r),!0}return!1},Et.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ct.hasOwnProperty(e)&&Ct[e].indexOf(i)!==-1||t.raise("Invalid property name")},Et.regexp_validateUnicodePropertyNameOrValue=function(t,e){Ct.$LONE.indexOf(e)===-1&&t.raise("Invalid property name")},Et.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";x(e=t.current());)t.lastStringValue+=p(e),t.advance();return""!==t.lastStringValue},Et.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";w(e=t.current());)t.lastStringValue+=p(e),t.advance();return""!==t.lastStringValue},Et.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},Et.regexp_eatCharacterClass=function(t){if(t.eat(91)){if(t.eat(94),this.regexp_classRanges(t),t.eat(93))return!0;t.raise("Unterminated character class")}return!1},Et.regexp_classRanges=function(t){for(var e=this;this.regexp_eatClassAtom(t);){var i=t.lastIntValue;if(t.eat(45)&&e.regexp_eatClassAtom(t)){var n=t.lastIntValue;!t.switchU||i!==-1&&n!==-1||t.raise("Invalid character class"),i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class")}}},Et.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||T(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return 93!==n&&(t.lastIntValue=n,t.advance(),!0)},Et.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},Et.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!C(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},Et.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},Et.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;C(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},Et.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;E(i=t.current());)t.lastIntValue=16*t.lastIntValue+S(i),t.advance();return t.pos!==e},Et.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},Et.regexp_eatOctalDigit=function(t){var e=t.current();return T(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},Et.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var r=t.current();if(!E(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+S(r),t.advance()}return!0};var Tt=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new it(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},It=ot.prototype;It.next=function(){this.options.onToken&&this.options.onToken(new Tt(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},It.getToken=function(){return this.next(),new Tt(this)},"undefined"!=typeof Symbol&&(It[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===X.eof,value:e}}}}),It.curContext=function(){return this.context[this.context.length-1]},It.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(X.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},It.readToken=function(t){return i(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},It.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=57344)return t;var e=this.input.charCodeAt(this.pos+1);return(t<<10)+e-56613888},It.skipBlockComment=function(){var t=this,e=this.options.onComment&&this.curPosition(),i=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(n===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations){Y.lastIndex=i;for(var r;(r=Y.exec(this.input))&&r.index<this.pos;)++t.curLine,t.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(i+2,n),i,this.pos,e,this.curPosition())},It.skipLineComment=function(t){for(var e=this,i=this.pos,n=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!s(r);)r=e.input.charCodeAt(++e.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(i+t,this.pos),i,this.pos,n,this.curPosition())},It.skipSpace=function(){var t=this;t:for(;this.pos<this.input.length;){var e=t.input.charCodeAt(t.pos);switch(e){case 32:case 160:++t.pos;break;case 13:10===t.input.charCodeAt(t.pos+1)&&++t.pos;case 10:case 8232:case 8233:++t.pos,t.options.locations&&(++t.curLine,t.lineStart=t.pos);break;case 47:switch(t.input.charCodeAt(t.pos+1)){case 42:t.skipBlockComment();break;case 47:t.skipLineComment(2);break;default:break t}break;default:if(!(e>8&&e<14||e>=5760&&$.test(String.fromCharCode(e))))break t;++t.pos}}},It.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},It.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(X.ellipsis)):(++this.pos,this.finishToken(X.dot))},It.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(X.assign,2):this.finishOp(X.slash,1)},It.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=42===t?X.star:X.modulo;return this.options.ecmaVersion>=7&&42==t&&42===e&&(++i,n=X.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(X.assign,i+1):this.finishOp(n,i)},It.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?X.logicalOR:X.logicalAND,2):61===e?this.finishOp(X.assign,2):this.finishOp(124===t?X.bitwiseOR:X.bitwiseAND,1)},It.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(X.assign,2):this.finishOp(X.bitwiseXOR,1)},It.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!=e||this.inModule||62!=this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!W.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(X.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(X.assign,2):this.finishOp(X.plusMin,1)},It.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(X.assign,i+1):this.finishOp(X.bitShift,i)):33!=e||60!=t||this.inModule||45!=this.input.charCodeAt(this.pos+2)||45!=this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(X.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},It.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(X.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(X.arrow)):this.finishOp(61===t?X.eq:X.prefix,1)},It.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(X.parenL);case 41:return++this.pos,this.finishToken(X.parenR);case 59:return++this.pos,this.finishToken(X.semi);case 44:return++this.pos,this.finishToken(X.comma);case 91:return++this.pos,this.finishToken(X.bracketL);case 93:return++this.pos,this.finishToken(X.bracketR);case 123:return++this.pos,this.finishToken(X.braceL);case 125:return++this.pos,this.finishToken(X.braceR);case 58:return++this.pos,this.finishToken(X.colon);case 63:return++this.pos,this.finishToken(X.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(X.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(X.prefix,1)}this.raise(this.pos,"Unexpected character '"+I(t)+"'")},It.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},It.readRegexp=function(){for(var t,e,i=this,n=this.pos;;){i.pos>=i.input.length&&i.raise(n,"Unterminated regular expression");var r=i.input.charAt(i.pos);if(W.test(r)&&i.raise(n,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++i.pos}var o=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var l=this.regexpState||(this.regexpState=new St(this));l.reset(n,o,a),this.validateRegExpFlags(l),this.validateRegExpPattern(l);var u=null;try{u=new RegExp(o,a)}catch(c){}return this.finishToken(X.regexp,{pattern:o,flags:a,value:u})},It.readInt=function(t,e){for(var i=this,n=this.pos,r=0,o=0,s=null==e?1/0:e;o<s;++o){var a=i.input.charCodeAt(i.pos),l=void 0;if(l=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0,l>=t)break;++i.pos,r=r*t+l}return this.pos===n||null!=e&&this.pos-n!==e?null:r},It.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),i(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(X.num,e)},It.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10)||this.raise(e,"Invalid number");var n=this.pos-e>=2&&48===this.input.charCodeAt(e);n&&this.strict&&this.raise(e,"Invalid number"),n&&/[89]/.test(this.input.slice(e,this.pos))&&(n=!1);var r=this.input.charCodeAt(this.pos);46!==r||n||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||n||(r=this.input.charCodeAt(++this.pos),43!==r&&45!==r||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),i(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=this.input.slice(e,this.pos),s=n?parseInt(o,8):parseFloat(o);return this.finishToken(X.num,s)},It.readCodePoint=function(){
var t,e=this.input.charCodeAt(this.pos);if(123===e){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else t=this.readHexChar(4);return t},It.readString=function(t){for(var e=this,i="",n=++this.pos;;){e.pos>=e.input.length&&e.raise(e.start,"Unterminated string constant");var r=e.input.charCodeAt(e.pos);if(r===t)break;92===r?(i+=e.input.slice(n,e.pos),i+=e.readEscapedChar(!1),n=e.pos):(s(r)&&e.raise(e.start,"Unterminated string constant"),++e.pos)}return i+=this.input.slice(n,this.pos++),this.finishToken(X.string,i)};var kt={};It.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==kt)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},It.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw kt;this.raise(t,e)},It.readTmplToken=function(){for(var t=this,e="",i=this.pos;;){t.pos>=t.input.length&&t.raise(t.start,"Unterminated template");var n=t.input.charCodeAt(t.pos);if(96===n||36===n&&123===t.input.charCodeAt(t.pos+1))return t.pos!==t.start||t.type!==X.template&&t.type!==X.invalidTemplate?(e+=t.input.slice(i,t.pos),t.finishToken(X.template,e)):36===n?(t.pos+=2,t.finishToken(X.dollarBraceL)):(++t.pos,t.finishToken(X.backQuote));if(92===n)e+=t.input.slice(i,t.pos),e+=t.readEscapedChar(!0),i=t.pos;else if(s(n)){switch(e+=t.input.slice(i,t.pos),++t.pos,n){case 13:10===t.input.charCodeAt(t.pos)&&++t.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}t.options.locations&&(++t.curLine,t.lineStart=t.pos),i=t.pos}else++t.pos}},It.readInvalidTemplateToken=function(){for(var t=this;this.pos<this.input.length;this.pos++)switch(t.input[t.pos]){case"\\":++t.pos;break;case"$":if("{"!==t.input[t.pos+1])break;case"`":return t.finishToken(X.invalidTemplate,t.input.slice(t.start,t.pos))}this.raise(this.start,"Unterminated template")},It.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return I(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\x0B";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:if(e>=48&&e<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(i,8);return n>255&&(i=i.slice(0,-1),n=parseInt(i,8)),this.pos+=i.length-1,e=this.input.charCodeAt(this.pos),"0"===i&&56!=e&&57!=e||!this.strict&&!t||this.invalidStringToken(this.pos-1-i.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return String.fromCharCode(e)}},It.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},It.readWord1=function(){var t=this;this.containsEsc=!1;for(var e="",r=!0,o=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var a=t.fullCharCodeAtPos();if(n(a,s))t.pos+=a<=65535?1:2;else{if(92!==a)break;t.containsEsc=!0,e+=t.input.slice(o,t.pos);var l=t.pos;117!=t.input.charCodeAt(++t.pos)&&t.invalidStringToken(t.pos,"Expecting Unicode escape sequence \\uXXXX"),++t.pos;var u=t.readCodePoint();(r?i:n)(u,s)||t.invalidStringToken(l,"Invalid Unicode escape"),e+=I(u),o=t.pos}r=!1}return e+this.input.slice(o,this.pos)},It.readWord=function(){var t=this.readWord1(),e=X.name;return this.keywords.test(t)&&(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+t),e=H[t]),this.finishToken(e,t)};var Pt="5.5.3";t.version=Pt,t.parse=k,t.parseExpressionAt=P,t.tokenizer=L,t.addLooseExports=O,t.Parser=ot,t.plugins=rt,t.defaultOptions=nt,t.Position=et,t.SourceLocation=it,t.getLineInfo=l,t.Node=yt,t.TokenType=q,t.tokTypes=X,t.keywordTypes=H,t.TokContext=bt,t.tokContexts=xt,t.isIdentifierChar=n,t.isIdentifierStart=i,t.Token=Tt,t.isNewLine=s,t.lineBreak=W,t.lineBreakG=Y,t.nonASCIIwhitespace=$,Object.defineProperty(t,"__esModule",{value:!0})})},{}],90:[function(t,e,i){"use strict";function n(t,e){for(var i=new Array(e+1),n=0;n<t.length;++n)i[n]=t[n];for(var n=0;n<=t.length;++n){for(var r=t.length;r<=e;++r){for(var s=new Array(e),a=0;a<e;++a)s[a]=Math.pow(r+1-n,a);i[r]=s}var l=o.apply(void 0,i);if(l)return!0}return!1}function r(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var i=t[0].length,r=[t[0]],o=[0],s=1;s<e;++s)if(r.push(t[s]),n(r,i)){if(o.push(s),o.length===i+1)return o}else r.pop();return o}e.exports=r;var o=t("robust-orientation")},{"robust-orientation":608}],91:[function(t,e,i){(function(e){"use strict";function i(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}if(t("core-js/shim"),t("regenerator-runtime/runtime"),t("core-js/fn/regexp/escape"),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var n="defineProperty";i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&i(Array,t,Function.call.bind([][t]))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"core-js/fn/regexp/escape":129,"core-js/shim":561,"regenerator-runtime/runtime":92}],92:[function(t,e,i){(function(t){!function(t){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,s=Object.create(o.prototype),a=new d(n||[]);return s._invoke=u(t,i,a),s}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(e){function i(t,r,o,s){var a=n(e[t],e,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){i("next",t,o,s)},function(t){i("throw",t,o,s)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},s)}s(a.arg)}function r(t,e){function n(){return new Promise(function(n,r){i(t,e,n,r)})}return o=o?o.then(n,n):n()}"object"==typeof t.process&&t.process.domain&&(i=t.process.domain.bind(i));var o;this._invoke=r}function u(t,e,i){var r=S;return function(o,s){if(r===I)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw s;return g()}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=c(a,i);if(l){if(l===P)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===S)throw r=k,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=I;var u=n(t,e,i);if("normal"===u.type){if(r=i.done?k:T,u.arg===P)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=k,i.method="throw",i.arg=u.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===m){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return P;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,P;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,P):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,P)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function r(){for(;++i<t.length;)if(y.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=m,r.done=!0,r};return n.next=n}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag",C="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(C&&(e.exports=E));E=t.regeneratorRuntime=C?e.exports:{},E.wrap=i;var S="suspendedStart",T="suspendedYield",I="executing",k="completed",P={},L={};L[b]=function(){return this};var O=Object.getPrototypeOf,A=O&&O(O(p([])));A&&A!==v&&y.call(A,b)&&(L=A);var M=s.prototype=r.prototype=Object.create(L);o.prototype=M.constructor=s,s.constructor=o,s[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[x]=function(){return this},E.AsyncIterator=l,E.async=function(t,e,n,r){var o=new l(i(t,e,n,r));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(M),M[w]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,P):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),P},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),P}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;f(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:p(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=m),P}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],93:[function(t,e,i){e.exports={"default":t("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":130}],94:[function(t,e,i){e.exports={"default":t("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":131}],95:[function(t,e,i){e.exports={"default":t("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":132}],96:[function(t,e,i){e.exports={"default":t("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":133}],97:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":134}],98:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":135}],99:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":136}],100:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/get-own-property-descriptor"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-descriptor":137}],101:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":138}],102:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":139}],103:[function(t,e,i){e.exports={"default":t("core-js/library/fn/object/set-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/set-prototype-of":140}],104:[function(t,e,i){e.exports={"default":t("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":141}],105:[function(t,e,i){e.exports={"default":t("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":142}],106:[function(t,e,i){e.exports={"default":t("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":143}],107:[function(t,e,i){"use strict";i.__esModule=!0,i["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},{}],108:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/object/define-property"),o=n(r);i["default"]=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o["default"])(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}()},{"../core-js/object/define-property":99}],109:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/object/define-property"),o=n(r);i["default"]=function(t,e,i){return e in t?(0,o["default"])(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},{"../core-js/object/define-property":99}],110:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/object/assign"),o=n(r);i["default"]=o["default"]||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},{"../core-js/object/assign":97}],111:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/object/set-prototype-of"),o=n(r),s=t("../core-js/object/create"),a=n(s),l=t("../helpers/typeof"),u=n(l);i["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,u["default"])(e)));t.prototype=(0,a["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(o["default"]?(0,o["default"])(t,e):t.__proto__=e)}},{"../core-js/object/create":98,"../core-js/object/set-prototype-of":103,"../helpers/typeof":115}],112:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../helpers/typeof"),o=n(r);i["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,o["default"])(e))&&"function"!=typeof e?t:e}},{"../helpers/typeof":115}],113:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/is-iterable"),o=n(r),s=t("../core-js/get-iterator"),a=n(s);i["default"]=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,l=(0,a["default"])(t);!(n=(s=l.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(u){r=!0,o=u}finally{try{!n&&l["return"]&&l["return"]()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if((0,o["default"])(Object(e)))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},{"../core-js/get-iterator":94,"../core-js/is-iterable":95}],114:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/array/from"),o=n(r);i["default"]=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o["default"])(t)}},{"../core-js/array/from":93}],115:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../core-js/symbol/iterator"),o=n(r),s=t("../core-js/symbol"),a=n(s),l="function"==typeof a["default"]&&"symbol"==typeof o["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":typeof t};i["default"]="function"==typeof a["default"]&&"symbol"===l(o["default"])?function(t){return"undefined"==typeof t?"undefined":l(t)}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":"undefined"==typeof t?"undefined":l(t)}},{"../core-js/symbol":105,"../core-js/symbol/iterator":106}],116:[function(t,e,i){e.exports=t("regenerator-runtime")},{"regenerator-runtime":606}],117:[function(t,e,i){!function(n,r){"object"==typeof i&&"undefined"!=typeof e?e.exports=r(t("backbone"),t("underscore"),t("backbone.radio")):"function"==typeof define&&define.amd?define(["backbone","underscore","backbone.radio"],r):n.Marionette=r(n.Backbone,n._,n.Backbone.Radio)}(this,function(t,e,i){"use strict";function n(t,e,i){return i.toUpperCase()}function r(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];var o=$(t),s=X.call(this,o),a=void 0;return e.isFunction(s)&&(a=s.apply(this,n)),this.trigger.apply(this,arguments),a}function o(t){for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return e.isFunction(t.triggerMethod)?t.triggerMethod.apply(t,n):r.apply(t,n)}function s(t,i,n){t._getImmediateChildren&&e.each(t._getImmediateChildren(),function(t){n(t)&&o(t,i,t)})}function a(t){return!t._isAttached}function l(t){return!!a(t)&&(t._isAttached=!0,!0)}function u(t){return t._isAttached}function c(t){return!!u(t)&&(t._isAttached=!1,!0)}function h(t){t._isAttached&&t._isRendered&&o(t,"dom:refresh",t)}function f(t){t._isAttached&&t._isRendered&&o(t,"dom:remove",t)}function d(){s(this,"before:attach",a)}function p(){s(this,"attach",l),h(this)}function g(){s(this,"before:detach",u),f(this)}function m(){s(this,"detach",c)}function v(){f(this)}function y(){h(this)}function _(t){t._areViewEventsMonitored||t.monitorViewEvents===!1||(t._areViewEventsMonitored=!0,t.on({"before:attach":d,attach:p,"before:detach":g,detach:m,"before:render":v,render:y}))}function b(t,i,n,r,o){var s=r.split(/\s+/);s.length>1&&U("Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods."),e.each(s,function(e){var r=t[e];if(!r)throw new K('Method "'+e+'" was configured as an event handler, but does not exist.');t[o](i,n,r)})}function x(t,i,n,r){if(!e.isObject(n))throw new K({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});e.each(n,function(n,o){return e.isString(n)?void b(t,i,o,n,r):void t[r](i,o,n)})}function w(t,e){return t&&e?(x(this,t,e,"listenTo"),this):this}function C(t,e){return t?e?(x(this,t,e,"stopListening"),this):(this.stopListening(t),this):this}function E(t,i,n,r){if(!e.isObject(n))throw new K({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var o=W.call(t,n);i[r](o,t)}function S(t,e){return t&&e?(E(this,t,e,"reply"),this):this}function T(t,e){return t?e?(E(this,t,e,"stopReplying"),this):(t.stopReplying(null,null,this),this):this}function I(t,i){return t.behaviorClass?t.behaviorClass:e.isFunction(t)?t:e.isFunction(qt.Behaviors.behaviorsLookup)?qt.Behaviors.behaviorsLookup(t,i)[i]:qt.Behaviors.behaviorsLookup[i]}function k(t,i){return e.chain(i).map(function(i,n){var r=I(i,n),o=i===r?{}:i,s=new r(o,t),a=k(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()}function P(t){return!!ut[t]}function L(t,e){return ut[t]=e}function O(t,i){e.isString(i)&&(i={event:i});var n=i.event,r=!!i.preventDefault;P("triggersPreventDefault")&&(r=i.preventDefault!==!1);var o=!!i.stopPropagation;return P("triggersStopPropagation")&&(o=i.stopPropagation!==!1),function(e){r&&e.preventDefault(),o&&e.stopPropagation(),t.triggerMethod(n,t,e)}}function A(e){return e instanceof t.$?e:t.$(e)}function M(t){return this.prototype.Dom=e.extend({},this.prototype.Dom,t),this}function R(t){t._isRendered||(t.supportsRenderLifecycle||o(t,"before:render",t),t.render(),t.supportsRenderLifecycle||(t._isRendered=!0,o(t,"render",t)))}function N(t){if(t.destroy)return void t.destroy();t.supportsDestroyLifecycle||o(t,"before:destroy",t);var e=t._isAttached&&!t._shouldDisableEvents;e&&o(t,"before:detach",t),t.remove(),e&&(t._isAttached=!1,o(t,"detach",t)),t._isDestroyed=!0,t.supportsDestroyLifecycle||o(t,"destroy",t)}function j(t,i){var n=e.extend({},i);if(e.isString(t))return e.extend(n,{el:t}),D(n);if(e.isFunction(t))return e.extend(n,{regionClass:t}),D(n);if(e.isObject(t))return t.selector&&U("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),e.extend(n,{el:t.selector},t),D(n);throw new K({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function D(t){var i=t.regionClass,n=e.omit(t,"regionClass");return new i(n)}function F(t,e){return e.model&&e.model.get(t)}function z(){throw new K({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}t=t&&t.hasOwnProperty("default")?t["default"]:t,e=e&&e.hasOwnProperty("default")?e["default"]:e,i=i&&i.hasOwnProperty("default")?i["default"]:i;var B="3.5.1",V=function(t){return function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.apply(e,n)}},q=t.Model.extend,U=function Ut(t,i){e.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),qt.DEV_MODE&&(void 0!==i&&i||Ut._cache[t]||(Ut._warn("Deprecation warning: "+t),Ut._cache[t]=!0))};U._console="undefined"!=typeof console?console:{},U._warn=function(){var t=U._console.warn||U._console.log||e.noop;return t.apply(U._console,arguments)},U._cache={};var G=function(t){return document.documentElement.contains(t&&t.parentNode)},H=function(t,i){var n=this;t&&e.each(i,function(e){var i=t[e];void 0!==i&&(n[e]=i)})},X=function(t){if(t)return this.options&&void 0!==this.options[t]?this.options[t]:this[t]},W=function(t){var i=this;return e.reduce(t,function(t,n,r){return e.isFunction(n)||(n=i[n]),n&&(t[r]=n),t},{})},Y=/(^|:)(\w)/gi,$=e.memoize(function(t){return"on"+t.replace(Y,n)}),Z=["description","fileName","lineNumber","name","message","number"],K=q.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+B+"/",constructor:function(t,i){e.isObject(t)?(i=t,t=i.message):i||(i={});var n=Error.call(this,t);e.extend(this,e.pick(n,Z),e.pick(i,Z)),this.captureStackTrace(),i.url&&(this.url=this.urlRoot+i.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,K)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});K.extend=q;var J=function(t){this.options=e.extend({},e.result(this,"options"),t)},Q={normalizeMethods:W,_setOptions:J,mergeOptions:H,getOption:X,bindEvents:w,unbindEvents:C},tt={_initRadio:function(){var t=e.result(this,"channelName");if(t){if(!i)throw new K({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var n=this._channel=i.channel(t),r=e.result(this,"radioEvents");this.bindEvents(n,r);var o=e.result(this,"radioRequests");this.bindRequests(n,o),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:w,unbindEvents:C,bindRequests:S,unbindRequests:T},et=["channelName","radioEvents","radioRequests"],it=function(t){this.hasOwnProperty("options")||this._setOptions(t),this.mergeOptions(t,et),this._setCid(),this._initRadio(),this.initialize.apply(this,arguments)};it.extend=q,e.extend(it.prototype,t.Events,Q,tt,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},_setCid:function(){this.cid||(this.cid=e.uniqueId(this.cidPrefix))},destroy:function(){if(this._isDestroyed)return this;for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.triggerMethod.apply(this,["before:destroy",this].concat(e)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(e)),this.stopListening(),this},triggerMethod:r});var nt=function(t){this.templateId=t};e.extend(nt,{templateCaches:{},get:function(t,e){var i=this.templateCaches[t];return i||(i=new nt(t),this.templateCaches[t]=i),i.load(e)},clear:function(){for(var t=void 0,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i.length;if(r>0)for(t=0;t<r;t++)delete this.templateCaches[i[t]];else this.templateCaches={}}}),e.extend(nt.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(e,i){var n=t.$(e);if(!n.length)throw new K({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return n.html()},compileTemplate:function(t,i){return e.template(t,i)}});var rt=e.invokeMap||e.invoke,ot={_initBehaviors:function(){this._behaviors=this._getBehaviors()},_getBehaviors:function(){var t=e.result(this,"behaviors");return e.isObject(t)?k(this,t):{}},_getBehaviorTriggers:function(){var t=rt(this._behaviors,"getTriggers");return e.reduce(t,function(t,i){return e.extend(t,i)},{})},_getBehaviorEvents:function(){var t=rt(this._behaviors,"getEvents");return e.reduce(t,function(t,i){return e.extend(t,i)},{})},_proxyBehaviorViewProperties:function(){rt(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){rt(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){rt(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];rt.apply(void 0,[this._behaviors,"destroy"].concat(e))},_removeBehavior:function(t){this._isDestroyed||(this.undelegate(".trig"+t.cid+" ."+t.cid),this._behaviors=e.without(this._behaviors,t))},_bindBehaviorUIElements:function(){rt(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){rt(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var t=this._behaviors,e=0,i=t&&t.length;e<i;e++)r.apply(t[e],arguments)}},st={_delegateEntityEvents:function(t,i){var n=e.result(this,"modelEvents");n&&(C.call(this,t,n),w.call(this,t,n));var r=e.result(this,"collectionEvents");r&&(C.call(this,i,r),w.call(this,i,r))},_undelegateEntityEvents:function(t,i){var n=e.result(this,"modelEvents");C.call(this,t,n);var r=e.result(this,"collectionEvents");C.call(this,i,r)}},at=/^(\S+)\s*(.*)$/,lt=function(t,e){var i=t.match(at);return i[1]+"."+e+" "+i[2]},ut={childViewEventPrefix:!0,triggersStopPropagation:!0,triggersPreventDefault:!0},ct={_getViewTriggers:function(t,i){var n=this;return e.reduce(i,function(e,i,r){return r=lt(r,"trig"+n.cid),e[r]=O(t,i),e},{})}},ht=function(t,i){return e.reduce(t,function(t,e,n){var r=ft(n,i);return t[r]=e,t},{})},ft=function(t,e){return t.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(t){return e[t.slice(4)]})},dt=function Gt(t,i,n){return e.each(t,function(r,o){e.isString(r)?t[o]=ft(r,i):e.isObject(r)&&e.isArray(n)&&(e.extend(r,Gt(e.pick(r,n),i)),e.each(n,function(t){var n=r[t];e.isString(n)&&(r[t]=ft(n,i))}))}),t},pt={normalizeUIKeys:function(t){var e=this._getUIBindings();return ht(t,e)},normalizeUIString:function(t){var e=this._getUIBindings();return ft(t,e)},normalizeUIValues:function(t,e){var i=this._getUIBindings();return dt(t,i,e)},_getUIBindings:function(){var t=e.result(this,"_uiBindings"),i=e.result(this,"ui");return t||i},_bindUIElements:function(){var t=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var i=e.result(this,"_uiBindings");this._ui={},e.each(i,function(e,i){t._ui[i]=t.$(e)}),this.ui=this._ui}},_unbindUIElements:function(){var t=this;this.ui&&this._uiBindings&&(e.each(this.ui,function(e,i){delete t.ui[i]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(t){return this._ui[t]}},gt={createBuffer:function(){return document.createDocumentFragment()},getEl:function(t){return A(t)},findEl:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(t);return i.find(e)},hasEl:function(t,e){return t.contains(e&&e.parentNode)},detachEl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A(t);e.detach()},replaceEl:function(t,e){if(t!==e){var i=e.parentNode;i&&i.replaceChild(t,e)}},swapEl:function(t,e){if(t!==e){var i=t.parentNode,n=e.parentNode;if(i&&n){var r=t.nextSibling,o=e.nextSibling;i.insertBefore(e,r),n.insertBefore(t,o)}}},setContents:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A(t);i.html(e)},appendContents:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i._$el,r=void 0===n?A(t):n,o=i._$contents,s=void 0===o?A(e):o;r.append(s)},hasContents:function(t){return!!t&&t.hasChildNodes()},detachContents:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A(t);e.contents().detach()}},mt={Dom:gt,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(i){this._proxyBehaviorViewProperties(),this._buildEventProxies();var n=this._getEvents(i);"undefined"==typeof i&&(this.events=n);var r=e.extend({},this._getBehaviorEvents(),n,this._getBehaviorTriggers(),this.getTriggers());return t.View.prototype.delegateEvents.call(this,r),this},_getEvents:function(t){var i=t||this.events;return e.isFunction(i)?this.normalizeUIKeys(i.call(this)):this.normalizeUIKeys(i)},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this,t)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(){if(this._isDestroyed)return this;for(var t=this._isAttached&&!this._shouldDisableEvents,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];
return this.triggerMethod.apply(this,["before:destroy",this].concat(i)),t&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),t&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors.apply(this,i),this.triggerMethod.apply(this,["destroy",this].concat(i)),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(t){return this._getUI(t)},childViewEventPrefix:function(){return!!P("childViewEventPrefix")&&"childview"},triggerMethod:function(){var t=r.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),t},_buildEventProxies:function(){this._childViewEvents=e.result(this,"childViewEvents"),this._childViewTriggers=e.result(this,"childViewTriggers")},_proxyChildViewEvents:function(t){this.listenTo(t,"all",this._childViewEventHandler)},_childViewEventHandler:function(t){for(var i=this.normalizeMethods(this._childViewEvents),n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];"undefined"!=typeof i&&e.isFunction(i[t])&&i[t].apply(this,r);var s=this._childViewTriggers;s&&e.isString(s[t])&&this.triggerMethod.apply(this,[s[t]].concat(r));var a=e.result(this,"childViewEventPrefix");if(a!==!1){var l=a+":"+t;this.triggerMethod.apply(this,[l].concat(r))}}};e.extend(mt,ot,Q,st,ct,pt);var vt=["allowMissingEl","parentEl","replaceElement"],yt=it.extend({Dom:gt,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,constructor:function(e){if(this._setOptions(e),this.mergeOptions(e,vt),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new K({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),it.call(this,e)},show:function(t,e){if(this._ensureElement(e))return t=this._getView(t,e),t===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,t,e),t._isAttached||this.empty(e),this._setupChildView(t),this.currentView=t,R(t),this._attachView(t,e),this.triggerMethod("show",this,t,e),this._isSwappingView=!1,this)},_setupChildView:function(t){_(t),this._proxyChildViewEvents(t),t.on("destroy",this._empty,this)},_proxyChildViewEvents:function(t){var e=this._parentView;e&&e._proxyChildViewEvents(t)},_shouldDisableMonitoring:function(){return this._parentView&&this._parentView.monitorViewEvents===!1},_attachView:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!t._isAttached&&G(this.el)&&!this._shouldDisableMonitoring(),r="undefined"==typeof i.replaceElement?!!e.result(this,"replaceElement"):!!i.replaceElement;n&&o(t,"before:attach",t),r?this._replaceEl(t):this.attachHtml(t),n&&(t._isAttached=!0,o(t,"attach",t))},_ensureElement:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){var i="undefined"==typeof t.allowMissingEl?!!e.result(this,"allowMissingEl"):!!t.allowMissingEl;if(i)return!1;throw new K('An "el" must exist in DOM for this region '+this.cid)}return!0},_getView:function(e){if(!e)throw new K({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e._isDestroyed)throw new K({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'});if(e instanceof t.View)return e;var i=this._getViewOptions(e);return new Ct(i)},_getViewOptions:function(t){if(e.isFunction(t))return{template:t};if(e.isObject(t))return t;var i=function(){return t};return{template:i}},getEl:function(t){var i=e.result(this,"parentEl");return i&&e.isString(t)?this.Dom.findEl(i,t):this.Dom.getEl(t)},_replaceEl:function(t){this._restoreEl(),t.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(t.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var t=this.currentView;t&&(this._detachView(t),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},empty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},e=this.currentView;if(!e)return this._ensureElement(t)&&this.detachHtml(),this;var i=!t.preventDestroy;return i||U("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(e,i),this},_empty:function(t,e){t.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,t),this._restoreEl(),delete this.currentView,t._isDestroyed||(e?this.removeView(t):this._detachView(t),this._stopChildViewEvents(t)),this.triggerMethod("empty",this,t)},_stopChildViewEvents:function(t){var e=this._parentView;e&&this._parentView.stopListening(t)},destroyView:function(t){return t._isDestroyed?t:(t._shouldDisableEvents=this._shouldDisableMonitoring(),N(t),t)},removeView:function(t){this.destroyView(t)},detachView:function(){var t=this.currentView;if(t)return this._empty(t),t},_detachView:function(t){var e=t._isAttached&&!this._shouldDisableMonitoring(),i=this._isReplaced;e&&o(t,"before:detach",t),i?this.Dom.replaceEl(this.el,t.el):this.detachHtml(),e&&(t._isAttached=!1,o(t,"detach",t))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(t){return this.empty(t),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(t){return this._isDestroyed?this:(this.reset(t),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,it.prototype.destroy.apply(this,arguments))}},{setDomApi:M}),_t=function(t,e){return t instanceof yt?t:j(t,e)},bt={regionClass:yt,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(e.result(this,"regions"))},_reInitRegions:function(){rt(this._regions,"reset")},addRegion:function(t,e){var i={};return i[t]=e,this.addRegions(i)[t]},addRegions:function(t){if(!e.isEmpty(t))return t=this.normalizeUIValues(t,["selector","el"]),this.regions=e.extend({},this.regions,t),this._addRegions(t)},_addRegions:function(t){var i=this,n={regionClass:this.regionClass,parentEl:e.partial(e.result,this,"el")};return e.reduce(t,function(t,e,r){return t[r]=_t(e,n),i._addRegion(t[r],r),t},{})},_addRegion:function(t,e){this.triggerMethod("before:add:region",this,e,t),t._parentView=this,t._name=e,this._regions[e]=t,this.triggerMethod("add:region",this,e,t)},removeRegion:function(t){var e=this._regions[t];return this._removeRegion(e,t),e},removeRegions:function(){var t=this._getRegions();return e.each(this._regions,e.bind(this._removeRegion,this)),t},_removeRegion:function(t,e){this.triggerMethod("before:remove:region",this,e,t),t.destroy(),this.triggerMethod("remove:region",this,e,t)},_removeReferences:function(t){delete this.regions[t],delete this._regions[t]},emptyRegions:function(){var t=this.getRegions();return rt(t,"empty"),t},hasRegion:function(t){return!!this.getRegion(t)},getRegion:function(t){return this._isRendered||this.render(),this._regions[t]},_getRegions:function(){return e.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(t,e){for(var i=this.getRegion(t),n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return i.show.apply(i,[e].concat(r))},detachChildView:function(t){return this.getRegion(t).detachView()},getChildView:function(t){return this.getRegion(t).currentView}},xt={render:function(t,i){if(!t)throw new K({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=e.isFunction(t)?t:nt.get(t);return n(i)}},wt=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],Ct=t.View.extend({constructor:function(i){this.render=e.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,wt),_(this),this._initBehaviors(),this._initRegions();var n=Array.prototype.slice.call(arguments);n[0]=this.options,t.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?e.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(t){return e.clone(t.attributes)}):{}},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=G(this.el),this._isRendered&&this.bindUIElements(),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_renderTemplate:function(){var t=this.getTemplate();if(t===!1)return void U("template:false is deprecated.  Use _.noop.");var e=this.mixinTemplateContext(this.serializeData()),i=this._renderHtml(t,e);this.attachElContent(i)},_renderHtml:function(t,e){return xt.render(t,e,this)},getTemplate:function(){return this.template},mixinTemplateContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.result(this,"templateContext");return e.extend(t,i)},attachElContent:function(t){return this.Dom.setContents(this.el,t,this.$el),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return e.chain(this._getRegions()).map("currentView").compact().value()}},{setRenderer:function(t){return this.prototype._renderHtml=t,this},setDomApi:M});e.extend(Ct.prototype,mt,bt);var Et=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],St=function(t,i){e.each(Et,function(n){t[n]=function(){var t=e.result(this,i),r=Array.prototype.slice.call(arguments);return e[n].apply(e,[t].concat(r))}})},Tt=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,e.bind(this.add,this))};St(Tt.prototype,"_getViews"),e.extend(Tt.prototype,{_getViews:function(){return e.values(this._views)},add:function(t,e){return this._add(t,e)._updateLength()},_add:function(t,e){var i=t.cid;return this._views[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),e&&(this._indexByCustom[e]=i),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){return this._remove(t)._updateLength()},_remove:function(t){var i=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.some(this._indexByCustom,e.bind(function(t,e){if(t===i)return delete this._indexByCustom[e],!0},this)),delete this._views[i],this},_updateLength:function(){return this.length=e.size(this._views),this}});var It=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],kt=t.View.extend({sort:!0,constructor:function(i){this.render=e.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,It),_(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var n=Array.prototype.slice.call(arguments);n[0]=this.options,t.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var t=this._isAttached&&this.monitorViewEvents!==!1,i=t?this._getImmediateChildren():[];this._isBuffering=!1,e.each(i,function(t){o(t,"before:attach",t)}),this.attachBuffer(this,this._createBuffer()),e.each(i,function(t){t._isAttached=!0,o(t,"attach",t)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return e.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,i,n){var r=void 0!==n.at&&(n.index||i.indexOf(t));(this.filter||r===!1)&&(r=e.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)&&(this._destroyEmptyView(),this._addChild(t,r))},_onCollectionUpdate:function(t,e){var i=e.changes;this._removeChildModels(i.removed)},_removeChildModels:function(t){var e=this._getRemovedViews(t);e.length&&(this.children._updateLength(),this._updateIndices(e,!1),this.isEmpty()&&this._showEmptyView())},_getRemovedViews:function(t){var i=this;return e.reduce(t,function(t,e){var n=e&&i.children.findByModel(e);return!n||n._isDestroyed?t:(i._removeChildView(n),t.push(n),t)},[])},_removeChildView:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),t._shouldDisableEvents=this.monitorViewEvents===!1,N(t),this.stopListening(t),this.triggerMethod("remove:child",this,t)},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isAttached=G(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},setFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.preventRender,n=this._isRendered&&!this._isDestroyed,r=this.filter!==t,o=n&&r&&!i;if(o){var s=this._filteredSortedModels();this.filter=t;var a=this._filteredSortedModels();this._applyModelDeltas(a,s)}else this.filter=t;return this},removeFilter:function(t){return this.setFilter(null,t)},_applyModelDeltas:function(t,i){var n=this,r={};e.each(t,function(t,e){var i=!n.children.findByModel(t);i&&n._onCollectionAdd(t,n.collection,{at:e}),r[t.cid]=!0});var o=e.filter(i,function(t){return!r[t.cid]&&n.children.findByModel(t)});this._removeChildModels(o)},reorder:function(){var t=this,i=this.children,n=this._filteredSortedModels();if(!n.length&&this._showingEmptyView)return this;var r=e.some(n,function(t){return!i.findByModel(t)});if(r)this.render();else{var o=[],s=e.reduce(this.children._views,function(t,i){var r=e.indexOf(n,i.model);return r===-1?(o.push(i.model),t):(i._index=r,t[r]=i.el,t)},new Array(n.length));this.triggerMethod("before:reorder",this);var a=this.Dom.createBuffer();e.each(s,function(e){t.Dom.appendContents(a,e)}),this._appendReorderedChildren(a),this._removeChildModels(o),this.triggerMethod("reorder",this)}return this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var t=this,i=this._filteredSortedModels(),n=e.find(i,function(e,i){var n=t.children.findByModel(e);return!n||n._index!==i});n&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.Dom.appendContents(this.el,t,{_$el:this.$el})},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren());var t=this._filteredSortedModels();this.isEmpty({processedModels:t})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(t),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(t,e){var i=this._getChildView(t),n=this._getChildViewOptions(t,e),r=this.buildChildView(t,i,n);return r},_setupChildView:function(t,e){_(t),this._proxyChildViewEvents(t),this.sort&&(t._index=e)},_showCollection:function(t){e.each(t,e.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(t){if(!this.collection||!this.collection.length)return[];var e=this.getViewComparator(),i=this.collection.models;if(t=Math.min(Math.max(t,0),i.length-1),e){var n=void 0;t&&(n=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,e),n&&i.splice(t,0,n)}return i=this._filterModels(i)},getViewComparator:function(){return this.viewComparator},_filterModels:function(t){var i=this;return this.filter&&(t=e.filter(t,function(t,e){return i._shouldAddChild(t,e)})),t},_sortModelsBy:function(t,i){return"string"==typeof i?e.sortBy(t,function(t){return t.get(i)}):1===i.length?e.sortBy(t,e.bind(i,this)):e.clone(t).sort(e.bind(i,this))},_showEmptyView:function(){var i=this._getEmptyView();if(i&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model,r=this.emptyViewOptions||this.childViewOptions;e.isFunction(r)&&(r=r.call(this,n,this._emptyViewIndex));var o=this.buildChildView(n,i,r);this.triggerMethod("before:render:empty",this,o),this.addChildView(o,0),this.triggerMethod("render:empty",this,o)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_getChildView:function(t){var e=this.childView;if(!e)throw new K({name:"NoChildViewError",message:'A "childView" must be specified'});if(e=this._getView(e,t),!e)throw new K({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(i,n){return i.prototype instanceof t.View||i===t.View?i:e.isFunction(i)?i.call(this,n):void 0},_addChild:function(t,e){var i=this._createView(t,e);return this.addChildView(i,e),i},_getChildViewOptions:function(t,i){return e.isFunction(this.childViewOptions)?this.childViewOptions(t,i):this.childViewOptions},addChildView:function(t,e){return this.triggerMethod("before:add:child",this,t),this._setupChildView(t,e),this._isBuffering?this.children._add(t):(this._updateIndices(t,!0),this.children.add(t)),R(t),this._attachView(t,e),this.triggerMethod("add:child",this,t),t},_updateIndices:function(t,i){if(this.sort){if(!i)return void e.each(e.sortBy(this.children._views,"_index"),function(t,e){t._index=e});var n=e.isArray(t)?e.max(t,"_index"):t;e.isObject(n)&&e.each(this.children._views,function(t){t._index>=n._index&&(t._index+=1)})}},_attachView:function(t,e){var i=!t._isAttached&&!this._isBuffering&&this._isAttached&&this.monitorViewEvents!==!1;i&&o(t,"before:attach",t),this.attachHtml(this,t,e),i&&(t._isAttached=!0,o(t,"attach",t))},buildChildView:function(t,i,n){var r=e.extend({model:t},n);return new i(r)},removeChildView:function(t){return!t||t._isDestroyed?t:(this._removeChildView(t),this.children._updateLength(),this._updateIndices(t,!1),t)},isEmpty:function(t){var i=void 0;return e.result(t,"processedModels")?i=t.processedModels:(i=this.collection?this.collection.models:[],i=this._filterModels(i)),0===i.length},attachBuffer:function(t,e){this.Dom.appendContents(t.el,e,{_$el:t.$el})},_createBuffer:function(){var t=this,i=this.Dom.createBuffer();return e.each(this._bufferedChildren,function(e){t.Dom.appendContents(i,e.el,{_$contents:e.$el})}),i},attachHtml:function(t,e,i){t._isBuffering?t._bufferedChildren.splice(i,0,e):t._insertBefore(e,i)||t._insertAfter(e)},_insertBefore:function(t,i){var n=void 0,r=this.sort&&i<this.children.length-1;return r&&(n=e.find(this.children._views,function(t){return t._index===i+1})),!!n&&(this.beforeEl(n.el,t.el),!0)},beforeEl:function(t,e){this.$(t).before(e)},_insertAfter:function(t){this.Dom.appendContents(this.el,t.el,{_$el:this.$el,_$contents:t.$el})},_initChildViewStorage:function(){this.children=new Tt},_removeChildren:function(){this._destroyChildren()},_destroyChildren:function(t){this.children.length&&(this.triggerMethod("before:destroy:children",this),e.each(this.children._views,e.bind(this._removeChildView,this)),this.children._updateLength(),this.triggerMethod("destroy:children",this))},_shouldAddChild:function(t,i){var n=this.filter;return!e.isFunction(n)||n.call(this,t,i,this.collection)}},{setDomApi:M});e.extend(kt.prototype,mt);var Pt=function(){this._init()};St(Pt.prototype,"_views"),e.extend(Pt.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length,i=t.cid;this._viewsByCid[i]=t,t.model&&(this._indexByModel[t.model.cid]=i),this._views.splice(e,0,t),this._updateLength()},_sort:function(t,i){return"string"==typeof t?(t=e.partial(F,t),this._sortBy(t)):1===t.length?this._sortBy(e.bind(t,i)):this._views.sort(e.bind(t,i))},_sortBy:function(t){var i=e.sortBy(this._views,t);return this._set(i),i},_set:function(t){this._views.length=0,this._views.push.apply(this._views,t.slice(0)),this._updateLength()},_swap:function(t,e){var i=this.findIndexByView(t),n=this.findIndexByView(e);if(i!==-1&&n!==-1){var r=this._views[i];this._views[i]=this._views[n],this._views[n]=r}},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByIndex:function(t){return this._views[t]},findIndexByView:function(t){return this._views.indexOf(t)},findByCid:function(t){return this._viewsByCid[t]},hasView:function(t){return!!this.findByCid(t.cid)},_remove:function(t){if(this._viewsByCid[t.cid]){t.model&&delete this._indexByModel[t.model.cid],delete this._viewsByCid[t.cid];var e=this.findIndexByView(t);this._views.splice(e,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var Lt=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","triggers","ui","viewComparator","viewFilter"],Ot=t.View.extend({sortWithCollection:!0,constructor:function(e){this._setOptions(e),this.mergeOptions(e,Lt),_(this),this.once("render",this._initialEvents),this._initChildViewStorage(),this._initBehaviors();var i=Array.prototype.slice.call(arguments);i[0]=this.options,t.View.prototype.constructor.apply(this,i),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_initChildViewStorage:function(){this.children=new Pt},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new yt({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(t,e){var i=e.add,n=e.merge,r=e.remove;this.sortWithCollection&&this.viewComparator!==!1&&(i||r||n||this.sort())},_onCollectionReset:function(){this.render()},_onCollectionUpdate:function(t,e){var i=e.changes,n=i.removed.length&&this._removeChildModels(i.removed);this._addedViews=i.added.length&&this._addChildModels(i.added),this._detachChildren(n),this._showChildren(),this._removeChildViews(n)},_removeChildModels:function(t){var i=this;return e.reduce(t,function(t,e){var n=i._removeChildModel(e);return n&&t.push(n),t},[])},_removeChildModel:function(t){var e=this.children.findByModel(t);return e&&this._removeChild(e),e},_removeChild:function(t){this.triggerMethod("before:remove:child",this,t),this.children._remove(t),this.triggerMethod("remove:child",this,t)},_addChildModels:function(t){return e.map(t,e.bind(this._addChildModel,this))},_addChildModel:function(t){var e=this._createChildView(t);return this._addChild(e),e},_createChildView:function(t){var e=this._getChildView(t),i=this._getChildViewOptions(t),n=this.buildChildView(t,e,i);return n},_addChild:function(t,e){this.triggerMethod("before:add:child",this,t),this._setupChildView(t),this.children._add(t,e),this.triggerMethod("add:child",this,t)},_getChildView:function(t){var e=this.childView;if(!e)throw new K({name:"NoChildViewError",message:'A "childView" must be specified'});if(e=this._getView(e,t),!e)throw new K({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},_getView:function(i,n){return i.prototype instanceof t.View||i===t.View?i:e.isFunction(i)?i.call(this,n):void 0},_getChildViewOptions:function(t){return e.isFunction(this.childViewOptions)?this.childViewOptions(t):this.childViewOptions},buildChildView:function(t,i,n){var r=e.extend({model:t},n);return new i(r)},_setupChildView:function(t){_(t),t.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(t)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return t.View.prototype.setElement.apply(this,arguments),this._isAttached=G(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._destroyChildren(),this.children._init(),this.collection&&this._addChildModels(this.collection.models),this._showChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},sort:function(){return this._isDestroyed?this:this.children.length?(this._showChildren(),this):this},_showChildren:function(){return this.isEmpty()?void this._showEmptyView():(this._sortChildren(),void this.filter())},isEmpty:function(t){return t||!this.children.length},_showEmptyView:function(){var t=this._getEmptyView();if(t){var e=this._getEmptyViewOptions(),i=this.getEmptyRegion();i.show(new t(e))}},_getEmptyView:function(){var t=this.emptyView;if(t)return this._getView(t)},_destroyEmptyView:function(){var t=this.getEmptyRegion();t.hasView()&&t.empty()},_getEmptyViewOptions:function(){var t=this.emptyViewOptions||this.childViewOptions;return e.isFunction(t)?t.call(this):t},_sortChildren:function(){var t=this.getComparator();t&&(delete this._addedViews,this.triggerMethod("before:sort",this),this.children._sort(t,this),this.triggerMethod("sort",this))},setComparator:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.preventRender,n=this.viewComparator!==t,r=n&&!i;return this.viewComparator=t,r&&this.sort(),this},removeComparator:function(t){return this.setComparator(null,t)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||this.viewComparator===!1||!this.collection)&&this._viewComparator},_viewComparator:function(t){return this.collection.indexOf(t.model)},filter:function(){if(this._isDestroyed)return this;if(!this.children.length)return this;var t=this._filterChildren();return this._renderChildren(t),this},_filterChildren:function(){var t=this,i=this._getFilter(),n=this._addedViews;if(delete this._addedViews,!i)return n?n:this.children._views;this.triggerMethod("before:filter",this);var r=[],o=[];return e.each(this.children._views,function(e,n,s){(i.call(t,e,n,s)?r:o).push(e)}),this._detachChildren(o),this.triggerMethod("filter",this,r,o),r},_getFilter:function(){var t=this.getFilter();if(!t)return!1;if(e.isFunction(t))return t;if(e.isObject(t)){var i=e.matches(t);return function(t){return i(t.model&&t.model.attributes)}}if(e.isString(t))return function(e){return e.model&&e.model.get(t)};throw new K({name:"InvalidViewFilterError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'})},getFilter:function(){return this.viewFilter},setFilter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.preventRender,n=this.viewFilter!==t,r=n&&!i;return this.viewFilter=t,r&&this.filter(),this},removeFilter:function(t){return this.setFilter(null,t)},_detachChildren:function(t){e.each(t,e.bind(this._detachChildView,this))},_detachChildView:function(t){var e=t._isAttached&&this.monitorViewEvents!==!1;e&&o(t,"before:detach",t),this.detachHtml(t),e&&(t._isAttached=!1,o(t,"detach",t))},detachHtml:function(t){this.Dom.detachEl(t.el,t.$el)},_renderChildren:function(t){if(this.isEmpty(!t.length))return void this._showEmptyView();this._destroyEmptyView(),this.triggerMethod("before:render:children",this,t);var e=this._getBuffer(t);this._attachChildren(e,t),this.triggerMethod("render:children",this,t)},_attachChildren:function(t,i){var n=this._isAttached&&this.monitorViewEvents!==!1;i=n?i:[],e.each(i,function(t){t._isAttached||o(t,"before:attach",t)}),this.attachHtml(t),e.each(i,function(t){t._isAttached||(t._isAttached=!0,o(t,"attach",t))})},_getBuffer:function(t){var i=this,n=this.Dom.createBuffer();return e.each(t,function(t){R(t),i.Dom.appendContents(n,t.el,{_$contents:t.$el})}),n},attachHtml:function(t){this.Dom.appendContents(this.el,t,{_$el:this.$el})},swapChildViews:function(t,e){if(!this.children.hasView(t)||!this.children.hasView(e))throw new K({name:"ChildSwapError",message:"Both views must be children of the collection view"});return this.children._swap(t,e),this.Dom.swapEl(t.el,e.el),this.Dom.hasEl(this.el,t.el)!==this.Dom.hasEl(this.el,e.el)&&this.filter(),this},addChildView:function(t,e){return!t||t._isDestroyed?t:((!e||e>=this.children.length)&&(this._addedViews=[t]),this._addChild(t,e),this._showChildren(),t)},detachChildView:function(t){return this.removeChildView(t,{shouldDetach:!0}),t},removeChildView:function(t,e){return t?(this._removeChildView(t,e),this._removeChild(t),this.isEmpty()&&this._showEmptyView(),t):t},_removeChildViews:function(t){e.each(t,e.bind(this._removeChildView,this))},_removeChildView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.shouldDetach;t.off("destroy",this.removeChildView,this),i?this._detachChildView(t):this._destroyChildView(t),this.stopListening(t)},_destroyChildView:function(t){t._isDestroyed||(t._shouldDisableEvents=this.monitorViewEvents===!1,N(t))},_removeChildren:function(){this._destroyChildren();var t=this.getEmptyRegion();t.destroy(),delete this._addedViews},_destroyChildren:function(){this.children&&this.children.length&&(this.triggerMethod("before:destroy:children",this),this.monitorViewEvents===!1&&this.Dom.detachContents(this.el,this.$el),e.each(this.children._views,e.bind(this._removeChildView,this)),this.triggerMethod("destroy:children",this))}},{setDomApi:M});e.extend(Ot.prototype,mt);var At=["childViewContainer","template","templateContext"],Mt=kt.extend({constructor:function(t){U("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(t,At),kt.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(t){var e=this.childView;if(!e)return this.constructor;if(e=this._getView(e,t),!e)throw new K({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return e},serializeData:function(){return this.serializeModel()},render:function(){return this._isDestroyed?this:(this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),
this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this)},renderChildren:function(){(this._isRendered||this._isRendering)&&kt.prototype._renderChildren.call(this)},attachBuffer:function(t,e){var i=this.getChildViewContainer(t);this.Dom.appendContents(i[0],e,{_$el:i})},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);this.Dom.appendContents(e[0],t.el,{_$el:e,_$contents:t.$el})},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);this.Dom.appendContents(e[0],t,{_$el:e})},getChildViewContainer:function(t,i){if(t.$childViewContainer)return t.$childViewContainer;var n=void 0,r=t.childViewContainer;if(r){var o=e.result(t,"childViewContainer");if(n="@"===o.charAt(0)&&t.ui?t.ui[o.substr(4)]:this.$(o),n.length<=0)throw new K({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),Rt=e.pick(Ct.prototype,"serializeModel","getTemplate","_renderTemplate","_renderHtml","mixinTemplateContext","attachElContent");e.extend(Mt.prototype,Rt);var Nt=["collectionEvents","events","modelEvents","triggers","ui"],jt=it.extend({cidPrefix:"mnb",constructor:function(t,i){this.view=i,this.defaults&&U("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."),this.defaults=e.clone(e.result(this,"defaults",{})),this._setOptions(e.extend({},this.defaults,t)),this.mergeOptions(this.options,Nt),this.ui=e.extend({},e.result(this,"ui"),e.result(i,"ui")),it.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(t){return this._getUI(t)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var t=this,i=this.normalizeUIKeys(e.result(this,"events"));return e.reduce(i,function(i,n,r){return e.isFunction(n)||(n=t[n]),n?(r=lt(r,t.cid),i[r]=e.bind(n,t),i):i},{})},getTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(e.result(this,"triggers"));return this._getViewTriggers(this.view,t)}}});e.extend(jt.prototype,st,ct,pt);var Dt=["region","regionClass"],Ft=it.extend({cidPrefix:"mna",constructor:function(t){this._setOptions(t),this.mergeOptions(t,Dt),this._initRegion(),it.prototype.constructor.apply(this,arguments)},regionClass:yt,_initRegion:function(){var t=this.region;if(t){var e={regionClass:this.regionClass};this._region=_t(t,e)}},getRegion:function(){return this._region},showView:function(t){for(var e=this.getRegion(),i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.show.apply(e,[t].concat(n))},getView:function(){return this.getRegion().currentView},start:function(t){return this.triggerMethod("before:start",this,t),this.triggerMethod("start",this,t),this}}),zt=["appRoutes","controller"],Bt=t.Router.extend({constructor:function(e){this._setOptions(e),this.mergeOptions(e,zt),t.Router.apply(this,arguments);var i=this.appRoutes,n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var i=this._getController();return this._addAppRoute(i,t,e),this},_processOnRoute:function(t,i){if(e.isFunction(this.onRoute)){var n=e.invert(this.appRoutes)[t];this.onRoute(t,n,i)}},processAppRoutes:function(t,i){var n=this;if(!i)return this;var r=e.keys(i).reverse();return e.each(r,function(e){n._addAppRoute(t,e,i[e])}),this},_getController:function(){return this.controller},_addAppRoute:function(t,i,n){var r=t[n];if(!r)throw new K('Method "'+n+'" was not found on the controller');this.route(i,n,e.bind(r,t))},triggerMethod:r});e.extend(Bt.prototype,Q);var Vt=t.Marionette,qt=t.Marionette={};return qt.noConflict=function(){return t.Marionette=Vt,this},qt.bindEvents=V(w),qt.unbindEvents=V(C),qt.bindRequests=V(S),qt.unbindRequests=V(T),qt.mergeOptions=V(H),qt.getOption=V(X),qt.normalizeMethods=V(W),qt.extend=q,qt.isNodeAttached=G,qt.deprecate=U,qt.triggerMethod=V(r),qt.triggerMethodOn=o,qt.isEnabled=P,qt.setEnabled=L,qt.monitorViewEvents=_,qt.Behaviors={},qt.Behaviors.behaviorsLookup=z,qt.Application=Ft,qt.AppRouter=Bt,qt.Renderer=xt,qt.TemplateCache=nt,qt.View=Ct,qt.CollectionView=kt,qt.NextCollectionView=Ot,qt.CompositeView=Mt,qt.Behavior=jt,qt.Region=yt,qt.Error=K,qt.Object=it,qt.DEV_MODE=!1,qt.FEATURES=ut,qt.VERSION=B,qt.DomApi=gt,qt.setDomApi=function(t){kt.setDomApi(t),Mt.setDomApi(t),Ot.setDomApi(t),yt.setDomApi(t),Ct.setDomApi(t)},qt}),this&&this.Marionette&&(this.Mn=this.Marionette)},{backbone:119,"backbone.radio":118,underscore:684}],118:[function(t,e,i){!function(n,r){"object"==typeof i&&"undefined"!=typeof e?e.exports=r(t("underscore"),t("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],r):(n.Backbone=n.Backbone||{},n.Backbone.Radio=r(n._,n.Backbone))}(this,function(t,e){"use strict";function i(t,e,i,n){var r=t[e];if(!(i&&i!==r.callback&&i!==r.callback._callback||n&&n!==r.context))return delete t[e],!0}function n(e,n,r,o){e||(e={});for(var s=n?[n]:t.keys(e),a=!1,l=0,u=s.length;l<u;l++)n=s[l],e[n]&&i(e,n,r,o)&&(a=!0);return a}function r(e){return c[e]||(c[e]=t.bind(l.log,l,e))}function o(e){return t.isFunction(e)?e:function(){return e}}t="default"in t?t["default"]:t,e="default"in e?e["default"]:e;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=e.Radio,l=e.Radio={};l.VERSION="2.0.0",l.noConflict=function(){return e.Radio=a,this},l.DEBUG=!1,l._debugText=function(t,e,i){return t+(i?" on the "+i+" channel":"")+': "'+e+'"'},l.debugLog=function(t,e,i){l.DEBUG&&console&&console.warn&&void 0};var u=/\s+/;l._eventsApi=function(e,i,n,r){if(!n)return!1;var o={};if("object"===("undefined"==typeof n?"undefined":s(n))){for(var a in n){var l=e[i].apply(e,[a,n[a]].concat(r));u.test(a)?t.extend(o,l):o[a]=l}return o}if(u.test(n)){for(var c=n.split(u),h=0,f=c.length;h<f;h++)o[c[h]]=e[i].apply(e,[c[h]].concat(r));return o}return!1},l._callHandler=function(t,e,i){var n=i[0],r=i[1],o=i[2];switch(i.length){case 0:return t.call(e);case 1:return t.call(e,n);case 2:return t.call(e,n,r);case 3:return t.call(e,n,r,o);default:return t.apply(e,i)}};var c={};t.extend(l,{log:function(e,i){if("undefined"!=typeof console){var n=t.toArray(arguments).slice(2);void 0}},tuneIn:function(t){var e=l.channel(t);return e._tunedIn=!0,e.on("all",r(t)),this},tuneOut:function(t){var e=l.channel(t);return e._tunedIn=!1,e.off("all",r(t)),delete c[t],this}}),l.Requests={request:function(e){var i=t.toArray(arguments).slice(1),n=l._eventsApi(this,"request",e,i);if(n)return n;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&l.log.apply(this,[r,e].concat(i)),o&&(o[e]||o["default"])){var s=o[e]||o["default"];return i=o[e]?i:arguments,l._callHandler(s.callback,s.context,i)}l.debugLog("An unhandled request was fired",e,r)},reply:function(t,e,i){return l._eventsApi(this,"reply",t,[e,i])?this:(this._requests||(this._requests={}),this._requests[t]&&l.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:o(e),context:i||this},this)},replyOnce:function(e,i,n){if(l._eventsApi(this,"replyOnce",e,[i,n]))return this;var r=this,s=t.once(function(){return r.stopReplying(e),o(i).apply(this,arguments)});return this.reply(e,s,n)},stopReplying:function(t,e,i){return l._eventsApi(this,"stopReplying",t)?this:(t||e||i?n(this._requests,t,e,i)||l.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},l._channels={},l.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return l._channels[t]?l._channels[t]:l._channels[t]=new l.Channel(t)},l.Channel=function(t){this.channelName=t},t.extend(l.Channel.prototype,e.Events,l.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var h,f,d=[e.Events,l.Requests];return t.each(d,function(e){t.each(e,function(e,i){l[i]=function(e){return f=t.toArray(arguments).slice(1),h=this.channel(e),h[i].apply(h,f)}})}),l.reset=function(e){var i=e?[this._channels[e]]:this._channels;t.each(i,function(t){t.reset()})},l})},{backbone:119,underscore:684}],119:[function(t,e,i){(function(e){!function(n){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,i){r.Backbone=n(r,i,t,e)});else if("undefined"!=typeof i){var o,s=t("underscore");try{o=t("jquery")}catch(a){}n(r,i,s,o)}else r.Backbone=n(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],l(t,this),r)};case 4:return function(t,r,o){return i[e](this[n],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},a=function(t,e,n){i.each(e,function(e,r){i[r]&&(t.prototype[r]=s(e,r,n))})},l=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,f=function(t,e,n,r,o){var s,a=0;if(n&&"object"==typeof n){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=i.keys(n);a<s.length;a++)e=f(t,e,s[a],n[s[a]],o)}else if(n&&h.test(n))for(s=n.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,n,r,o);return e};c.on=function(t,e,i){return d(this,t,e,i)};var d=function(t,e,i,n,r){if(t._events=f(p,t._events||{},e,i,{context:n,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};c.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=i.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return d(t,e,n,this,s),this};var p=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,s=n.ctx,a=n.listening;a&&a.count++,r.push({callback:i,context:o,ctx:o||s,listening:a})}return t};c.off=function(t,e,i){return this._events?(this._events=f(g,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,n,this)}return this};var g=function(t,e,n,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||n||a){for(var u=e?[e]:i.keys(t);s<u.length;s++){e=u[s];var c=t[e];if(!c)break;for(var h=[],f=0;f<c.length;f++){var d=c[f];n&&n!==d.callback&&n!==d.callback._callback||a&&a!==d.context?h.push(d):(o=d.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var p=i.keys(l);s<p.length;s++)o=l[p[s]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(t,e,n){var r=f(m,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},c.listenToOnce=function(t,e,n){var r=f(m,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,n,r){if(n){var o=t[e]=i.once(function(){r(e,o),n.apply(this,arguments)});o._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return f(v,this._events,t,void 0,i),this};var v=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,n),o&&y(o,[e].concat(n))}return t},y=function(t,e){var i,n=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,s);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,s,a);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var _=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var r=i.result(this,"defaults");n=i.defaults(i.extend({},r,n),r),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(_.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,s=n.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var f in r)e=r[f],i.isEqual(u[f],e)||a.push(f),i.isEqual(h[f],e)?delete c[f]:c[f]=e,o?delete u[f]:u[f]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=n);for(var d=0;d<a.length;d++)this.trigger("change:"+a[d],this,u[a[d]],n)}if(l)return this;if(!s)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var o=t[r];i.isEqual(e[r],o)||(n[r]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;return!!e.set(r,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},V(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var o=n.wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var s=this,a=n.success,l=this.attributes;n.success=function(t){s.attributes=l;var e=n.parse?s.parse(t,n):t;return o&&(e=i.extend({},r,e)),!(e&&!s.set(e,n))&&(a&&a.call(n.context,s,t,n),void s.trigger("sync",s,t,n))},V(this,n),r&&o&&(this.attributes=i.extend({},l,r));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=r);var c=this.sync(u,this,n);return this.attributes=l,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var s=!1;return this.isNew()?i.defer(t.success):(V(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||B();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(_,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},E=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,r=Array(t.length-i),o=e.length;for(n=0;n<r.length;n++)r[n]=t[n+i];for(n=0;n<o;n++)t[n+i]=e[n];for(n=0;n<r.length;n++)t[n+o+i]=r[n]};i.extend(x.prototype,c,{model:_,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,C))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),n?r[0]:r},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],l=[],u=[],c=[],h={},f=e.add,d=e.merge,p=e.remove,g=!1,m=this.comparator&&null==r&&e.sort!==!1,v=i.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(d&&o!==y){var _=this._isModel(o)?o.attributes:o;e.parse&&(_=y.parse(_,e)),y.set(_,e),u.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e),o&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o)))}if(p){for(s=0;s<this.length;s++)o=this.models[s],h[o.cid]||c.push(o);c.length&&this._removeModels(c,e)}var b=!1,x=!m&&f&&p;if(a.length&&x?(b=this.length!==a.length||i.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,E(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),E(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<l.length;s++)null!=r&&(e.index=r+s),o=l[s],o.trigger("add",o,this,e);(g||b)&&this.trigger("sort",this,e),(l.length||c.length||u.length)&&(e.changes={added:l,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},V(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return i},_isModel:function(t){return t instanceof _},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(x,S,"models");var T=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,k)),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];i.extend(T.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(I);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var o=P[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=i.result(n,"url")||B()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,l&&l.call(r.context,t,e,i)};var u=r.xhr=e.ajax(i.extend(s,r));return n.trigger("request",n,u,r),u};var P={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var L=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},O=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,M=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(L.prototype,c,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,function(i){var s=o._extractParameters(t,i);o.execute(r,s,n)!==!1&&(o.trigger.apply(o,["route:"+n].concat(s)),o.trigger("route",n,s),e.history.trigger("route",o,n,s))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(R,"\\$&").replace(O,"(?:$1)?").replace(A,function(t,e){return e?t:"([^/?]+)"}).replace(M,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,F=/#.*$/;N.started=!1,i.extend(N.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(j,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!N.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(F,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new N;var z=function(t,e){var n,r=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e),n.prototype=i.create(r.prototype,t),n.prototype.constructor=n,n.__super__=r.prototype,n};_.extend=x.extend=L.extend=T.extend=N.extend=z;var B=function(){throw new Error('A "url" property or function must be specified')},V=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{jquery:595,underscore:684}],120:[function(t,e,i){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var r=32;i.INT_BITS=r,i.INT_MAX=2147483647,i.INT_MIN=-1<<r-1,i.sign=function(t){return(t>0)-(t<0)},i.abs=function(t){var e=t>>r-1;return(t^e)-e},i.min=function(t,e){return e^(t^e)&-(t<e)},i.max=function(t,e){return t^(t^e)&-(t<e)},i.isPow2=function(t){return!(t&t-1||!t)},i.log2=function(t){var e,i;return e=(t>65535)<<4,t>>>=e,i=(t>255)<<3,t>>>=i,e|=i,
i=(t>15)<<2,t>>>=i,e|=i,i=(t>3)<<1,t>>>=i,e|=i,e|t>>1},i.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},i.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},i.countTrailingZeros=n,i.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},i.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},i.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var o=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,n=e,r=7;for(i>>>=1;i;i>>>=1)n<<=1,n|=1&i,--r;t[e]=n<<r&255}}(o),i.reverse=function(t){return o[255&t]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]},i.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},i.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},i.interleave3=function(t,e,i){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,i&=1023,i=4278190335&(i|i<<16),i=251719695&(i|i<<8),i=3272356035&(i|i<<4),i=1227133513&(i|i<<2),t|i<<2},i.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},i.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},{}],121:[function(t,e,i){},{}],122:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?g=p.concat(g):v=-1,g.length&&l())}function l(){if(!m){var t=o(a);m=!0;for(var e=g.length;e;){for(p=g,g=[];++v<e;)p&&p[v].run();v=-1,e=g.length}p=null,m=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,f,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,g=[],m=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];g.push(new u(t,e)),1!==g.length||m||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],123:[function(t,e,i){function n(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-r)),n=setTimeout(t,i);return r=e,n}i=e.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||n;var r=(new Date).getTime(),o=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;i.cancel=function(t){o.call(window,t)}},{}],124:[function(t,e,i){e.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:2097152,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:64,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:16,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,NPN_ENABLED:1}},{}],125:[function(t,e,i){"use strict";function n(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var i=t[0].length;return 0===i?[]:1===i?r(t):2===i?o(t):s(t,i)}var r=t("./lib/ch1d"),o=t("./lib/ch2d"),s=t("./lib/chnd");e.exports=n},{"./lib/ch1d":126,"./lib/ch2d":127,"./lib/chnd":128}],126:[function(t,e,i){"use strict";function n(t){for(var e=0,i=0,n=1;n<t.length;++n)t[n][0]<t[e][0]&&(e=n),t[n][0]>t[i][0]&&(i=n);return e<i?[[e],[i]]:e>i?[[i],[e]]:[[e]]}e.exports=n},{}],127:[function(t,e,i){"use strict";function n(t){var e=r(t),i=e.length;if(i<=2)return[];for(var n=new Array(i),o=e[i-1],s=0;s<i;++s){var a=e[s];n[s]=[o,a],o=a}return n}e.exports=n;var r=t("monotone-convex-hull-2d")},{"monotone-convex-hull-2d":601}],128:[function(t,e,i){"use strict";function n(t,e){for(var i=t.length,n=new Array(i),r=0;r<e.length;++r)n[r]=t[e[r]];for(var o=e.length,r=0;r<i;++r)e.indexOf(r)<0&&(n[o++]=t[r]);return n}function r(t,e){for(var i=t.length,n=e.length,r=0;r<i;++r)for(var o=t[r],s=0;s<o.length;++s){var a=o[s];if(a<n)o[s]=e[a];else{a-=n;for(var l=0;l<n;++l)a>=e[l]&&(a+=1);o[s]=a}}return t}function o(t,e){try{return s(t,!0)}catch(i){var o=a(t);if(o.length<=e)return[];var l=n(t,o),u=s(l,!0);return r(u,o)}}e.exports=o;var s=t("incremental-convex-hull"),a=t("affine-hull")},{"affine-hull":90,"incremental-convex-hull":589}],129:[function(t,e,i){t("../../modules/core.regexp.escape"),e.exports=t("../../modules/_core").RegExp.escape},{"../../modules/_core":259,"../../modules/core.regexp.escape":364}],130:[function(t,e,i){t("../../modules/es6.string.iterator"),t("../../modules/es6.array.from"),e.exports=t("../../modules/_core").Array.from},{"../../modules/_core":151,"../../modules/es6.array.from":221,"../../modules/es6.string.iterator":232}],131:[function(t,e,i){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),e.exports=t("../modules/core.get-iterator")},{"../modules/core.get-iterator":219,"../modules/es6.string.iterator":232,"../modules/web.dom.iterable":238}],132:[function(t,e,i){t("../modules/web.dom.iterable"),t("../modules/es6.string.iterator"),e.exports=t("../modules/core.is-iterable")},{"../modules/core.is-iterable":220,"../modules/es6.string.iterator":232,"../modules/web.dom.iterable":238}],133:[function(t,e,i){var n=t("../../modules/_core"),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(t){return r.stringify.apply(r,arguments)}},{"../../modules/_core":151}],134:[function(t,e,i){t("../../modules/es6.object.assign"),e.exports=t("../../modules/_core").Object.assign},{"../../modules/_core":151,"../../modules/es6.object.assign":223}],135:[function(t,e,i){t("../../modules/es6.object.create");var n=t("../../modules/_core").Object;e.exports=function(t,e){return n.create(t,e)}},{"../../modules/_core":151,"../../modules/es6.object.create":224}],136:[function(t,e,i){t("../../modules/es6.object.define-property");var n=t("../../modules/_core").Object;e.exports=function(t,e,i){return n.defineProperty(t,e,i)}},{"../../modules/_core":151,"../../modules/es6.object.define-property":225}],137:[function(t,e,i){t("../../modules/es6.object.get-own-property-descriptor");var n=t("../../modules/_core").Object;e.exports=function(t,e){return n.getOwnPropertyDescriptor(t,e)}},{"../../modules/_core":151,"../../modules/es6.object.get-own-property-descriptor":226}],138:[function(t,e,i){t("../../modules/es6.object.get-prototype-of"),e.exports=t("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":151,"../../modules/es6.object.get-prototype-of":227}],139:[function(t,e,i){t("../../modules/es6.object.keys"),e.exports=t("../../modules/_core").Object.keys},{"../../modules/_core":151,"../../modules/es6.object.keys":228}],140:[function(t,e,i){t("../../modules/es6.object.set-prototype-of"),e.exports=t("../../modules/_core").Object.setPrototypeOf},{"../../modules/_core":151,"../../modules/es6.object.set-prototype-of":229}],141:[function(t,e,i){t("../modules/es6.object.to-string"),t("../modules/es6.string.iterator"),t("../modules/web.dom.iterable"),t("../modules/es6.promise"),t("../modules/es7.promise.finally"),t("../modules/es7.promise.try"),e.exports=t("../modules/_core").Promise},{"../modules/_core":151,"../modules/es6.object.to-string":230,"../modules/es6.promise":231,"../modules/es6.string.iterator":232,"../modules/es7.promise.finally":234,"../modules/es7.promise.try":235,"../modules/web.dom.iterable":238}],142:[function(t,e,i){t("../../modules/es6.symbol"),t("../../modules/es6.object.to-string"),t("../../modules/es7.symbol.async-iterator"),t("../../modules/es7.symbol.observable"),e.exports=t("../../modules/_core").Symbol},{"../../modules/_core":151,"../../modules/es6.object.to-string":230,"../../modules/es6.symbol":233,"../../modules/es7.symbol.async-iterator":236,"../../modules/es7.symbol.observable":237}],143:[function(t,e,i){t("../../modules/es6.string.iterator"),t("../../modules/web.dom.iterable"),e.exports=t("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":216,"../../modules/es6.string.iterator":232,"../../modules/web.dom.iterable":238}],144:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],145:[function(t,e,i){e.exports=function(){}},{}],146:[function(t,e,i){e.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},{}],147:[function(t,e,i){var n=t("./_is-object");e.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":171}],148:[function(t,e,i){var n=t("./_to-iobject"),r=t("./_to-length"),o=t("./_to-absolute-index");e.exports=function(t){return function(e,i,s){var a,l=n(e),u=r(l.length),c=o(s,u);if(t&&i!=i){for(;u>c;)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===i)return t||c||0;return!t&&-1}}},{"./_to-absolute-index":208,"./_to-iobject":210,"./_to-length":211}],149:[function(t,e,i){var n=t("./_cof"),r=t("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(i){}};e.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=s(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},{"./_cof":150,"./_wks":217}],150:[function(t,e,i){var n={}.toString;e.exports=function(t){return n.call(t).slice(8,-1)}},{}],151:[function(t,e,i){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},{}],152:[function(t,e,i){"use strict";var n=t("./_object-dp"),r=t("./_property-desc");e.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},{"./_object-dp":184,"./_property-desc":197}],153:[function(t,e,i){var n=t("./_a-function");e.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":144}],154:[function(t,e,i){e.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},{}],155:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":160}],156:[function(t,e,i){var n=t("./_is-object"),r=t("./_global").document,o=n(r)&&n(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{"./_global":162,"./_is-object":171}],157:[function(t,e,i){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],158:[function(t,e,i){var n=t("./_object-keys"),r=t("./_object-gops"),o=t("./_object-pie");e.exports=function(t){var e=n(t),i=r.f;if(i)for(var s,a=i(t),l=o.f,u=0;a.length>u;)l.call(t,s=a[u++])&&e.push(s);return e}},{"./_object-gops":189,"./_object-keys":192,"./_object-pie":193}],159:[function(t,e,i){var n=t("./_global"),r=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a="prototype",l=function(t,e,i){var u,c,h,f=t&l.F,d=t&l.G,p=t&l.S,g=t&l.P,m=t&l.B,v=t&l.W,y=d?r:r[e]||(r[e]={}),_=y[a],b=d?n:p?n[e]:(n[e]||{})[a];d&&(i=e);for(u in i)c=!f&&b&&void 0!==b[u],c&&u in y||(h=c?b[u]:i[u],y[u]=d&&"function"!=typeof b[u]?i[u]:m&&c?o(h,n):v&&b[u]==h?function(t){var e=function(e,i,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,n)}return t.apply(this,arguments)};return e[a]=t[a],e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[u]=h,t&l.R&&_&&!_[u]&&s(_,u,h)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{"./_core":151,"./_ctx":153,"./_global":162,"./_hide":164}],160:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],161:[function(t,e,i){var n=t("./_ctx"),r=t("./_iter-call"),o=t("./_is-array-iter"),s=t("./_an-object"),a=t("./_to-length"),l=t("./core.get-iterator-method"),u={},c={},i=e.exports=function(t,e,i,h,f){var d,p,g,m,v=f?function(){return t}:l(t),y=n(i,h,e?2:1),_=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(d=a(t.length);d>_;_++)if(m=e?y(s(p=t[_])[0],p[1]):y(t[_]),m===u||m===c)return m}else for(g=v.call(t);!(p=g.next()).done;)if(m=r(g,y,p.value,e),m===u||m===c)return m};i.BREAK=u,i.RETURN=c},{"./_an-object":147,"./_ctx":153,"./_is-array-iter":169,"./_iter-call":172,"./_to-length":211,"./core.get-iterator-method":218}],162:[function(t,e,i){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],163:[function(t,e,i){var n={}.hasOwnProperty;e.exports=function(t,e){return n.call(t,e)}},{}],164:[function(t,e,i){var n=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":155,"./_object-dp":184,"./_property-desc":197}],165:[function(t,e,i){var n=t("./_global").document;e.exports=n&&n.documentElement},{"./_global":162}],166:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":155,"./_dom-create":156,"./_fails":160}],167:[function(t,e,i){e.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],168:[function(t,e,i){var n=t("./_cof");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},{"./_cof":150}],169:[function(t,e,i){var n=t("./_iterators"),r=t("./_wks")("iterator"),o=Array.prototype;e.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},{"./_iterators":177,"./_wks":217}],170:[function(t,e,i){var n=t("./_cof");e.exports=Array.isArray||function(t){return"Array"==n(t)}},{"./_cof":150}],171:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],172:[function(t,e,i){var n=t("./_an-object");e.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(o){var s=t["return"];throw void 0!==s&&n(s.call(t)),o}}},{"./_an-object":147}],173:[function(t,e,i){"use strict";var n=t("./_object-create"),r=t("./_property-desc"),o=t("./_set-to-string-tag"),s={};t("./_hide")(s,t("./_wks")("iterator"),function(){return this}),e.exports=function(t,e,i){t.prototype=n(s,{next:r(1,i)}),o(t,e+" Iterator")}},{"./_hide":164,"./_object-create":183,"./_property-desc":197,"./_set-to-string-tag":202,"./_wks":217}],174:[function(t,e,i){"use strict";var n=t("./_library"),r=t("./_export"),o=t("./_redefine"),s=t("./_hide"),a=t("./_has"),l=t("./_iterators"),u=t("./_iter-create"),c=t("./_set-to-string-tag"),h=t("./_object-gpo"),f=t("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",g="keys",m="values",v=function(){return this};e.exports=function(t,e,i,y,_,b,x){u(i,e,y);var w,C,E,S=function(t){if(!d&&t in P)return P[t];switch(t){case g:return function(){return new i(this,t)};case m:return function(){return new i(this,t)}}return function(){return new i(this,t)}},T=e+" Iterator",I=_==m,k=!1,P=t.prototype,L=P[f]||P[p]||_&&P[_],O=!d&&L||S(_),A=_?I?S("entries"):O:void 0,M="Array"==e?P.entries||L:L;if(M&&(E=h(M.call(new t)),E!==Object.prototype&&E.next&&(c(E,T,!0),n||a(E,f)||s(E,f,v))),I&&L&&L.name!==m&&(k=!0,O=function(){return L.call(this)}),n&&!x||!d&&!k&&P[f]||s(P,f,O),l[e]=O,l[T]=v,_)if(w={values:I?O:S(m),keys:b?O:S(g),entries:A},x)for(C in w)C in P||o(P,C,w[C]);else r(r.P+r.F*(d||k),e,w);return w}},{"./_export":159,"./_has":163,"./_hide":164,"./_iter-create":173,"./_iterators":177,"./_library":178,"./_object-gpo":190,"./_redefine":199,"./_set-to-string-tag":202,"./_wks":217}],175:[function(t,e,i){var n=t("./_wks")("iterator"),r=!1;try{var o=[7][n]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:i=!0}},o[n]=function(){return s},t(o)}catch(a){}return i}},{"./_wks":217}],176:[function(t,e,i){e.exports=function(t,e){return{value:e,done:!!t}}},{}],177:[function(t,e,i){e.exports={}},{}],178:[function(t,e,i){e.exports=!0},{}],179:[function(t,e,i){var n=t("./_uid")("meta"),r=t("./_is-object"),o=t("./_has"),s=t("./_object-dp").f,a=0,l=Object.isExtensible||function(){return!0},u=!t("./_fails")(function(){return l(Object.preventExtensions({}))}),c=function(t){s(t,n,{value:{i:"O"+ ++a,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[n].i},f=function(t,e){if(!o(t,n)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[n].w},d=function(t){return u&&p.NEED&&l(t)&&!o(t,n)&&c(t),t},p=e.exports={KEY:n,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},{"./_fails":160,"./_has":163,"./_is-object":171,"./_object-dp":184,"./_uid":214}],180:[function(t,e,i){var n=t("./_global"),r=t("./_task").set,o=n.MutationObserver||n.WebKitMutationObserver,s=n.process,a=n.Promise,l="process"==t("./_cof")(s);e.exports=function(){var t,e,i,u=function(){var n,r;for(l&&(n=s.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(o){throw t?i():e=void 0,o}}e=void 0,n&&n.enter()};if(l)i=function(){s.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var c=a.resolve();i=function(){c.then(u)}}else i=function(){r.call(n,u)};else{var h=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),i=function(){f.data=h=!h}}return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},{"./_cof":150,"./_global":162,"./_task":207}],181:[function(t,e,i){"use strict";function n(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n}),this.resolve=r(e),this.reject=r(i)}var r=t("./_a-function");e.exports.f=function(t){return new n(t)}},{"./_a-function":144}],182:[function(t,e,i){"use strict";var n=t("./_object-keys"),r=t("./_object-gops"),o=t("./_object-pie"),s=t("./_to-object"),a=t("./_iobject"),l=Object.assign;e.exports=!l||t("./_fails")(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=n})?function(t,e){for(var i=s(t),l=arguments.length,u=1,c=r.f,h=o.f;l>u;)for(var f,d=a(arguments[u++]),p=c?n(d).concat(c(d)):n(d),g=p.length,m=0;g>m;)h.call(d,f=p[m++])&&(i[f]=d[f]);return i}:l},{"./_fails":160,"./_iobject":168,"./_object-gops":189,"./_object-keys":192,"./_object-pie":193,"./_to-object":212}],183:[function(t,e,i){var n=t("./_an-object"),r=t("./_object-dps"),o=t("./_enum-bug-keys"),s=t("./_shared-key")("IE_PROTO"),a=function(){},l="prototype",u=function(){var e,i=t("./_dom-create")("iframe"),n=o.length,r="<",s=">";for(i.style.display="none",t("./_html").appendChild(i),i.src="javascript:",e=i.contentWindow.document,e.open(),e.write(r+"script"+s+"document.F=Object"+r+"/script"+s),e.close(),u=e.F;n--;)delete u[l][o[n]];return u()};e.exports=Object.create||function(t,e){var i;return null!==t?(a[l]=n(t),i=new a,a[l]=null,i[s]=t):i=u(),void 0===e?i:r(i,e)}},{"./_an-object":147,"./_dom-create":156,"./_enum-bug-keys":157,"./_html":165,"./_object-dps":185,"./_shared-key":203}],184:[function(t,e,i){var n=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":147,"./_descriptors":155,"./_ie8-dom-define":166,"./_to-primitive":213}],185:[function(t,e,i){var n=t("./_object-dp"),r=t("./_an-object"),o=t("./_object-keys");e.exports=t("./_descriptors")?Object.defineProperties:function(t,e){r(t);for(var i,s=o(e),a=s.length,l=0;a>l;)n.f(t,i=s[l++],e[i]);return t}},{"./_an-object":147,"./_descriptors":155,"./_object-dp":184,"./_object-keys":192}],186:[function(t,e,i){var n=t("./_object-pie"),r=t("./_property-desc"),o=t("./_to-iobject"),s=t("./_to-primitive"),a=t("./_has"),l=t("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;i.f=t("./_descriptors")?u:function(t,e){if(t=o(t),e=s(e,!0),l)try{return u(t,e)}catch(i){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},{"./_descriptors":155,"./_has":163,"./_ie8-dom-define":166,"./_object-pie":193,"./_property-desc":197,"./_to-iobject":210,"./_to-primitive":213}],187:[function(t,e,i){var n=t("./_to-iobject"),r=t("./_object-gopn").f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(e){return s.slice()}};e.exports.f=function(t){return s&&"[object Window]"==o.call(t)?a(t):r(n(t))}},{"./_object-gopn":188,"./_to-iobject":210}],188:[function(t,e,i){var n=t("./_object-keys-internal"),r=t("./_enum-bug-keys").concat("length","prototype");i.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},{"./_enum-bug-keys":157,"./_object-keys-internal":191}],189:[function(t,e,i){i.f=Object.getOwnPropertySymbols},{}],190:[function(t,e,i){var n=t("./_has"),r=t("./_to-object"),o=t("./_shared-key")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},{"./_has":163,"./_shared-key":203,"./_to-object":212}],191:[function(t,e,i){var n=t("./_has"),r=t("./_to-iobject"),o=t("./_array-includes")(!1),s=t("./_shared-key")("IE_PROTO");e.exports=function(t,e){var i,a=r(t),l=0,u=[];for(i in a)i!=s&&n(a,i)&&u.push(i);for(;e.length>l;)n(a,i=e[l++])&&(~o(u,i)||u.push(i));return u}},{"./_array-includes":148,"./_has":163,"./_shared-key":203,"./_to-iobject":210}],192:[function(t,e,i){var n=t("./_object-keys-internal"),r=t("./_enum-bug-keys");e.exports=Object.keys||function(t){return n(t,r)}},{"./_enum-bug-keys":157,"./_object-keys-internal":191}],193:[function(t,e,i){i.f={}.propertyIsEnumerable},{}],194:[function(t,e,i){var n=t("./_export"),r=t("./_core"),o=t("./_fails");e.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],s={};s[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",s)}},{"./_core":151,"./_export":159,"./_fails":160}],195:[function(t,e,i){e.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},{}],196:[function(t,e,i){var n=t("./_an-object"),r=t("./_is-object"),o=t("./_new-promise-capability");e.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t),s=i.resolve;return s(e),i.promise}},{"./_an-object":147,"./_is-object":171,"./_new-promise-capability":181}],197:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],198:[function(t,e,i){var n=t("./_hide");e.exports=function(t,e,i){for(var r in e)i&&t[r]?t[r]=e[r]:n(t,r,e[r]);return t}},{"./_hide":164}],199:[function(t,e,i){e.exports=t("./_hide")},{"./_hide":164}],200:[function(t,e,i){var n=t("./_is-object"),r=t("./_an-object"),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{n=t("./_ctx")(Function.call,t("./_object-gopd").f(Object.prototype,"__proto__").set,2),n(e,[]),i=!(e instanceof Array)}catch(r){i=!0}return function(t,e){return o(t,e),i?t.__proto__=e:n(t,e),t}}({},!1):void 0),check:o}},{"./_an-object":147,"./_ctx":153,"./_is-object":171,"./_object-gopd":186}],201:[function(t,e,i){"use strict";var n=t("./_global"),r=t("./_core"),o=t("./_object-dp"),s=t("./_descriptors"),a=t("./_wks")("species");e.exports=function(t){var e="function"==typeof r[t]?r[t]:n[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},{"./_core":151,"./_descriptors":155,"./_global":162,"./_object-dp":184,"./_wks":217}],202:[function(t,e,i){var n=t("./_object-dp").f,r=t("./_has"),o=t("./_wks")("toStringTag");e.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},{"./_has":163,"./_object-dp":184,"./_wks":217}],203:[function(t,e,i){var n=t("./_shared")("keys"),r=t("./_uid");e.exports=function(t){return n[t]||(n[t]=r(t))}},{"./_shared":204,"./_uid":214}],204:[function(t,e,i){var n=t("./_global"),r="__core-js_shared__",o=n[r]||(n[r]={});e.exports=function(t){return o[t]||(o[t]={})}},{"./_global":162}],205:[function(t,e,i){var n=t("./_an-object"),r=t("./_a-function"),o=t("./_wks")("species");e.exports=function(t,e){var i,s=n(t).constructor;return void 0===s||void 0==(i=n(s)[o])?e:r(i)}},{"./_a-function":144,"./_an-object":147,"./_wks":217}],206:[function(t,e,i){var n=t("./_to-integer"),r=t("./_defined");e.exports=function(t){return function(e,i){var o,s,a=String(r(e)),l=n(i),u=a.length;return l<0||l>=u?t?"":void 0:(o=a.charCodeAt(l),o<55296||o>56319||l+1===u||(s=a.charCodeAt(l+1))<56320||s>57343?t?a.charAt(l):o:t?a.slice(l,l+2):(o-55296<<10)+(s-56320)+65536)}}},{"./_defined":154,"./_to-integer":209}],207:[function(t,e,i){var n,r,o,s=t("./_ctx"),a=t("./_invoke"),l=t("./_html"),u=t("./_dom-create"),c=t("./_global"),h=c.process,f=c.setImmediate,d=c.clearImmediate,p=c.MessageChannel,g=c.Dispatch,m=0,v={},y="onreadystatechange",_=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){_.call(t.data)};f&&d||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++m]=function(){a("function"==typeof t?t:Function(t),e)},n(m),m},d=function(t){delete v[t]},"process"==t("./_cof")(h)?n=function(t){h.nextTick(s(_,t,1))}:g&&g.now?n=function(t){g.now(s(_,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=b,n=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(n=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):n=y in u("script")?function(t){l.appendChild(u("script"))[y]=function(){l.removeChild(this),_.call(t)}}:function(t){setTimeout(s(_,t,1),0)}),e.exports={set:f,clear:d}},{"./_cof":150,"./_ctx":153,"./_dom-create":156,"./_global":162,"./_html":165,"./_invoke":167}],208:[function(t,e,i){var n=t("./_to-integer"),r=Math.max,o=Math.min;e.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},{"./_to-integer":209}],209:[function(t,e,i){var n=Math.ceil,r=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},{}],210:[function(t,e,i){var n=t("./_iobject"),r=t("./_defined");e.exports=function(t){return n(r(t))}},{"./_defined":154,"./_iobject":168}],211:[function(t,e,i){var n=t("./_to-integer"),r=Math.min;e.exports=function(t){return t>0?r(n(t),9007199254740991):0}},{"./_to-integer":209}],212:[function(t,e,i){var n=t("./_defined");e.exports=function(t){return Object(n(t))}},{"./_defined":154}],213:[function(t,e,i){var n=t("./_is-object");e.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":171}],214:[function(t,e,i){var n=0,r=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},{}],215:[function(t,e,i){var n=t("./_global"),r=t("./_core"),o=t("./_library"),s=t("./_wks-ext"),a=t("./_object-dp").f;e.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},{"./_core":151,"./_global":162,"./_library":178,"./_object-dp":184,"./_wks-ext":216}],216:[function(t,e,i){i.f=t("./_wks")},{"./_wks":217}],217:[function(t,e,i){var n=t("./_shared")("wks"),r=t("./_uid"),o=t("./_global").Symbol,s="function"==typeof o,a=e.exports=function(t){return n[t]||(n[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=n},{"./_global":162,"./_shared":204,"./_uid":214}],218:[function(t,e,i){var n=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},{"./_classof":149,"./_core":151,"./_iterators":177,"./_wks":217
}],219:[function(t,e,i){var n=t("./_an-object"),r=t("./core.get-iterator-method");e.exports=t("./_core").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},{"./_an-object":147,"./_core":151,"./core.get-iterator-method":218}],220:[function(t,e,i){var n=t("./_classof"),r=t("./_wks")("iterator"),o=t("./_iterators");e.exports=t("./_core").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||o.hasOwnProperty(n(e))}},{"./_classof":149,"./_core":151,"./_iterators":177,"./_wks":217}],221:[function(t,e,i){"use strict";var n=t("./_ctx"),r=t("./_export"),o=t("./_to-object"),s=t("./_iter-call"),a=t("./_is-array-iter"),l=t("./_to-length"),u=t("./_create-property"),c=t("./core.get-iterator-method");r(r.S+r.F*!t("./_iter-detect")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,h,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=0,y=c(f);if(m&&(g=n(g,p>2?arguments[2]:void 0,2)),void 0==y||d==Array&&a(y))for(e=l(f.length),i=new d(e);e>v;v++)u(i,v,m?g(f[v],v):f[v]);else for(h=y.call(f),i=new d;!(r=h.next()).done;v++)u(i,v,m?s(h,g,[r.value,v],!0):r.value);return i.length=v,i}})},{"./_create-property":152,"./_ctx":153,"./_export":159,"./_is-array-iter":169,"./_iter-call":172,"./_iter-detect":175,"./_to-length":211,"./_to-object":212,"./core.get-iterator-method":218}],222:[function(t,e,i){"use strict";var n=t("./_add-to-unscopables"),r=t("./_iter-step"),o=t("./_iterators"),s=t("./_to-iobject");e.exports=t("./_iter-define")(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":145,"./_iter-define":174,"./_iter-step":176,"./_iterators":177,"./_to-iobject":210}],223:[function(t,e,i){var n=t("./_export");n(n.S+n.F,"Object",{assign:t("./_object-assign")})},{"./_export":159,"./_object-assign":182}],224:[function(t,e,i){var n=t("./_export");n(n.S,"Object",{create:t("./_object-create")})},{"./_export":159,"./_object-create":183}],225:[function(t,e,i){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperty:t("./_object-dp").f})},{"./_descriptors":155,"./_export":159,"./_object-dp":184}],226:[function(t,e,i){var n=t("./_to-iobject"),r=t("./_object-gopd").f;t("./_object-sap")("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},{"./_object-gopd":186,"./_object-sap":194,"./_to-iobject":210}],227:[function(t,e,i){var n=t("./_to-object"),r=t("./_object-gpo");t("./_object-sap")("getPrototypeOf",function(){return function(t){return r(n(t))}})},{"./_object-gpo":190,"./_object-sap":194,"./_to-object":212}],228:[function(t,e,i){var n=t("./_to-object"),r=t("./_object-keys");t("./_object-sap")("keys",function(){return function(t){return r(n(t))}})},{"./_object-keys":192,"./_object-sap":194,"./_to-object":212}],229:[function(t,e,i){var n=t("./_export");n(n.S,"Object",{setPrototypeOf:t("./_set-proto").set})},{"./_export":159,"./_set-proto":200}],230:[function(t,e,i){arguments[4][121][0].apply(i,arguments)},{dup:121}],231:[function(t,e,i){"use strict";var n,r,o,s,a=t("./_library"),l=t("./_global"),u=t("./_ctx"),c=t("./_classof"),h=t("./_export"),f=t("./_is-object"),d=t("./_a-function"),p=t("./_an-instance"),g=t("./_for-of"),m=t("./_species-constructor"),v=t("./_task").set,y=t("./_microtask")(),_=t("./_new-promise-capability"),b=t("./_perform"),x=t("./_promise-resolve"),w="Promise",C=l.TypeError,E=l.process,S=l[w],T="process"==c(E),I=function(){},k=r=_.f,P=!!function(){try{var e=S.resolve(1),i=(e.constructor={})[t("./_wks")("species")]=function(t){t(I,I)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof i}catch(n){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;y(function(){for(var n=t._v,r=1==t._s,o=0,s=function(e){var i,o,s=r?e.ok:e.fail,a=e.resolve,l=e.reject,u=e.domain;try{s?(r||(2==t._h&&R(t),t._h=1),s===!0?i=n:(u&&u.enter(),i=s(n),u&&u.exit()),i===e.promise?l(C("Promise-chain cycle")):(o=L(i))?o.call(i,a,l):a(i)):l(n)}catch(c){l(c)}};i.length>o;)s(i[o++]);t._c=[],t._n=!1,e&&!t._h&&A(t)})}},A=function(t){v.call(l,function(){var e,i,n,r=t._v,o=M(t);if(o&&(e=b(function(){T?E.emit("unhandledRejection",r,t):(i=l.onunhandledrejection)?i({promise:t,reason:r}):(n=l.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=T||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},R=function(t){v.call(l,function(){var e;T?E.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},j=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw C("Promise can't be resolved itself");(e=L(t))?y(function(){var n={_w:i,_d:!1};try{e.call(t,u(j,n,1),u(N,n,1))}catch(r){N.call(n,r)}}):(i._v=t,i._s=1,O(i,!1))}catch(n){N.call({_w:i,_d:!1},n)}}};P||(S=function(t){p(this,S,w,"_h"),d(t),n.call(this);try{t(u(j,this,1),u(N,this,1))}catch(e){N.call(this,e)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=t("./_redefine-all")(S.prototype,{then:function(t,e){var i=k(m(this,S));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=T?E.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},"catch":function(t){return this.then(void 0,t)}}),o=function(){var t=new n;this.promise=t,this.resolve=u(j,t,1),this.reject=u(N,t,1)},_.f=k=function(t){return t===S||t===s?new o(t):r(t)}),h(h.G+h.W+h.F*!P,{Promise:S}),t("./_set-to-string-tag")(S,w),t("./_set-species")(w),s=t("./_core")[w],h(h.S+h.F*!P,w,{reject:function(t){var e=k(this),i=e.reject;return i(t),e.promise}}),h(h.S+h.F*(a||!P),w,{resolve:function(t){return x(a&&this===s?S:this,t)}}),h(h.S+h.F*!(P&&t("./_iter-detect")(function(t){S.all(t)["catch"](I)})),w,{all:function(t){var e=this,i=k(e),n=i.resolve,r=i.reject,o=b(function(){var i=[],o=0,s=1;g(t,!1,function(t){var a=o++,l=!1;i.push(void 0),s++,e.resolve(t).then(function(t){l||(l=!0,i[a]=t,--s||n(i))},r)}),--s||n(i)});return o.e&&r(o.v),i.promise},race:function(t){var e=this,i=k(e),n=i.reject,r=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},{"./_a-function":144,"./_an-instance":146,"./_classof":149,"./_core":151,"./_ctx":153,"./_export":159,"./_for-of":161,"./_global":162,"./_is-object":171,"./_iter-detect":175,"./_library":178,"./_microtask":180,"./_new-promise-capability":181,"./_perform":195,"./_promise-resolve":196,"./_redefine-all":198,"./_set-species":201,"./_set-to-string-tag":202,"./_species-constructor":205,"./_task":207,"./_wks":217}],232:[function(t,e,i){"use strict";var n=t("./_string-at")(!0);t("./_iter-define")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},{"./_iter-define":174,"./_string-at":206}],233:[function(t,e,i){"use strict";var n=t("./_global"),r=t("./_has"),o=t("./_descriptors"),s=t("./_export"),a=t("./_redefine"),l=t("./_meta").KEY,u=t("./_fails"),c=t("./_shared"),h=t("./_set-to-string-tag"),f=t("./_uid"),d=t("./_wks"),p=t("./_wks-ext"),g=t("./_wks-define"),m=t("./_enum-keys"),v=t("./_is-array"),y=t("./_an-object"),_=t("./_is-object"),b=t("./_to-iobject"),x=t("./_to-primitive"),w=t("./_property-desc"),C=t("./_object-create"),E=t("./_object-gopn-ext"),S=t("./_object-gopd"),T=t("./_object-dp"),I=t("./_object-keys"),k=S.f,P=T.f,L=E.f,O=n.Symbol,A=n.JSON,M=A&&A.stringify,R="prototype",N=d("_hidden"),j=d("toPrimitive"),D={}.propertyIsEnumerable,F=c("symbol-registry"),z=c("symbols"),B=c("op-symbols"),V=Object[R],q="function"==typeof O,U=n.QObject,G=!U||!U[R]||!U[R].findChild,H=o&&u(function(){return 7!=C(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=k(V,e);n&&delete V[e],P(t,e,i),n&&t!==V&&P(V,e,n)}:P,X=function(t){var e=z[t]=C(O[R]);return e._k=t,e},W=q&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},Y=function(t,e,i){return t===V&&Y(B,e,i),y(t),e=x(e,!0),y(i),r(z,e)?(i.enumerable?(r(t,N)&&t[N][e]&&(t[N][e]=!1),i=C(i,{enumerable:w(0,!1)})):(r(t,N)||P(t,N,w(1,{})),t[N][e]=!0),H(t,e,i)):P(t,e,i)},$=function(t,e){y(t);for(var i,n=m(e=b(e)),r=0,o=n.length;o>r;)Y(t,i=n[r++],e[i]);return t},Z=function(t,e){return void 0===e?C(t):$(C(t),e)},K=function(t){var e=D.call(this,t=x(t,!0));return!(this===V&&r(z,t)&&!r(B,t))&&(!(e||!r(this,t)||!r(z,t)||r(this,N)&&this[N][t])||e)},J=function(t,e){if(t=b(t),e=x(e,!0),t!==V||!r(z,e)||r(B,e)){var i=k(t,e);return!i||!r(z,e)||r(t,N)&&t[N][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=L(b(t)),n=[],o=0;i.length>o;)r(z,e=i[o++])||e==N||e==l||n.push(e);return n},tt=function(t){for(var e,i=t===V,n=L(i?B:b(t)),o=[],s=0;n.length>s;)!r(z,e=n[s++])||i&&!r(V,e)||o.push(z[e]);return o};q||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===V&&e.call(B,i),r(this,N)&&r(this[N],t)&&(this[N][t]=!1),H(this,t,w(1,i))};return o&&G&&H(V,t,{configurable:!0,set:e}),X(t)},a(O[R],"toString",function(){return this._k}),S.f=J,T.f=Y,t("./_object-gopn").f=E.f=Q,t("./_object-pie").f=K,t("./_object-gops").f=tt,o&&!t("./_library")&&a(V,"propertyIsEnumerable",K,!0),p.f=function(t){return X(d(t))}),s(s.G+s.W+s.F*!q,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)d(et[it++]);for(var nt=I(d.store),rt=0;nt.length>rt;)g(nt[rt++]);s(s.S+s.F*!q,"Symbol",{"for":function(t){return r(F,t+="")?F[t]:F[t]=O(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),s(s.S+s.F*!q,"Object",{create:Z,defineProperty:Y,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),A&&s(s.S+s.F*(!q||u(function(){var t=O();return"[null]"!=M([t])||"{}"!=M({a:t})||"{}"!=M(Object(t))})),"JSON",{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(_(e)||void 0!==t)&&!W(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!W(e))return e}),n[1]=e,M.apply(A,n)}}),O[R][j]||t("./_hide")(O[R],j,O[R].valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./_an-object":147,"./_descriptors":155,"./_enum-keys":158,"./_export":159,"./_fails":160,"./_global":162,"./_has":163,"./_hide":164,"./_is-array":170,"./_is-object":171,"./_library":178,"./_meta":179,"./_object-create":183,"./_object-dp":184,"./_object-gopd":186,"./_object-gopn":188,"./_object-gopn-ext":187,"./_object-gops":189,"./_object-keys":192,"./_object-pie":193,"./_property-desc":197,"./_redefine":199,"./_set-to-string-tag":202,"./_shared":204,"./_to-iobject":210,"./_to-primitive":213,"./_uid":214,"./_wks":217,"./_wks-define":215,"./_wks-ext":216}],234:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_core"),o=t("./_global"),s=t("./_species-constructor"),a=t("./_promise-resolve");n(n.P+n.R,"Promise",{"finally":function(t){var e=s(this,r.Promise||o.Promise),i="function"==typeof t;return this.then(i?function(i){return a(e,t()).then(function(){return i})}:t,i?function(i){return a(e,t()).then(function(){throw i})}:t)}})},{"./_core":151,"./_export":159,"./_global":162,"./_promise-resolve":196,"./_species-constructor":205}],235:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_new-promise-capability"),o=t("./_perform");n(n.S,"Promise",{"try":function(t){var e=r.f(this),i=o(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},{"./_export":159,"./_new-promise-capability":181,"./_perform":195}],236:[function(t,e,i){t("./_wks-define")("asyncIterator")},{"./_wks-define":215}],237:[function(t,e,i){t("./_wks-define")("observable")},{"./_wks-define":215}],238:[function(t,e,i){t("./es6.array.iterator");for(var n=t("./_global"),r=t("./_hide"),o=t("./_iterators"),s=t("./_wks")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var u=a[l],c=n[u],h=c&&c.prototype;h&&!h[s]&&r(h,s,u),o[u]=o.Array}},{"./_global":162,"./_hide":164,"./_iterators":177,"./_wks":217,"./es6.array.iterator":222}],239:[function(t,e,i){arguments[4][144][0].apply(i,arguments)},{dup:144}],240:[function(t,e,i){var n=t("./_cof");e.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},{"./_cof":254}],241:[function(t,e,i){var n=t("./_wks")("unscopables"),r=Array.prototype;void 0==r[n]&&t("./_hide")(r,n,{}),e.exports=function(t){r[n][t]=!0}},{"./_hide":278,"./_wks":362}],242:[function(t,e,i){arguments[4][146][0].apply(i,arguments)},{dup:146}],243:[function(t,e,i){arguments[4][147][0].apply(i,arguments)},{"./_is-object":287,dup:147}],244:[function(t,e,i){"use strict";var n=t("./_to-object"),r=t("./_to-absolute-index"),o=t("./_to-length");e.exports=[].copyWithin||function(t,e){var i=n(this),s=o(i.length),a=r(t,s),l=r(e,s),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?s:r(u,s))-l,s-a),h=1;for(l<a&&a<l+c&&(h=-1,l+=c-1,a+=c-1);c-- >0;)l in i?i[a]=i[l]:delete i[a],a+=h,l+=h;return i}},{"./_to-absolute-index":347,"./_to-length":351,"./_to-object":352}],245:[function(t,e,i){"use strict";var n=t("./_to-object"),r=t("./_to-absolute-index"),o=t("./_to-length");e.exports=function(t){for(var e=n(this),i=o(e.length),s=arguments.length,a=r(s>1?arguments[1]:void 0,i),l=s>2?arguments[2]:void 0,u=void 0===l?i:r(l,i);u>a;)e[a++]=t;return e}},{"./_to-absolute-index":347,"./_to-length":351,"./_to-object":352}],246:[function(t,e,i){var n=t("./_for-of");e.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},{"./_for-of":275}],247:[function(t,e,i){arguments[4][148][0].apply(i,arguments)},{"./_to-absolute-index":347,"./_to-iobject":350,"./_to-length":351,dup:148}],248:[function(t,e,i){var n=t("./_ctx"),r=t("./_iobject"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_array-species-create");e.exports=function(t,e){var i=1==t,l=2==t,u=3==t,c=4==t,h=6==t,f=5==t||h,d=e||a;return function(e,a,p){for(var g,m,v=o(e),y=r(v),_=n(a,p,3),b=s(y.length),x=0,w=i?d(e,b):l?d(e,0):void 0;b>x;x++)if((f||x in y)&&(g=y[x],m=_(g,x,v),t))if(i)w[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:w.push(g)}else if(c)return!1;return h?-1:u||c?c:w}}},{"./_array-species-create":251,"./_ctx":261,"./_iobject":283,"./_to-length":351,"./_to-object":352}],249:[function(t,e,i){var n=t("./_a-function"),r=t("./_to-object"),o=t("./_iobject"),s=t("./_to-length");e.exports=function(t,e,i,a,l){n(e);var u=r(t),c=o(u),h=s(u.length),f=l?h-1:0,d=l?-1:1;if(i<2)for(;;){if(f in c){a=c[f],f+=d;break}if(f+=d,l?f<0:h<=f)throw TypeError("Reduce of empty array with no initial value")}for(;l?f>=0:h>f;f+=d)f in c&&(a=e(a,c[f],f,u));return a}},{"./_a-function":239,"./_iobject":283,"./_to-length":351,"./_to-object":352}],250:[function(t,e,i){var n=t("./_is-object"),r=t("./_is-array"),o=t("./_wks")("species");e.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},{"./_is-array":285,"./_is-object":287,"./_wks":362}],251:[function(t,e,i){var n=t("./_array-species-constructor");e.exports=function(t,e){return new(n(t))(e)}},{"./_array-species-constructor":250}],252:[function(t,e,i){"use strict";var n=t("./_a-function"),r=t("./_is-object"),o=t("./_invoke"),s=[].slice,a={},l=function(t,e,i){if(!(e in a)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";a[e]=Function("F,a","return new F("+n.join(",")+")")}return a[e](t,i)};e.exports=Function.bind||function(t){var e=n(this),i=s.call(arguments,1),a=function(){var n=i.concat(s.call(arguments));return this instanceof a?l(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},{"./_a-function":239,"./_invoke":282,"./_is-object":287}],253:[function(t,e,i){arguments[4][149][0].apply(i,arguments)},{"./_cof":254,"./_wks":362,dup:149}],254:[function(t,e,i){arguments[4][150][0].apply(i,arguments)},{dup:150}],255:[function(t,e,i){"use strict";var n=t("./_object-dp").f,r=t("./_object-create"),o=t("./_redefine-all"),s=t("./_ctx"),a=t("./_an-instance"),l=t("./_for-of"),u=t("./_iter-define"),c=t("./_iter-step"),h=t("./_set-species"),f=t("./_descriptors"),d=t("./_meta").fastKey,p=t("./_validate-collection"),g=f?"_s":"size",m=function(t,e){var i,n=d(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};e.exports={getConstructor:function(t,e,i,u){var c=t(function(t,n){a(t,c,e,"_i"),t._t=e,t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&l(n,i,t[u],t)});return o(c.prototype,{clear:function(){for(var t=p(this,e),i=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];t._f=t._l=void 0,t[g]=0},"delete":function(t){var i=p(this,e),n=m(i,t);if(n){var r=n.n,o=n.p;delete i._i[n.i],n.r=!0,o&&(o.n=r),r&&(r.p=o),i._f==n&&(i._f=r),i._l==n&&(i._l=o),i[g]--}return!!n},forEach:function(t){p(this,e);for(var i,n=s(t,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(t){return!!m(p(this,e),t)}}),f&&n(c.prototype,"size",{get:function(){return p(this,e)[g]}}),c},def:function(t,e,i){var n,r,o=m(t,e);return o?o.v=i:(t._l=o={i:r=d(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:m,setStrong:function(t,e,i){u(t,e,function(t,i){this._t=p(t,e),this._k=i,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?c(0,i.k):"values"==e?c(0,i.v):c(0,[i.k,i.v]):(t._t=void 0,c(1))},i?"entries":"values",!i,!0),h(e)}}},{"./_an-instance":242,"./_ctx":261,"./_descriptors":265,"./_for-of":275,"./_iter-define":291,"./_iter-step":293,"./_meta":301,"./_object-create":306,"./_object-dp":307,"./_redefine-all":326,"./_set-species":333,"./_validate-collection":359}],256:[function(t,e,i){var n=t("./_classof"),r=t("./_array-from-iterable");e.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},{"./_array-from-iterable":246,"./_classof":253}],257:[function(t,e,i){"use strict";var n=t("./_redefine-all"),r=t("./_meta").getWeak,o=t("./_an-object"),s=t("./_is-object"),a=t("./_an-instance"),l=t("./_for-of"),u=t("./_array-methods"),c=t("./_has"),h=t("./_validate-collection"),f=u(5),d=u(6),p=0,g=function(t){return t._l||(t._l=new m)},m=function(){this.a=[]},v=function(t,e){return f(t.a,function(t){return t[0]===e})};m.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},"delete":function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(t,e,i,o){var u=t(function(t,n){a(t,u,e,"_i"),t._t=e,t._i=p++,t._l=void 0,void 0!=n&&l(n,i,t[o],t)});return n(u.prototype,{"delete":function(t){if(!s(t))return!1;var i=r(t);return i===!0?g(h(this,e))["delete"](t):i&&c(i,this._i)&&delete i[this._i]},has:function(t){if(!s(t))return!1;var i=r(t);return i===!0?g(h(this,e)).has(t):i&&c(i,this._i)}}),u},def:function(t,e,i){var n=r(o(e),!0);return n===!0?g(t).set(e,i):n[t._i]=i,t},ufstore:g}},{"./_an-instance":242,"./_an-object":243,"./_array-methods":248,"./_for-of":275,"./_has":277,"./_is-object":287,"./_meta":301,"./_redefine-all":326,"./_validate-collection":359}],258:[function(t,e,i){"use strict";var n=t("./_global"),r=t("./_export"),o=t("./_redefine"),s=t("./_redefine-all"),a=t("./_meta"),l=t("./_for-of"),u=t("./_an-instance"),c=t("./_is-object"),h=t("./_fails"),f=t("./_iter-detect"),d=t("./_set-to-string-tag"),p=t("./_inherit-if-required");e.exports=function(t,e,i,g,m,v){var y=n[t],_=y,b=m?"set":"add",x=_&&_.prototype,w={},C=function(t){var e=x[t];o(x,t,"delete"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof _&&(v||x.forEach&&!h(function(){(new _).entries().next()}))){var E=new _,S=E[b](v?{}:-0,1)!=E,T=h(function(){E.has(1)}),I=f(function(t){new _(t)}),k=!v&&h(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});I||(_=e(function(e,i){u(e,_,t);var n=p(new y,e,_);return void 0!=i&&l(i,m,n[b],n),n}),_.prototype=x,x.constructor=_),(T||k)&&(C("delete"),C("has"),m&&C("get")),(k||S)&&C(b),v&&x.clear&&delete x.clear}else _=g.getConstructor(e,t,m,b),s(_.prototype,i),a.NEED=!0;return d(_,t),w[t]=_,r(r.G+r.W+r.F*(_!=y),w),v||g.setStrong(_,t,m),_}},{"./_an-instance":242,"./_export":269,"./_fails":271,"./_for-of":275,"./_global":276,"./_inherit-if-required":281,"./_is-object":287,"./_iter-detect":292,"./_meta":301,"./_redefine":327,"./_redefine-all":326,"./_set-to-string-tag":334}],259:[function(t,e,i){arguments[4][151][0].apply(i,arguments)},{dup:151}],260:[function(t,e,i){arguments[4][152][0].apply(i,arguments)},{"./_object-dp":307,"./_property-desc":325,dup:152}],261:[function(t,e,i){arguments[4][153][0].apply(i,arguments)},{"./_a-function":239,dup:153}],262:[function(t,e,i){"use strict";var n=t("./_fails"),r=Date.prototype.getTime,o=Date.prototype.toISOString,s=function(t){return t>9?t:"0"+t};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+s(t.getUTCMonth()+1)+"-"+s(t.getUTCDate())+"T"+s(t.getUTCHours())+":"+s(t.getUTCMinutes())+":"+s(t.getUTCSeconds())+"."+(i>99?i:"0"+s(i))+"Z"}:o},{"./_fails":271}],263:[function(t,e,i){"use strict";var n=t("./_an-object"),r=t("./_to-primitive"),o="number";e.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),t!=o)}},{"./_an-object":243,"./_to-primitive":353}],264:[function(t,e,i){arguments[4][154][0].apply(i,arguments)},{dup:154}],265:[function(t,e,i){arguments[4][155][0].apply(i,arguments)},{"./_fails":271,dup:155}],266:[function(t,e,i){arguments[4][156][0].apply(i,arguments)},{"./_global":276,"./_is-object":287,dup:156}],267:[function(t,e,i){arguments[4][157][0].apply(i,arguments)},{dup:157}],268:[function(t,e,i){arguments[4][158][0].apply(i,arguments)},{"./_object-gops":313,"./_object-keys":316,"./_object-pie":317,dup:158}],269:[function(t,e,i){var n=t("./_global"),r=t("./_core"),o=t("./_hide"),s=t("./_redefine"),a=t("./_ctx"),l="prototype",u=function(t,e,i){var c,h,f,d,p=t&u.F,g=t&u.G,m=t&u.S,v=t&u.P,y=t&u.B,_=g?n:m?n[e]||(n[e]={}):(n[e]||{})[l],b=g?r:r[e]||(r[e]={}),x=b[l]||(b[l]={});g&&(i=e);for(c in i)h=!p&&_&&void 0!==_[c],f=(h?_:i)[c],d=y&&h?a(f,n):v&&"function"==typeof f?a(Function.call,f):f,_&&s(_,c,f,t&u.U),b[c]!=f&&o(b,c,d),v&&x[c]!=f&&(x[c]=f)};n.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},{"./_core":259,"./_ctx":261,"./_global":276,"./_hide":278,"./_redefine":327}],270:[function(t,e,i){var n=t("./_wks")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(r){}}return!0}},{"./_wks":362}],271:[function(t,e,i){arguments[4][160][0].apply(i,arguments)},{dup:160}],272:[function(t,e,i){"use strict";var n=t("./_hide"),r=t("./_redefine"),o=t("./_fails"),s=t("./_defined"),a=t("./_wks");e.exports=function(t,e,i){var l=a(t),u=i(s,l,""[t]),c=u[0],h=u[1];o(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),n(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},{"./_defined":264,"./_fails":271,"./_hide":278,"./_redefine":327,"./_wks":362}],273:[function(t,e,i){"use strict";var n=t("./_an-object");e.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"./_an-object":243}],274:[function(t,e,i){"use strict";function n(t,e,i,u,c,h,f,d){for(var p,g,m=c,v=0,y=!!f&&a(f,d,3);v<u;){if(v in i){if(p=y?y(i[v],v,e):i[v],g=!1,o(p)&&(g=p[l],g=void 0!==g?!!g:r(p)),g&&h>0)m=n(t,e,p,s(p.length),m,h-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=p}m++}v++}return m}var r=t("./_is-array"),o=t("./_is-object"),s=t("./_to-length"),a=t("./_ctx"),l=t("./_wks")("isConcatSpreadable");e.exports=n},{"./_ctx":261,"./_is-array":285,"./_is-object":287,"./_to-length":351,"./_wks":362}],275:[function(t,e,i){arguments[4][161][0].apply(i,arguments)},{"./_an-object":243,"./_ctx":261,"./_is-array-iter":284,"./_iter-call":289,"./_to-length":351,"./core.get-iterator-method":363,dup:161}],276:[function(t,e,i){arguments[4][162][0].apply(i,arguments)},{dup:162}],277:[function(t,e,i){arguments[4][163][0].apply(i,arguments)},{dup:163}],278:[function(t,e,i){arguments[4][164][0].apply(i,arguments)},{"./_descriptors":265,"./_object-dp":307,"./_property-desc":325,dup:164}],279:[function(t,e,i){arguments[4][165][0].apply(i,arguments)},{"./_global":276,dup:165}],280:[function(t,e,i){arguments[4][166][0].apply(i,arguments)},{"./_descriptors":265,"./_dom-create":266,"./_fails":271,dup:166}],281:[function(t,e,i){var n=t("./_is-object"),r=t("./_set-proto").set;e.exports=function(t,e,i){var o,s=e.constructor;return s!==i&&"function"==typeof s&&(o=s.prototype)!==i.prototype&&n(o)&&r&&r(t,o),t}},{"./_is-object":287,"./_set-proto":332}],282:[function(t,e,i){arguments[4][167][0].apply(i,arguments)},{dup:167}],283:[function(t,e,i){arguments[4][168][0].apply(i,arguments)},{"./_cof":254,dup:168}],284:[function(t,e,i){arguments[4][169][0].apply(i,arguments)},{"./_iterators":294,"./_wks":362,dup:169}],285:[function(t,e,i){arguments[4][170][0].apply(i,arguments)},{"./_cof":254,dup:170}],286:[function(t,e,i){var n=t("./_is-object"),r=Math.floor;e.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},{"./_is-object":287}],287:[function(t,e,i){arguments[4][171][0].apply(i,arguments)},{dup:171}],288:[function(t,e,i){var n=t("./_is-object"),r=t("./_cof"),o=t("./_wks")("match");e.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},{"./_cof":254,"./_is-object":287,"./_wks":362}],289:[function(t,e,i){arguments[4][172][0].apply(i,arguments)},{"./_an-object":243,dup:172}],290:[function(t,e,i){arguments[4][173][0].apply(i,arguments)},{"./_hide":278,"./_object-create":306,"./_property-desc":325,"./_set-to-string-tag":334,"./_wks":362,dup:173}],291:[function(t,e,i){arguments[4][174][0].apply(i,arguments)},{"./_export":269,"./_has":277,"./_hide":278,"./_iter-create":290,"./_iterators":294,"./_library":295,"./_object-gpo":314,"./_redefine":327,"./_set-to-string-tag":334,"./_wks":362,dup:174}],292:[function(t,e,i){arguments[4][175][0].apply(i,arguments)},{"./_wks":362,dup:175}],293:[function(t,e,i){arguments[4][176][0].apply(i,arguments)},{dup:176}],294:[function(t,e,i){arguments[4][177][0].apply(i,arguments)},{dup:177}],295:[function(t,e,i){e.exports=!1},{}],296:[function(t,e,i){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||n(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},{}],297:[function(t,e,i){var n=t("./_math-sign"),r=Math.pow,o=r(2,-52),s=r(2,-23),a=r(2,127)*(2-s),l=r(2,-126),u=function(t){return t+1/o-1/o};e.exports=Math.fround||function(t){var e,i,r=Math.abs(t),c=n(t);return r<l?c*u(r/l/s)*l*s:(e=(1+s/o)*r,i=e-(e-r),i>a||i!=i?c*(1/0):c*i)}},{"./_math-sign":300}],298:[function(t,e,i){e.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],299:[function(t,e,i){e.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-(1/0)?t:(t-e)*(r-n)/(i-e)+n}},{}],300:[function(t,e,i){e.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],301:[function(t,e,i){arguments[4][179][0].apply(i,arguments)},{"./_fails":271,"./_has":277,"./_is-object":287,"./_object-dp":307,"./_uid":357,dup:179}],302:[function(t,e,i){var n=t("./es6.map"),r=t("./_export"),o=t("./_shared")("metadata"),s=o.store||(o.store=new(t("./es6.weak-map"))),a=function(t,e,i){var r=s.get(t);if(!r){if(!i)return;s.set(t,r=new n)}var o=r.get(e);if(!o){if(!i)return;r.set(e,o=new n)}return o},l=function(t,e,i){var n=a(e,i,!1);return void 0!==n&&n.has(t)},u=function(t,e,i){var n=a(e,i,!1);return void 0===n?void 0:n.get(t)},c=function(t,e,i,n){a(i,n,!0).set(t,e)},h=function(t,e){var i=a(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){r(r.S,"Reflect",t)};e.exports={store:s,map:a,has:l,get:u,set:c,keys:h,key:f,exp:d}},{"./_export":269,"./_shared":336,"./es6.map":394,"./es6.weak-map":500}],303:[function(t,e,i){arguments[4][180][0].apply(i,arguments)},{"./_cof":254,"./_global":276,"./_task":346,dup:180}],304:[function(t,e,i){arguments[4][181][0].apply(i,arguments)},{"./_a-function":239,dup:181}],305:[function(t,e,i){arguments[4][182][0].apply(i,arguments)},{"./_fails":271,"./_iobject":283,"./_object-gops":313,"./_object-keys":316,"./_object-pie":317,"./_to-object":352,dup:182}],306:[function(t,e,i){arguments[4][183][0].apply(i,arguments)},{"./_an-object":243,"./_dom-create":266,"./_enum-bug-keys":267,"./_html":279,"./_object-dps":308,"./_shared-key":335,dup:183}],307:[function(t,e,i){arguments[4][184][0].apply(i,arguments)},{"./_an-object":243,"./_descriptors":265,"./_ie8-dom-define":280,"./_to-primitive":353,dup:184}],308:[function(t,e,i){arguments[4][185][0].apply(i,arguments)},{"./_an-object":243,"./_descriptors":265,"./_object-dp":307,"./_object-keys":316,dup:185}],309:[function(t,e,i){"use strict";e.exports=t("./_library")||!t("./_fails")(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete t("./_global")[e]})},{"./_fails":271,"./_global":276,"./_library":295}],310:[function(t,e,i){arguments[4][186][0].apply(i,arguments)},{"./_descriptors":265,"./_has":277,"./_ie8-dom-define":280,"./_object-pie":317,"./_property-desc":325,"./_to-iobject":350,"./_to-primitive":353,dup:186}],311:[function(t,e,i){arguments[4][187][0].apply(i,arguments)},{"./_object-gopn":312,"./_to-iobject":350,dup:187}],312:[function(t,e,i){arguments[4][188][0].apply(i,arguments)},{"./_enum-bug-keys":267,"./_object-keys-internal":315,dup:188}],313:[function(t,e,i){arguments[4][189][0].apply(i,arguments)},{dup:189}],314:[function(t,e,i){arguments[4][190][0].apply(i,arguments)},{"./_has":277,"./_shared-key":335,"./_to-object":352,dup:190}],315:[function(t,e,i){arguments[4][191][0].apply(i,arguments)},{"./_array-includes":247,"./_has":277,"./_shared-key":335,"./_to-iobject":350,dup:191}],316:[function(t,e,i){arguments[4][192][0].apply(i,arguments)},{"./_enum-bug-keys":267,"./_object-keys-internal":315,dup:192}],317:[function(t,e,i){arguments[4][193][0].apply(i,arguments)},{dup:193}],318:[function(t,e,i){arguments[4][194][0].apply(i,arguments)},{"./_core":259,"./_export":269,
"./_fails":271,dup:194}],319:[function(t,e,i){var n=t("./_object-keys"),r=t("./_to-iobject"),o=t("./_object-pie").f;e.exports=function(t){return function(e){for(var i,s=r(e),a=n(s),l=a.length,u=0,c=[];l>u;)o.call(s,i=a[u++])&&c.push(t?[i,s[i]]:s[i]);return c}}},{"./_object-keys":316,"./_object-pie":317,"./_to-iobject":350}],320:[function(t,e,i){var n=t("./_object-gopn"),r=t("./_object-gops"),o=t("./_an-object"),s=t("./_global").Reflect;e.exports=s&&s.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},{"./_an-object":243,"./_global":276,"./_object-gopn":312,"./_object-gops":313}],321:[function(t,e,i){var n=t("./_global").parseFloat,r=t("./_string-trim").trim;e.exports=1/n(t("./_string-ws")+"-0")!==-(1/0)?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},{"./_global":276,"./_string-trim":344,"./_string-ws":345}],322:[function(t,e,i){var n=t("./_global").parseInt,r=t("./_string-trim").trim,o=t("./_string-ws"),s=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(s.test(i)?16:10))}:n},{"./_global":276,"./_string-trim":344,"./_string-ws":345}],323:[function(t,e,i){arguments[4][195][0].apply(i,arguments)},{dup:195}],324:[function(t,e,i){arguments[4][196][0].apply(i,arguments)},{"./_an-object":243,"./_is-object":287,"./_new-promise-capability":304,dup:196}],325:[function(t,e,i){arguments[4][197][0].apply(i,arguments)},{dup:197}],326:[function(t,e,i){var n=t("./_redefine");e.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},{"./_redefine":327}],327:[function(t,e,i){var n=t("./_global"),r=t("./_hide"),o=t("./_has"),s=t("./_uid")("src"),a="toString",l=Function[a],u=(""+l).split(a);t("./_core").inspectSource=function(t){return l.call(t)},(e.exports=function(t,e,i,a){var l="function"==typeof i;l&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(l&&(o(i,s)||r(i,s,t[e]?""+t[e]:u.join(String(e)))),t===n?t[e]=i:a?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||l.call(this)})},{"./_core":259,"./_global":276,"./_has":277,"./_hide":278,"./_uid":357}],328:[function(t,e,i){e.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},{}],329:[function(t,e,i){e.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},{}],330:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_a-function"),o=t("./_ctx"),s=t("./_for-of");e.exports=function(t){n(n.S,t,{from:function(t){var e,i,n,a,l=arguments[1];return r(this),e=void 0!==l,e&&r(l),void 0==t?new this:(i=[],e?(n=0,a=o(l,arguments[2],2),s(t,!1,function(t){i.push(a(t,n++))})):s(t,!1,i.push,i),new this(i))}})}},{"./_a-function":239,"./_ctx":261,"./_export":269,"./_for-of":275}],331:[function(t,e,i){"use strict";var n=t("./_export");e.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},{"./_export":269}],332:[function(t,e,i){arguments[4][200][0].apply(i,arguments)},{"./_an-object":243,"./_ctx":261,"./_is-object":287,"./_object-gopd":310,dup:200}],333:[function(t,e,i){"use strict";var n=t("./_global"),r=t("./_object-dp"),o=t("./_descriptors"),s=t("./_wks")("species");e.exports=function(t){var e=n[t];o&&e&&!e[s]&&r.f(e,s,{configurable:!0,get:function(){return this}})}},{"./_descriptors":265,"./_global":276,"./_object-dp":307,"./_wks":362}],334:[function(t,e,i){arguments[4][202][0].apply(i,arguments)},{"./_has":277,"./_object-dp":307,"./_wks":362,dup:202}],335:[function(t,e,i){arguments[4][203][0].apply(i,arguments)},{"./_shared":336,"./_uid":357,dup:203}],336:[function(t,e,i){arguments[4][204][0].apply(i,arguments)},{"./_global":276,dup:204}],337:[function(t,e,i){arguments[4][205][0].apply(i,arguments)},{"./_a-function":239,"./_an-object":243,"./_wks":362,dup:205}],338:[function(t,e,i){"use strict";var n=t("./_fails");e.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},{"./_fails":271}],339:[function(t,e,i){arguments[4][206][0].apply(i,arguments)},{"./_defined":264,"./_to-integer":349,dup:206}],340:[function(t,e,i){var n=t("./_is-regexp"),r=t("./_defined");e.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},{"./_defined":264,"./_is-regexp":288}],341:[function(t,e,i){var n=t("./_export"),r=t("./_fails"),o=t("./_defined"),s=/"/g,a=function(t,e,i,n){var r=String(o(t)),a="<"+e;return""!==i&&(a+=" "+i+'="'+String(n).replace(s,"&quot;")+'"'),a+">"+r+"</"+e+">"};e.exports=function(t,e){var i={};i[t]=e(a),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},{"./_defined":264,"./_export":269,"./_fails":271}],342:[function(t,e,i){var n=t("./_to-length"),r=t("./_string-repeat"),o=t("./_defined");e.exports=function(t,e,i,s){var a=String(o(t)),l=a.length,u=void 0===i?" ":String(i),c=n(e);if(c<=l||""==u)return a;var h=c-l,f=r.call(u,Math.ceil(h/u.length));return f.length>h&&(f=f.slice(0,h)),s?f+a:a+f}},{"./_defined":264,"./_string-repeat":343,"./_to-length":351}],343:[function(t,e,i){"use strict";var n=t("./_to-integer"),r=t("./_defined");e.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},{"./_defined":264,"./_to-integer":349}],344:[function(t,e,i){var n=t("./_export"),r=t("./_defined"),o=t("./_fails"),s=t("./_string-ws"),a="["+s+"]",l="",u=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),h=function(t,e,i){var r={},a=o(function(){return!!s[t]()||l[t]()!=l}),u=r[t]=a?e(f):s[t];i&&(r[i]=u),n(n.P+n.F*a,"String",r)},f=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};e.exports=h},{"./_defined":264,"./_export":269,"./_fails":271,"./_string-ws":345}],345:[function(t,e,i){e.exports="\t\n\x0B\f\r \u2028\u2029\ufeff"},{}],346:[function(t,e,i){arguments[4][207][0].apply(i,arguments)},{"./_cof":254,"./_ctx":261,"./_dom-create":266,"./_global":276,"./_html":279,"./_invoke":282,dup:207}],347:[function(t,e,i){arguments[4][208][0].apply(i,arguments)},{"./_to-integer":349,dup:208}],348:[function(t,e,i){var n=t("./_to-integer"),r=t("./_to-length");e.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length!");return i}},{"./_to-integer":349,"./_to-length":351}],349:[function(t,e,i){arguments[4][209][0].apply(i,arguments)},{dup:209}],350:[function(t,e,i){arguments[4][210][0].apply(i,arguments)},{"./_defined":264,"./_iobject":283,dup:210}],351:[function(t,e,i){arguments[4][211][0].apply(i,arguments)},{"./_to-integer":349,dup:211}],352:[function(t,e,i){arguments[4][212][0].apply(i,arguments)},{"./_defined":264,dup:212}],353:[function(t,e,i){arguments[4][213][0].apply(i,arguments)},{"./_is-object":287,dup:213}],354:[function(t,e,i){"use strict";if(t("./_descriptors")){var n=t("./_library"),r=t("./_global"),o=t("./_fails"),s=t("./_export"),a=t("./_typed"),l=t("./_typed-buffer"),u=t("./_ctx"),c=t("./_an-instance"),h=t("./_property-desc"),f=t("./_hide"),d=t("./_redefine-all"),p=t("./_to-integer"),g=t("./_to-length"),m=t("./_to-index"),v=t("./_to-absolute-index"),y=t("./_to-primitive"),_=t("./_has"),b=t("./_classof"),x=t("./_is-object"),w=t("./_to-object"),C=t("./_is-array-iter"),E=t("./_object-create"),S=t("./_object-gpo"),T=t("./_object-gopn").f,I=t("./core.get-iterator-method"),k=t("./_uid"),P=t("./_wks"),L=t("./_array-methods"),O=t("./_array-includes"),A=t("./_species-constructor"),M=t("./es6.array.iterator"),R=t("./_iterators"),N=t("./_iter-detect"),j=t("./_set-species"),D=t("./_array-fill"),F=t("./_array-copy-within"),z=t("./_object-dp"),B=t("./_object-gopd"),V=z.f,q=B.f,U=r.RangeError,G=r.TypeError,H=r.Uint8Array,X="ArrayBuffer",W="Shared"+X,Y="BYTES_PER_ELEMENT",$="prototype",Z=Array[$],K=l.ArrayBuffer,J=l.DataView,Q=L(0),tt=L(2),et=L(3),it=L(4),nt=L(5),rt=L(6),ot=O(!0),st=O(!1),at=M.values,lt=M.keys,ut=M.entries,ct=Z.lastIndexOf,ht=Z.reduce,ft=Z.reduceRight,dt=Z.join,pt=Z.sort,gt=Z.slice,mt=Z.toString,vt=Z.toLocaleString,yt=P("iterator"),_t=P("toStringTag"),bt=k("typed_constructor"),xt=k("def_constructor"),wt=a.CONSTR,Ct=a.TYPED,Et=a.VIEW,St="Wrong length!",Tt=L(1,function(t,e){return Ot(A(t,t[xt]),e)}),It=o(function(){return 1===new H(new Uint16Array([1]).buffer)[0]}),kt=!!H&&!!H[$].set&&o(function(){new H(1).set({})}),Pt=function(t,e){var i=p(t);if(i<0||i%e)throw U("Wrong offset!");return i},Lt=function(t){if(x(t)&&Ct in t)return t;throw G(t+" is not a typed array!")},Ot=function(t,e){if(!(x(t)&&bt in t))throw G("It is not a typed array constructor!");return new t(e)},At=function(t,e){return Mt(A(t,t[xt]),e)},Mt=function(t,e){for(var i=0,n=e.length,r=Ot(t,n);n>i;)r[i]=e[i++];return r},Rt=function(t,e,i){V(t,e,{get:function(){return this._d[i]}})},Nt=function(t){var e,i,n,r,o,s,a=w(t),l=arguments.length,c=l>1?arguments[1]:void 0,h=void 0!==c,f=I(a);if(void 0!=f&&!C(f)){for(s=f.call(a),n=[],e=0;!(o=s.next()).done;e++)n.push(o.value);a=n}for(h&&l>2&&(c=u(c,arguments[2],2)),e=0,i=g(a.length),r=Ot(this,i);i>e;e++)r[e]=h?c(a[e],e):a[e];return r},jt=function(){for(var t=0,e=arguments.length,i=Ot(this,e);e>t;)i[t]=arguments[t++];return i},Dt=!!H&&o(function(){vt.call(new H(1))}),Ft=function(){return vt.apply(Dt?gt.call(Lt(this)):Lt(this),arguments)},zt={copyWithin:function(t,e){return F.call(Lt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(Lt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return D.apply(Lt(this),arguments)},filter:function(t){return At(this,tt(Lt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(Lt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Lt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Q(Lt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return st(Lt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Lt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(Lt(this),arguments)},lastIndexOf:function(t){return ct.apply(Lt(this),arguments)},map:function(t){return Tt(Lt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ht.apply(Lt(this),arguments)},reduceRight:function(t){return ft.apply(Lt(this),arguments)},reverse:function(){for(var t,e=this,i=Lt(e).length,n=Math.floor(i/2),r=0;r<n;)t=e[r],e[r++]=e[--i],e[i]=t;return e},some:function(t){return et(Lt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Lt(this),t)},subarray:function(t,e){var i=Lt(this),n=i.length,r=v(t,n);return new(A(i,i[xt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,g((void 0===e?n:v(e,n))-r))}},Bt=function(t,e){return At(this,gt.call(Lt(this),t,e))},Vt=function(t){Lt(this);var e=Pt(arguments[1],1),i=this.length,n=w(t),r=g(n.length),o=0;if(r+e>i)throw U(St);for(;o<r;)this[e+o]=n[o++]},qt={entries:function(){return ut.call(Lt(this))},keys:function(){return lt.call(Lt(this))},values:function(){return at.call(Lt(this))}},Ut=function(t,e){return x(t)&&t[Ct]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Gt=function(t,e){return Ut(t,e=y(e,!0))?h(2,t[e]):q(t,e)},Ht=function(t,e,i){return!(Ut(t,e=y(e,!0))&&x(i)&&_(i,"value"))||_(i,"get")||_(i,"set")||i.configurable||_(i,"writable")&&!i.writable||_(i,"enumerable")&&!i.enumerable?V(t,e,i):(t[e]=i.value,t)};wt||(B.f=Gt,z.f=Ht),s(s.S+s.F*!wt,"Object",{getOwnPropertyDescriptor:Gt,defineProperty:Ht}),o(function(){mt.call({})})&&(mt=vt=function(){return dt.call(this)});var Xt=d({},zt);d(Xt,qt),f(Xt,yt,qt.values),d(Xt,{slice:Bt,set:Vt,constructor:function(){},toString:mt,toLocaleString:Ft}),Rt(Xt,"buffer","b"),Rt(Xt,"byteOffset","o"),Rt(Xt,"byteLength","l"),Rt(Xt,"length","e"),V(Xt,_t,{get:function(){return this[Ct]}}),e.exports=function(t,e,i,l){l=!!l;var u=t+(l?"Clamped":"")+"Array",h="get"+t,d="set"+t,p=r[u],v=p||{},y=p&&S(p),_=!p||!a.ABV,w={},C=p&&p[$],I=function(t,i){var n=t._d;return n.v[h](i*e+n.o,It)},k=function(t,i,n){var r=t._d;l&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[d](i*e+r.o,n,It)},P=function(t,e){V(t,e,{get:function(){return I(this,e)},set:function(t){return k(this,e,t)},enumerable:!0})};_?(p=i(function(t,i,n,r){c(t,p,u,"_d");var o,s,a,l,h=0,d=0;if(x(i)){if(!(i instanceof K||(l=b(i))==X||l==W))return Ct in i?Mt(p,i):Nt.call(p,i);o=i,d=Pt(n,e);var v=i.byteLength;if(void 0===r){if(v%e)throw U(St);if(s=v-d,s<0)throw U(St)}else if(s=g(r)*e,s+d>v)throw U(St);a=s/e}else a=m(i),s=a*e,o=new K(s);for(f(t,"_d",{b:o,o:d,l:s,e:a,v:new J(o)});h<a;)P(t,h++)}),C=p[$]=E(Xt),f(C,"constructor",p)):o(function(){p(1)})&&o(function(){new p((-1))})&&N(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=i(function(t,i,n,r){c(t,p,u);var o;return x(i)?i instanceof K||(o=b(i))==X||o==W?void 0!==r?new v(i,Pt(n,e),r):void 0!==n?new v(i,Pt(n,e)):new v(i):Ct in i?Mt(p,i):Nt.call(p,i):new v(m(i))}),Q(y!==Function.prototype?T(v).concat(T(y)):T(v),function(t){t in p||f(p,t,v[t])}),p[$]=C,n||(C.constructor=p));var L=C[yt],O=!!L&&("values"==L.name||void 0==L.name),A=qt.values;f(p,bt,!0),f(C,Ct,u),f(C,Et,!0),f(C,xt,p),(l?new p(1)[_t]==u:_t in C)||V(C,_t,{get:function(){return u}}),w[u]=p,s(s.G+s.W+s.F*(p!=v),w),s(s.S,u,{BYTES_PER_ELEMENT:e}),s(s.S+s.F*o(function(){v.of.call(p,1)}),u,{from:Nt,of:jt}),Y in C||f(C,Y,e),s(s.P,u,zt),j(u),s(s.P+s.F*kt,u,{set:Vt}),s(s.P+s.F*!O,u,qt),n||C.toString==mt||(C.toString=mt),s(s.P+s.F*o(function(){new p(1).slice()}),u,{slice:Bt}),s(s.P+s.F*(o(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!o(function(){C.toLocaleString.call([1,2])})),u,{toLocaleString:Ft}),R[u]=O?L:A,n||O||f(C,yt,A)}}else e.exports=function(){}},{"./_an-instance":242,"./_array-copy-within":244,"./_array-fill":245,"./_array-includes":247,"./_array-methods":248,"./_classof":253,"./_ctx":261,"./_descriptors":265,"./_export":269,"./_fails":271,"./_global":276,"./_has":277,"./_hide":278,"./_is-array-iter":284,"./_is-object":287,"./_iter-detect":292,"./_iterators":294,"./_library":295,"./_object-create":306,"./_object-dp":307,"./_object-gopd":310,"./_object-gopn":312,"./_object-gpo":314,"./_property-desc":325,"./_redefine-all":326,"./_set-species":333,"./_species-constructor":337,"./_to-absolute-index":347,"./_to-index":348,"./_to-integer":349,"./_to-length":351,"./_to-object":352,"./_to-primitive":353,"./_typed":356,"./_typed-buffer":355,"./_uid":357,"./_wks":362,"./core.get-iterator-method":363,"./es6.array.iterator":375}],355:[function(t,e,i){"use strict";function n(t,e,i){var n,r,o,s=new Array(i),a=8*i-e-1,l=(1<<a)-1,u=l>>1,c=23===e?V(2,-24)-V(2,-77):0,h=0,f=t<0||0===t&&1/t<0?1:0;for(t=B(t),t!=t||t===F?(r=t!=t?1:0,n=l):(n=q(U(t)/G),t*(o=V(2,-n))<1&&(n--,o*=2),t+=n+u>=1?c/o:c*V(2,1-u),t*o>=2&&(n++,o/=2),n+u>=l?(r=0,n=l):n+u>=1?(r=(t*o-1)*V(2,e),n+=u):(r=t*V(2,u-1)*V(2,e),n=0));e>=8;s[h++]=255&r,r/=256,e-=8);for(n=n<<e|r,a+=e;a>0;s[h++]=255&n,n/=256,a-=8);return s[--h]|=128*f,s}function r(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,s=o>>1,a=r-7,l=i-1,u=t[l--],c=127&u;for(u>>=7;a>0;c=256*c+t[l],l--,a-=8);for(n=c&(1<<-a)-1,c>>=-a,a+=e;a>0;n=256*n+t[l],l--,a-=8);if(0===c)c=1-s;else{if(c===o)return n?NaN:u?-F:F;n+=V(2,e),c-=s}return(u?-1:1)*n*V(2,c-e)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function s(t){return[255&t]}function a(t){return[255&t,t>>8&255]}function l(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function u(t){return n(t,52,8)}function c(t){return n(t,23,4)}function h(t,e,i){T(t[O],e,{get:function(){return this[i]}})}function f(t,e,i,n){var r=+i,o=E(r);if(o+e>t[$])throw D(M);var s=t[Y]._b,a=o+t[Z],l=s.slice(a,a+e);return n?l:l.reverse()}function d(t,e,i,n,r,o){var s=+i,a=E(s);if(a+e>t[$])throw D(M);for(var l=t[Y]._b,u=a+t[Z],c=n(+r),h=0;h<e;h++)l[u+h]=c[o?h:e-h-1]}var p=t("./_global"),g=t("./_descriptors"),m=t("./_library"),v=t("./_typed"),y=t("./_hide"),_=t("./_redefine-all"),b=t("./_fails"),x=t("./_an-instance"),w=t("./_to-integer"),C=t("./_to-length"),E=t("./_to-index"),S=t("./_object-gopn").f,T=t("./_object-dp").f,I=t("./_array-fill"),k=t("./_set-to-string-tag"),P="ArrayBuffer",L="DataView",O="prototype",A="Wrong length!",M="Wrong index!",R=p[P],N=p[L],j=p.Math,D=p.RangeError,F=p.Infinity,z=R,B=j.abs,V=j.pow,q=j.floor,U=j.log,G=j.LN2,H="buffer",X="byteLength",W="byteOffset",Y=g?"_b":H,$=g?"_l":X,Z=g?"_o":W;if(v.ABV){if(!b(function(){R(1)})||!b(function(){new R((-1))})||b(function(){return new R,new R(1.5),new R(NaN),R.name!=P})){R=function(t){return x(this,R),new z(E(t))};for(var K,J=R[O]=z[O],Q=S(z),tt=0;Q.length>tt;)(K=Q[tt++])in R||y(R,K,z[K]);m||(J.constructor=R)}var et=new N(new R(2)),it=N[O].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||_(N[O],{setInt8:function(t,e){it.call(this,t,e<<24>>24)},setUint8:function(t,e){it.call(this,t,e<<24>>24)}},!0)}else R=function(t){x(this,R,P);var e=E(t);this._b=I.call(new Array(e),0),this[$]=e},N=function(t,e,i){x(this,N,L),x(t,R,L);var n=t[$],r=w(e);if(r<0||r>n)throw D("Wrong offset!");if(i=void 0===i?n-r:C(i),r+i>n)throw D(A);this[Y]=t,this[Z]=r,this[$]=i},g&&(h(R,X,"_l"),h(N,H,"_b"),h(N,X,"_l"),h(N,W,"_o")),_(N[O],{getInt8:function(t){return f(this,1,t)[0]<<24>>24},getUint8:function(t){return f(this,1,t)[0]},getInt16:function(t){var e=f(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=f(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return o(f(this,4,t,arguments[1]))},getUint32:function(t){return o(f(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return r(f(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return r(f(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){d(this,1,t,s,e)},setUint8:function(t,e){d(this,1,t,s,e)},setInt16:function(t,e){d(this,2,t,a,e,arguments[2])},setUint16:function(t,e){d(this,2,t,a,e,arguments[2])},setInt32:function(t,e){d(this,4,t,l,e,arguments[2])},setUint32:function(t,e){d(this,4,t,l,e,arguments[2])},setFloat32:function(t,e){d(this,4,t,c,e,arguments[2])},setFloat64:function(t,e){d(this,8,t,u,e,arguments[2])}});k(R,P),k(N,L),y(N[O],v.VIEW,!0),i[P]=R,i[L]=N},{"./_an-instance":242,"./_array-fill":245,"./_descriptors":265,"./_fails":271,"./_global":276,"./_hide":278,"./_library":295,"./_object-dp":307,"./_object-gopn":312,"./_redefine-all":326,"./_set-to-string-tag":334,"./_to-index":348,"./_to-integer":349,"./_to-length":351,"./_typed":356}],356:[function(t,e,i){for(var n,r=t("./_global"),o=t("./_hide"),s=t("./_uid"),a=s("typed_array"),l=s("view"),u=!(!r.ArrayBuffer||!r.DataView),c=u,h=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");h<f;)(n=r[d[h++]])?(o(n.prototype,a,!0),o(n.prototype,l,!0)):c=!1;e.exports={ABV:u,CONSTR:c,TYPED:a,VIEW:l}},{"./_global":276,"./_hide":278,"./_uid":357}],357:[function(t,e,i){arguments[4][214][0].apply(i,arguments)},{dup:214}],358:[function(t,e,i){var n=t("./_global"),r=n.navigator;e.exports=r&&r.userAgent||""},{"./_global":276}],359:[function(t,e,i){var n=t("./_is-object");e.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},{"./_is-object":287}],360:[function(t,e,i){arguments[4][215][0].apply(i,arguments)},{"./_core":259,"./_global":276,"./_library":295,"./_object-dp":307,"./_wks-ext":361,dup:215}],361:[function(t,e,i){arguments[4][216][0].apply(i,arguments)},{"./_wks":362,dup:216}],362:[function(t,e,i){arguments[4][217][0].apply(i,arguments)},{"./_global":276,"./_shared":336,"./_uid":357,dup:217}],363:[function(t,e,i){arguments[4][218][0].apply(i,arguments)},{"./_classof":253,"./_core":259,"./_iterators":294,"./_wks":362,dup:218}],364:[function(t,e,i){var n=t("./_export"),r=t("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},{"./_export":269,"./_replacer":328}],365:[function(t,e,i){var n=t("./_export");n(n.P,"Array",{copyWithin:t("./_array-copy-within")}),t("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":241,"./_array-copy-within":244,"./_export":269}],366:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(4);n(n.P+n.F*!t("./_strict-method")([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},{"./_array-methods":248,"./_export":269,"./_strict-method":338}],367:[function(t,e,i){var n=t("./_export");n(n.P,"Array",{fill:t("./_array-fill")}),t("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":241,"./_array-fill":245,"./_export":269}],368:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(2);n(n.P+n.F*!t("./_strict-method")([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},{"./_array-methods":248,"./_export":269,"./_strict-method":338}],369:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(6),o="findIndex",s=!0;o in[]&&Array(1)[o](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":241,"./_array-methods":248,"./_export":269}],370:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(5),o="find",s=!0;o in[]&&Array(1)[o](function(){s=!1}),n(n.P+n.F*s,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")(o)},{"./_add-to-unscopables":241,"./_array-methods":248,"./_export":269}],371:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(0),o=t("./_strict-method")([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},{"./_array-methods":248,"./_export":269,"./_strict-method":338}],372:[function(t,e,i){arguments[4][221][0].apply(i,arguments)},{"./_create-property":260,"./_ctx":261,"./_export":269,"./_is-array-iter":284,"./_iter-call":289,"./_iter-detect":292,"./_to-length":351,"./_to-object":352,"./core.get-iterator-method":363,dup:221}],373:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-includes")(!1),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(s||!t("./_strict-method")(o)),"Array",{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},{"./_array-includes":247,"./_export":269,"./_strict-method":338}],374:[function(t,e,i){var n=t("./_export");n(n.S,"Array",{isArray:t("./_is-array")})},{"./_export":269,"./_is-array":285}],375:[function(t,e,i){arguments[4][222][0].apply(i,arguments)},{"./_add-to-unscopables":241,"./_iter-define":291,"./_iter-step":293,"./_iterators":294,"./_to-iobject":350,dup:222}],376:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-iobject"),o=[].join;n(n.P+n.F*(t("./_iobject")!=Object||!t("./_strict-method")(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},{"./_export":269,"./_iobject":283,"./_strict-method":338,"./_to-iobject":350}],377:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-iobject"),o=t("./_to-integer"),s=t("./_to-length"),a=[].lastIndexOf,l=!!a&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(l||!t("./_strict-method")(a)),"Array",{lastIndexOf:function(t){if(l)return a.apply(this,arguments)||0;var e=r(this),i=s(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},{"./_export":269,"./_strict-method":338,"./_to-integer":349,"./_to-iobject":350,"./_to-length":351}],378:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(1);n(n.P+n.F*!t("./_strict-method")([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},{"./_array-methods":248,"./_export":269,"./_strict-method":338}],379:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_create-property");n(n.S+n.F*t("./_fails")(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},{"./_create-property":260,"./_export":269,"./_fails":271}],380:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-reduce");n(n.P+n.F*!t("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},{"./_array-reduce":249,"./_export":269,"./_strict-method":338}],381:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-reduce");n(n.P+n.F*!t("./_strict-method")([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},{"./_array-reduce":249,"./_export":269,"./_strict-method":338}],382:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_html"),o=t("./_cof"),s=t("./_to-absolute-index"),a=t("./_to-length"),l=[].slice;n(n.P+n.F*t("./_fails")(function(){r&&l.call(r)}),"Array",{slice:function(t,e){var i=a(this.length),n=o(this);if(e=void 0===e?i:e,"Array"==n)return l.call(this,t,e);for(var r=s(t,i),u=s(e,i),c=a(u-r),h=new Array(c),f=0;f<c;f++)h[f]="String"==n?this.charAt(r+f):this[r+f];return h}})},{"./_cof":254,"./_export":269,"./_fails":271,"./_html":279,"./_to-absolute-index":347,"./_to-length":351}],383:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-methods")(3);n(n.P+n.F*!t("./_strict-method")([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},{"./_array-methods":248,"./_export":269,"./_strict-method":338}],384:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_a-function"),o=t("./_to-object"),s=t("./_fails"),a=[].sort,l=[1,2,3];n(n.P+n.F*(s(function(){l.sort(void 0)})||!s(function(){l.sort(null)})||!t("./_strict-method")(a)),"Array",{sort:function(t){return void 0===t?a.call(o(this)):a.call(o(this),r(t))}})},{"./_a-function":239,"./_export":269,"./_fails":271,"./_strict-method":338,"./_to-object":352}],385:[function(t,e,i){t("./_set-species")("Array")},{"./_set-species":333}],386:[function(t,e,i){var n=t("./_export");n(n.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":269}],387:[function(t,e,i){var n=t("./_export"),r=t("./_date-to-iso-string");n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},{"./_date-to-iso-string":262,"./_export":269}],388:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive");n(n.P+n.F*t("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},{"./_export":269,"./_fails":271,"./_to-object":352,"./_to-primitive":353}],389:[function(t,e,i){var n=t("./_wks")("toPrimitive"),r=Date.prototype;n in r||t("./_hide")(r,n,t("./_date-to-primitive"))},{"./_date-to-primitive":263,"./_hide":278,"./_wks":362}],390:[function(t,e,i){var n=Date.prototype,r="Invalid Date",o="toString",s=n[o],a=n.getTime;new Date(NaN)+""!=r&&t("./_redefine")(n,o,function(){var t=a.call(this);return t===t?s.call(this):r})},{"./_redefine":327}],391:[function(t,e,i){var n=t("./_export");n(n.P,"Function",{bind:t("./_bind")})},{"./_bind":252,"./_export":269}],392:[function(t,e,i){"use strict";var n=t("./_is-object"),r=t("./_object-gpo"),o=t("./_wks")("hasInstance"),s=Function.prototype;o in s||t("./_object-dp").f(s,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},{"./_is-object":287,"./_object-dp":307,"./_object-gpo":314,"./_wks":362}],393:[function(t,e,i){var n=t("./_object-dp").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in r||t("./_descriptors")&&n(r,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{"./_descriptors":265,"./_object-dp":307}],394:[function(t,e,i){"use strict";var n=t("./_collection-strong"),r=t("./_validate-collection"),o="Map";e.exports=t("./_collection")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(r(this,o),t);return e&&e.v},set:function(t,e){return n.def(r(this,o),0===t?0:t,e)}},n,!0)},{"./_collection":258,"./_collection-strong":255,"./_validate-collection":359}],395:[function(t,e,i){var n=t("./_export"),r=t("./_math-log1p"),o=Math.sqrt,s=Math.acosh;n(n.S+n.F*!(s&&710==Math.floor(s(Number.MAX_VALUE))&&s(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},{"./_export":269,"./_math-log1p":298}],396:[function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=t("./_export"),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:n})},{"./_export":269}],397:[function(t,e,i){var n=t("./_export"),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{"./_export":269}],398:[function(t,e,i){var n=t("./_export"),r=t("./_math-sign");n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},{"./_export":269,"./_math-sign":300}],399:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{"./_export":269}],400:[function(t,e,i){var n=t("./_export"),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},{"./_export":269}],401:[function(t,e,i){var n=t("./_export"),r=t("./_math-expm1");n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},{"./_export":269,"./_math-expm1":296}],402:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{fround:t("./_math-fround")})},{"./_export":269,"./_math-fround":297}],403:[function(t,e,i){var n=t("./_export"),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,o=0,s=0,a=arguments.length,l=0;s<a;)i=r(arguments[s++]),l<i?(n=l/i,o=o*n*n+1,l=i):i>0?(n=i/l,o+=n*n):o+=i;return l===1/0?1/0:l*Math.sqrt(o)}})},{"./_export":269}],404:[function(t,e,i){var n=t("./_export"),r=Math.imul;n(n.S+n.F*t("./_fails")(function(){return r(4294967295,5)!=-5||2!=r.length}),"Math",{imul:function(t,e){var i=65535,n=+t,r=+e,o=i&n,s=i&r;return 0|o*s+((i&n>>>16)*s+o*(i&r>>>16)<<16>>>0)}})},{"./_export":269,"./_fails":271}],405:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{"./_export":269}],406:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{log1p:t("./_math-log1p")})},{"./_export":269,"./_math-log1p":298}],407:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{"./_export":269}],408:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{sign:t("./_math-sign")})},{"./_export":269,"./_math-sign":300}],409:[function(t,e,i){var n=t("./_export"),r=t("./_math-expm1"),o=Math.exp;n(n.S+n.F*t("./_fails")(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{"./_export":269,"./_fails":271,"./_math-expm1":296}],410:[function(t,e,i){var n=t("./_export"),r=t("./_math-expm1"),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},{"./_export":269,"./_math-expm1":296}],411:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},{"./_export":269}],412:[function(t,e,i){"use strict";var n=t("./_global"),r=t("./_has"),o=t("./_cof"),s=t("./_inherit-if-required"),a=t("./_to-primitive"),l=t("./_fails"),u=t("./_object-gopn").f,c=t("./_object-gopd").f,h=t("./_object-dp").f,f=t("./_string-trim").trim,d="Number",p=n[d],g=p,m=p.prototype,v=o(t("./_object-create")(m))==d,y="trim"in String.prototype,_=function(t){var e=a(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():f(e,3);var i,n,r,o=e.charCodeAt(0);if(43===o||45===o){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:
case 111:n=8,r=55;break;default:return+e}for(var s,l=e.slice(2),u=0,c=l.length;u<c;u++)if(s=l.charCodeAt(u),s<48||s>r)return NaN;return parseInt(l,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(v?l(function(){m.valueOf.call(i)}):o(i)!=d)?s(new g(_(e)),i,p):_(e)};for(var b,x=t("./_descriptors")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;x.length>w;w++)r(g,b=x[w])&&!r(p,b)&&h(p,b,c(g,b));p.prototype=m,m.constructor=p,t("./_redefine")(n,d,p)}},{"./_cof":254,"./_descriptors":265,"./_fails":271,"./_global":276,"./_has":277,"./_inherit-if-required":281,"./_object-create":306,"./_object-dp":307,"./_object-gopd":310,"./_object-gopn":312,"./_redefine":327,"./_string-trim":344,"./_to-primitive":353}],413:[function(t,e,i){var n=t("./_export");n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":269}],414:[function(t,e,i){var n=t("./_export"),r=t("./_global").isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},{"./_export":269,"./_global":276}],415:[function(t,e,i){var n=t("./_export");n(n.S,"Number",{isInteger:t("./_is-integer")})},{"./_export":269,"./_is-integer":286}],416:[function(t,e,i){var n=t("./_export");n(n.S,"Number",{isNaN:function(t){return t!=t}})},{"./_export":269}],417:[function(t,e,i){var n=t("./_export"),r=t("./_is-integer"),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},{"./_export":269,"./_is-integer":286}],418:[function(t,e,i){var n=t("./_export");n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":269}],419:[function(t,e,i){var n=t("./_export");n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":269}],420:[function(t,e,i){var n=t("./_export"),r=t("./_parse-float");n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},{"./_export":269,"./_parse-float":321}],421:[function(t,e,i){var n=t("./_export"),r=t("./_parse-int");n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},{"./_export":269,"./_parse-int":322}],422:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-integer"),o=t("./_a-number-value"),s=t("./_string-repeat"),a=1..toFixed,l=Math.floor,u=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",h="0",f=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*u[i],u[i]=n%1e7,n=l(n/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=u[e],u[e]=l(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==u[t]){var i=String(u[t]);e=""===e?i:e+s.call(h,7-i.length)+i}return e},g=function(t,e,i){return 0===e?i:e%2===1?g(t,e-1,i*t):g(t*t,e/2,i)},m=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e};n(n.P+n.F*(!!a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t("./_fails")(function(){a.call({})})),"Number",{toFixed:function(t){var e,i,n,a,l=o(this,c),u=r(t),v="",y=h;if(u<0||u>20)throw RangeError(c);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v="-",l=-l),l>1e-21)if(e=m(l*g(2,69,1))-69,i=e<0?l*g(2,-e,1):l/g(2,e,1),i*=4503599627370496,e=52-e,e>0){for(f(0,i),n=u;n>=7;)f(1e7,0),n-=7;for(f(g(10,n,1),0),n=e-1;n>=23;)d(1<<23),n-=23;d(1<<n),f(1,1),d(2),y=p()}else f(0,i),f(1<<-e,0),y=p()+s.call(h,u);return u>0?(a=y.length,y=v+(a<=u?"0."+s.call(h,u-a)+y:y.slice(0,a-u)+"."+y.slice(a-u))):y=v+y,y}})},{"./_a-number-value":240,"./_export":269,"./_fails":271,"./_string-repeat":343,"./_to-integer":349}],423:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_fails"),o=t("./_a-number-value"),s=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==s.call(1,void 0)})||!r(function(){s.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?s.call(e):s.call(e,t)}})},{"./_a-number-value":240,"./_export":269,"./_fails":271}],424:[function(t,e,i){arguments[4][223][0].apply(i,arguments)},{"./_export":269,"./_object-assign":305,dup:223}],425:[function(t,e,i){arguments[4][224][0].apply(i,arguments)},{"./_export":269,"./_object-create":306,dup:224}],426:[function(t,e,i){var n=t("./_export");n(n.S+n.F*!t("./_descriptors"),"Object",{defineProperties:t("./_object-dps")})},{"./_descriptors":265,"./_export":269,"./_object-dps":308}],427:[function(t,e,i){arguments[4][225][0].apply(i,arguments)},{"./_descriptors":265,"./_export":269,"./_object-dp":307,dup:225}],428:[function(t,e,i){var n=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},{"./_is-object":287,"./_meta":301,"./_object-sap":318}],429:[function(t,e,i){arguments[4][226][0].apply(i,arguments)},{"./_object-gopd":310,"./_object-sap":318,"./_to-iobject":350,dup:226}],430:[function(t,e,i){t("./_object-sap")("getOwnPropertyNames",function(){return t("./_object-gopn-ext").f})},{"./_object-gopn-ext":311,"./_object-sap":318}],431:[function(t,e,i){arguments[4][227][0].apply(i,arguments)},{"./_object-gpo":314,"./_object-sap":318,"./_to-object":352,dup:227}],432:[function(t,e,i){var n=t("./_is-object");t("./_object-sap")("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},{"./_is-object":287,"./_object-sap":318}],433:[function(t,e,i){var n=t("./_is-object");t("./_object-sap")("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":287,"./_object-sap":318}],434:[function(t,e,i){var n=t("./_is-object");t("./_object-sap")("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},{"./_is-object":287,"./_object-sap":318}],435:[function(t,e,i){var n=t("./_export");n(n.S,"Object",{is:t("./_same-value")})},{"./_export":269,"./_same-value":329}],436:[function(t,e,i){arguments[4][228][0].apply(i,arguments)},{"./_object-keys":316,"./_object-sap":318,"./_to-object":352,dup:228}],437:[function(t,e,i){var n=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},{"./_is-object":287,"./_meta":301,"./_object-sap":318}],438:[function(t,e,i){var n=t("./_is-object"),r=t("./_meta").onFreeze;t("./_object-sap")("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},{"./_is-object":287,"./_meta":301,"./_object-sap":318}],439:[function(t,e,i){arguments[4][229][0].apply(i,arguments)},{"./_export":269,"./_set-proto":332,dup:229}],440:[function(t,e,i){"use strict";var n=t("./_classof"),r={};r[t("./_wks")("toStringTag")]="z",r+""!="[object z]"&&t("./_redefine")(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},{"./_classof":253,"./_redefine":327,"./_wks":362}],441:[function(t,e,i){var n=t("./_export"),r=t("./_parse-float");n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},{"./_export":269,"./_parse-float":321}],442:[function(t,e,i){var n=t("./_export"),r=t("./_parse-int");n(n.G+n.F*(parseInt!=r),{parseInt:r})},{"./_export":269,"./_parse-int":322}],443:[function(t,e,i){arguments[4][231][0].apply(i,arguments)},{"./_a-function":239,"./_an-instance":242,"./_classof":253,"./_core":259,"./_ctx":261,"./_export":269,"./_for-of":275,"./_global":276,"./_is-object":287,"./_iter-detect":292,"./_library":295,"./_microtask":303,"./_new-promise-capability":304,"./_perform":323,"./_promise-resolve":324,"./_redefine-all":326,"./_set-species":333,"./_set-to-string-tag":334,"./_species-constructor":337,"./_task":346,"./_wks":362,dup:231}],444:[function(t,e,i){var n=t("./_export"),r=t("./_a-function"),o=t("./_an-object"),s=(t("./_global").Reflect||{}).apply,a=Function.apply;n(n.S+n.F*!t("./_fails")(function(){s(function(){})}),"Reflect",{apply:function(t,e,i){var n=r(t),l=o(i);return s?s(n,e,l):a.call(n,e,l)}})},{"./_a-function":239,"./_an-object":243,"./_export":269,"./_fails":271,"./_global":276}],445:[function(t,e,i){var n=t("./_export"),r=t("./_object-create"),o=t("./_a-function"),s=t("./_an-object"),a=t("./_is-object"),l=t("./_fails"),u=t("./_bind"),c=(t("./_global").Reflect||{}).construct,h=l(function(){function t(){}return!(c(function(){},[],t)instanceof t)}),f=!l(function(){c(function(){})});n(n.S+n.F*(h||f),"Reflect",{construct:function(t,e){o(t),s(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!h)return c(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(u.apply(t,n))}var l=i.prototype,d=r(a(l)?l:Object.prototype),p=Function.apply.call(t,d,e);return a(p)?p:d}})},{"./_a-function":239,"./_an-object":243,"./_bind":252,"./_export":269,"./_fails":271,"./_global":276,"./_is-object":287,"./_object-create":306}],446:[function(t,e,i){var n=t("./_object-dp"),r=t("./_export"),o=t("./_an-object"),s=t("./_to-primitive");r(r.S+r.F*t("./_fails")(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){o(t),e=s(e,!0),o(i);try{return n.f(t,e,i),!0}catch(r){return!1}}})},{"./_an-object":243,"./_export":269,"./_fails":271,"./_object-dp":307,"./_to-primitive":353}],447:[function(t,e,i){var n=t("./_export"),r=t("./_object-gopd").f,o=t("./_an-object");n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},{"./_an-object":243,"./_export":269,"./_object-gopd":310}],448:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_an-object"),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};t("./_iter-create")(o,"Object",function(){var t,e=this,i=e._k;do if(e._i>=i.length)return{value:void 0,done:!0};while(!((t=i[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},{"./_an-object":243,"./_export":269,"./_iter-create":290}],449:[function(t,e,i){var n=t("./_object-gopd"),r=t("./_export"),o=t("./_an-object");r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},{"./_an-object":243,"./_export":269,"./_object-gopd":310}],450:[function(t,e,i){var n=t("./_export"),r=t("./_object-gpo"),o=t("./_an-object");n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},{"./_an-object":243,"./_export":269,"./_object-gpo":314}],451:[function(t,e,i){function n(t,e){var i,a,c=arguments.length<3?t:arguments[2];return u(t)===c?t[e]:(i=r.f(t,e))?s(i,"value")?i.value:void 0!==i.get?i.get.call(c):void 0:l(a=o(t))?n(a,e,c):void 0}var r=t("./_object-gopd"),o=t("./_object-gpo"),s=t("./_has"),a=t("./_export"),l=t("./_is-object"),u=t("./_an-object");a(a.S,"Reflect",{get:n})},{"./_an-object":243,"./_export":269,"./_has":277,"./_is-object":287,"./_object-gopd":310,"./_object-gpo":314}],452:[function(t,e,i){var n=t("./_export");n(n.S,"Reflect",{has:function(t,e){return e in t}})},{"./_export":269}],453:[function(t,e,i){var n=t("./_export"),r=t("./_an-object"),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},{"./_an-object":243,"./_export":269}],454:[function(t,e,i){var n=t("./_export");n(n.S,"Reflect",{ownKeys:t("./_own-keys")})},{"./_export":269,"./_own-keys":320}],455:[function(t,e,i){var n=t("./_export"),r=t("./_an-object"),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(e){return!1}}})},{"./_an-object":243,"./_export":269}],456:[function(t,e,i){var n=t("./_export"),r=t("./_set-proto");r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(i){return!1}}})},{"./_export":269,"./_set-proto":332}],457:[function(t,e,i){function n(t,e,i){var l,f,d=arguments.length<4?t:arguments[3],p=o.f(c(t),e);if(!p){if(h(f=s(t)))return n(f,e,i,d);p=u(0)}return a(p,"value")?!(p.writable===!1||!h(d))&&(l=o.f(d,e)||u(0),l.value=i,r.f(d,e,l),!0):void 0!==p.set&&(p.set.call(d,i),!0)}var r=t("./_object-dp"),o=t("./_object-gopd"),s=t("./_object-gpo"),a=t("./_has"),l=t("./_export"),u=t("./_property-desc"),c=t("./_an-object"),h=t("./_is-object");l(l.S,"Reflect",{set:n})},{"./_an-object":243,"./_export":269,"./_has":277,"./_is-object":287,"./_object-dp":307,"./_object-gopd":310,"./_object-gpo":314,"./_property-desc":325}],458:[function(t,e,i){var n=t("./_global"),r=t("./_inherit-if-required"),o=t("./_object-dp").f,s=t("./_object-gopn").f,a=t("./_is-regexp"),l=t("./_flags"),u=n.RegExp,c=u,h=u.prototype,f=/a/g,d=/a/g,p=new u(f)!==f;if(t("./_descriptors")&&(!p||t("./_fails")(function(){return d[t("./_wks")("match")]=!1,u(f)!=f||u(d)==d||"/a/i"!=u(f,"i")}))){u=function(t,e){var i=this instanceof u,n=a(t),o=void 0===e;return!i&&n&&t.constructor===u&&o?t:r(p?new c(n&&!o?t.source:t,e):c((n=t instanceof u)?t.source:t,n&&o?l.call(t):e),i?this:h,u)};for(var g=(function(t){t in u||o(u,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})}),m=s(c),v=0;m.length>v;)g(m[v++]);h.constructor=u,u.prototype=h,t("./_redefine")(n,"RegExp",u)}t("./_set-species")("RegExp")},{"./_descriptors":265,"./_fails":271,"./_flags":273,"./_global":276,"./_inherit-if-required":281,"./_is-regexp":288,"./_object-dp":307,"./_object-gopn":312,"./_redefine":327,"./_set-species":333,"./_wks":362}],459:[function(t,e,i){t("./_descriptors")&&"g"!=/./g.flags&&t("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:t("./_flags")})},{"./_descriptors":265,"./_flags":273,"./_object-dp":307}],460:[function(t,e,i){t("./_fix-re-wks")("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},{"./_fix-re-wks":272}],461:[function(t,e,i){t("./_fix-re-wks")("replace",2,function(t,e,i){return[function(n,r){"use strict";var o=t(this),s=void 0==n?void 0:n[e];return void 0!==s?s.call(n,o,r):i.call(String(o),n,r)},i]})},{"./_fix-re-wks":272}],462:[function(t,e,i){t("./_fix-re-wks")("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},{"./_fix-re-wks":272}],463:[function(t,e,i){t("./_fix-re-wks")("split",2,function(e,i,n){"use strict";var r=t("./_is-regexp"),o=n,s=[].push,a="split",l="length",u="lastIndex";if("c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[l]||2!="ab"[a](/(?:ab)*/)[l]||4!="."[a](/(.?)(.?)/)[l]||"."[a](/()()/)[l]>1||""[a](/.?/)[l]){var c=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(i,t,e);var n,a,h,f,d,p=[],g=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=void 0===e?4294967295:e>>>0,y=new RegExp(t.source,g+"g");for(c||(n=new RegExp("^"+y.source+"$(?!\\s)",g));(a=y.exec(i))&&(h=a.index+a[0][l],!(h>m&&(p.push(i.slice(m,a.index)),!c&&a[l]>1&&a[0].replace(n,function(){for(d=1;d<arguments[l]-2;d++)void 0===arguments[d]&&(a[d]=void 0)}),a[l]>1&&a.index<i[l]&&s.apply(p,a.slice(1)),f=a[0][l],m=h,p[l]>=v)));)y[u]===a.index&&y[u]++;return m===i[l]?!f&&y.test("")||p.push(""):p.push(i.slice(m)),p[l]>v?p.slice(0,v):p}}else"0"[a](void 0,0)[l]&&(n=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(t,r){var o=e(this),s=void 0==t?void 0:t[i];return void 0!==s?s.call(t,o,r):n.call(String(o),t,r)},n]})},{"./_fix-re-wks":272,"./_is-regexp":288}],464:[function(t,e,i){"use strict";t("./es6.regexp.flags");var n=t("./_an-object"),r=t("./_flags"),o=t("./_descriptors"),s="toString",a=/./[s],l=function(e){t("./_redefine")(RegExp.prototype,s,e,!0)};t("./_fails")(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?l(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):a.name!=s&&l(function(){return a.call(this)})},{"./_an-object":243,"./_descriptors":265,"./_fails":271,"./_flags":273,"./_redefine":327,"./es6.regexp.flags":459}],465:[function(t,e,i){"use strict";var n=t("./_collection-strong"),r=t("./_validate-collection"),o="Set";e.exports=t("./_collection")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,o),t=0===t?0:t,t)}},n)},{"./_collection":258,"./_collection-strong":255,"./_validate-collection":359}],466:[function(t,e,i){"use strict";t("./_string-html")("anchor",function(t){return function(e){return t(this,"a","name",e)}})},{"./_string-html":341}],467:[function(t,e,i){"use strict";t("./_string-html")("big",function(t){return function(){return t(this,"big","","")}})},{"./_string-html":341}],468:[function(t,e,i){"use strict";t("./_string-html")("blink",function(t){return function(){return t(this,"blink","","")}})},{"./_string-html":341}],469:[function(t,e,i){"use strict";t("./_string-html")("bold",function(t){return function(){return t(this,"b","","")}})},{"./_string-html":341}],470:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_string-at")(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},{"./_export":269,"./_string-at":339}],471:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),s="endsWith",a=""[s];n(n.P+n.F*t("./_fails-is-regexp")(s),"String",{endsWith:function(t){var e=o(this,t,s),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),l=void 0===i?n:Math.min(r(i),n),u=String(t);return a?a.call(e,u,l):e.slice(l-u.length,l)===u}})},{"./_export":269,"./_fails-is-regexp":270,"./_string-context":340,"./_to-length":351}],472:[function(t,e,i){"use strict";t("./_string-html")("fixed",function(t){return function(){return t(this,"tt","","")}})},{"./_string-html":341}],473:[function(t,e,i){"use strict";t("./_string-html")("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},{"./_string-html":341}],474:[function(t,e,i){"use strict";t("./_string-html")("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},{"./_string-html":341}],475:[function(t,e,i){var n=t("./_export"),r=t("./_to-absolute-index"),o=String.fromCharCode,s=String.fromCodePoint;n(n.S+n.F*(!!s&&1!=s.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,s=0;n>s;){if(e=+arguments[s++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(((e-=65536)>>10)+55296,e%1024+56320))}return i.join("")}})},{"./_export":269,"./_to-absolute-index":347}],476:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_string-context"),o="includes";n(n.P+n.F*t("./_fails-is-regexp")(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"./_export":269,"./_fails-is-regexp":270,"./_string-context":340}],477:[function(t,e,i){"use strict";t("./_string-html")("italics",function(t){return function(){return t(this,"i","","")}})},{"./_string-html":341}],478:[function(t,e,i){arguments[4][232][0].apply(i,arguments)},{"./_iter-define":291,"./_string-at":339,dup:232}],479:[function(t,e,i){"use strict";t("./_string-html")("link",function(t){return function(e){return t(this,"a","href",e)}})},{"./_string-html":341}],480:[function(t,e,i){var n=t("./_export"),r=t("./_to-iobject"),o=t("./_to-length");n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,s=[],a=0;i>a;)s.push(String(e[a++])),a<n&&s.push(String(arguments[a]));return s.join("")}})},{"./_export":269,"./_to-iobject":350,"./_to-length":351}],481:[function(t,e,i){var n=t("./_export");n(n.P,"String",{repeat:t("./_string-repeat")})},{"./_export":269,"./_string-repeat":343}],482:[function(t,e,i){"use strict";t("./_string-html")("small",function(t){return function(){return t(this,"small","","")}})},{"./_string-html":341}],483:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-length"),o=t("./_string-context"),s="startsWith",a=""[s];n(n.P+n.F*t("./_fails-is-regexp")(s),"String",{startsWith:function(t){var e=o(this,t,s),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return a?a.call(e,n,i):e.slice(i,i+n.length)===n}})},{"./_export":269,"./_fails-is-regexp":270,"./_string-context":340,"./_to-length":351}],484:[function(t,e,i){"use strict";t("./_string-html")("strike",function(t){return function(){return t(this,"strike","","")}})},{"./_string-html":341}],485:[function(t,e,i){"use strict";t("./_string-html")("sub",function(t){return function(){return t(this,"sub","","")}})},{"./_string-html":341}],486:[function(t,e,i){"use strict";t("./_string-html")("sup",function(t){return function(){return t(this,"sup","","")}})},{"./_string-html":341}],487:[function(t,e,i){"use strict";t("./_string-trim")("trim",function(t){return function(){return t(this,3)}})},{"./_string-trim":344}],488:[function(t,e,i){arguments[4][233][0].apply(i,arguments)},{"./_an-object":243,"./_descriptors":265,"./_enum-keys":268,"./_export":269,"./_fails":271,"./_global":276,"./_has":277,"./_hide":278,"./_is-array":285,"./_is-object":287,"./_library":295,"./_meta":301,"./_object-create":306,"./_object-dp":307,"./_object-gopd":310,"./_object-gopn":312,"./_object-gopn-ext":311,"./_object-gops":313,"./_object-keys":316,"./_object-pie":317,"./_property-desc":325,"./_redefine":327,"./_set-to-string-tag":334,"./_shared":336,"./_to-iobject":350,"./_to-primitive":353,"./_uid":357,"./_wks":362,"./_wks-define":360,"./_wks-ext":361,dup:233}],489:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_typed"),o=t("./_typed-buffer"),s=t("./_an-object"),a=t("./_to-absolute-index"),l=t("./_to-length"),u=t("./_is-object"),c=t("./_global").ArrayBuffer,h=t("./_species-constructor"),f=o.ArrayBuffer,d=o.DataView,p=r.ABV&&c.isView,g=f.prototype.slice,m=r.VIEW,v="ArrayBuffer";n(n.G+n.W+n.F*(c!==f),{ArrayBuffer:f}),n(n.S+n.F*!r.CONSTR,v,{isView:function(t){return p&&p(t)||u(t)&&m in t}}),n(n.P+n.U+n.F*t("./_fails")(function(){return!new f(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(s(this),t);for(var i=s(this).byteLength,n=a(t,i),r=a(void 0===e?i:e,i),o=new(h(this,f))(l(r-n)),u=new d(this),c=new d(o),p=0;n<r;)c.setUint8(p++,u.getUint8(n++));return o}}),t("./_set-species")(v)},{"./_an-object":243,"./_export":269,"./_fails":271,"./_global":276,"./_is-object":287,"./_set-species":333,"./_species-constructor":337,"./_to-absolute-index":347,"./_to-length":351,"./_typed":356,"./_typed-buffer":355}],490:[function(t,e,i){var n=t("./_export");n(n.G+n.W+n.F*!t("./_typed").ABV,{DataView:t("./_typed-buffer").DataView})},{"./_export":269,"./_typed":356,"./_typed-buffer":355}],491:[function(t,e,i){t("./_typed-array")("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],492:[function(t,e,i){t("./_typed-array")("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],493:[function(t,e,i){t("./_typed-array")("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],494:[function(t,e,i){t("./_typed-array")("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],495:[function(t,e,i){t("./_typed-array")("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],496:[function(t,e,i){t("./_typed-array")("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],497:[function(t,e,i){t("./_typed-array")("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],498:[function(t,e,i){t("./_typed-array")("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},{"./_typed-array":354}],499:[function(t,e,i){t("./_typed-array")("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},{"./_typed-array":354}],500:[function(t,e,i){"use strict";var n,r=t("./_array-methods")(0),o=t("./_redefine"),s=t("./_meta"),a=t("./_object-assign"),l=t("./_collection-weak"),u=t("./_is-object"),c=t("./_fails"),h=t("./_validate-collection"),f="WeakMap",d=s.getWeak,p=Object.isExtensible,g=l.ufstore,m={},v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(u(t)){var e=d(t);return e===!0?g(h(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(h(this,f),t,e)}},_=e.exports=t("./_collection")(f,v,y,l,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(m),7).get(m)})&&(n=l.getConstructor(v,f),a(n.prototype,y),s.NEED=!0,r(["delete","has","get","set"],function(t){var e=_.prototype,i=e[t];o(e,t,function(e,r){if(u(e)&&!p(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)})}))},{"./_array-methods":248,"./_collection":258,"./_collection-weak":257,"./_fails":271,"./_is-object":287,"./_meta":301,"./_object-assign":305,"./_redefine":327,"./_validate-collection":359}],501:[function(t,e,i){"use strict";var n=t("./_collection-weak"),r=t("./_validate-collection"),o="WeakSet";t("./_collection")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(r(this,o),t,!0)}},n,!1,!0)},{"./_collection":258,"./_collection-weak":257,"./_validate-collection":359}],502:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_flatten-into-array"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_a-function"),l=t("./_array-species-create");n(n.P,"Array",{flatMap:function(t){var e,i,n=o(this);return a(t),e=s(n.length),i=l(n,0),r(i,n,n,e,0,1,t,arguments[1]),i}}),t("./_add-to-unscopables")("flatMap")},{"./_a-function":239,"./_add-to-unscopables":241,"./_array-species-create":251,"./_export":269,"./_flatten-into-array":274,"./_to-length":351,"./_to-object":352}],503:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_flatten-into-array"),o=t("./_to-object"),s=t("./_to-length"),a=t("./_to-integer"),l=t("./_array-species-create");n(n.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),i=s(e.length),n=l(e,0);return r(n,e,e,i,0,void 0===t?1:a(t)),n}}),t("./_add-to-unscopables")("flatten")},{"./_add-to-unscopables":241,"./_array-species-create":251,"./_export":269,"./_flatten-into-array":274,"./_to-integer":349,"./_to-length":351,"./_to-object":352}],504:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_array-includes")(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),t("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":241,"./_array-includes":247,"./_export":269}],505:[function(t,e,i){var n=t("./_export"),r=t("./_microtask")(),o=t("./_global").process,s="process"==t("./_cof")(o);n(n.G,{asap:function(t){var e=s&&o.domain;r(e?e.bind(t):t)}})},{"./_cof":254,"./_export":269,"./_global":276,"./_microtask":303}],506:[function(t,e,i){var n=t("./_export"),r=t("./_cof");n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},{"./_cof":254,"./_export":269}],507:[function(t,e,i){var n=t("./_export");n(n.G,{global:t("./_global")})},{"./_export":269,"./_global":276}],508:[function(t,e,i){t("./_set-collection-from")("Map")},{"./_set-collection-from":330}],509:[function(t,e,i){t("./_set-collection-of")("Map")},{"./_set-collection-of":331}],510:[function(t,e,i){var n=t("./_export");n(n.P+n.R,"Map",{toJSON:t("./_collection-to-json")("Map")})},{"./_collection-to-json":256,"./_export":269}],511:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},{"./_export":269}],512:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},{"./_export":269}],513:[function(t,e,i){var n=t("./_export"),r=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*r}})},{"./_export":269}],514:[function(t,e,i){var n=t("./_export"),r=t("./_math-scale"),o=t("./_math-fround");n(n.S,"Math",{fscale:function(t,e,i,n,s){return o(r(t,e,i,n,s))}})},{"./_export":269,"./_math-fround":297,"./_math-scale":299}],515:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,o=e>>>0,s=i>>>0;return o+(n>>>0)+((r&s|(r|s)&~(r+s>>>0))>>>31)|0}})},{"./_export":269}],516:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{imulh:function(t,e){var i=65535,n=+t,r=+e,o=n&i,s=r&i,a=n>>16,l=r>>16,u=(a*s>>>0)+(o*s>>>16);return a*l+(u>>16)+((o*l>>>0)+(u&i)>>16)}})},{"./_export":269}],517:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,o=e>>>0,s=i>>>0;return o-(n>>>0)-((~r&s|~(r^s)&r-s>>>0)>>>31)|0}})},{"./_export":269}],518:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},{"./_export":269}],519:[function(t,e,i){var n=t("./_export"),r=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*r}})},{"./_export":269}],520:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{scale:t("./_math-scale")})},{"./_export":269,"./_math-scale":299}],521:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},{"./_export":269}],522:[function(t,e,i){var n=t("./_export");n(n.S,"Math",{umulh:function(t,e){var i=65535,n=+t,r=+e,o=n&i,s=r&i,a=n>>>16,l=r>>>16,u=(a*s>>>0)+(o*s>>>16);return a*l+(u>>>16)+((o*l>>>0)+(u&i)>>>16)}})},{"./_export":269}],523:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-object"),o=t("./_a-function"),s=t("./_object-dp");t("./_descriptors")&&n(n.P+t("./_object-forced-pam"),"Object",{__defineGetter__:function(t,e){s.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},{"./_a-function":239,"./_descriptors":265,"./_export":269,"./_object-dp":307,"./_object-forced-pam":309,"./_to-object":352}],524:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-object"),o=t("./_a-function"),s=t("./_object-dp");t("./_descriptors")&&n(n.P+t("./_object-forced-pam"),"Object",{__defineSetter__:function(t,e){s.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},{"./_a-function":239,"./_descriptors":265,"./_export":269,"./_object-dp":307,"./_object-forced-pam":309,"./_to-object":352}],525:[function(t,e,i){var n=t("./_export"),r=t("./_object-to-array")(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},{"./_export":269,"./_object-to-array":319}],526:[function(t,e,i){var n=t("./_export"),r=t("./_own-keys"),o=t("./_to-iobject"),s=t("./_object-gopd"),a=t("./_create-property");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,n=o(t),l=s.f,u=r(n),c={},h=0;u.length>h;)i=l(n,e=u[h++]),void 0!==i&&a(c,e,i);return c}})},{"./_create-property":260,"./_export":269,"./_object-gopd":310,"./_own-keys":320,"./_to-iobject":350}],527:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive"),s=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&n(n.P+t("./_object-forced-pam"),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=o(t,!0);do if(e=a(i,n))return e.get;while(i=s(i))}})},{"./_descriptors":265,"./_export":269,"./_object-forced-pam":309,"./_object-gopd":310,"./_object-gpo":314,"./_to-object":352,"./_to-primitive":353}],528:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_to-object"),o=t("./_to-primitive"),s=t("./_object-gpo"),a=t("./_object-gopd").f;t("./_descriptors")&&n(n.P+t("./_object-forced-pam"),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=o(t,!0);do if(e=a(i,n))return e.set;while(i=s(i))}})},{"./_descriptors":265,"./_export":269,"./_object-forced-pam":309,"./_object-gopd":310,"./_object-gpo":314,"./_to-object":352,"./_to-primitive":353}],529:[function(t,e,i){var n=t("./_export"),r=t("./_object-to-array")(!1);n(n.S,"Object",{values:function(t){return r(t)}})},{"./_export":269,"./_object-to-array":319}],530:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_global"),o=t("./_core"),s=t("./_microtask")(),a=t("./_wks")("observable"),l=t("./_a-function"),u=t("./_an-object"),c=t("./_an-instance"),h=t("./_redefine-all"),f=t("./_hide"),d=t("./_for-of"),p=d.RETURN,g=function(t){return null==t?void 0:l(t)},m=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},y=function(t){v(t)||(t._o=void 0,
m(t))},_=function(t,e){u(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:l(i),this._c=i)}catch(r){return void t.error(r)}v(this)&&m(this)};_.prototype=h({},{unsubscribe:function(){y(this)}});var b=function(t){this._s=t};b.prototype=h({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var n=g(i.next);if(n)return n.call(i,t)}catch(r){try{y(e)}finally{throw r}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var n=g(i.error);if(!n)throw t;t=n.call(i,t)}catch(r){try{m(e)}finally{throw r}}return m(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var n=g(i.complete);t=n?n.call(i,t):void 0}catch(r){try{m(e)}finally{throw r}}return m(e),t}}});var x=function(t){c(this,x,"Observable","_f")._f=l(t)};h(x.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(i,n){l(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(i){n(i),r.unsubscribe()}},error:n,complete:i})})}}),h(x,{from:function(t){var e="function"==typeof this?this:x,i=g(u(t)[a]);if(i){var n=u(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return s(function(){if(!i){try{if(d(t,!1,function(t){if(e.next(t),i)return p})===p)return}catch(n){if(i)throw n;return void e.error(n)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:x)(function(t){var e=!1;return s(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(x.prototype,a,function(){return this}),n(n.G,{Observable:x}),t("./_set-species")("Observable")},{"./_a-function":239,"./_an-instance":242,"./_an-object":243,"./_core":259,"./_export":269,"./_for-of":275,"./_global":276,"./_hide":278,"./_microtask":303,"./_redefine-all":326,"./_set-species":333,"./_wks":362}],531:[function(t,e,i){arguments[4][234][0].apply(i,arguments)},{"./_core":259,"./_export":269,"./_global":276,"./_promise-resolve":324,"./_species-constructor":337,dup:234}],532:[function(t,e,i){arguments[4][235][0].apply(i,arguments)},{"./_export":269,"./_new-promise-capability":304,"./_perform":323,dup:235}],533:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=n.key,s=n.set;n.exp({defineMetadata:function(t,e,i,n){s(t,e,r(i),o(n))}})},{"./_an-object":243,"./_metadata":302}],534:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=n.key,s=n.map,a=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=s(r(e),i,!1);if(void 0===n||!n["delete"](t))return!1;if(n.size)return!0;var l=a.get(e);return l["delete"](i),!!l.size||a["delete"](e)}})},{"./_an-object":243,"./_metadata":302}],535:[function(t,e,i){var n=t("./es6.set"),r=t("./_array-from-iterable"),o=t("./_metadata"),s=t("./_an-object"),a=t("./_object-gpo"),l=o.keys,u=o.key,c=function(t,e){var i=l(t,e),o=a(t);if(null===o)return i;var s=c(o,e);return s.length?i.length?r(new n(i.concat(s))):s:i};o.exp({getMetadataKeys:function(t){return c(s(t),arguments.length<2?void 0:u(arguments[1]))}})},{"./_an-object":243,"./_array-from-iterable":246,"./_metadata":302,"./_object-gpo":314,"./es6.set":465}],536:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=t("./_object-gpo"),s=n.has,a=n.get,l=n.key,u=function(t,e,i){var n=s(t,e,i);if(n)return a(t,e,i);var r=o(e);return null!==r?u(t,r,i):void 0};n.exp({getMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:l(arguments[2]))}})},{"./_an-object":243,"./_metadata":302,"./_object-gpo":314}],537:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=n.keys,s=n.key;n.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:s(arguments[1]))}})},{"./_an-object":243,"./_metadata":302}],538:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=n.get,s=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":243,"./_metadata":302}],539:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=t("./_object-gpo"),s=n.has,a=n.key,l=function(t,e,i){var n=s(t,e,i);if(n)return!0;var r=o(e);return null!==r&&l(t,r,i)};n.exp({hasMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},{"./_an-object":243,"./_metadata":302,"./_object-gpo":314}],540:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=n.has,s=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},{"./_an-object":243,"./_metadata":302}],541:[function(t,e,i){var n=t("./_metadata"),r=t("./_an-object"),o=t("./_a-function"),s=n.key,a=n.set;n.exp({metadata:function(t,e){return function(i,n){a(t,e,(void 0!==n?r:o)(i),s(n))}}})},{"./_a-function":239,"./_an-object":243,"./_metadata":302}],542:[function(t,e,i){t("./_set-collection-from")("Set")},{"./_set-collection-from":330}],543:[function(t,e,i){t("./_set-collection-of")("Set")},{"./_set-collection-of":331}],544:[function(t,e,i){var n=t("./_export");n(n.P+n.R,"Set",{toJSON:t("./_collection-to-json")("Set")})},{"./_collection-to-json":256,"./_export":269}],545:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_string-at")(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},{"./_export":269,"./_string-at":339}],546:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_defined"),o=t("./_to-length"),s=t("./_is-regexp"),a=t("./_flags"),l=RegExp.prototype,u=function(t,e){this._r=t,this._s=e};t("./_iter-create")(u,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!s(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in l?String(t.flags):a.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=o(t.lastIndex),new u(n,e)}})},{"./_defined":264,"./_export":269,"./_flags":273,"./_is-regexp":288,"./_iter-create":290,"./_to-length":351}],547:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_string-pad"),o=t("./_user-agent");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},{"./_export":269,"./_string-pad":342,"./_user-agent":358}],548:[function(t,e,i){"use strict";var n=t("./_export"),r=t("./_string-pad"),o=t("./_user-agent");n(n.P+n.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},{"./_export":269,"./_string-pad":342,"./_user-agent":358}],549:[function(t,e,i){"use strict";t("./_string-trim")("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},{"./_string-trim":344}],550:[function(t,e,i){"use strict";t("./_string-trim")("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},{"./_string-trim":344}],551:[function(t,e,i){arguments[4][236][0].apply(i,arguments)},{"./_wks-define":360,dup:236}],552:[function(t,e,i){arguments[4][237][0].apply(i,arguments)},{"./_wks-define":360,dup:237}],553:[function(t,e,i){var n=t("./_export");n(n.S,"System",{global:t("./_global")})},{"./_export":269,"./_global":276}],554:[function(t,e,i){t("./_set-collection-from")("WeakMap")},{"./_set-collection-from":330}],555:[function(t,e,i){t("./_set-collection-of")("WeakMap")},{"./_set-collection-of":331}],556:[function(t,e,i){t("./_set-collection-from")("WeakSet")},{"./_set-collection-from":330}],557:[function(t,e,i){t("./_set-collection-of")("WeakSet")},{"./_set-collection-of":331}],558:[function(t,e,i){for(var n=t("./es6.array.iterator"),r=t("./_object-keys"),o=t("./_redefine"),s=t("./_global"),a=t("./_hide"),l=t("./_iterators"),u=t("./_wks"),c=u("iterator"),h=u("toStringTag"),f=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),g=0;g<p.length;g++){var m,v=p[g],y=d[v],_=s[v],b=_&&_.prototype;if(b&&(b[c]||a(b,c,f),b[h]||a(b,h,v),l[v]=f,y))for(m in n)b[m]||o(b,m,n[m],!0)}},{"./_global":276,"./_hide":278,"./_iterators":294,"./_object-keys":316,"./_redefine":327,"./_wks":362,"./es6.array.iterator":375}],559:[function(t,e,i){var n=t("./_export"),r=t("./_task");n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},{"./_export":269,"./_task":346}],560:[function(t,e,i){var n=t("./_global"),r=t("./_export"),o=t("./_user-agent"),s=[].slice,a=/MSIE .\./.test(o),l=function(t){return function(e,i){var n=arguments.length>2,r=!!n&&s.call(arguments,2);return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};r(r.G+r.B+r.F*a,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},{"./_export":269,"./_global":276,"./_user-agent":358}],561:[function(t,e,i){t("./modules/es6.symbol"),t("./modules/es6.object.create"),t("./modules/es6.object.define-property"),t("./modules/es6.object.define-properties"),t("./modules/es6.object.get-own-property-descriptor"),t("./modules/es6.object.get-prototype-of"),t("./modules/es6.object.keys"),t("./modules/es6.object.get-own-property-names"),t("./modules/es6.object.freeze"),t("./modules/es6.object.seal"),t("./modules/es6.object.prevent-extensions"),t("./modules/es6.object.is-frozen"),t("./modules/es6.object.is-sealed"),t("./modules/es6.object.is-extensible"),t("./modules/es6.object.assign"),t("./modules/es6.object.is"),t("./modules/es6.object.set-prototype-of"),t("./modules/es6.object.to-string"),t("./modules/es6.function.bind"),t("./modules/es6.function.name"),t("./modules/es6.function.has-instance"),t("./modules/es6.parse-int"),t("./modules/es6.parse-float"),t("./modules/es6.number.constructor"),t("./modules/es6.number.to-fixed"),t("./modules/es6.number.to-precision"),t("./modules/es6.number.epsilon"),t("./modules/es6.number.is-finite"),t("./modules/es6.number.is-integer"),t("./modules/es6.number.is-nan"),t("./modules/es6.number.is-safe-integer"),t("./modules/es6.number.max-safe-integer"),t("./modules/es6.number.min-safe-integer"),t("./modules/es6.number.parse-float"),t("./modules/es6.number.parse-int"),t("./modules/es6.math.acosh"),t("./modules/es6.math.asinh"),t("./modules/es6.math.atanh"),t("./modules/es6.math.cbrt"),t("./modules/es6.math.clz32"),t("./modules/es6.math.cosh"),t("./modules/es6.math.expm1"),t("./modules/es6.math.fround"),t("./modules/es6.math.hypot"),t("./modules/es6.math.imul"),t("./modules/es6.math.log10"),t("./modules/es6.math.log1p"),t("./modules/es6.math.log2"),t("./modules/es6.math.sign"),t("./modules/es6.math.sinh"),t("./modules/es6.math.tanh"),t("./modules/es6.math.trunc"),t("./modules/es6.string.from-code-point"),t("./modules/es6.string.raw"),t("./modules/es6.string.trim"),t("./modules/es6.string.iterator"),t("./modules/es6.string.code-point-at"),t("./modules/es6.string.ends-with"),t("./modules/es6.string.includes"),t("./modules/es6.string.repeat"),t("./modules/es6.string.starts-with"),t("./modules/es6.string.anchor"),t("./modules/es6.string.big"),t("./modules/es6.string.blink"),t("./modules/es6.string.bold"),t("./modules/es6.string.fixed"),t("./modules/es6.string.fontcolor"),t("./modules/es6.string.fontsize"),t("./modules/es6.string.italics"),t("./modules/es6.string.link"),t("./modules/es6.string.small"),t("./modules/es6.string.strike"),t("./modules/es6.string.sub"),t("./modules/es6.string.sup"),t("./modules/es6.date.now"),t("./modules/es6.date.to-json"),t("./modules/es6.date.to-iso-string"),t("./modules/es6.date.to-string"),t("./modules/es6.date.to-primitive"),t("./modules/es6.array.is-array"),t("./modules/es6.array.from"),t("./modules/es6.array.of"),t("./modules/es6.array.join"),t("./modules/es6.array.slice"),t("./modules/es6.array.sort"),t("./modules/es6.array.for-each"),t("./modules/es6.array.map"),t("./modules/es6.array.filter"),t("./modules/es6.array.some"),t("./modules/es6.array.every"),t("./modules/es6.array.reduce"),t("./modules/es6.array.reduce-right"),t("./modules/es6.array.index-of"),t("./modules/es6.array.last-index-of"),t("./modules/es6.array.copy-within"),t("./modules/es6.array.fill"),t("./modules/es6.array.find"),t("./modules/es6.array.find-index"),t("./modules/es6.array.species"),t("./modules/es6.array.iterator"),t("./modules/es6.regexp.constructor"),t("./modules/es6.regexp.to-string"),t("./modules/es6.regexp.flags"),t("./modules/es6.regexp.match"),t("./modules/es6.regexp.replace"),t("./modules/es6.regexp.search"),t("./modules/es6.regexp.split"),t("./modules/es6.promise"),t("./modules/es6.map"),t("./modules/es6.set"),t("./modules/es6.weak-map"),t("./modules/es6.weak-set"),t("./modules/es6.typed.array-buffer"),t("./modules/es6.typed.data-view"),t("./modules/es6.typed.int8-array"),t("./modules/es6.typed.uint8-array"),t("./modules/es6.typed.uint8-clamped-array"),t("./modules/es6.typed.int16-array"),t("./modules/es6.typed.uint16-array"),t("./modules/es6.typed.int32-array"),t("./modules/es6.typed.uint32-array"),t("./modules/es6.typed.float32-array"),t("./modules/es6.typed.float64-array"),t("./modules/es6.reflect.apply"),t("./modules/es6.reflect.construct"),t("./modules/es6.reflect.define-property"),t("./modules/es6.reflect.delete-property"),t("./modules/es6.reflect.enumerate"),t("./modules/es6.reflect.get"),t("./modules/es6.reflect.get-own-property-descriptor"),t("./modules/es6.reflect.get-prototype-of"),t("./modules/es6.reflect.has"),t("./modules/es6.reflect.is-extensible"),t("./modules/es6.reflect.own-keys"),t("./modules/es6.reflect.prevent-extensions"),t("./modules/es6.reflect.set"),t("./modules/es6.reflect.set-prototype-of"),t("./modules/es7.array.includes"),t("./modules/es7.array.flat-map"),t("./modules/es7.array.flatten"),t("./modules/es7.string.at"),t("./modules/es7.string.pad-start"),t("./modules/es7.string.pad-end"),t("./modules/es7.string.trim-left"),t("./modules/es7.string.trim-right"),t("./modules/es7.string.match-all"),t("./modules/es7.symbol.async-iterator"),t("./modules/es7.symbol.observable"),t("./modules/es7.object.get-own-property-descriptors"),t("./modules/es7.object.values"),t("./modules/es7.object.entries"),t("./modules/es7.object.define-getter"),t("./modules/es7.object.define-setter"),t("./modules/es7.object.lookup-getter"),t("./modules/es7.object.lookup-setter"),t("./modules/es7.map.to-json"),t("./modules/es7.set.to-json"),t("./modules/es7.map.of"),t("./modules/es7.set.of"),t("./modules/es7.weak-map.of"),t("./modules/es7.weak-set.of"),t("./modules/es7.map.from"),t("./modules/es7.set.from"),t("./modules/es7.weak-map.from"),t("./modules/es7.weak-set.from"),t("./modules/es7.global"),t("./modules/es7.system.global"),t("./modules/es7.error.is-error"),t("./modules/es7.math.clamp"),t("./modules/es7.math.deg-per-rad"),t("./modules/es7.math.degrees"),t("./modules/es7.math.fscale"),t("./modules/es7.math.iaddh"),t("./modules/es7.math.isubh"),t("./modules/es7.math.imulh"),t("./modules/es7.math.rad-per-deg"),t("./modules/es7.math.radians"),t("./modules/es7.math.scale"),t("./modules/es7.math.umulh"),t("./modules/es7.math.signbit"),t("./modules/es7.promise.finally"),t("./modules/es7.promise.try"),t("./modules/es7.reflect.define-metadata"),t("./modules/es7.reflect.delete-metadata"),t("./modules/es7.reflect.get-metadata"),t("./modules/es7.reflect.get-metadata-keys"),t("./modules/es7.reflect.get-own-metadata"),t("./modules/es7.reflect.get-own-metadata-keys"),t("./modules/es7.reflect.has-metadata"),t("./modules/es7.reflect.has-own-metadata"),t("./modules/es7.reflect.metadata"),t("./modules/es7.asap"),t("./modules/es7.observable"),t("./modules/web.timers"),t("./modules/web.immediate"),t("./modules/web.dom.iterable"),e.exports=t("./modules/_core")},{"./modules/_core":259,"./modules/es6.array.copy-within":365,"./modules/es6.array.every":366,"./modules/es6.array.fill":367,"./modules/es6.array.filter":368,"./modules/es6.array.find":370,"./modules/es6.array.find-index":369,"./modules/es6.array.for-each":371,"./modules/es6.array.from":372,"./modules/es6.array.index-of":373,"./modules/es6.array.is-array":374,"./modules/es6.array.iterator":375,"./modules/es6.array.join":376,"./modules/es6.array.last-index-of":377,"./modules/es6.array.map":378,"./modules/es6.array.of":379,"./modules/es6.array.reduce":381,"./modules/es6.array.reduce-right":380,"./modules/es6.array.slice":382,"./modules/es6.array.some":383,"./modules/es6.array.sort":384,"./modules/es6.array.species":385,"./modules/es6.date.now":386,"./modules/es6.date.to-iso-string":387,"./modules/es6.date.to-json":388,"./modules/es6.date.to-primitive":389,"./modules/es6.date.to-string":390,"./modules/es6.function.bind":391,"./modules/es6.function.has-instance":392,"./modules/es6.function.name":393,"./modules/es6.map":394,"./modules/es6.math.acosh":395,"./modules/es6.math.asinh":396,"./modules/es6.math.atanh":397,"./modules/es6.math.cbrt":398,"./modules/es6.math.clz32":399,"./modules/es6.math.cosh":400,"./modules/es6.math.expm1":401,"./modules/es6.math.fround":402,"./modules/es6.math.hypot":403,"./modules/es6.math.imul":404,"./modules/es6.math.log10":405,"./modules/es6.math.log1p":406,"./modules/es6.math.log2":407,"./modules/es6.math.sign":408,"./modules/es6.math.sinh":409,"./modules/es6.math.tanh":410,"./modules/es6.math.trunc":411,"./modules/es6.number.constructor":412,"./modules/es6.number.epsilon":413,"./modules/es6.number.is-finite":414,"./modules/es6.number.is-integer":415,"./modules/es6.number.is-nan":416,"./modules/es6.number.is-safe-integer":417,"./modules/es6.number.max-safe-integer":418,"./modules/es6.number.min-safe-integer":419,"./modules/es6.number.parse-float":420,"./modules/es6.number.parse-int":421,"./modules/es6.number.to-fixed":422,"./modules/es6.number.to-precision":423,"./modules/es6.object.assign":424,"./modules/es6.object.create":425,"./modules/es6.object.define-properties":426,"./modules/es6.object.define-property":427,"./modules/es6.object.freeze":428,"./modules/es6.object.get-own-property-descriptor":429,"./modules/es6.object.get-own-property-names":430,"./modules/es6.object.get-prototype-of":431,"./modules/es6.object.is":435,"./modules/es6.object.is-extensible":432,"./modules/es6.object.is-frozen":433,"./modules/es6.object.is-sealed":434,"./modules/es6.object.keys":436,"./modules/es6.object.prevent-extensions":437,"./modules/es6.object.seal":438,"./modules/es6.object.set-prototype-of":439,"./modules/es6.object.to-string":440,"./modules/es6.parse-float":441,"./modules/es6.parse-int":442,"./modules/es6.promise":443,"./modules/es6.reflect.apply":444,"./modules/es6.reflect.construct":445,"./modules/es6.reflect.define-property":446,"./modules/es6.reflect.delete-property":447,"./modules/es6.reflect.enumerate":448,"./modules/es6.reflect.get":451,"./modules/es6.reflect.get-own-property-descriptor":449,"./modules/es6.reflect.get-prototype-of":450,"./modules/es6.reflect.has":452,"./modules/es6.reflect.is-extensible":453,"./modules/es6.reflect.own-keys":454,"./modules/es6.reflect.prevent-extensions":455,"./modules/es6.reflect.set":457,"./modules/es6.reflect.set-prototype-of":456,"./modules/es6.regexp.constructor":458,"./modules/es6.regexp.flags":459,"./modules/es6.regexp.match":460,"./modules/es6.regexp.replace":461,"./modules/es6.regexp.search":462,"./modules/es6.regexp.split":463,"./modules/es6.regexp.to-string":464,"./modules/es6.set":465,"./modules/es6.string.anchor":466,"./modules/es6.string.big":467,"./modules/es6.string.blink":468,"./modules/es6.string.bold":469,"./modules/es6.string.code-point-at":470,"./modules/es6.string.ends-with":471,"./modules/es6.string.fixed":472,"./modules/es6.string.fontcolor":473,"./modules/es6.string.fontsize":474,"./modules/es6.string.from-code-point":475,"./modules/es6.string.includes":476,"./modules/es6.string.italics":477,"./modules/es6.string.iterator":478,"./modules/es6.string.link":479,"./modules/es6.string.raw":480,"./modules/es6.string.repeat":481,"./modules/es6.string.small":482,"./modules/es6.string.starts-with":483,"./modules/es6.string.strike":484,"./modules/es6.string.sub":485,"./modules/es6.string.sup":486,"./modules/es6.string.trim":487,"./modules/es6.symbol":488,"./modules/es6.typed.array-buffer":489,"./modules/es6.typed.data-view":490,"./modules/es6.typed.float32-array":491,"./modules/es6.typed.float64-array":492,"./modules/es6.typed.int16-array":493,"./modules/es6.typed.int32-array":494,"./modules/es6.typed.int8-array":495,"./modules/es6.typed.uint16-array":496,"./modules/es6.typed.uint32-array":497,"./modules/es6.typed.uint8-array":498,"./modules/es6.typed.uint8-clamped-array":499,"./modules/es6.weak-map":500,"./modules/es6.weak-set":501,"./modules/es7.array.flat-map":502,"./modules/es7.array.flatten":503,"./modules/es7.array.includes":504,"./modules/es7.asap":505,"./modules/es7.error.is-error":506,"./modules/es7.global":507,"./modules/es7.map.from":508,"./modules/es7.map.of":509,"./modules/es7.map.to-json":510,"./modules/es7.math.clamp":511,"./modules/es7.math.deg-per-rad":512,"./modules/es7.math.degrees":513,"./modules/es7.math.fscale":514,"./modules/es7.math.iaddh":515,"./modules/es7.math.imulh":516,"./modules/es7.math.isubh":517,"./modules/es7.math.rad-per-deg":518,"./modules/es7.math.radians":519,"./modules/es7.math.scale":520,"./modules/es7.math.signbit":521,"./modules/es7.math.umulh":522,"./modules/es7.object.define-getter":523,"./modules/es7.object.define-setter":524,"./modules/es7.object.entries":525,"./modules/es7.object.get-own-property-descriptors":526,"./modules/es7.object.lookup-getter":527,"./modules/es7.object.lookup-setter":528,"./modules/es7.object.values":529,"./modules/es7.observable":530,"./modules/es7.promise.finally":531,"./modules/es7.promise.try":532,"./modules/es7.reflect.define-metadata":533,"./modules/es7.reflect.delete-metadata":534,"./modules/es7.reflect.get-metadata":536,"./modules/es7.reflect.get-metadata-keys":535,"./modules/es7.reflect.get-own-metadata":538,"./modules/es7.reflect.get-own-metadata-keys":537,"./modules/es7.reflect.has-metadata":539,"./modules/es7.reflect.has-own-metadata":540,"./modules/es7.reflect.metadata":541,"./modules/es7.set.from":542,"./modules/es7.set.of":543,"./modules/es7.set.to-json":544,"./modules/es7.string.at":545,"./modules/es7.string.match-all":546,"./modules/es7.string.pad-end":547,"./modules/es7.string.pad-start":548,"./modules/es7.string.trim-left":549,"./modules/es7.string.trim-right":550,"./modules/es7.symbol.async-iterator":551,"./modules/es7.symbol.observable":552,"./modules/es7.system.global":553,"./modules/es7.weak-map.from":554,"./modules/es7.weak-map.of":555,"./modules/es7.weak-set.from":556,"./modules/es7.weak-set.of":557,"./modules/web.dom.iterable":558,"./modules/web.immediate":559,"./modules/web.timers":560}],562:[function(t,e,i){"use strict";e.exports=function(t){if("string"!=typeof t)throw new TypeError("expected a string");return t=t.replace(/([a-z])([A-Z])/g,"$1-$2"),t=t.replace(/[ \t\W]/g,"-"),t=t.replace(/^-+|-+$/g,""),t.toLowerCase()}},{}],563:[function(t,e,i){!function(t,i){"use strict";"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.matchesSelector=i()}(window,function(){"use strict";var t=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],r=n+"MatchesSelector";if(t[r])return r}}();return function(e,i){return e[t](i)}})},{}],564:[function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n=e&&e.length,o=n?e[0]*i:t.length,a=r(t,0,o,i,!0),l=[];if(!a)return l;var u,c,f,d,p,g,m;if(n&&(a=h(t,e,a,i)),t.length>80*i){u=f=t[0],c=d=t[1];for(var v=i;v<o;v+=i)p=t[v],g=t[v+1],p<u&&(u=p),g<c&&(c=g),p>f&&(f=p),g>d&&(d=g);m=Math.max(f-u,d-c),m=0!==m?1/m:0}return s(a,l,i,u,c,m),l}function r(t,e,i,n,r){var o,s;if(r===O(t,e,i,n)>0)for(o=e;o<i;o+=n)s=k(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=k(o,t[o],t[o+1],s);return s&&w(s,s.next)&&(P(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!w(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(P(n),n=e=n.prev,n===n.next)break;i=!0}while(i||n!==e);return e}function s(t,e,i,n,r,h,f){if(t){!f&&h&&g(t,n,r,h);for(var d,p,m=t;t.prev!==t.next;)if(d=t.prev,p=t.next,h?l(t,n,r,h):a(t))e.push(d.i/i),e.push(t.i/i),e.push(p.i/i),P(t),t=p.next,m=p.next;else if(t=p,t===m){f?1===f?(t=u(t,e,i),s(t,e,i,n,r,h,2)):2===f&&c(t,e,i,n,r,h):s(o(t),e,i,n,r,h,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(x(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(_(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,i,n){var r=t.prev,o=t,s=t.next;if(x(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=v(a,l,e,i,n),f=v(u,c,e,i,n),d=t.prevZ,p=t.nextZ;d&&d.z>=h&&p&&p.z<=f;){if(d!==t.prev&&d!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==t.prev&&p!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&x(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!w(r,o)&&C(r,n,n.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),P(n),P(n.next),n=t=o),n=n.next}while(n!==t);return n}function c(t,e,i,n,r,a){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&b(l,u)){var c=I(l,u);return l=o(l,l.next),c=o(c,c.next),s(l,e,i,n,r,a),void s(c,e,i,n,r,a)}u=u.next}l=l.next}while(l!==t)}function h(t,e,i,n){var s,a,l,u,c,h=[];for(s=0,a=e.length;s<a;s++)l=e[s]*n,u=s<a-1?e[s+1]*n:t.length,c=r(t,l,u,n,!1),c===c.next&&(c.steiner=!0),h.push(y(c));for(h.sort(f),s=0;s<h.length;s++)d(h[s],i),i=o(i,i.next);return i}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var i=I(e,t);o(i,i.next)}}function p(t,e){var i,n=e,r=t.x,o=t.y,s=-(1/0);do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i.prev;var l,u=i,c=i.x,h=i.y,f=1/0;for(n=i.next;n!==u;)r>=n.x&&n.x>=c&&r!==n.x&&_(o<h?r:s,o,c,h,o<h?s:r,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(r-n.x),(l<f||l===f&&n.x>i.x)&&S(n,t)&&(i=n,f=l)),n=n.next;return i}function g(t,e,i,n){var r=t;do null===r.z&&(r.z=v(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,i,n,r,o,s,a,l,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ,n);e++);for(l=u;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(s>1);return t}function v(t,e,i,n,r){return t=32767*(t-i)*r,e=32767*(e-n)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function _(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&T(t,e)}function x(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||x(t,e,i)>0!=x(t,e,n)>0&&x(i,n,t)>0!=x(i,n,e)>0}function E(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&C(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function T(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==t);return n}function I(t,e){var i=new L(t.i,t.x,t.y),n=new L(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function k(t,e,i,n){var r=new L(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function L(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}e.exports=n,e.exports["default"]=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(O(t,0,o,i));if(r)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,c=a<l-1?e[a+1]*i:t.length;s-=Math.abs(O(t,u,c,i))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,d=n[a+1]*i,p=n[a+2]*i;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},{}],565:[function(t,e,i){!function(t){"function"!=typeof t.matches&&(t.matches=t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=this,i=(e.document||e.ownerDocument).querySelectorAll(t),n=0;i[n]&&i[n]!==e;)++n;return Boolean(i[n])}),"function"!=typeof t.closest&&(t.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentNode}return null})}(window.Element.prototype)},{}],566:[function(t,e,i){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t["default"]:t}function r(){if(!(document.documentElement.dataset||s(HTMLElement.prototype,"dataset")&&s(HTMLElement.prototype,"dataset").get)){var t={};t.enumerable=!0,t.get=function(){function e(t){return t.charAt(1).toUpperCase()}function i(){return this.value}function n(t,e){"undefined"!=typeof e?this.setAttribute(t,e):this.removeAttribute(t)}for(var r=this,s={},a=this.attributes,l=0;l<a.length;l+=1){var u=a[l];if(u&&u.name&&/^data-\w[\w-]*$/.test(u.name)){var c=u.name,h=u.value,f=c.substr(5).replace(/-./g,e);o(s,f,{enumerable:t.enumerable,get:i.bind({value:h||""}),set:n.bind(r,c)})}}return s},Object.defineProperty(HTMLElement.prototype,"dataset",t)}}Object.defineProperty(i,"__esModule",{value:!0});var o=n(t("babel-runtime/core-js/object/define-property")),s=n(t("babel-runtime/core-js/object/get-own-property-descriptor"));i["default"]=r},{"babel-runtime/core-js/object/define-property":99,"babel-runtime/core-js/object/get-own-property-descriptor":100}],567:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.EvEmitter=i()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){
var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],r=0;r<i.length;r++){var o=i[r],s=n&&n[o];s&&(this.off(t,o),delete n[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t})},{}],568:[function(t,e,i){!function(){"use strict";function t(e,i){function r(t,e){return function(){return t.apply(e,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,u=s.length;l<u;l++)a[s[l]]=r(a[s[l]],a);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,i,n){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,i.hijacked||i,n):r.call(e,t,i,n)},e.addEventListener=function(t,i,n){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(e,t,i,n)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!i,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),s=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],r){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!o){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,i,a,l,u,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,s&&(u=t.changedTouches[0],c=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=c.tagName.toLowerCase(),"label"===a){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-i>100||r&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!r||o||(l=c.fastClickScrollParent,!l||l.fastClickLastScrollTop===l.scrollTop))||(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,i){return new t(e,i)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof e&&e.exports?(e.exports=t.attach,e.exports.FastClick=t):window.FastClick=t}()},{}],569:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["desandro-matches-selector/matches-selector"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.matchesSelector)}(window,function(t,e){"use strict";var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e};var n=Array.prototype.slice;i.makeArray=function(t){if(Array.isArray(t))return t;if(null===t||void 0===t)return[];var e="object"==typeof t&&"number"==typeof t.length;return e?n.call(t):[t]},i.removeFrom=function(t,e){var i=t.indexOf(e);i!=-1&&t.splice(i,1)},i.getParent=function(t,i){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var r=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void r.push(t);e(t,n)&&r.push(t);for(var i=t.querySelectorAll(n),o=0;o<i.length;o++)r.push(i[o])}}),r},i.debounceMethod=function(t,e,i){i=i||100;var n=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments,o=this;this[r]=setTimeout(function(){n.apply(o,e),delete o[r]},i)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var r=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var o=i.toDashed(n),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),u=i.makeArray(a).concat(i.makeArray(l)),c=s+"-options",h=t.jQuery;u.forEach(function(t){var i,o=t.getAttribute(s)||t.getAttribute(c);try{i=o&&JSON.parse(o)}catch(a){return void(r&&r.error("Error parsing "+s+" on "+t.className+": "+a))}var l=new e(t,i);h&&h.data(t,n,l)})})},i})},{"desandro-matches-selector":563}],570:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof e&&e.exports?e.exports=n(i,t("./flickity"),t("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){var e=document.createDocumentFragment();return t.forEach(function(t){e.appendChild(t.element)}),e}var r=e.prototype;return r.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var r=this.cells.length;e=void 0===e?r:e;var o=n(i),s=e==r;if(s)this.slider.appendChild(o);else{var a=this.cells[e].element;this.slider.insertBefore(o,a)}if(0===e)this.cells=i.concat(this.cells);else if(s)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,r-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i),this.cellChange(e,!0)}},r.append=function(t){this.insert(t,this.cells.length)},r.prepend=function(t){this.insert(t,0)},r.remove=function(t){var e=this.getCells(t);if(e&&e.length){var n=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);n=Math.min(e,n),i.removeFrom(this.cells,t)},this),this.cellChange(n,!0)}},r.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)}},r.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(i);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[t]),this.select(this.selectedIndex),e&&this.positionSliderAtSelected()},e})},{"./flickity":574,"fizzy-ui-utils":569}],571:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["fizzy-ui-utils/utils"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("fizzy-ui-utils")):(i.Flickity=i.Flickity||{},i.Flickity.animatePrototype=n(i,i.fizzyUIUtils))}(window,function(t,e){"use strict";var i={};return i.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},i.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;requestAnimationFrame(function(){e.animate()})}},i.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=e.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=this.isAnimating?"translate3d("+i+",0,0)":"translateX("+i+")";var n=this.slides[0];if(n){var r=-this.x-n.target,o=r/this.slidesWidth;this.dispatchEvent("scroll",null,[o,r])}},i.positionSliderAtSelected=function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},i.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},i.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},i.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},i._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var r=t[n],o=e>0?i:0;r.wrapShift(o),e-=r.size.outerWidth}},i._unshiftCells=function(t){if(t&&t.length)for(var e=0;e<t.length;e++)t[e].wrapShift(0)},i.integratePhysics=function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},i.applyForce=function(t){this.velocity+=t},i.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},i.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},i.applyDragForce=function(){if(this.isDraggable&&this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},i.applySelectedAttraction=function(){var t=this.isDraggable&&this.isPointerDown;if(!t&&!this.isFreeScrolling&&this.slides.length){var e=this.selectedSlide.target*-1-this.x,i=e*this.options.selectedAttraction;this.applyForce(i)}},i})},{"fizzy-ui-utils":569}],572:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["get-size/get-size"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("get-size")):(i.Flickity=i.Flickity||{},i.Flickity.Cell=n(i,i.getSize))}(window,function(t,e){"use strict";function i(t,e){this.element=t,this.parent=e,this.create()}var n=i.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-selected","false"),this.x=0,this.shift=0},n.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.removeAttribute("aria-selected"),this.element.style[t]=""},n.getSize=function(){this.size=e(this.element)},n.setPosition=function(t){this.x=t,this.updateTarget(),this.renderPosition(t)},n.updateTarget=n.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},n.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},n.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},n.remove=function(){this.element.parentNode.removeChild(this.element)},i})},{"get-size":584}],573:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(t,e,r){return n(i,t,e,r)}):"object"==typeof e&&e.exports?e.exports=n(i,t("./flickity"),t("unidragger"),t("fizzy-ui-utils")):i.Flickity=n(i,i.Flickity,i.Unidragger,i.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function r(){return{x:t.pageXOffset,y:t.pageYOffset}}n.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var o=e.prototype;n.extend(o,i.prototype),o._touchActionValue="pan-y";var s="createTouch"in document,a=!1;o._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag),this.on("cellChange",this.updateDraggable),s&&!a&&(t.addEventListener("touchmove",function(){}),a=!0)},o.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},o.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},o.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=this.slides.length>1:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},o.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},o.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},o._uiChangeDrag=function(){delete this.isFreeScrolling},o._childUIPointerDownDrag=function(t){t.preventDefault(),this.pointerDownFocus(t)},o.pointerDown=function(e,i){if(!this.isDraggable)return void this._pointerDownDefault(e,i);var n=this.okayPointerDown(e);n&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=r(),t.addEventListener("scroll",this),this._pointerDownDefault(e,i))},o._pointerDownDefault=function(t,e){this.pointerDownPointer=e,this._bindPostStartEvents(t),this.dispatchEvent("pointerDown",t,[e])};var l={INPUT:!0,TEXTAREA:!0,SELECT:!0};return o.pointerDownFocus=function(t){var e=l[t.target.nodeName];e||this.focus()},o._pointerDownPreventDefault=function(t){var e="touchstart"==t.type,i="touch"==t.pointerType,n=l[t.target.nodeName];e||i||n||t.preventDefault()},o.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold},o.pointerUp=function(t,e){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",t,[e]),this._dragPointerUp(t,e)},o.pointerDone=function(){t.removeEventListener("scroll",this),delete this.pointerDownScroll},o.dragStart=function(e,i){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),t.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[i]))},o.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent("pointerMove",t,[e,i]),this._dragMove(t,e,i)},o.dragMove=function(t,e,i){if(this.isDraggable){t.preventDefault(),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;this.options.wrapAround&&(i.x=i.x%this.slideableWidth);var r=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var o=Math.max(-this.slides[0].target,this.dragStartPosition);r=r>o?.5*(r+o):r;var s=Math.min(-this.getLastSlide().target,this.dragStartPosition);r=r<s?.5*(r+s):r}this.dragX=r,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])}},o.dragEnd=function(t,e){if(this.isDraggable){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(i),delete this.isDragSelect,this.dispatchEvent("dragEnd",t,[e])}},o.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getSlideDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),r=i.distance<n.distance?i.index:n.index;return r},o._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,r=1/0,o=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};o(e,r)&&(n+=i,r=e,e=this.getSlideDistance(-t,n),null!==e);)e=Math.abs(e);return{distance:r,index:n-i}},o.getSlideDistance=function(t,e){var i=this.slides.length,r=this.options.wrapAround&&i>1,o=r?n.modulo(e,i):e,s=this.slides[o];if(!s)return null;var a=r?this.slideableWidth*Math.floor(e/i):0;return t-(s.target+a)},o.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getSlideDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:t<0&&e<0?-1:0},o.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,r=i&&this.cells.indexOf(i);this.dispatchEvent("staticClick",t,[e,n,r])},o.onscroll=function(){var t=r(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},e})},{"./flickity":574,"fizzy-ui-utils":569,unidragger:685}],574:[function(t,e,i){!function(i,n){if("function"==typeof define&&define.amd)define(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(t,e,r,o,s,a){return n(i,t,e,r,o,s,a)});else if("object"==typeof e&&e.exports)e.exports=n(i,t("ev-emitter"),t("get-size"),t("fizzy-ui-utils"),t("./cell"),t("./slide"),t("./animate"));else{var r=i.Flickity;i.Flickity=n(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,r.Cell,r.Slide,r.animatePrototype)}}(window,function(t,e,i,n,r,o,s){"use strict";function a(t,e){for(t=n.makeArray(t);t.length;)e.appendChild(t.shift())}function l(t,e){var i=n.getQueryElement(t);if(!i)return void(h&&h.error("Bad element for Flickity: "+(i||t)));if(this.element=i,this.element.flickityGUID){var r=d[this.element.flickityGUID];return r.option(e),r}u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),this._create()}var u=t.jQuery,c=t.getComputedStyle,h=t.console,f=0,d={};l.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},l.createMethods=[];var p=l.prototype;n.extend(p,e.prototype),p._create=function(){var e=this.guid=++f;this.element.flickityGUID=e,d[e]=this,this.selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&t.addEventListener("resize",this);for(var i in this.options.on){var n=this.options.on[i];this.on(i,n)}l.createMethods.forEach(function(t){this[t]()},this),this.options.watchCSS?this.watchCSS():this.activate()},p.option=function(t){n.extend(this.options,t)},p.activate=function(){if(!this.isActive){this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);a(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate");var e,i=this.options.initialIndex;e=this.isInitActivated?this.selectedIndex:void 0!==i&&this.cells[i]?i:0,this.select(e,!1,!0),this.isInitActivated=!0,this.dispatchEvent("ready")}},p._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},p._filterFindCellElements=function(t){return n.filterFindElements(t,this.options.cellSelector)},p.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},p._makeCells=function(t){var e=this._filterFindCellElements(t),i=e.map(function(t){return new r(t,this)},this);return i},p.getLastCell=function(){return this.cells[this.cells.length-1]},p.getLastSlide=function(){return this.slides[this.slides.length-1]},p.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},p._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n=this.cells.length,r=t;r<n;r++){var o=this.cells[r];o.setPosition(e),e+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},p._sizeCells=function(t){t.forEach(function(t){t.getSize()})},p.updateSlides=function(){if(this.slides=[],this.cells.length){var t=new o(this);this.slides.push(t);var e="left"==this.originSide,i=e?"marginRight":"marginLeft",n=this._getCanCellFit();this.cells.forEach(function(e,r){if(!t.cells.length)return void t.addCell(e);var s=t.outerWidth-t.firstMargin+(e.size.outerWidth-e.size[i]);n.call(this,r,s)?t.addCell(e):(t.updateTarget(),t=new o(this),this.slides.push(t),t.addCell(e))},this),t.updateTarget(),this.updateSelectedSlide()}},p._getCanCellFit=function(){var t=this.options.groupCells;if(!t)return function(){return!1};if("number"==typeof t){var e=parseInt(t,10);return function(t){return t%e!==0}}var i="string"==typeof t&&t.match(/^(\d+)%$/),n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}},p._init=p.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},p.getSize=function(){this.size=i(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return p.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},p.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+"px"}},p._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},p._getGapCells=function(t,e,i){for(var n=[];t>0;){var r=this.cells[e];if(!r)break;n.push(r),e+=i,t-=r.size.outerWidth}return n},p._containSlides=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length){var t=this.options.rightToLeft,e=t?"marginRight":"marginLeft",i=t?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[i],r=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[e],s=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){r?t.target=n*this.cellAlign:(t.target=Math.max(t.target,o),t.target=Math.min(t.target,s))},this)}},p.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),u&&this.$element){t+=this.options.namespaceJQueryEvents?".flickity":"";var r=t;if(e){var o=u.Event(e);o.type=t,r=o}this.$element.trigger(r,i)}},p.select=function(t,e,i){if(this.isActive&&(t=parseInt(t,10),this._wrapSelect(t),(this.options.wrapAround||e)&&(t=n.modulo(t,this.slides.length)),this.slides[t])){var r=this.selectedIndex;this.selectedIndex=t,this.updateSelectedSlide(),i?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[t]),t!=r&&this.dispatchEvent("change",null,[t]),this.dispatchEvent("cellSelect")}},p._wrapSelect=function(t){var e=this.slides.length,i=this.options.wrapAround&&e>1;if(!i)return t;var r=n.modulo(t,e),o=Math.abs(r-this.selectedIndex),s=Math.abs(r+e-this.selectedIndex),a=Math.abs(r-e-this.selectedIndex);!this.isDragSelect&&s<o?t+=e:!this.isDragSelect&&a<o&&(t-=e),t<0?this.x-=this.slideableWidth:t>=e&&(this.x+=this.slideableWidth)},p.previous=function(t,e){this.select(this.selectedIndex-1,t,e)},p.next=function(t,e){this.select(this.selectedIndex+1,t,e)},p.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];t&&(this.unselectSelectedSlide(),this.selectedSlide=t,t.select(),this.selectedCells=t.cells,this.selectedElements=t.getCellElements(),this.selectedCell=t.cells[0],this.selectedElement=this.selectedElements[0])},p.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},p.selectCell=function(t,e,i){var n=this.queryCell(t);if(n){var r=this.getCellSlideIndex(n);this.select(r,e,i)}},p.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e],n=i.cells.indexOf(t);if(n!=-1)return e}},p.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t)return i}},p.getCells=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getCell(t);i&&e.push(i)},this),e},p.getCellElements=function(){return this.cells.map(function(t){return t.element})},p.getParentCell=function(t){var e=this.getCell(t);return e?e:(t=n.getParent(t,".flickity-slider > *"),this.getCell(t))},p.getAdjacentCellElements=function(t,e){if(!t)return this.selectedSlide.getCellElements();e=void 0===e?this.selectedIndex:e;var i=this.slides.length;if(1+2*t>=i)return this.getCellElements();for(var r=[],o=e-t;o<=e+t;o++){var s=this.options.wrapAround?n.modulo(o,i):o,a=this.slides[s];a&&(r=r.concat(a.getCellElements()))}return r},p.queryCell=function(t){return"number"==typeof t?this.cells[t]:("string"==typeof t&&(t=this.element.querySelector(t)),this.getCell(t))},p.uiChange=function(){this.emitEvent("uiChange")},p.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},p.onresize=function(){this.watchCSS(),this.resize()},n.debounceMethod(l,"onresize",150),p.resize=function(){if(this.isActive){this.getSize(),this.options.wrapAround&&(this.x=n.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,!1,!0)}},p.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=c(this.element,":after").content;e.indexOf("flickity")!=-1?this.activate():this.deactivate()}},p.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(this.options.accessibility&&!e){var i=l.keyboardHandlers[t.keyCode];i&&i.call(this)}},l.keyboardHandlers={37:function(){var t=this.options.rightToLeft?"next":"previous";this.uiChange(),this[t]()},39:function(){var t=this.options.rightToLeft?"previous":"next";this.uiChange(),this[t]()}},p.focus=function(){var e=t.pageYOffset;this.element.focus(),t.pageYOffset!=e&&t.scrollTo(t.pageXOffset,e)},p.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(t){t.destroy()}),this.element.removeChild(this.viewport),a(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},p.destroy=function(){this.deactivate(),t.removeEventListener("resize",this),this.emitEvent("destroy"),u&&this.$element&&u.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete d[this.guid]},n.extend(p,s),l.data=function(t){
t=n.getQueryElement(t);var e=t&&t.flickityGUID;return e&&d[e]},n.htmlInit(l,"flickity"),u&&u.bridget&&u.bridget("flickity",l),l.setJQuery=function(t){u=t},l.Cell=r,l})},{"./animate":571,"./cell":572,"./slide":580,"ev-emitter":567,"fizzy-ui-utils":569,"get-size":584}],575:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],n):"object"==typeof e&&e.exports&&(e.exports=n(t("./flickity"),t("./drag"),t("./prev-next-button"),t("./page-dots"),t("./player"),t("./add-remove-cell"),t("./lazyload")))}(window,function(t){return t})},{"./add-remove-cell":570,"./drag":573,"./flickity":574,"./lazyload":576,"./page-dots":577,"./player":578,"./prev-next-button":579}],576:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof e&&e.exports?e.exports=n(i,t("./flickity"),t("fizzy-ui-utils")):n(i,i.Flickity,i.fizzyUIUtils)}(window,function(t,e,i){"use strict";function n(t){if("IMG"==t.nodeName){var e=t.getAttribute("data-flickity-lazyload"),n=t.getAttribute("data-flickity-lazyload-src"),r=t.getAttribute("data-flickity-lazyload-srcset");if(e||n||r)return[t]}var o="img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]",s=t.querySelectorAll(o);return i.makeArray(s)}function r(t,e){this.img=t,this.flickity=e,this.load()}e.createMethods.push("_createLazyload");var o=e.prototype;return o._createLazyload=function(){this.on("select",this.lazyLoad)},o.lazyLoad=function(){var t=this.options.lazyLoad;if(t){var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),o=[];i.forEach(function(t){var e=n(t);o=o.concat(e)}),o.forEach(function(t){new r(t,this)},this)}},r.prototype.handleEvent=i.handleEvent,r.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var t=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),e=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=t,e&&this.img.setAttribute("srcset",e),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},r.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},r.prototype.onerror=function(t){this.complete(t,"flickity-lazyerror")},r.prototype.complete=function(t,e){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var i=this.flickity.getParentCell(this.img),n=i&&i.element;this.flickity.cellSizeChange(n),this.img.classList.add(e),this.flickity.dispatchEvent("lazyLoad",t,n)},e.LazyLoader=r,e})},{"./flickity":574,"fizzy-ui-utils":569}],577:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,r){return n(i,t,e,r)}):"object"==typeof e&&e.exports?e.exports=n(i,t("./flickity"),t("tap-listener"),t("fizzy-ui-utils")):n(i,i.Flickity,i.TapListener,i.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function r(t){this.parent=t,this._create()}r.prototype=new i,r.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.on("tap",this.onTap),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.setDots(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),i.prototype.destroy.call(this)},r.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;t>0?this.addDots(t):t<0&&this.removeDots(-t)},r.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[],n=this.dots.length,r=n+t,o=n;o<r;o++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(o+1)),e.appendChild(s),i.push(s)}this.holder.appendChild(e),this.dots=this.dots.concat(i)},r.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach(function(t){this.holder.removeChild(t)},this)},r.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},r.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)}},r.prototype.destroy=function(){this.deactivate()},e.PageDots=r,n.extend(e.defaults,{pageDots:!0}),e.createMethods.push("_createPageDots");var o=e.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new r(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},e.PageDots=r,e})},{"./flickity":574,"fizzy-ui-utils":569,"tap-listener":620}],578:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],function(t,e,i){return n(t,e,i)}):"object"==typeof e&&e.exports?e.exports=n(t("ev-emitter"),t("fizzy-ui-utils"),t("./flickity")):n(i.EvEmitter,i.fizzyUIUtils,i.Flickity)}(window,function(t,e,i){"use strict";function n(t){this.parent=t,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}n.prototype=Object.create(t.prototype),n.prototype.play=function(){if("playing"!=this.state){var t=document.hidden;if(t)return void document.addEventListener("visibilitychange",this.onVisibilityPlay);this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()}},n.prototype.tick=function(){if("playing"==this.state){var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.clear(),this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){var t=document.hidden;this[t?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},e.extend(i.defaults,{pauseAutoPlayOnHover:!0}),i.createMethods.push("_createPlayer");var r=i.prototype;return r._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},r.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},r.playPlayer=function(){this.player.play()},r.stopPlayer=function(){this.player.stop()},r.pausePlayer=function(){this.player.pause()},r.unpausePlayer=function(){this.player.unpause()},r.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},r.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},r.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},i.Player=n,i})},{"./flickity":574,"ev-emitter":567,"fizzy-ui-utils":569}],579:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(t,e,r){return n(i,t,e,r)}):"object"==typeof e&&e.exports?e.exports=n(i,t("./flickity"),t("tap-listener"),t("fizzy-ui-utils")):n(i,i.Flickity,i.TapListener,i.fizzyUIUtils)}(window,function(t,e,i,n){"use strict";function r(t,e){this.direction=t,this.parent=e,this._create()}function o(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var s="http://www.w3.org/2000/svg";r.prototype=Object.create(i.prototype),r.prototype._create=function(){this.isEnabled=!0,this.isPrevious=this.direction==-1;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");e.className="flickity-button flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),this.disable(),e.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var i=this.createSVG();e.appendChild(i),this.on("tap",this.onTap),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},r.prototype.activate=function(){this.bindTap(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),i.prototype.destroy.call(this),this.element.removeEventListener("click",this)},r.prototype.createSVG=function(){var t=document.createElementNS(s,"svg");t.setAttribute("class","flickity-button-icon"),t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(s,"path"),i=o(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},r.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},r.prototype.handleEvent=n.handleEvent,r.prototype.onclick=function(t){var e=document.activeElement;e&&e==this.element&&this.onTap(t,t)},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()},r.prototype.destroy=function(){this.deactivate()},n.extend(e.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),e.createMethods.push("_createPrevNextButtons");var a=e.prototype;return a._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r((-1),this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},a.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},a.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},e.PrevNextButton=r,e})},{"./flickity":574,"fizzy-ui-utils":569,"tap-listener":620}],580:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():(t.Flickity=t.Flickity||{},t.Flickity.Slide=i())}(window,function(){"use strict";function t(t){this.parent=t,this.isOriginLeft="left"==t.originSide,this.cells=[],this.outerWidth=0,this.height=0}var e=t.prototype;return e.addCell=function(t){if(this.cells.push(t),this.outerWidth+=t.size.outerWidth,this.height=Math.max(t.size.outerHeight,this.height),1==this.cells.length){this.x=t.x;var e=this.isOriginLeft?"marginLeft":"marginRight";this.firstMargin=t.size[e]}},e.updateTarget=function(){var t=this.isOriginLeft?"marginRight":"marginLeft",e=this.getLastCell(),i=e?e.size[t]:0,n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},e.getLastCell=function(){return this.cells[this.cells.length-1]},e.select=function(){this.changeSelected(!0)},e.unselect=function(){this.changeSelected(!1)},e.changeSelected=function(t){var e=t?"add":"remove";this.cells.forEach(function(i){i.element.classList[e]("is-selected"),i.element.setAttribute("aria-selected",t.toString())})},e.getCellElements=function(){return this.cells.map(function(t){return t.element})},t})},{}],581:[function(t,e,i){function n(t,e,i){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(i=this),"[object Array]"===l.call(t)?r(t,e,i):"string"==typeof t?o(t,e,i):s(t,e,i)}function r(t,e,i){for(var n=0,r=t.length;n<r;n++)u.call(t,n)&&e.call(i,t[n],n,t)}function o(t,e,i){for(var n=0,r=t.length;n<r;n++)e.call(i,t.charAt(n),n,t)}function s(t,e,i){for(var n in t)u.call(t,n)&&e.call(i,t[n],n,t)}var a=t("is-function");e.exports=n;var l=Object.prototype.toString,u=Object.prototype.hasOwnProperty},{"is-function":590}],582:[function(t,e,i){function n(t){if(!t||!t.type)return null;var e=r[t.type];return e?"geometry"===e?{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}:"feature"===e?{type:"FeatureCollection",features:[t]}:"featurecollection"===e?t:void 0:null}e.exports=n;var r={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"}},{}],583:[function(t,e,n){function r(t){return t?c(t):[a(),l()]}function o(t){return function(e,i){return[e[0]+t[0],e[1]+t[1]]}}function s(){return Math.random()-.5}function a(){return 360*s()}function l(){return 180*s()}function u(t){return{type:"Point",coordinates:t||[a(),l()]}}function c(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}function h(t){return{type:"Polygon",coordinates:t}}function f(t){return{type:"Feature",geometry:t,properties:{}}}function d(t){return{type:"FeatureCollection",features:t}}e.exports=function(){throw new Error("call .point() or .polygon() instead")},e.exports.position=r,e.exports.point=function(t,e){var n=[];for(i=0;i<t;i++)n.push(f(e?u(r(e)):u()));return d(n)},e.exports.polygon=function(t,e,n,s){function a(t,e,i){i[e]=e>0?t+i[e-1]:t}function l(t,e){t=2*t*Math.PI/p[p.length-1];var i=Math.random();c.push([i*n*Math.sin(t),i*n*Math.cos(t)])}"number"!=typeof e&&(e=10),"number"!=typeof n&&(n=10);var u=[];for(i=0;i<t;i++){var c=[],p=Array.apply(null,new Array(e+1)).map(Math.random);p.forEach(a),p.forEach(l),c[c.length-1]=c[0],c=c.map(o(r(s))),u.push(f(h([c])))}return d(u)}},{}],584:[function(t,e,i){!function(t,i){"function"==typeof define&&define.amd?define(i):"object"==typeof e&&e.exports?e.exports=i():t.getSize=i()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=t.indexOf("%")==-1&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<u;e++){var i=l[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),e}function r(){if(!c){c=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var r=n(e);s=200==Math.round(t(r.width)),o.isBoxSizeOuter=s,i.removeChild(e)}}function o(e){if(r(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var o=n(e);if("none"==o.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var c=a.isBorderBox="border-box"==o.boxSizing,h=0;h<u;h++){var f=l[h],d=o[f],p=parseFloat(d);a[f]=isNaN(p)?0:p}var g=a.paddingLeft+a.paddingRight,m=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,y=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,b=a.borderTopWidth+a.borderBottomWidth,x=c&&s,w=t(o.width);w!==!1&&(a.width=w+(x?0:g+_));var C=t(o.height);return C!==!1&&(a.height=C+(x?0:m+b)),a.innerWidth=a.width-(g+_),a.innerHeight=a.height-(m+b),a.outerWidth=a.width+v,a.outerHeight=a.height+y,a}}var s,a="undefined"==typeof console?e:function(t){void 0},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],u=l.length,c=!1;return o})},{}],585:[function(t,e,i){(function(i){var n="undefined"!=typeof i?i:"undefined"!=typeof window?window:{},r=t("min-document");if("undefined"!=typeof document)e.exports=document;else{var o=n["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=n["__GLOBAL_DOCUMENT_CACHE@4"]=r),e.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":121}],586:[function(t,e,i){(function(t){"undefined"!=typeof window?e.exports=window:"undefined"!=typeof t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],587:[function(t,e,i){(function(t){var i="undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window;(i._gsQueue||(i._gsQueue=[])).push(function(){"use strict";i._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._repeat&&this._uncache(!0),this.render=o.prototype.render},s=1e-10,a=i._internals,l=a.isSelector,u=a.isArray,c=o.prototype=i.to({},.1,{}),h=[];o.version="1.20.4",c.constructor=o,c.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},c.updateTo=function(t,e){var n,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var s=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var a,l=1/(1-r),u=this._firstPT;u;)a=u.s+u.c,u.c*=l,u.s=a-u.c,u=u._next;return this},c.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,o,l,u,c,h,f,d,p,g=this._dirty?this.totalDuration():this._totalDuration,m=this._time,v=this._totalTime,y=this._cycle,_=this._duration,b=this._rawPrevTime;if(t>=g-1e-7&&t>=0?(this._totalTime=g,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=_,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===_&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(b<0||t<=0&&t>=-1e-7||b===s&&"isPause"!==this.data)&&b!==t&&(n=!0,b>s&&(o="onReverseComplete")),this._rawPrevTime=d=!e||t||b===t?t:s)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==v||0===_&&b>0)&&(o="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===_&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=d=!e||t||b===t?t:s)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(u=_+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time,p=this._yoyoEase||this.vars.yoyoEase,p&&(this._yoyoEase||(p!==!0||this._initted?this._yoyoEase=p=p===!0?this._ease:p instanceof Ease?p:Ease.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof Ease?p:"function"==typeof p?new Ease(p,this.vars.easeParams):Ease.map[p]||i.defaultEase:i.defaultEase)),this.ratio=p?1-p.getRatio((_-this._time)/_):0)),this._time>_?this._time=_:this._time<0&&(this._time=0)),this._easeType&&!p?(c=this._time/_,h=this._easeType,f=this._easePower,(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:this._time/_<.5?this.ratio=c/2:this.ratio=1-c/2):p||(this.ratio=this._ease.getRatio(this._time/_))),m===this._time&&!n&&y===this._cycle)return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=m,this._totalTime=v,this._rawPrevTime=b,this._cycle=y,a.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||p?r&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/_)}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==m&&t>=0&&(this._active=!0),0===v&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,!0,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==_||e||this._callback("onStart"))),l=this._firstPT;l;)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,!0,n),e||(this._totalTime!==v||o)&&this._callback("onUpdate")),this._cycle!==y&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,!0,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===_&&this._rawPrevTime===s&&d!==s&&(this._rawPrevTime=0)))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,s,a,c,f,d){a=a||0;var p,g,m,v,y=0,_=[],b=function(){s.onComplete&&s.onComplete.apply(s.onCompleteScope||this,arguments),c.apply(d||s.callbackScope||this,f||h)},x=s.cycle,w=s.startAt&&s.startAt.cycle;for(u(t)||("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t))),t=t||[],a<0&&(t=n(t),t.reverse(),a*=-1),p=t.length-1,m=0;m<=p;m++){g={};for(v in s)g[v]=s[v];if(x&&(r(g,t,m),null!=g.duration&&(e=g.duration,delete g.duration)),w){w=g.startAt={};for(v in s.startAt)w[v]=s.startAt[v];r(g.startAt,t,m)}g.delay=y+(g.delay||0),m===p&&c&&(g.onComplete=b),_[m]=new o(t[m],e,g),y+=a}return _},o.staggerFrom=o.allFrom=function(t,e,i,n,r,s,a){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,r,s,a)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,r,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,r,s,a,l)},o.delayedCall=function(t,e,i,n,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],r=0,o=t._first;o;)o instanceof i?n[r++]=o:(e&&(n[r++]=o),n=n.concat(f(o,e)),r=n.length),o=o._next;return n},d=o.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var o,s,a,l=d(0!=r),u=l.length,c=i&&n&&r;for(a=0;a<u;a++)s=l[a],(c||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&(t?s.totalTime(s._reversed?0:s.totalDuration()):s._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,s,c,h,f,d=a.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=n(t)),u(t))for(h=t.length;--h>-1;)o.killChildTweensOf(t[h],e);else{r=[];for(c in d)for(s=d[c].target.parentNode;s;)s===t&&(r=r.concat(d[c].tweens)),s=s.parentNode;for(f=r.length,h=0;h<f;h++)e&&r[h].totalTime(r[h].totalDuration()),r[h]._enabled(!1,!1)}}};var p=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var o,s,a=d(r),l=i&&n&&r,u=a.length;--u>-1;)s=a[u],(l||s instanceof e||(o=s.target===s.vars.onComplete)&&n||i&&!o)&&s.paused(t)};return o.pauseAll=function(t,e,i){p(!0,t,e,i)},o.resumeAll=function(t,e,i){p(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||s,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},c.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),i._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,n){var r=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],u(i)&&i.join("").indexOf("{self}")!==-1&&(r[n]=this._swapSelfInParams(i));u(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},o=1e-10,s=n._internals,a=r._internals={},l=s.isSelector,u=s.isArray,c=s.lazyTweens,h=s.lazyRender,f=i._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},g=a.pauseCallback=function(){},m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},v=r.prototype=new e;return r.version="1.20.4",v.constructor=r,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(t,e,i,r){var o=i.repeat&&f.TweenMax||n;return e?this.add(new o(t,e,i),r):this.set(t,i,r)},v.from=function(t,e,i,r){return this.add((i.repeat&&f.TweenMax||n).from(t,e,i),r)},v.fromTo=function(t,e,i,r,o){var s=r.repeat&&f.TweenMax||n;return e?this.add(s.fromTo(t,e,i,r),o):this.set(t,r,o)},v.staggerTo=function(t,e,i,o,s,a,u,c){var h,f,g=new r({onComplete:a,onCompleteParams:u,callbackScope:c,smoothChildTiming:this.smoothChildTiming}),v=i.cycle;for("string"==typeof t&&(t=n.selector(t)||t),t=t||[],l(t)&&(t=m(t)),o=o||0,o<0&&(t=m(t),t.reverse(),o*=-1),f=0;f<t.length;f++)h=d(i),h.startAt&&(h.startAt=d(h.startAt),h.startAt.cycle&&p(h.startAt,t,f)),v&&(p(h,t,f),null!=h.duration&&(e=h.duration,delete h.duration)),g.to(t[f],e,h,f*o);return this.add(g,s)},v.staggerFrom=function(t,e,i,n,r,o,s,a){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,s,a)},v.staggerFromTo=function(t,e,i,n,r,o,s,a,l){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,s,a,l)},v.call=function(t,e,i,r){return this.add(n.delayedCall(0,t,e,i),r)},v.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new n(t,0,e),i)},r.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var i,o,s,a,l=new r(t),u=l._timeline;for(null==e&&(e=!0),u._remove(l,!0),l._startTime=0,l._rawPrevTime=l._time=l._totalTime=u._time,s=u._first;s;)a=s._next,e&&s instanceof n&&s.target===s.vars.onComplete||(o=s._startTime-s._delay,o<0&&(i=1),l.add(s,o)),s=a;return u.add(l,0),i&&l.totalDuration(),l},v.add=function(i,o,s,a){var l,c,h,f,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,i)),!(i instanceof t)){if(i instanceof Array||i&&i.push&&u(i)){for(s=s||"normal",a=a||0,l=o,c=i.length,h=0;h<c;h++)u(f=i[h])&&(f=new r({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===s?l=f._startTime+f.totalDuration()/f._timeScale:"start"===s&&(f._startTime-=f.delay())),l+=a;return this._uncache(!0)}if("string"==typeof i)return this.addLabel(i,o);if("function"!=typeof i)throw"Cannot add "+i+" into the timeline; it is not a tween, timeline, function, or string.";i=n.delayedCall(0,i)}if(e.prototype.add.call(this,i,o),i._time&&i.render((this.rawTime()-i._startTime)*i._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>i._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},v.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&u(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},v._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},v.insert=v.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},v.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},v.addLabel=function(t,e){
return this._labels[t]=this._parseTimeOrLabel(e),this},v.addPause=function(t,e,i,r){var o=n.delayedCall(0,g,i,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},v.removeLabel=function(t){return delete this._labels[t],this},v.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},v._parseTimeOrLabel=function(e,i,n,r){var o,s;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&u(r)))for(s=r.length;--s>-1;)r[s]instanceof t&&r[s].timeline===this&&this.remove(r[s]);if(o="number"!=typeof e||i?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-o:0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(s=e.indexOf("="),s===-1)return null==this._labels[e]?n?this._labels[e]=o+i:i:this._labels[e]+i;i=parseInt(e.charAt(s-1)+"1",10)*Number(e.substr(s+1)),e=s>1?this._parseTimeOrLabel(e.substr(0,s-1),0,n):o}return Number(e)+i},v.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(t,e){return this.play(t,e)},v.gotoAndStop=function(t,e){return this.pause(t,e)},v.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,a,l,u,f,d=this._time,p=this._dirty?this.totalDuration():this._totalDuration,g=this._startTime,m=this._timeScale,v=this._paused;if(d!==this._time&&(t+=this._time-d),t>=p-1e-7&&t>=0)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(r=!0,a="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===o)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>o&&(a="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,t=p+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==d||0===this._duration&&this._rawPrevTime!==o&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(a="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,a="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=d)for(n=this._first;n&&n._startTime<=t&&!u;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(u=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!u;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(u=n),n=n._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==d&&this._first||i||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=d)for(n=this._first;n&&(s=n._next,f===this._time&&(!this._paused||v));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(u===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,f===this._time&&(!this._paused||v));){if(n._active||n._startTime<=d&&!n._paused&&!n._gc){if(u===n){for(u=n._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(c.length&&h(),this._callback("onUpdate"))),a&&(this._gc||g!==this._startTime&&m===this._timeScale||(0===this._time||p>=this.totalDuration())&&(r&&(c.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[a]&&this._callback(a)))}},v._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof r&&t._hasPausedChild())return!0;t=t._next}return!1},v.getChildren=function(t,e,i,r){r=r||-9999999999;for(var o=[],s=this._first,a=0;s;)s._startTime<r||(s instanceof n?e!==!1&&(o[a++]=s):(i!==!1&&(o[a++]=s),t!==!1&&(o=o.concat(s.getChildren(!0,e,i)),a=o.length))),s=s._next;return o},v.getTweensOf=function(t,e){var i,r,o=this._gc,s=[],a=0;for(o&&this._enabled(!0,!0),i=n.getTweensOf(t),r=i.length;--r>-1;)(i[r].timeline===this||e&&this._contains(i[r]))&&(s[a++]=i[r]);return o&&this._enabled(!1,!0),s},v.recent=function(){return this._recent},v._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},v.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},v._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},v.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},v._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},v.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},v.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(r,r._startTime-r._delay),this._calculatingDuration=0):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale,this._time-=r._startTime,this._totalTime-=r._startTime,this._rawPrevTime-=r._startTime),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},v.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},v.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},r},!0),i._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,n){var r=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},o=1e-10,s=e._internals,a=s.lazyTweens,l=s.lazyRender,u=i._gsDefine.globals,c=new n(null,null,1,0),h=r.prototype=new t;return h.constructor=r,h.kill()._gc=!1,r.version="1.20.4",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,i){i=i||{};var n,r,o,s={ease:c,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},a=i.repeat&&u.TweenMax||e;for(r in i)s[r]=i[r];return s.time=this._parseTimeOrLabel(t),n=Math.abs(Number(s.time)-this._time)/this._timeScale||.001,o=new a(this,n,s),s.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||n!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||o,i.onStartParams||[])},o},h.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,r,s,u,c,h,f,d,p=this._time,g=this._dirty?this.totalDuration():this._totalDuration,m=this._duration,v=this._totalTime,y=this._startTime,_=this._timeScale,b=this._rawPrevTime,x=this._paused,w=this._cycle;if(p!==this._time&&(t+=this._time-p),t>=g-1e-7&&t>=0)this._locked||(this._totalTime=g,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,u="onComplete",c=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===o)&&b!==t&&this._first&&(c=!0,b>o&&(u="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:o,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=m,t=m+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==p||0===m&&b!==o&&(b>0||t<0&&b>=0)&&!this._locked)&&(u="onReverseComplete",r=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(c=r=!0,u="onReverseComplete"):b>=0&&this._first&&(c=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=m||!e||t||this._rawPrevTime===t?t:o,0===t&&r)for(n=this._first;n&&0===n._startTime;)n._duration||(r=!1),n=n._next;t=0,this._initted||(c=!0)}else if(0===m&&b<0&&(c=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(h=m+this._repeatDelay,this._cycle=this._totalTime/h>>0,0!==this._cycle&&this._cycle===this._totalTime/h&&v<=t&&this._cycle--,this._time=this._totalTime-this._cycle*h,this._yoyo&&0!==(1&this._cycle)&&(this._time=m-this._time),this._time>m?(this._time=m,t=m+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=p||this._repeat&&w!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&f._startTime<m&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var C=this._yoyo&&0!==(1&w),E=C===(this._yoyo&&0!==(1&this._cycle)),S=this._totalTime,T=this._cycle,I=this._rawPrevTime,k=this._time;if(this._totalTime=w*m,this._cycle<w?C=!C:this._totalTime+=m,this._time=p,this._rawPrevTime=0===m?b-1e-4:b,this._cycle=w,this._locked=!0,p=C?0:m,this.render(p,e,0===m),e||this._gc||this.vars.onRepeat&&(this._cycle=T,this._locked=!1,this._callback("onRepeat")),p!==this._time)return;if(E&&(this._cycle=w,this._locked=!0,p=C?m+1e-4:-1e-4,this.render(p,!0,!1)),this._locked=!1,this._paused&&!x)return;this._time=k,this._totalTime=S,this._cycle=T,this._rawPrevTime=I}if(!(this._time!==p&&this._first||i||c||f))return void(v!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&t>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=p)for(n=this._first;n&&(s=n._next,d===this._time&&(!this._paused||x));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=s;else for(n=this._last;n&&(s=n._prev,d===this._time&&(!this._paused||x));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,i),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=s}this._onUpdate&&(e||(a.length&&l(),this._callback("onUpdate"))),u&&(this._locked||this._gc||y!==this._startTime&&_===this._timeScale||(0===this._time||g>=this.totalDuration())&&(r&&(a.length&&l(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[u]&&this._callback(u)))},h.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],s=this.getChildren(t,e,i),a=0,l=s.length;for(n=0;n<l;n++)r=s[n],r.isActive()&&(o[a++]=r);return o},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},h.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},h.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var t=180/Math.PI,e=[],n=[],r=[],o={},s=i._gsDefine.globals,a=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},l=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",u=function(t,e,i,n){var r={a:t},o={},s={},a={c:n},l=(t+e)/2,u=(e+i)/2,c=(i+n)/2,h=(l+u)/2,f=(u+c)/2,d=(f-h)/8;return r.b=l+(t-l)/4,o.b=h+d,r.c=o.a=(r.b+o.b)/2,o.c=s.a=(h+f)/2,s.b=f-d,a.b=c+(n-c)/4,s.c=a.a=(s.b+a.b)/2,[r,o,s,a]},c=function(t,i,o,s,a){var l,c,h,f,d,p,g,m,v,y,_,b,x,w=t.length-1,C=0,E=t[0].a;for(l=0;l<w;l++)d=t[C],c=d.a,h=d.d,f=t[C+1].d,a?(_=e[l],b=n[l],x=(b+_)*i*.25/(s?.5:r[l]||.5),p=h-(h-c)*(s?.5*i:0!==_?x/_:0),g=h+(f-h)*(s?.5*i:0!==b?x/b:0),m=h-(p+((g-p)*(3*_/(_+b)+.5)/4||0))):(p=h-(h-c)*i*.5,g=h+(f-h)*i*.5,m=h-(p+g)/2),p+=m,g+=m,d.c=v=p,0!==l?d.b=E:d.b=E=d.a+.6*(d.c-d.a),d.da=h-c,d.ca=v-c,d.ba=E-c,o?(y=u(c,E,v,h),t.splice(C,1,y[0],y[1],y[2],y[3]),C+=4):C++,E=g;d=t[C],d.b=E,d.c=E+.4*(d.d-E),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=E-d.a,o&&(y=u(d.a,E,d.c,d.d),t.splice(C,1,y[0],y[1],y[2],y[3]))},h=function(t,i,r,o){var s,l,u,c,h,f,d=[];if(o)for(t=[o].concat(t),l=t.length;--l>-1;)"string"==typeof(f=t[l][i])&&"="===f.charAt(1)&&(t[l][i]=o[i]+Number(f.charAt(0)+f.substr(2)));if(s=t.length-2,s<0)return d[0]=new a(t[0][i],0,0,t[0][i]),d;for(l=0;l<s;l++)u=t[l][i],c=t[l+1][i],d[l]=new a(u,0,0,c),r&&(h=t[l+2][i],e[l]=(e[l]||0)+(c-u)*(c-u),n[l]=(n[l]||0)+(h-c)*(h-c));return d[l]=new a(t[l][i],0,0,t[l+1][i]),d},f=function(t,i,s,a,u,f){var d,p,g,m,v,y,_,b,x={},w=[],C=f||t[0];u="string"==typeof u?","+u+",":l,null==i&&(i=1);for(p in t[0])w.push(p);if(t.length>1){for(b=t[t.length-1],_=!0,d=w.length;--d>-1;)if(p=w[d],Math.abs(C[p]-b[p])>.05){_=!1;break}_&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=n.length=r.length=0,d=w.length;--d>-1;)p=w[d],o[p]=u.indexOf(","+p+",")!==-1,x[p]=h(t,p,o[p],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),n[d]=Math.sqrt(n[d]);if(!a){for(d=w.length;--d>-1;)if(o[p])for(g=x[w[d]],y=g.length-1,m=0;m<y;m++)v=g[m+1].da/n[m]+g[m].da/e[m]||0,r[m]=(r[m]||0)+v*v;for(d=r.length;--d>-1;)r[d]=Math.sqrt(r[d])}for(d=w.length,m=s?4:1;--d>-1;)p=w[d],g=x[p],c(g,i,s,a,o[p]),_&&(g.splice(0,m),g.splice(g.length-m,m));return x},d=function(t,e,i){e=e||"soft";var n,r,o,s,l,u,c,h,f,d,p,g={},m="cubic"===e?3:2,v="soft"===e,y=[];if(v&&i&&(t=[i].concat(t)),null==t||t.length<m+1)throw"invalid Bezier data";for(f in t[0])y.push(f);for(u=y.length;--u>-1;){for(f=y[u],g[f]=l=[],d=0,h=t.length,c=0;c<h;c++)n=null==i?t[c][f]:"string"==typeof(p=t[c][f])&&"="===p.charAt(1)?i[f]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&c>1&&c<h-1&&(l[d++]=(n+l[d-2])/2),l[d++]=n;for(h=d-m+1,d=0,c=0;c<h;c+=m)n=l[c],r=l[c+1],o=l[c+2],s=2===m?0:l[c+3],l[d++]=p=3===m?new a(n,r,o,s):new a(n,(2*r+n)/3,(2*r+o)/3,o);l.length=d}return g},p=function(t,e,i){for(var n,r,o,s,a,l,u,c,h,f,d,p=1/i,g=t.length;--g>-1;)for(f=t[g],o=f.a,s=f.d-o,a=f.c-o,l=f.b-o,n=r=0,c=1;c<=i;c++)u=p*c,h=1-u,n=r-(r=(u*u*s+3*h*(u*a+h*l))*u),d=g*i+c-1,e[d]=(e[d]||0)+n*n},g=function(t,e){e=e>>0||6;var i,n,r,o,s=[],a=[],l=0,u=0,c=e-1,h=[],f=[];for(i in t)p(t[i],s,e);for(r=s.length,n=0;n<r;n++)l+=Math.sqrt(s[n]),o=n%e,f[o]=l,o===c&&(u+=l,o=n/e>>0,h[o]=f,a[o]=u,l=0,f=[]);return{length:u,lengths:a,segments:h}},m=i._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,s,a,l=e.values||[],u={},c=l[0],h=e.autoRotate||i.vars.orientToBezier;this._autoRotate=h?h instanceof Array?h:[["x","y","rotation",h===!0?0:Number(h)||0]]:null;for(n in c)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],u[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),a||u[n]!==l[0][n]&&(a=u);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?f(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,a):d(l,e.type,u),this._segCount=this._beziers[n].length,this._timeRes){var p=g(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(h=this._autoRotate)for(this._initialRotations=[],h[0]instanceof Array||(this._autoRotate=h=[h]),o=h.length;--o>-1;){for(s=0;s<3;s++)n=h[o][s],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=h[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,o,s,a,l,u,c,h,f=this._segCount,d=this._func,p=this._target,g=e!==this._startRatio;if(this._timeRes){if(c=this._lengths,h=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<f-1){for(u=f-1;r<u&&(this._l2=c[++r])<=e;);this._l1=c[r-1],this._li=r,this._curSeg=h=this._segments[r],this._s2=h[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=c[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=c[r],this._li=r,this._curSeg=h=this._segments[r],this._s1=h[(this._si=h.length-1)-1]||0,this._s2=h[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<h.length-1){for(u=h.length-1;r<u&&(this._s2=h[++r])<=e;);this._s1=h[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=h[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=h[r],this._si=r}a=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=e<0?0:e>=1?f-1:f*e>>0,a=(e-i*(1/f))*f;for(n=1-a,r=this._props.length;--r>-1;)o=this._props[r],s=this._beziers[o][i],l=(a*a*s.da+3*n*(a*s.ca+n*s.ba))*a+s.a,this._mod[o]&&(l=this._mod[o](l,p)),d[o]?p[o](l):p[o]=l;if(this._autoRotate){var m,v,y,_,b,x,w,C=this._autoRotate;for(r=C.length;--r>-1;)o=C[r][2],x=C[r][3]||0,w=C[r][4]===!0?1:t,s=this._beziers[C[r][0]],m=this._beziers[C[r][1]],s&&m&&(s=s[i],m=m[i],v=s.a+(s.b-s.a)*a,_=s.b+(s.c-s.b)*a,v+=(_-v)*a,_+=(s.c+(s.d-s.c)*a-_)*a,y=m.a+(m.b-m.a)*a,b=m.b+(m.c-m.b)*a,y+=(b-y)*a,b+=(m.c+(m.d-m.c)*a-b)*a,l=g?Math.atan2(b-y,_-v)*w+x:this._initialRotations[r],this._mod[o]&&(l=this._mod[o](l,p)),d[o]?p[o](l):p[o]=l)}}}),v=m.prototype;m.bezierThrough=f,m.cubicToQuadratic=u,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=s.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,s,a,l){e instanceof Array&&(e={values:e}),l=new m;var u,c,h,f=e.values,d=f.length-1,p=[],g={};if(d<0)return a;for(u=0;u<=d;u++)h=i(t,f[u],s,a,l,d!==u),p[u]=h.end;for(c in e)g[c]=e[c];return g.values=p,a=new r(t,"bezier",0,0,h.pt,2),a.data=h,a.plugin=l,a.setRatio=n,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(u=g.autoRotate===!0?0:Number(g.autoRotate),g.autoRotate=null!=h.end.left?[["left","top","rotation",u,!1]]:null!=h.end.x&&[["x","y","rotation",u,!1]]),g.autoRotate&&(s._transform||s._enableTransforms(!1),h.autoRotate=s._target._gsTransform,h.proxy.rotation=h.autoRotate.rotation||0,s._overwriteProps.push("rotation")),l._onInitTween(h.proxy,g,s._tween),a}})}},v._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=t[i[n]],e&&"function"==typeof e&&(this._mod[i[n]]=e)},v._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)}}(),i._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var n,r,o,s,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},l=i._gsDefine.globals,u={},c=a.prototype=new t("css");c.constructor=a,a.version="1.20.4",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,c="px",a.suffixMap={top:c,right:c,bottom:c,left:c,width:c,height:c,fontSize:c,padding:c,margin:c,perspective:c,lineHeight:""};var h,f,d,p,g,m,v,y,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,x=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,w=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,C=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,S=/opacity:([^;]*)/i,T=/alpha\(opacity *=.+?\)/i,I=/^(rgb|hsl)/,k=/([A-Z])/g,P=/-([a-z])/gi,L=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,R=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,j=/[\s,\(]/i,D=Math.PI/180,F=180/Math.PI,z={},B={style:{}},V=i.document||{createElement:function(){return B}},q=function(t,e){return V.createElementNS?V.createElementNS(e||"http://www.w3.org/1999/xhtml",t):V.createElement(t)},U=q("div"),G=q("img"),H=a._internals={_specialProps:u},X=(i.navigator||{}).userAgent||"",W=function(){var t=X.indexOf("Android"),e=q("a");return d=X.indexOf("Safari")!==-1&&X.indexOf("Chrome")===-1&&(t===-1||parseFloat(X.substr(t+8,2))>3),g=d&&parseFloat(X.substr(X.indexOf("Version/")+8,2))<6,p=X.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X))&&(m=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),Y=function(t){return E.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},$=function(t){i.console&&void 0},Z="",K="",J=function(t,e){e=e||U;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(K=3===n?"ms":i[n],Z="-"+K.toLowerCase()+"-",K+t):null},Q=V.defaultView?V.defaultView.getComputedStyle:function(){},tt=a.getStyle=function(t,e,i,n,r){var o;return W||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||Q(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(k,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):Y(t)},et=H.convertToPixels=function(t,i,n,r,o){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var s,l,u,c=A.test(i),h=t,f=U.style,d=n<0,p=1===n;if(d&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&i.indexOf("border")!==-1)s=n/100*(c?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&h.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[c?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(h=t.parentNode||V.body,tt(h,"display").indexOf("flex")!==-1&&(f.position="absolute"),l=h._gsCache,u=e.ticker.frame,l&&c&&l.time===u)return l.width*n/100;f[c?"width":"height"]=n+r}h.appendChild(U),s=parseFloat(U[c?"offsetWidth":"offsetHeight"]),h.removeChild(U),c&&"%"===r&&a.cacheWidths!==!1&&(l=h._gsCache=h._gsCache||{},l.time=u,l.width=s/n*100),0!==s||o||(s=et(t,i,n,r,!0))}else l=Q(t).lineHeight,t.style.lineHeight=n,s=parseFloat(Q(t).lineHeight),t.style.lineHeight=l;return p&&(s/=100),d?-s:s},it=H.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=tt(t,"margin"+n,i);return t["offset"+n]-(et(t,e,parseFloat(r),r.replace(C,""))||0)},nt=function(t,e){var i,n,r,o={};if(e=e||Q(t,null))if(i=e.length)for(;--i>-1;)r=e[i],r.indexOf("-transform")!==-1&&Lt!==r||(o[r.replace(P,O)]=e.getPropertyValue(r));else for(i in e)i.indexOf("Transform")!==-1&&Pt!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(P,O)]=e[i]);return W||(o.opacity=Y(t)),n=Gt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,At&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,i,n,r){var o,s,a,l={},u=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(o=i[s])||r&&r[s])&&s.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(l[s]="auto"!==o||"left"!==s&&"top"!==s?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[s]||""===e[s].replace(w,"")?o:0:it(t,s),void 0!==u[s]&&(a=new _t(u,s,u[s],a))));if(n)for(s in n)"className"!==s&&(l[s]=n[s]);return{difs:l,firstMPT:a}},ot={width:["Left","Right"],height:["Top","Bottom"]},st=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||Q(t))[e]||0;if(t.getCTM&&Vt(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=ot[e],o=r.length;for(i=i||Q(t,null);--o>-1;)n-=parseFloat(tt(t,"padding"+r[o],i,!0))||0,n-=parseFloat(tt(t,"border"+r[o]+"Width",i,!0))||0;return n},lt=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":n[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(lt(n[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),t=r+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=r.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(w,"")),e.oy=parseFloat(o.replace(w,"")),e.v=t),e||t},ut=function(t,e){return"function"==typeof t&&(t=t(y,v)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ct=function(t,e){return"function"==typeof t&&(t=t(y,v)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ht=function(t,e,i,n){var r,o,s,a,l,u=1e-6;return"function"==typeof t&&(t=t(y,v)),null==t?a=e:"number"==typeof t?a=t:(r=360,o=t.split("_"),l="="===t.charAt(1),s=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:F)-(l?0:e),o.length&&(n&&(n[i]=e+s),t.indexOf("short")!==-1&&(s%=r,s!==s%(r/2)&&(s=s<0?s+r:s-r)),t.indexOf("_cw")!==-1&&s<0?s=(s+9999999999*r)%r-(s/r|0)*r:t.indexOf("ccw")!==-1&&s>0&&(s=(s-9999999999*r)%r-(s/r|0)*r)),a=e+s),a<u&&a>-u&&(a=0),a},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},dt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},pt=a.parseColor=function(t,e){var i,n,r,o,s,a,l,u,c,h,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])i=ft[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+n+n+r+r+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(_),e){if(t.indexOf("=")!==-1)return t.match(b)}else s=Number(i[0])%360/360,a=Number(i[1])/100,l=Number(i[2])/100,r=l<=.5?l*(a+1):l+a-l*a,n=2*l-r,i.length>3&&(i[3]=Number(i[3])),i[0]=dt(s+1/3,n,r),i[1]=dt(s,n,r),i[2]=dt(s-1/3,n,r);else i=t.match(_)||ft.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ft.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,u=Math.max(n,r,o),c=Math.min(n,r,o),l=(u+c)/2,u===c?s=a=0:(h=u-c,a=l>.5?h/(2-u-c):h/(u+c),s=u===n?(r-o)/h+(r<o?6:0):u===r?(o-n)/h+2:(n-r)/h+4,s*=60),i[0]=s+.5|0,i[1]=100*a+.5|0,i[2]=100*l+.5|0),i},gt=function(t,e){var i,n,r,o=t.match(mt)||[],s=0,a="";if(!o.length)return t;for(i=0;i<o.length;i++)n=o[i],r=t.substr(s,t.indexOf(n,s)-s),s+=r.length+n.length,n=pt(n,e),3===n.length&&n.push(1),a+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";
return a+t.substr(s)},mt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(c in ft)mt+="|"+c+"\\b";mt=new RegExp(mt+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];mt.test(i)&&(e=i.indexOf("hsl(")!==-1||i.indexOf("hsla(")!==-1,t[0]=gt(t[0],e),t[1]=gt(t[1],e)),mt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var vt=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(mt)||[""])[0]:"",s=t.split(o).join("").match(x)||[],a=t.substr(0,t.indexOf(s[0])),l=")"===t.charAt(t.length-1)?")":"",u=t.indexOf(" ")!==-1?" ":",",c=s.length,h=c>0?s[0].replace(_,""):"";return c?r=e?function(t){var e,f,d,p;if("number"==typeof t)t+=h;else if(n&&N.test(t)){for(p=t.replace(N,"|").split("|"),d=0;d<p.length;d++)p[d]=r(p[d]);return p.join(",")}if(e=(t.match(mt)||[o])[0],f=t.split(e).join("").match(x)||[],d=f.length,c>d--)for(;++d<c;)f[d]=i?f[(d-1)/2|0]:s[d];return a+f.join(u)+u+e+l+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=h;else if(n&&N.test(t)){for(o=t.replace(N,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(e=t.match(x)||[],f=e.length,c>f--)for(;++f<c;)e[f]=i?e[(f-1)/2|0]:s[f];return a+e.join(u)+l}:function(t){return t}},yt=function(t){return t=t.split(","),function(e,i,n,r,o,s,a){var l,u=(i+"").split(" ");for(a={},l=0;l<4;l++)a[t[l]]=u[l]=u[l]||u[(l-1)/2>>0];return r.parse(e,a,o,s)}},_t=(H._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,s=this.data,a=s.proxy,l=s.firstMPT,u=1e-6;l;)e=a[l.v],l.r?e=Math.round(e):e<u&&e>-u&&(e=0),l.t[l.p]=e,l=l._next;if(s.autoRotate&&(s.autoRotate.rotation=s.mod?s.mod(a.rotation,this.t):a.rotation),1===t||0===t)for(l=s.firstMPT,o=1===t?"e":"b";l;){if(i=l.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;l=l._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),bt=(H._parseToProxy=function(t,e,i,n,r,o){var s,a,l,u,c,h=n,f={},d={},p=i._transform,g=z;for(i._transform=null,z=e,n=c=i.parse(t,e,n,r),z=g,o&&(i._transform=p,h&&(h._prev=null,h._prev&&(h._prev._next=null)));n&&n!==h;){if(n.type<=1&&(a=n.p,d[a]=n.s+n.c,f[a]=n.s,o||(u=new _t(n,"s",a,u,n.r),n.c=0),1===n.type))for(s=n.l;--s>0;)l="xn"+s,a=n.p+"_"+l,d[a]=n.data[l],f[a]=n[l],o||(u=new _t(n,l,a,u,n.rxp[l]));n=n._next}return{proxy:f,end:d,firstMPT:u,pt:c}},H.CSSPropTween=function(t,e,i,r,o,a,l,u,c,h,f){this.t=t,this.p=e,this.s=i,this.c=r,this.n=l||e,t instanceof bt||s.push(this.n),this.r=u,this.type=a||0,c&&(this.pr=c,n=!0),this.b=void 0===h?i:h,this.e=void 0===f?i+r:f,o&&(this._next=o,o._prev=this)}),xt=function(t,e,i,n,r,o){var s=new bt(t,e,i,n-i,r,(-1),o);return s.b=i,s.e=s.xs0=n,s},wt=a.parseComplex=function(t,e,i,n,r,o,s,l,u,c){i=i||o||"","function"==typeof n&&(n=n(y,v)),s=new bt(t,e,0,0,s,c?2:1,null,(!1),l,i,n),n+="",r&&mt.test(n+i)&&(n=[i,n],a.colorStringFilter(n),i=n[0],n=n[1]);var f,d,p,g,m,x,w,C,E,S,T,I,k,P=i.split(", ").join(",").split(" "),L=n.split(", ").join(",").split(" "),O=P.length,A=h!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||((n+i).indexOf("rgb")!==-1||(n+i).indexOf("hsl")!==-1?(P=P.join(" ").replace(N,", ").split(" "),L=L.join(" ").replace(N,", ").split(" ")):(P=P.join(" ").split(",").join(", ").split(" "),L=L.join(" ").split(",").join(", ").split(" ")),O=P.length),O!==L.length&&(P=(o||"").split(" "),O=P.length),s.plugin=u,s.setRatio=c,mt.lastIndex=0,f=0;f<O;f++)if(g=P[f],m=L[f],C=parseFloat(g),C||0===C)s.appendXtra("",C,ut(m,C),m.replace(b,""),A&&m.indexOf("px")!==-1,!0);else if(r&&mt.test(g))I=m.indexOf(")")+1,I=")"+(I?m.substr(I):""),k=m.indexOf("hsl")!==-1&&W,S=m,g=pt(g,k),m=pt(m,k),E=g.length+m.length>6,E&&!W&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(L[f]).join("transparent")):(W||(E=!1),k?s.appendXtra(S.substr(0,S.indexOf("hsl"))+(E?"hsla(":"hsl("),g[0],ut(m[0],g[0]),",",!1,!0).appendXtra("",g[1],ut(m[1],g[1]),"%,",!1).appendXtra("",g[2],ut(m[2],g[2]),E?"%,":"%"+I,!1):s.appendXtra(S.substr(0,S.indexOf("rgb"))+(E?"rgba(":"rgb("),g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],E?",":I,!0),E&&(g=g.length<4?1:g[3],s.appendXtra("",g,(m.length<4?1:m[3])-g,I,!1))),mt.lastIndex=0;else if(x=g.match(_)){if(w=m.match(b),!w||w.length!==x.length)return s;for(p=0,d=0;d<x.length;d++)T=x[d],S=g.indexOf(T,p),s.appendXtra(g.substr(p,S-p),Number(T),ut(w[d],T),"",A&&"px"===g.substr(S+T.length,2),0===d),p=S+T.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(n.indexOf("=")!==-1&&s.data){for(I=s.xs0+s.data.s,f=1;f<s.l;f++)I+=s["xs"+f]+s.data["xn"+f];s.e=I+s["xs"+f]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Ct=9;for(c=bt.prototype,c.l=c.pr=0;--Ct>0;)c["xn"+Ct]=0,c["xs"+Ct]="";c.xs0="",c._next=c._prev=c.xfirst=c.data=c.plugin=c.setRatio=c.rxp=null,c.appendXtra=function(t,e,i,n,r,o){var s=this,a=s.l;return s["xs"+a]+=o&&(a||s["xs"+a])?" "+t:t||"",i||0===a||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=n||"",a>0?(s.data["xn"+a]=e+i,s.rxp["xn"+a]=r,s["xn"+a]=e,s.plugin||(s.xfirst=new bt(s,"xn"+a,e,i,s.xfirst||s,0,s.n,r,s.pr),s.xfirst.xs0=0),s):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=r,s)):(s["xs"+a]+=e+(n||""),s)};var Et=function(t,e){e=e||{},this.p=e.prefix?J(t)||t:t,u[t]=u[this.p]=this,this.format=e.formatter||vt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},St=H._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),s=e.defaultValue;for(i=i||[s],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||s,r=new Et(o[n],e)},Tt=H._registerPluginProp=function(t){if(!u[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";St(t,{parser:function(t,i,n,r,o,s,a){var c=l.com.greensock.plugins[e];return c?(c._cssRegister(),u[n].parse(t,i,n,r,o,s,a)):($("Error: "+e+" js file not loaded."),o)}})}};c=Et.prototype,c.parseComplex=function(t,e,i,n,r,o){var s,a,l,u,c,h,f=this.keyword;if(this.multi&&(N.test(i)||N.test(e)?(a=e.replace(N,"|").split("|"),l=i.replace(N,"|").split("|")):f&&(a=[e],l=[i])),l){for(u=l.length>a.length?l.length:a.length,s=0;s<u;s++)e=a[s]=a[s]||this.dflt,i=l[s]=l[s]||this.dflt,f&&(c=e.indexOf(f),h=i.indexOf(f),c!==h&&(h===-1?a[s]=a[s].split(f).join(""):c===-1&&(a[s]+=" "+f)));e=a.join(", "),i=l.join(", ")}return wt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},c.parse=function(t,e,i,n,r,s,a){return this.parseComplex(t.style,this.format(tt(t,this.p,o,!1,this.dflt)),this.format(e),r,s)},a.registerSpecialProp=function(t,e,i){St(t,{parser:function(t,n,r,o,s,a,l){var u=new bt(t,r,0,0,s,2,r,(!1),i);return u.plugin=a,u.setRatio=e(t,n,o._tween,r),u},priority:i})},a.useSVGTransformAttr=!0;var It,kt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pt=J("transform"),Lt=Z+"transform",Ot=J("transformOrigin"),At=null!==J("perspective"),Mt=H.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=!(a.defaultForce3D===!1||!At)&&(a.defaultForce3D||"auto")},Rt=i.SVGElement,Nt=function(t,e,i){var n,r=V.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},jt=V.documentElement||{},Dt=function(){var t,e,n,r=m||/Android/i.test(X)&&!i.chrome;return V.createElementNS&&!r&&(t=Nt("svg",jt),e=Nt("rect",t,{width:100,height:50,x:100}),n=e.getBoundingClientRect().width,e.style[Ot]="50% 50%",e.style[Pt]="scaleX(0.5)",r=n===e.getBoundingClientRect().width&&!(p&&At),jt.removeChild(t)),r}(),Ft=function(t,e,i,n,r,o){var s,l,u,c,h,f,d,p,g,m,v,y,_,b,x=t._gsTransform,w=Ut(t,!0);x&&(_=x.xOrigin,b=x.yOrigin),(!n||(s=n.split(" ")).length<2)&&(d=t.getBBox(),0===d.x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=lt(e).split(" "),s=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),i.xOrigin=c=parseFloat(s[0]),i.yOrigin=h=parseFloat(s[1]),n&&w!==qt&&(f=w[0],d=w[1],p=w[2],g=w[3],m=w[4],v=w[5],y=f*g-d*p,y&&(l=c*(g/y)+h*(-p/y)+(p*v-g*m)/y,u=c*(-d/y)+h*(f/y)-(f*v-d*m)/y,c=i.xOrigin=s[0]=l,h=i.yOrigin=s[1]=u)),x&&(o&&(i.xOffset=x.xOffset,i.yOffset=x.yOffset,x=i),r||r!==!1&&a.defaultSmoothOrigin!==!1?(l=c-_,u=h-b,x.xOffset+=l*w[0]+u*w[2]-l,x.yOffset+=l*w[1]+u*w[3]-u):x.xOffset=x.yOffset=0),o||t.setAttribute("data-svg-origin",s.join(" "))},zt=function(t){var e,i=q("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(jt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=zt}catch(s){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),jt.removeChild(i),this.style.cssText=o,e},Bt=function(t){try{return t.getBBox()}catch(e){return zt.call(t,!0)}},Vt=function(t){return!(!Rt||!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Bt(t))},qt=[1,0,0,1,0,0],Ut=function(t,e){var i,n,r,o,s,a,l=t._gsTransform||new Mt,u=1e5,c=t.style;if(Pt?n=tt(t,Lt,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(M),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),l.x||0,l.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!Pt||!(a=!Q(t)||"none"===Q(t).display)&&t.parentNode||(a&&(o=c.display,c.display="block"),t.parentNode||(s=1,jt.appendChild(t)),n=tt(t,Lt,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?c.display=o:a&&Yt(c,"display"),s&&jt.removeChild(t)),(l.svg||t.getCTM&&Vt(t))&&(i&&(c[Pt]+"").indexOf("matrix")!==-1&&(n=c[Pt],i=0),r=t.getAttribute("transform"),i&&r&&(r=t.transform.baseVal.consolidate().matrix,n="matrix("+r.a+","+r.b+","+r.c+","+r.d+","+r.e+","+r.f+")",i=0)),i)return qt;for(r=(n||"").match(_)||[],Ct=r.length;--Ct>-1;)o=Number(r[Ct]),r[Ct]=(s=o-(o|=0))?(s*u+(s<0?-.5:.5)|0)/u+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Gt=H.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,s,l,u,c,h,f=n?t._gsTransform||new Mt:new Mt,d=f.scaleX<0,p=2e-5,g=1e5,m=At?parseFloat(tt(t,Ot,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Vt(t)),f.svg&&(Ft(t,tt(t,Ot,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),It=a.useSVGTransformAttr||Dt),o=Ut(t),o!==qt){if(16===o.length){var y,_,b,x,w,C=o[0],E=o[1],S=o[2],T=o[3],I=o[4],k=o[5],P=o[6],L=o[7],O=o[8],A=o[9],M=o[10],R=o[12],N=o[13],j=o[14],D=o[11],z=Math.atan2(P,M);f.zOrigin&&(j=-f.zOrigin,R=O*j-o[12],N=A*j-o[13],j=M*j+f.zOrigin-o[14]),f.rotationX=z*F,z&&(x=Math.cos(-z),w=Math.sin(-z),y=I*x+O*w,_=k*x+A*w,b=P*x+M*w,O=I*-w+O*x,A=k*-w+A*x,M=P*-w+M*x,D=L*-w+D*x,I=y,k=_,P=b),z=Math.atan2(-S,M),f.rotationY=z*F,z&&(x=Math.cos(-z),w=Math.sin(-z),y=C*x-O*w,_=E*x-A*w,b=S*x-M*w,A=E*w+A*x,M=S*w+M*x,D=T*w+D*x,C=y,E=_,S=b),z=Math.atan2(E,C),f.rotation=z*F,z&&(x=Math.cos(z),w=Math.sin(z),y=C*x+E*w,_=I*x+k*w,b=O*x+A*w,E=E*x-C*w,k=k*x-I*w,A=A*x-O*w,C=y,I=_,O=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),z=Math.atan2(I,k),f.scaleX=(Math.sqrt(C*C+E*E+S*S)*g+.5|0)/g,f.scaleY=(Math.sqrt(k*k+P*P)*g+.5|0)/g,f.scaleZ=(Math.sqrt(O*O+A*A+M*M)*g+.5|0)/g,C/=f.scaleX,I/=f.scaleY,E/=f.scaleX,k/=f.scaleY,Math.abs(z)>p?(f.skewX=z*F,I=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(z))):f.skewX=0,f.perspective=D?1/(D<0?-D:D):0,f.x=R,f.y=N,f.z=j,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*C-f.yOrigin*I),f.y-=f.yOrigin-(f.yOrigin*E-f.xOrigin*k))}else if(!At||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var B=o.length>=6,V=B?o[0]:1,q=o[1]||0,U=o[2]||0,G=B?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,l=Math.sqrt(V*V+q*q),u=Math.sqrt(G*G+U*U),c=V||q?Math.atan2(q,V)*F:f.rotation||0,h=U||G?Math.atan2(U,G)*F+c:f.skewX||0,f.scaleX=l,f.scaleY=u,f.rotation=c,f.skewX=h,At&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*V+f.yOrigin*U),f.y-=f.yOrigin-(f.xOrigin*q+f.yOrigin*G))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(d?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=m;for(s in f)f[s]<p&&f[s]>-p&&(f[s]=0)}return n&&(t._gsTransform=f,f.svg&&(It&&t.style[Pt]?e.delayedCall(.001,function(){Yt(t.style,Pt)}):!It&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Ht=function(t){var e,i,n=this.data,r=-n.rotation*D,o=r+n.skewX*D,s=1e5,a=(Math.cos(r)*n.scaleX*s|0)/s,l=(Math.sin(r)*n.scaleX*s|0)/s,u=(Math.sin(o)*-n.scaleY*s|0)/s,c=(Math.cos(o)*n.scaleY*s|0)/s,h=this.t.style,f=this.t.currentStyle;if(f){i=l,l=-u,u=-i,e=f.filter,h.filter="";var d,p,g=this.t.offsetWidth,v=this.t.offsetHeight,y="absolute"!==f.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+l+", M21="+u+", M22="+c,b=n.x+g*n.xPercent/100,x=n.y+v*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?g*n.ox*.01:n.ox)-g/2,p=(n.oyp?v*n.oy*.01:n.oy)-v/2,b+=d-(d*a+p*l),x+=p-(d*u+p*c)),y?(d=g/2,p=v/2,_+=", Dx="+(d-(d*a+p*l)+b)+", Dy="+(p-(d*u+p*c)+x)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?h.filter=e.replace(R,_):h.filter=_+" "+e,0!==t&&1!==t||1===a&&0===l&&0===u&&1===c&&(y&&_.indexOf("Dx=0, Dy=0")===-1||E.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&h.removeAttribute("filter")),!y){var w,S,T,I=m<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((g-((a<0?-a:a)*g+(l<0?-l:l)*v))/2+b),n.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(u<0?-u:u)*g))/2+x),Ct=0;Ct<4;Ct++)S=st[Ct],w=f[S],i=w.indexOf("px")!==-1?parseFloat(w):et(this.t,S,parseFloat(w),w.replace(C,""))||0,T=i!==n[S]?Ct<2?-n.ieOffsetX:-n.ieOffsetY:Ct<2?d-n.ieOffsetX:p-n.ieOffsetY,h[S]=(n[S]=Math.round(i-T*(0===Ct||2===Ct?1:I)))+"px"}}},Xt=H.set3DTransformRatio=H.setTransformRatio=function(t){var e,i,n,r,o,s,a,l,u,c,h,f,d,g,m,v,y,_,b,x,w,C,E,S=this.data,T=this.t.style,I=S.rotation,k=S.rotationX,P=S.rotationY,L=S.scaleX,O=S.scaleY,A=S.scaleZ,M=S.x,R=S.y,N=S.z,j=S.svg,F=S.perspective,z=S.force3D,B=S.skewY,V=S.skewX;if(B&&(V+=B,I+=B),((1===t||0===t)&&"auto"===z&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!z)&&!N&&!F&&!P&&!k&&1===A||It&&j||!At)return void(I||V||j?(I*=D,C=V*D,E=1e5,i=Math.cos(I)*L,o=Math.sin(I)*L,n=Math.sin(I-C)*-O,s=Math.cos(I-C)*O,C&&"simple"===S.skewType&&(e=Math.tan(C-B*D),e=Math.sqrt(1+e*e),n*=e,s*=e,B&&(e=Math.tan(B*D),e=Math.sqrt(1+e*e),i*=e,o*=e)),j&&(M+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,R+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset,It&&(S.xPercent||S.yPercent)&&(m=this.t.getBBox(),M+=.01*S.xPercent*m.width,R+=.01*S.yPercent*m.height),m=1e-6,M<m&&M>-m&&(M=0),R<m&&R>-m&&(R=0)),b=(i*E|0)/E+","+(o*E|0)/E+","+(n*E|0)/E+","+(s*E|0)/E+","+M+","+R+")",j&&It?this.t.setAttribute("transform","matrix("+b):T[Pt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+b):T[Pt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+L+",0,0,"+O+","+M+","+R+")");if(p&&(m=1e-4,L<m&&L>-m&&(L=A=2e-5),O<m&&O>-m&&(O=A=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),I||V)I*=D,v=i=Math.cos(I),y=o=Math.sin(I),V&&(I-=V*D,v=Math.cos(I),y=Math.sin(I),"simple"===S.skewType&&(e=Math.tan((V-B)*D),e=Math.sqrt(1+e*e),v*=e,y*=e,S.skewY&&(e=Math.tan(B*D),e=Math.sqrt(1+e*e),i*=e,o*=e))),n=-y,s=v;else{if(!(P||k||1!==A||F||j))return void(T[Pt]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+M+"px,"+R+"px,"+N+"px)"+(1!==L||1!==O?" scale("+L+","+O+")":""));i=s=1,n=o=0}c=1,r=a=l=u=h=f=0,d=F?-1/F:0,g=S.zOrigin,m=1e-6,x=",",w="0",I=P*D,I&&(v=Math.cos(I),y=Math.sin(I),l=-y,h=d*-y,r=i*y,a=o*y,c=v,d*=v,i*=v,o*=v),I=k*D,I&&(v=Math.cos(I),y=Math.sin(I),e=n*v+r*y,_=s*v+a*y,u=c*y,f=d*y,r=n*-y+r*v,a=s*-y+a*v,c*=v,d*=v,n=e,s=_),1!==A&&(r*=A,a*=A,c*=A,d*=A),1!==O&&(n*=O,s*=O,u*=O,f*=O),1!==L&&(i*=L,o*=L,l*=L,h*=L),(g||j)&&(g&&(M+=r*-g,R+=a*-g,N+=c*-g+g),j&&(M+=S.xOrigin-(S.xOrigin*i+S.yOrigin*n)+S.xOffset,R+=S.yOrigin-(S.xOrigin*o+S.yOrigin*s)+S.yOffset),M<m&&M>-m&&(M=w),R<m&&R>-m&&(R=w),N<m&&N>-m&&(N=0)),b=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",b+=(i<m&&i>-m?w:i)+x+(o<m&&o>-m?w:o)+x+(l<m&&l>-m?w:l),b+=x+(h<m&&h>-m?w:h)+x+(n<m&&n>-m?w:n)+x+(s<m&&s>-m?w:s),k||P||1!==A?(b+=x+(u<m&&u>-m?w:u)+x+(f<m&&f>-m?w:f)+x+(r<m&&r>-m?w:r),b+=x+(a<m&&a>-m?w:a)+x+(c<m&&c>-m?w:c)+x+(d<m&&d>-m?w:d)+x):b+=",0,0,0,0,1,0,",b+=M+x+R+x+N+x+(F?1+-N/F:1)+")",T[Pt]=b};c=Mt.prototype,c.x=c.y=c.z=c.skewX=c.skewY=c.rotation=c.rotationX=c.rotationY=c.zOrigin=c.xPercent=c.yPercent=c.xOffset=c.yOffset=0,c.scaleX=c.scaleY=c.scaleZ=1,St("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,r,s,l){if(n._lastParsedTransform===l)return r;n._lastParsedTransform=l;var u,c=l.scale&&"function"==typeof l.scale?l.scale:0;"function"==typeof l[i]&&(u=l[i],l[i]=e),c&&(l.scale=c(y,t));var h,f,d,p,g,m,_,b,x,w=t._gsTransform,C=t.style,E=1e-6,S=kt.length,T=l,I={},k="transformOrigin",P=Gt(t,o,!0,T.parseTransform),L=T.transform&&("function"==typeof T.transform?T.transform(y,v):T.transform);if(P.skewType=T.skewType||P.skewType||a.defaultSkewType,n._transform=P,L&&"string"==typeof L&&Pt)f=U.style,f[Pt]=L,f.display="block",f.position="absolute",V.body.appendChild(U),h=Gt(U,null,!1),"simple"===P.skewType&&(h.scaleY*=Math.cos(h.skewX*D)),P.svg&&(m=P.xOrigin,_=P.yOrigin,h.x-=P.xOffset,h.y-=P.yOffset,(T.transformOrigin||T.svgOrigin)&&(L={},Ft(t,lt(T.transformOrigin),L,T.svgOrigin,T.smoothOrigin,!0),m=L.xOrigin,_=L.yOrigin,h.x-=L.xOffset-P.xOffset,h.y-=L.yOffset-P.yOffset),(m||_)&&(b=Ut(U,!0),h.x-=m-(m*b[0]+_*b[2]),h.y-=_-(m*b[1]+_*b[3]))),V.body.removeChild(U),h.perspective||(h.perspective=P.perspective),null!=T.xPercent&&(h.xPercent=ct(T.xPercent,P.xPercent)),null!=T.yPercent&&(h.yPercent=ct(T.yPercent,P.yPercent));else if("object"==typeof T){if(h={scaleX:ct(null!=T.scaleX?T.scaleX:T.scale,P.scaleX),scaleY:ct(null!=T.scaleY?T.scaleY:T.scale,P.scaleY),scaleZ:ct(T.scaleZ,P.scaleZ),x:ct(T.x,P.x),y:ct(T.y,P.y),z:ct(T.z,P.z),xPercent:ct(T.xPercent,P.xPercent),yPercent:ct(T.yPercent,P.yPercent),perspective:ct(T.transformPerspective,P.perspective)},g=T.directionalRotation,null!=g)if("object"==typeof g)for(f in g)T[f]=g[f];else T.rotation=g;"string"==typeof T.x&&T.x.indexOf("%")!==-1&&(h.x=0,h.xPercent=ct(T.x,P.xPercent)),"string"==typeof T.y&&T.y.indexOf("%")!==-1&&(h.y=0,h.yPercent=ct(T.y,P.yPercent)),h.rotation=ht("rotation"in T?T.rotation:"shortRotation"in T?T.shortRotation+"_short":"rotationZ"in T?T.rotationZ:P.rotation,P.rotation,"rotation",I),At&&(h.rotationX=ht("rotationX"in T?T.rotationX:"shortRotationX"in T?T.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",I),h.rotationY=ht("rotationY"in T?T.rotationY:"shortRotationY"in T?T.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",I)),h.skewX=ht(T.skewX,P.skewX),h.skewY=ht(T.skewY,P.skewY)}for(At&&null!=T.force3D&&(P.force3D=T.force3D,p=!0),d=P.force3D||P.z||P.rotationX||P.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,d||null==T.scale||(h.scaleZ=1);--S>-1;)x=kt[S],L=h[x]-P[x],(L>E||L<-E||null!=T[x]||null!=z[x])&&(p=!0,r=new bt(P,x,P[x],L,r),x in I&&(r.e=I[x]),r.xs0=0,r.plugin=s,n._overwriteProps.push(r.n));return L=T.transformOrigin,P.svg&&(L||T.svgOrigin)&&(m=P.xOffset,_=P.yOffset,Ft(t,lt(L),h,T.svgOrigin,T.smoothOrigin),r=xt(P,"xOrigin",(w?P:h).xOrigin,h.xOrigin,r,k),r=xt(P,"yOrigin",(w?P:h).yOrigin,h.yOrigin,r,k),m===P.xOffset&&_===P.yOffset||(r=xt(P,"xOffset",w?m:P.xOffset,P.xOffset,r,k),r=xt(P,"yOffset",w?_:P.yOffset,P.yOffset,r,k)),L="0px 0px"),(L||At&&d&&P.zOrigin)&&(Pt?(p=!0,x=Ot,L=(L||tt(t,x,o,!1,"50% 50%"))+"",r=new bt(C,x,0,0,r,(-1),k),r.b=C[x],r.plugin=s,At?(f=P.zOrigin,L=L.split(" "),P.zOrigin=(L.length>2&&(0===f||"0px"!==L[2])?parseFloat(L[2]):f)||0,r.xs0=r.e=L[0]+" "+(L[1]||"50%")+" 0px",r=new bt(P,"zOrigin",0,0,r,(-1),r.n),r.b=f,r.xs0=r.e=P.zOrigin):r.xs0=r.e=L):lt(L+"",P)),p&&(n._transformType=P.svg&&It||!d&&3!==this._transformType?2:3),u&&(l[i]=u),c&&(l.scale=c),r},prefix:!0}),St("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),St("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,s,a){e=this.format(e);var l,u,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],S=t.style;for(m=parseFloat(t.offsetWidth),v=parseFloat(t.offsetHeight),l=e.split(" "),u=0;u<E.length;u++)this.p.indexOf("border")&&(E[u]=J(E[u])),f=h=tt(t,E[u],o,!1,"0px"),f.indexOf(" ")!==-1&&(h=f.split(" "),f=h[0],h=h[1]),d=c=l[u],p=parseFloat(f),_=f.substr((p+"").length),b="="===d.charAt(1),b?(g=parseInt(d.charAt(0)+"1",10),d=d.substr(2),g*=parseFloat(d),y=d.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(d),y=d.substr((g+"").length)),""===y&&(y=r[i]||_),y!==_&&(x=et(t,"borderLeft",p,_),w=et(t,"borderTop",p,_),"%"===y?(f=x/m*100+"%",h=w/v*100+"%"):"em"===y?(C=et(t,"borderLeft",1,"em"),f=x/C+"em",h=w/C+"em"):(f=x+"px",h=w+"px"),b&&(d=parseFloat(f)+g+y,c=parseFloat(h)+g+y)),s=wt(S,E[u],f+" "+h,d+" "+c,!1,"0px",s);return s},prefix:!0,formatter:vt("0px 0px 0px 0px",!1,!0)}),St("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,r,s){return wt(t.style,i,this.format(tt(t,i,o,!1,"0px 0px")),this.format(e),!1,"0px",r)},prefix:!0,formatter:vt("0px 0px",!1,!0)}),St("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,r,s){var a,l,u,c,h,f,d="background-position",p=o||Q(t,null),g=this.format((p?m?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),v=this.format(e);if(g.indexOf("%")!==-1!=(v.indexOf("%")!==-1)&&v.split(",").length<2&&(f=tt(t,"backgroundImage").replace(L,""),f&&"none"!==f)){for(a=g.split(" "),l=v.split(" "),G.setAttribute("src",f),u=2;--u>-1;)g=a[u],c=g.indexOf("%")!==-1,c!==(l[u].indexOf("%")!==-1)&&(h=0===u?t.offsetWidth-G.width:t.offsetHeight-G.height,a[u]=c?parseFloat(g)/100*h+"px":parseFloat(g)/h*100+"%");g=a.join(" ")}return this.parseComplex(t.style,g,v,r,s)},formatter:lt}),St("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",lt(t.indexOf(" ")===-1?t+" "+t:t)}}),St("perspective",{defaultValue:"0px",prefix:!0}),St("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),St("transformStyle",{prefix:!0}),St("backfaceVisibility",{prefix:!0}),St("userSelect",{prefix:!0}),St("margin",{parser:yt("marginTop,marginRight,marginBottom,marginLeft")}),St("padding",{parser:yt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),St("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,r,s){var a,l,u;return m<9?(l=t.currentStyle,u=m<8?" ":",",a="rect("+l.clipTop+u+l.clipRight+u+l.clipBottom+u+l.clipLeft+")",e=this.format(e).split(",").join(u)):(a=this.format(tt(t,this.p,o,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,a,e,r,s)}}),St("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),St("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),St("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,r,s){var a=tt(t,"borderTopWidth",o,!1,"0px"),l=this.format(e).split(" "),u=l[0].replace(C,"");return"px"!==u&&(a=parseFloat(a)/et(t,"borderTopWidth",1,u)+u),this.parseComplex(t.style,this.format(a+" "+tt(t,"borderTopStyle",o,!1,"solid")+" "+tt(t,"borderTopColor",o,!1,"#000")),l.join(" "),r,s)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(mt)||["#000"])[0]}}),St("borderWidth",{parser:yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),St("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var s=t.style,a="cssFloat"in s?"cssFloat":"styleFloat";return new bt(s,a,0,0,r,(-1),i,(!1),0,s[a],e)}});var Wt=function(t){var e,i=this.t,n=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=n.replace(T,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),n.indexOf("pacity")===-1?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(E,"opacity="+r))};St("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,r,s){var a=parseFloat(tt(t,"opacity",o,!1,"1")),l=t.style,u="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+a),u&&1===a&&"hidden"===tt(t,"visibility",o)&&0!==e&&(a=0),W?r=new bt(l,"opacity",a,e-a,r):(r=new bt(l,"opacity",100*a,100*(e-a),r),r.xn1=u?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=t,r.plugin=s,r.setRatio=Wt),u&&(r=new bt(l,"visibility",0,0,r,(-1),null,(!1),0,0!==a?"inherit":"hidden",0===e?"hidden":"inherit"),r.xs0="inherit",n._overwriteProps.push(r.n),n._overwriteProps.push(i)),r}});var Yt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(k,"-$1").toLowerCase())):t.removeAttribute(e))},$t=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Yt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};St("className",{parser:function(t,e,i,r,s,a,l){var u,c,h,f,d,p=t.getAttribute("class")||"",g=t.style.cssText;if(s=r._classNamePT=new bt(t,i,0,0,s,2),s.setRatio=$t,s.pr=-11,n=!0,s.b=p,c=nt(t,o),h=t._gsClassPT){for(f={},d=h.data;d;)f[d.p]=1,d=d._next;h.setRatio(1)}return t._gsClassPT=s,s.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",s.e),u=rt(t,c,nt(t),l,f),t.setAttribute("class",p),s.data=u.firstMPT,t.style.cssText=g,s=s.xfirst=r.parse(t,u.difs,s,a)}});var Zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,s=this.t.style,a=u.transform.parse;if("all"===this.e)s.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],u[i]&&(u[i].parse===a?r=!0:i="transformOrigin"===i?Ot:u[i].p),Yt(s,i);r&&(Yt(s,Pt),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(St("clearProps",{parser:function(t,e,i,r,o){return o=new bt(t,i,0,0,o,2),o.setRatio=Zt,o.e=e,o.pr=-10,o.data=r._tween,n=!0,o}}),c="bezier,throwProps,physicsProps,physics2D".split(","),Ct=c.length;Ct--;)Tt(c[Ct]);c=a.prototype,c._firstPT=c._lastParsedTransform=c._transform=null,c._onInitTween=function(t,e,i,l){if(!t.nodeType)return!1;this._target=v=t,this._tween=i,this._vars=e,y=l,h=e.autoRound,n=!1,r=e.suffixMap||a.suffixMap,o=Q(t,""),s=this._overwriteProps;var c,p,m,_,b,x,w,C,E,T=t.style;if(f&&""===T.zIndex&&(c=tt(t,"zIndex",o),"auto"!==c&&""!==c||this._addLazySet(T,"zIndex",0)),"string"==typeof e&&(_=T.cssText,c=nt(t,o),T.cssText=_+";"+e,c=rt(t,c,nt(t)).difs,!W&&S.test(e)&&(c.opacity=parseFloat(RegExp.$1)),e=c,T.cssText=_),e.className?this._firstPT=p=u.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(E=3===this._transformType,Pt?d&&(f=!0,""===T.zIndex&&(w=tt(t,"zIndex",o),"auto"!==w&&""!==w||this._addLazySet(T,"zIndex",0)),g&&this._addLazySet(T,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(E?"visible":"hidden"))):T.zoom=1,m=p;m&&m._next;)m=m._next;C=new bt(t,"transform",0,0,null,2),this._linkCSSP(C,null,m),C.setRatio=Pt?Xt:Ht,C.data=this._transform||Gt(t,o,!0),C.tween=i,C.pr=-1,s.pop()}if(n){for(;p;){for(x=p._next,m=_;m&&m.pr>p.pr;)m=m._next;(p._prev=m?m._prev:b)?p._prev._next=p:_=p,(p._next=m)?m._prev=p:b=p,p=x}this._firstPT=_}return!0},c.parse=function(t,e,i,n){var s,a,l,c,f,d,p,g,m,_,b=t.style;for(s in e){if(d=e[s],"function"==typeof d&&(d=d(y,v)),a=u[s])i=a.parse(t,d,s,this,i,n,e);else{if("--"===s.substr(0,2)){this._tween._propLookup[s]=this._addTween.call(this._tween,t.style,"setProperty",Q(t).getPropertyValue(s)+"",d+"",s,!1,s);continue}f=tt(t,s,o)+"",m="string"==typeof d,"color"===s||"fill"===s||"stroke"===s||s.indexOf("Color")!==-1||m&&I.test(d)?(m||(d=pt(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=wt(b,s,f,d,!0,"transparent",i,0,n)):m&&j.test(d)?i=wt(b,s,f,d,!0,null,i,0,n):(l=parseFloat(f),p=l||0===l?f.substr((l+"").length):"",""!==f&&"auto"!==f||("width"===s||"height"===s?(l=at(t,s,o),p="px"):"left"===s||"top"===s?(l=it(t,s,o),p="px"):(l="opacity"!==s?0:1,p="")),_=m&&"="===d.charAt(1),_?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),g=d.replace(C,"")):(c=parseFloat(d),g=m?d.replace(C,""):""),""===g&&(g=s in r?r[s]:p),d=c||0===c?(_?c+l:c)+g:e[s],p!==g&&(""===g&&"lineHeight"!==s||(c||0===c)&&l&&(l=et(t,s,l,p),"%"===g?(l/=et(t,s,100,"%")/100,e.strictUnits!==!0&&(f=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=et(t,s,1,g):"px"!==g&&(c=et(t,s,c,g),g="px"),_&&(c||0===c)&&(d=c+l+g))),_&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==b[s]&&(d||d+""!="NaN"&&null!=d)?(i=new bt(b,s,c||l||0,0,i,(-1),s,(!1),0,f,d),i.xs0="none"!==d||"display"!==s&&s.indexOf("Style")===-1?d:f):$("invalid "+s+" tween value: "+e[s]):(i=new bt(b,s,l,c-l,i,0,s,h!==!1&&("px"===g||"zIndex"===s),0,f,d),i.xs0=g))}n&&i&&!i.plugin&&(i.plugin=n)}return i},c.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<o&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},c._enableTransforms=function(t){this._transform=this._transform||Gt(this._target,o,!0),this._transformType=this._transform.svg&&It||!t&&3!==this._transformType?2:3};var Kt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};c._addLazySet=function(t,e,i){var n=this._firstPT=new bt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Kt,n.data=this},c._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,
n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},c._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},c._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,o)};var Jt=function(t,e,i){var n,r,o,s;if(t.slice)for(r=t.length;--r>-1;)Jt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],s=o.type,o.style&&(e.push(nt(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||Jt(o,e,i)};return a.cascadeTo=function(t,i,n){var r,o,s,a,l=e.to(t,i,n),u=[l],c=[],h=[],f=[],d=e._internals.reservedProps;for(t=l._targets||l.target,Jt(t,c,f),l.render(i,!0,!0),Jt(t,h),l.render(0,!0,!0),l._enabled(!0),r=f.length;--r>-1;)if(o=rt(f[r],c[r],h[r]),o.firstMPT){o=o.difs;for(s in n)d[s]&&(o[s]=n[s]);a={};for(s in o)a[s]=c[r][s];u.push(e.fromTo(f[r],i,a,o))}return u},t.activate([a]),a},!0),function(){var t=i._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},n=t.prototype;n._onInitAllProps=function(){for(var t,i,n,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),s=o.length,a={},l=r._propLookup.roundProps;--s>-1;)a[o[s]]=Math.round;for(s=o.length;--s>-1;)for(t=o[s],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(a):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=l)),i=n;return!1},n._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),function(){i._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)o=e[r],"function"==typeof o&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),i._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,o,s,a,l,u,c=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(r in e)"useRadians"!==r&&(a=e[r],"function"==typeof a&&(a=a(n,t)),u=(a+"").split("_"),o=u[0],s=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),a=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?s+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,l=a-s,u.length&&(o=u.join("_"),o.indexOf("short")!==-1&&(l%=c,l!==l%(c/2)&&(l=l<0?l+c:l-c)),o.indexOf("_cw")!==-1&&l<0?l=(l+9999999999*c)%c-(l/c|0)*c:o.indexOf("ccw")!==-1&&l>0&&(l=(l-9999999999*c)%c-(l/c|0)*c)),(l>h||l<-h)&&(this._addTween(t,r,s,s+l,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,i._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,o,s=i.GreenSockGlobals||i,a=s.com.greensock,l=2*Math.PI,u=Math.PI/2,c=a._class,h=function(e,i){var n=c("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},f=t.register||function(){},d=function(t,e,i,n,r){var o=c("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return f(o,t),o},p=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},g=function(e,i){var n=c("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},m=d("Back",g("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),g("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),g("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=c("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),y=v.prototype=new t;return y.constructor=v,y.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1===t?0:1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),y.config=v.config=function(t,e,i){return new v(t,e,i)},e=c("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0),y=e.prototype=new t,y.constructor=e,y.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},y.config=e.config=function(t,i){return new e(t,i)},n=c("easing.ExpoScaleEase",function(t,e,i){this._p1=Math.log(e/t),this._p2=e-t,this._p3=t,this._ease=i},!0),y=n.prototype=new t,y.constructor=n,y.getRatio=function(t){return this._ease&&(t=this._ease.getRatio(t)),(this._p3*Math.exp(this._p1*t)-this._p3)/this._p2},y.config=n.config=function(t,e,i){return new n(t,e,i)},r=c("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,s,a,l=e.taper||"none",u=[],c=0,h=0|(e.points||20),f=h,d=e.randomize!==!1,g=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=d?Math.random():1/h*f,n=m?m.getRatio(i):i,"none"===l?r=v:"out"===l?(o=1-i,r=o*o*v):"in"===l?r=i*i*v:i<.5?(o=2*i,r=o*o*.5*v):(o=2*(1-i),r=o*o*.5*v),d?n+=Math.random()*r-.5*r:f%2?n+=.5*r:n-=.5*r,g&&(n>1?n=1:n<0&&(n=0)),u[c++]={x:i,y:n};for(u.sort(function(t,e){return t.x-e.x}),a=new p(1,1,null),f=h;--f>-1;)s=u[f],a=new p(s.x,s.y,a);this._prev=new p(0,0,0!==a.t?a:a.next)},!0),y=r.prototype=new t,y.constructor=r,y.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},y.config=function(t){return new r(t)},r.ease=new r,d("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t=t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),d("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),o=function(e,i,n){var r=c("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/l*(Math.asin(1/this._p1)||0),this._p2=l/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},d("Elastic",o("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),o("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),o("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),d("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),d("Sine",h("SineOut",function(t){return Math.sin(t*u)}),h("SineIn",function(t){return-Math.cos(t*u)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),c("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),f(s.SlowMo,"SlowMo","ease,"),f(r,"RoughEase","ease,"),f(e,"SteppedEase","ease,"),m},!0)}),i._gsDefine&&i._gsQueue.pop()(),function(t,i){"use strict";var n={},r=t.document,o=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!o.TweenLite){var s,a,l,u,c,h=function(t){var e,i=t.split("."),n=o;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},f=h("com.greensock"),d=1e-10,p=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=function(){},m=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),v={},y=function(r,s,a,l){this.sc=v[r]?v[r].sc:[],v[r]=this,this.gsClass=null,this.func=a;var u=[];this.check=function(c){for(var f,d,p,g,m=s.length,_=m;--m>-1;)(f=v[s[m]]||new y(s[m],[])).gsClass?(u[m]=f.gsClass,_--):c&&f.sc.push(this);if(0===_&&a){if(d=("com.greensock."+r).split("."),p=d.pop(),g=h(d.join("."))[p]=this.gsClass=a.apply(a,u),l)if(o[p]=n[p]=g,"undefined"!=typeof e&&e.exports)if(r===i){e.exports=n[i]=g;for(m in n)g[m]=n[m]}else n[i]&&(n[i][p]=g);else"function"==typeof define&&define.amd&&define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return g});for(m=0;m<this.sc.length;m++)this.sc[m].check()}},this.check(!0)},_=t._gsDefine=function(t,e,i,n){return new y(t,e,i,n)},b=f._class=function(t,e,i){return e=e||function(){},_(t,[],function(){return e},i),e};_.globals=o;var x=[0,0,1,1],w=b("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?x.concat(e):x},!0),C=w.map={},E=w.register=function(t,e,i,n){for(var r,o,s,a,l=e.split(","),u=l.length,c=(i||"easeIn,easeOut,easeInOut").split(",");--u>-1;)for(o=l[u],r=n?b("easing."+o,null,!0):f.easing[o]||{},s=c.length;--s>-1;)a=c[s],C[o+"."+a]=C[a+o]=r[a]=t.getRatio?t:t[a]||new t};for(l=w.prototype,l._calcEnd=!1,l.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],a=s.length;--a>-1;)l=s[a]+",Power"+a,E(new w(null,null,1,a),l,"easeOut",!0),E(new w(null,null,2,a),l,"easeIn"+(0===a?",easeNone":"")),E(new w(null,null,3,a),l,"easeInOut");C.linear=f.easing.Linear.easeIn,C.swing=f.easing.Quad.easeInOut;var S=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});l=S.prototype,l.addEventListener=function(t,e,i,n,r){r=r||0;var o,s,a=this._listeners[t],l=0;for(this!==u||c||u.wake(),null==a&&(this._listeners[t]=a=[]),s=a.length;--s>-1;)o=a[s],o.c===e&&o.s===i?a.splice(s,1):0===l&&o.pr<r&&(l=s+1);a.splice(l,0,{c:e,s:i,up:n,pr:r})},l.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},l.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var T=t.requestAnimationFrame,I=t.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},P=k();for(s=["ms","moz","webkit","o"],a=s.length;--a>-1&&!T;)T=t[s[a]+"RequestAnimationFrame"],I=t[s[a]+"CancelAnimationFrame"]||t[s[a]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var i,n,o,s,a,l=this,h=k(),f=!(e===!1||!T)&&"auto",p=500,m=33,v="tick",y=function(t){var e,r,u=k()-P;u>p&&(h+=u-m),P+=u,l.time=(P-h)/1e3,e=l.time-a,(!i||e>0||t===!0)&&(l.frame++,a+=e+(e>=s?.004:s-e),r=!0),t!==!0&&(o=n(y)),r&&l.dispatchEvent(v)};S.call(l),l.time=l.frame=0,l.tick=function(){y(!0)},l.lagSmoothing=function(t,e){return arguments.length?(p=t||1/d,void(m=Math.min(e,p,0))):p<1/d},l.sleep=function(){null!=o&&(f&&I?I(o):clearTimeout(o),n=g,o=null,l===u&&(c=!1))},l.wake=function(t){null!==o?l.sleep():t?h+=-P+(P=k()):l.frame>10&&(P=k()-p+5),n=0===i?g:f&&T?T:function(t){return setTimeout(t,1e3*(a-l.time)+1|0)},l===u&&(c=!0),y(2)},l.fps=function(t){return arguments.length?(i=t,s=1/(i||60),a=this.time+s,void l.wake()):i},l.useRAF=function(t){return arguments.length?(l.sleep(),f=t,void l.fps(i)):f},l.fps(t),setTimeout(function(){"auto"===f&&l.frame<5&&"hidden"!==(r||{}).visibilityState&&l.useRAF(!1)},1500)}),l=f.Ticker.prototype=new f.events.EventDispatcher,l.constructor=f.Ticker;var L=b("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,Z){c||u.wake();var i=this.vars.useFrames?$:Z;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});u=L.ticker=new f.Ticker,l=L.prototype,l._dirty=l._gc=l._initted=l._paused=!1,l._totalTime=l._time=0,l._rawPrevTime=-1,l._next=l._last=l._onUpdate=l._timeline=l.timeline=null,l._paused=!1;var O=function(){c&&k()-P>2e3&&("hidden"!==(r||{}).visibilityState||!u.lagSmoothing())&&u.wake();var t=setTimeout(O,2e3);t.unref&&t.unref()};O(),l.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},l.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},l.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},l.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},l.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},l.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},l.render=function(t,e,i){},l.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},l.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},l._enabled=function(t,e){return c||u.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},l._kill=function(t,e){return this._enabled(!1,!1)},l.kill=function(t,e){return this._kill(t,e),this},l._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},l._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},l._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,o=n?n.length:0;switch(o){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},l.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=m(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},l.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},l.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},l.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},l.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},l.totalTime=function(t,e,i){if(c||u.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(j.length&&J(),this.render(t,e,!1),j.length&&J())}return this},l.progress=l.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},l.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},l.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},l.timeScale=function(t){if(!arguments.length)return this._timeScale;var e,i;for(t=t||d,this._timeline&&this._timeline.smoothChildTiming&&(e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime(),this._startTime=i-(i-this._startTime)*this._timeScale/t),this._timeScale=t,i=this.timeline;i&&i.timeline;)i._dirty=!0,i.totalDuration(),i=i.timeline;return this},l.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},l.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(c||t||u.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var A=b("core.SimpleTimeline",function(t){L.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});l=A.prototype=new L,l.constructor=A,l.kill()._gc=!1,l._first=l._last=l._recent=null,l._sortChildren=!1,l.add=l.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},l._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},l.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},l.rawTime=function(){return c||u.wake(),this._totalTime};var M=b("TweenLite",function(e,i,n){if(L.call(this,i,n),this.render=M.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:M.selector(e)||e;var r,o,s,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Y[M.defaultOverwrite]:"number"==typeof l?l>>0:Y[l],(a||e instanceof Array||e.push&&m(e))&&"number"!=typeof e[0])for(this._targets=s=p(e),this._propLookup=[],this._siblings=[],r=0;r<s.length;r++)o=s[r],o?"string"!=typeof o?o.length&&o!==t&&o[0]&&(o[0]===t||o[0].nodeType&&o[0].style&&!o.nodeType)?(s.splice(r--,1),this._targets=s=s.concat(p(o))):(this._siblings[r]=Q(o,this,!1),1===l&&this._siblings[r].length>1&&et(o,this,null,1,this._siblings[r])):(o=s[r--]=M.selector(o),"string"==typeof o&&s.splice(r+1,1)):s.splice(r--,1);else this._propLookup={},this._siblings=Q(e,this,!1),1===l&&this._siblings.length>1&&et(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-d,this.render(Math.min(0,-this._delay)))},!0),R=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},N=function(t,e){var i,n={};for(i in t)W[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!G[i]||G[i]&&G[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};l=M.prototype=new L,l.constructor=M,l.kill()._gc=!1,l.ratio=0,l._firstPT=l._targets=l._overwrittenProps=l._startAt=null,l._notifyPluginsOfEnabled=l._lazy=!1,M.version="1.20.4",M.defaultEase=l._ease=new w(null,null,1,1),M.defaultOverwrite="auto",M.ticker=u,M.autoSleep=120,M.lagSmoothing=function(t,e){u.lagSmoothing(t,e)},M.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(M.selector=i,i(e)):"undefined"==typeof r?e:r.querySelectorAll?r.querySelectorAll(e):r.getElementById("#"===e.charAt(0)?e.substr(1):e)};var j=[],D={},F=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,B=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?1===t&&null!=this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<n&&e>-n&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},V=function(t,e,i,n){var r,o,s,a,l,u,c,h=[],f=0,d="",p=0;for(h.start=t,h.end=e,t=h[0]=t+"",e=h[1]=e+"",i&&(i(h),t=h[0],e=h[1]),h.length=0,r=t.match(F)||[],o=e.match(F)||[],n&&(n._next=null,n.blob=1,h._firstPT=h._applyPT=n),l=o.length,a=0;a<l;a++)c=o[a],u=e.substr(f,e.indexOf(c,f)-f),d+=u||!a?u:",",f+=u.length,p?p=(p+1)%5:"rgba("===u.substr(-5)&&(p=1),c===r[a]||r.length<=a?d+=c:(d&&(h.push(d),d=""),s=parseFloat(r[a]),h.push(s),h._firstPT={_next:h._firstPT,t:h,p:h.length-1,s:s,c:("="===c.charAt(1)?parseInt(c.charAt(0)+"1",10)*parseFloat(c.substr(2)):parseFloat(c)-s)||0,f:0,m:p&&p<4?Math.round:0}),f+=c.length;return d+=e.substr(f),d&&h.push(d),h.setRatio=B,z.test(e)&&(h.end=null),h},q=function(t,e,i,n,r,o,s,a,l){"function"==typeof n&&(n=n(l||0,t));var u,c=typeof t[e],h="function"!==c?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f="get"!==i?i:h?s?t[h](s):t[h]():t[e],d="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:f,f:"function"===c,pg:0,n:r||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!d)&&(s||isNaN(f)||!d&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(p.fp=s,u=V(f,d?parseFloat(p.s)+p.c+(p.s+"").replace(/[0-9\-\.]/g,""):n,a||M.defaultStringFilter,p),p={t:u,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(p.s=parseFloat(f),d||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},U=M._internals={isArray:m,isSelector:R,lazyTweens:j,blobDif:V},G=M._plugins={},H=U.tweenLookup={},X=0,W=U.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},Y={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},$=L._rootFramesTimeline=new A,Z=L._rootTimeline=new A,K=30,J=U.lazyRender=function(){var t,e=j.length;for(D={};--e>-1;)t=j[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);j.length=0};Z._startTime=u.time,$._startTime=u.frame,Z._active=$._active=!0,setTimeout(J,1),L._updateRoot=M.render=function(){var t,e,i;if(j.length&&J(),Z.render((u.time-Z._startTime)*Z._timeScale,!1,!1),$.render((u.frame-$._startTime)*$._timeScale,!1,!1),j.length&&J(),u.frame>=K){K=u.frame+(parseInt(M.autoSleep,10)||120);for(i in H){for(e=H[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete H[i]}if(i=Z._first,(!i||i._paused)&&M.autoSleep&&!$._first&&1===u._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||u.sleep()}}},u.addEventListener("tick",L._updateRoot);var Q=function(t,e,i){var n,r,o=t._gsTweenID;if(H[o||(t._gsTweenID=o="t"+X++)]||(H[o]={target:t,tweens:[]}),e&&(n=H[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return H[o].tweens},tt=function(t,e,i,n){var r,o,s=t.vars.onOverwrite;return s&&(r=s(t,e,i,n)),s=M.onOverwrite,s&&(o=s(t,e,i,n)),r!==!1&&o!==!1},et=function(t,e,i,n,r){var o,s,a,l;if(1===n||n>=4){for(l=r.length,o=0;o<l;o++)if((a=r[o])!==e)a._gc||a._kill(null,t,e)&&(s=!0);else if(5===n)break;return s}var u,c=e._startTime+d,h=[],f=0,p=0===e._duration;for(o=r.length;--o>-1;)(a=r[o])===e||a._gc||a._paused||(a._timeline!==e._timeline?(u=u||it(e,0,p),0===it(a,u,p)&&(h[f++]=a)):a._startTime<=c&&a._startTime+a.totalDuration()/a._timeScale>c&&((p||!a._initted)&&c-a._startTime<=2e-10||(h[f++]=a)));for(o=f;--o>-1;)if(a=h[o],2===n&&a._kill(i,t,e)&&(s=!0),2!==n||!a._firstPT&&a._initted){if(2!==n&&!tt(a,e))continue;a._enabled(!1,!1)&&(s=!0)}return s},it=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&o-e<2*d?d:(o+=t.totalDuration()/t._timeScale/r)>e+d?0:o-e-d};l._init=function(){var t,e,i,n,r,o,s=this.vars,a=this._overwrittenProps,l=this._duration,u=!!s.immediateRender,c=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in s.startAt)r[n]=s.startAt[n];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=u&&s.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=s.onUpdate,r.onUpdateParams=s.onUpdateParams,r.onUpdateScope=s.onUpdateScope||s.callbackScope||this,this._startAt=M.to(this.target,0,r),u)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(s.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(u=!1),i={};for(n in s)W[n]&&"autoCSS"!==n||(i[n]=s[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=u&&s.lazy!==!1,i.immediateRender=u,this._startAt=M.to(this.target,0,i),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=c=c?c instanceof w?c:"function"==typeof c?new w(c,s.easeParams):C[c]||M.defaultEase:M.defaultEase,s.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a,0);if(e&&M._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=s.onUpdate,this._initted=!0},l._initProps=function(e,i,n,r,o){var s,a,l,u,c,h;if(null==e)return!1;D[e._gsTweenID]&&J(),this.vars.css||e.style&&e!==t&&e.nodeType&&G.css&&this.vars.autoCSS!==!1&&N(this.vars,e);for(s in this.vars)if(h=this.vars[s],W[s])h&&(h instanceof Array||h.push&&m(h))&&h.join("").indexOf("{self}")!==-1&&(this.vars[s]=h=this._swapSelfInParams(h,this));else if(G[s]&&(u=new G[s])._onInitTween(e,this.vars[s],this,o)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:1,n:s,pg:1,pr:u._priority,m:0},a=u._overwriteProps.length;--a>-1;)i[u._overwriteProps[a]]=this._firstPT;(u._priority||u._onInitAllProps)&&(l=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0),c._next&&(c._next._prev=c)}else i[s]=q.call(this,e,s,"get",h,s,0,null,this.vars.stringFilter,o);return r&&this._kill(r,e)?this._initProps(e,i,n,r,o):this._overwrite>1&&this._firstPT&&n.length>1&&et(e,this,i,this._overwrite,n)?(this._kill(i,e),this._initProps(e,i,n,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(D[e._gsTweenID]=!0),l)},l.render=function(t,e,i){var n,r,o,s,a=this._time,l=this._duration,u=this._rawPrevTime;if(t>=l-1e-7&&t>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(u<0||t<=0&&t>=-1e-7||u===d&&"isPause"!==this.data)&&u!==t&&(i=!0,u>d&&(r="onReverseComplete")),this._rawPrevTime=s=!e||t||u===t?t:d);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===l&&u>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(u>=0&&(u!==d||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=s=!e||t||u===t?t:d)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var c=t/l,h=this._easeType,f=this._easePower;(1===h||3===h&&c>=.5)&&(c=1-c),3===h&&(c*=2),1===f?c*=c:2===f?c*=c*c:3===f?c*=c*c*c:4===f&&(c*=c*c*c*c),1===h?this.ratio=1-c:2===h?this.ratio=c:t/l<.5?this.ratio=c/2:this.ratio=1-c/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==a||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,this._rawPrevTime=u,j.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/l):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,!0,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,!0,i),e||(this._time!==a||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,!0,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===d&&s!==d&&(this._rawPrevTime=0)))}},l._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:M.selector(e)||e;var n,r,o,s,a,l,u,c,h,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((m(e)||R(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(l=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){a=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;a=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(a){if(u=t||a,c=t!==r&&"all"!==r&&t!==a&&("object"!=typeof t||!t._tempKill),i&&(M.onOverwrite||this.vars.onOverwrite)){
for(o in u)a[o]&&(h||(h=[]),h.push(o));if((h||!t)&&!tt(this,i,e,h))return!1}for(o in u)(s=a[o])&&(f&&(s.f?s.t[s.p](s.s):s.t[s.p]=s.s,l=!0),s.pg&&s.t._kill(u)&&(l=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete a[o]),c&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},l.invalidate=function(){return this._notifyPluginsOfEnabled&&M._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-d,this.render(Math.min(0,-this._delay))),this},l._enabled=function(t,e){if(c||u.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=Q(n[i],this,!0);else this._siblings=Q(this.target,this,!0)}return L.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&M._onPluginEvent(t?"_onEnable":"_onDisable",this)},M.to=function(t,e,i){return new M(t,e,i)},M.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new M(t,e,i)},M.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new M(t,e,n)},M.delayedCall=function(t,e,i,n,r){return new M(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},M.set=function(t,e){return new M(t,0,e)},M.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:M.selector(t)||t;var i,n,r,o;if((m(t)||R(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(M.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(n=Q(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},M.killTweensOf=M.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=M.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var nt=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=nt.prototype},!0);if(l=nt.prototype,nt.version="1.19.0",nt.API=2,l._firstPT=null,l._addTween=q,l.setRatio=B,l._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},l._mod=l._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},M._onPluginEvent=function(t,e){var i,n,r,o,s,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(s=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:o)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:o=a,a=s}a=e._firstPT=r}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(i=!0),a=a._next;return i},nt.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===nt.API&&(G[(new t[e])._propName]=t[e]);return!0},_.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},s=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){nt.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),a=s.prototype=new nt(i);a.constructor=s,s.API=t.API;for(e in o)"function"==typeof t[e]&&(a[o[e]]=t[e]);return s.version=t.version,nt.activate([s]),s},s=t._gsQueue){for(a=0;a<s.length;a++)s[a]();for(l in v)v[l].func||t.console.log("GSAP encountered missing dependency: "+l)}c=!1}}("undefined"!=typeof e&&e.exports&&"undefined"!=typeof t?t:this||window,"TweenMax")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],588:[function(t,e,i){!function(t,i,n,r){"use strict";function o(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return!!Array.isArray(t)&&(a(t,i[e],i),!0)}function a(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function l(e,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=t.console&&(t.console.warn||t.console.log);return o&&o.call(t.console,r,n),e.apply(this,arguments)}}function u(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&ft(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function h(t,e){return typeof t==gt?t.apply(e?e[0]||r:r,e):t}function f(t,e){return t===r?e:t}function d(t,e,i){a(v(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){a(v(e),function(e){t.removeEventListener(e,i,!1)})}function g(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function m(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];y(r,s)<0&&n.push(t[o]),r[o]=s,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function x(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),s=0;s<dt.length;){if(i=dt[s],n=i?i+o:e,n in t)return n;s++}return r}function w(){return xt++}function C(e){var i=e.ownerDocument||e;return i.defaultView||i.parentWindow||t}function E(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){h(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:Et?z:St?q:Ct?G:F)(t,T)}function T(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=e&Ot&&n-r===0,s=e&(Mt|Rt)&&n-r===0;i.isFirst=!!o,i.isFinal=!!s,o&&(t.session={}),i.eventType=e,I(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function I(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=L(e)),r>1&&!i.firstMultiple?i.firstMultiple=L(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,s=i.firstMultiple,a=s?s.center:o.center,l=e.center=O(n);e.timeStamp=yt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=N(a,l),e.distance=R(a,l),k(i,e),e.offsetDirection=M(e.deltaX,e.deltaY);var u=A(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=vt(u.x)>vt(u.y)?u.x:u.y,e.scale=s?D(s.pointers,n):1,e.rotation=s?j(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,P(i,e);var c=t.element;g(e.srcEvent.target,c)&&(c=e.srcEvent.target),e.target=c}function k(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};e.eventType!==Ot&&o.eventType!==Mt||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function P(t,e){var i,n,o,s,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Rt&&(l>Lt||a.velocity===r)){var u=e.deltaX-a.deltaX,c=e.deltaY-a.deltaY,h=A(l,u,c);n=h.x,o=h.y,i=vt(h.x)>vt(h.y)?h.x:h.y,s=M(u,c),t.lastInterval=e}else i=a.velocity,n=a.velocityX,o=a.velocityY,s=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=s}function L(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:yt(),pointers:e,center:O(e),deltaX:t.deltaX,deltaY:t.deltaY}}function O(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:mt(i/e),y:mt(n/e)}}function A(t,e,i){return{x:e/t||0,y:i/t||0}}function M(t,e){return t===e?Nt:vt(t)>=vt(e)?t<0?jt:Dt:e<0?Ft:zt}function R(t,e,i){i||(i=Ut);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function N(t,e,i){i||(i=Ut);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function j(t,e){return N(e[1],e[0],Gt)+N(t[1],t[0],Gt)}function D(t,e){return R(e[0],e[1],Gt)/R(t[0],t[1],Gt)}function F(){this.evEl=Xt,this.evWin=Wt,this.pressed=!1,E.apply(this,arguments)}function z(){this.evEl=Zt,this.evWin=Kt,E.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Qt,this.evWin=te,this.started=!1,E.apply(this,arguments)}function V(t,e){var i=_(t.touches),n=_(t.changedTouches);return e&(Mt|Rt)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=ie,this.targetIds={},E.apply(this,arguments)}function U(t,e){var i=_(t.touches),n=this.targetIds;if(e&(Ot|At)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,s=_(t.changedTouches),a=[],l=this.target;if(o=i.filter(function(t){return g(t.target,l)}),e===Ot)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<s.length;)n[s[r].identifier]&&a.push(s[r]),e&(Mt|Rt)&&delete n[s[r].identifier],r++;return a.length?[b(o.concat(a),"identifier",!0),a]:void 0}function G(){E.apply(this,arguments);var t=c(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new F(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function H(t,e){t&Ot?(this.primaryTouch=e.changedPointers[0].identifier,X.call(this,e)):t&(Mt|Rt)&&X.call(this,e)}function X(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(r,ne)}}function W(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),s=Math.abs(i-r.y);if(o<=re&&s<=re)return!0}return!1}function Y(t,e){this.manager=t,this.set(e)}function $(t){if(m(t,ce))return ce;var e=m(t,he),i=m(t,fe);return e&&i?ce:e||i?e?he:fe:m(t,ue)?ue:le}function Z(){if(!se)return!1;var e={},i=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!i||t.CSS.supports("touch-action",n)}),e}function K(t){this.options=ft({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=f(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}function J(t){return t&_e?"cancel":t&ve?"end":t&me?"move":t&ge?"start":""}function Q(t){return t==zt?"down":t==Ft?"up":t==jt?"left":t==Dt?"right":""}function tt(t,e){var i=e.manager;return i?i.get(t):t}function et(){K.apply(this,arguments)}function it(){et.apply(this,arguments),this.pX=null,this.pY=null}function nt(){et.apply(this,arguments)}function rt(){K.apply(this,arguments),this._timer=null,this._input=null}function ot(){et.apply(this,arguments)}function st(){et.apply(this,arguments)}function at(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function lt(t,e){return e=e||{},e.recognizers=f(e.recognizers,lt.defaults.preset),new ut(t,e)}function ut(t,e){this.options=ft({},lt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=S(this),this.touchAction=new Y(this,this.options.touchAction),ct(this,!0),a(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ct(t,e){var i=t.element;if(i.style){var n;a(t.options.cssProps,function(r,o){n=x(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ht(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}var ft,dt=["","webkit","Moz","MS","ms","o"],pt=i.createElement("div"),gt="function",mt=Math.round,vt=Math.abs,yt=Date.now;ft="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==r&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var _t=l(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===r)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),bt=l(function(t,e){return _t(t,e,!0)},"merge","Use `assign`."),xt=1,wt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in t,Et=x(t,"PointerEvent")!==r,St=Ct&&wt.test(navigator.userAgent),Tt="touch",It="pen",kt="mouse",Pt="kinect",Lt=25,Ot=1,At=2,Mt=4,Rt=8,Nt=1,jt=2,Dt=4,Ft=8,zt=16,Bt=jt|Dt,Vt=Ft|zt,qt=Bt|Vt,Ut=["x","y"],Gt=["clientX","clientY"];E.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(C(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(C(this.element),this.evWin,this.domHandler)}};var Ht={mousedown:Ot,mousemove:At,mouseup:Mt},Xt="mousedown",Wt="mousemove mouseup";u(F,E,{handler:function(t){var e=Ht[t.type];e&Ot&&0===t.button&&(this.pressed=!0),e&At&&1!==t.which&&(e=Mt),this.pressed&&(e&Mt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:kt,srcEvent:t}))}});var Yt={pointerdown:Ot,pointermove:At,pointerup:Mt,pointercancel:Rt,pointerout:Rt},$t={2:Tt,3:It,4:kt,5:Pt},Zt="pointerdown",Kt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Zt="MSPointerDown",Kt="MSPointerMove MSPointerUp MSPointerCancel"),u(z,E,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Yt[n],o=$t[t.pointerType]||t.pointerType,s=o==Tt,a=y(e,t.pointerId,"pointerId");r&Ot&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):r&(Mt|Rt)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var Jt={touchstart:Ot,touchmove:At,touchend:Mt,touchcancel:Rt},Qt="touchstart",te="touchstart touchmove touchend touchcancel";u(B,E,{handler:function(t){var e=Jt[t.type];if(e===Ot&&(this.started=!0),this.started){var i=V.call(this,t,e);e&(Mt|Rt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Tt,srcEvent:t})}}});var ee={touchstart:Ot,touchmove:At,touchend:Mt,touchcancel:Rt},ie="touchstart touchmove touchend touchcancel";u(q,E,{handler:function(t){var e=ee[t.type],i=U.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Tt,srcEvent:t})}});var ne=2500,re=25;u(G,E,{handler:function(t,e,i){var n=i.pointerType==Tt,r=i.pointerType==kt;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)H.call(this,e,i);else if(r&&W.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var oe=x(pt.style,"touchAction"),se=oe!==r,ae="compute",le="auto",ue="manipulation",ce="none",he="pan-x",fe="pan-y",de=Z();Y.prototype={set:function(t){t==ae&&(t=this.compute()),se&&this.manager.element.style&&de[t]&&(this.manager.element.style[oe]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return a(this.manager.recognizers,function(e){h(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),$(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,r=m(n,ce)&&!de[ce],o=m(n,fe)&&!de[fe],s=m(n,he)&&!de[he];if(r){var a=1===t.pointers.length,l=t.distance<2,u=t.deltaTime<250;if(a&&l&&u)return}return s&&o?void 0:r||o&&i&Bt||s&&i&Vt?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var pe=1,ge=2,me=4,ve=8,ye=ve,_e=16,be=32;K.prototype={defaults:{},set:function(t){return ft(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),y(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<ve&&e(i.options.event+J(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=ve&&e(i.options.event+J(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=be)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(be|pe)))return!1;t++}return!0},recognize:function(t){var e=ft({},t);return h(this.options.enable,[this,e])?(this.state&(ye|_e|be)&&(this.state=pe),this.state=this.process(e),void(this.state&(ge|me|ve|_e)&&this.tryEmit(e))):(this.reset(),void(this.state=be))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(et,K,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ge|me),r=this.attrTest(t);return n&&(i&Rt||!r)?e|_e:n||r?i&Mt?e|ve:e&ge?e|me:ge:be}}),u(it,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Bt&&e.push(fe),t&Vt&&e.push(he),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,s=t.deltaY;return r&e.direction||(e.direction&Bt?(r=0===o?Nt:o<0?jt:Dt,i=o!=this.pX,n=Math.abs(t.deltaX)):(r=0===s?Nt:s<0?Ft:zt,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&ge||!(this.state&ge)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(nt,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ge)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(rt,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[le]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Mt|Rt)&&!r)this.reset();else if(t.eventType&Ot)this.reset(),this._timer=o(function(){this.state=ye,this.tryEmit()},e.time,this);else if(t.eventType&Mt)return ye;return be},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===ye&&(t&&t.eventType&Mt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),u(ot,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ce]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ge)}}),u(st,et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Bt|Vt,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Bt|Vt)?e=t.overallVelocity:i&Bt?e=t.overallVelocityX:i&Vt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&Mt},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(at,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ue]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&Ot&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=Mt)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=o(function(){this.state=ye,this.tryEmit()},e.interval,this),ge):ye}return be},failTimeout:function(){return this._timer=o(function(){this.state=be},this.options.interval,this),be},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ye&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),lt.VERSION="2.0.7",lt.defaults={domEvents:!1,touchAction:ae,enable:!0,inputTarget:null,inputClass:null,preset:[[ot,{enable:!1}],[nt,{enable:!1},["rotate"]],[st,{direction:Bt}],[it,{direction:Bt},["swipe"]],[at],[at,{event:"doubletap",taps:2},["tap"]],[rt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var xe=1,we=2;ut.prototype={set:function(t){return ft(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?we:xe},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&ye)&&(r=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],e.stopped===we||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(ge|me|ve)&&(r=e.curRecognizer=i),o++}},get:function(t){if(t instanceof K)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=y(e,t);i!==-1&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==r&&e!==r){var i=this.handlers;return a(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this}},off:function(t,e){if(t!==r){var i=this.handlers;return a(v(t),function(t){e?i[t]&&i[t].splice(y(i[t],e),1):delete i[t]}),this}},emit:function(t,e){this.options.domEvents&&ht(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ct(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ft(lt,{INPUT_START:Ot,INPUT_MOVE:At,INPUT_END:Mt,INPUT_CANCEL:Rt,STATE_POSSIBLE:pe,STATE_BEGAN:ge,STATE_CHANGED:me,STATE_ENDED:ve,STATE_RECOGNIZED:ye,STATE_CANCELLED:_e,STATE_FAILED:be,DIRECTION_NONE:Nt,DIRECTION_LEFT:jt,DIRECTION_RIGHT:Dt,DIRECTION_UP:Ft,DIRECTION_DOWN:zt,DIRECTION_HORIZONTAL:Bt,DIRECTION_VERTICAL:Vt,DIRECTION_ALL:qt,Manager:ut,Input:E,TouchAction:Y,TouchInput:q,MouseInput:F,PointerEventInput:z,TouchMouseInput:G,SingleTouchInput:B,Recognizer:K,AttrRecognizer:et,Tap:at,Pan:it,Swipe:st,Pinch:nt,Rotate:ot,Press:rt,on:d,off:p,each:a,merge:bt,extend:_t,assign:ft,inherit:u,bindFn:c,prefixed:x});var Ce="undefined"!=typeof t?t:"undefined"!=typeof self?self:{};Ce.Hammer=lt,"function"==typeof define&&define.amd?define(function(){return lt}):"undefined"!=typeof e&&e.exports?e.exports=lt:t[n]=lt}(window,document,"Hammer")},{}],589:[function(t,e,i){"use strict";function n(t,e,i){this.vertices=t,this.adjacent=e,this.boundary=i,this.lastVisited=-1}function r(t,e,i){this.vertices=t,this.cell=e,this.index=i}function o(t,e){return c(t.vertices,e.vertices)}function s(t){for(var e=["function orient(){var tuple=this.tuple;return test("],i=0;i<=t;++i)i>0&&e.push(","),e.push("tuple[",i,"]");e.push(")}return orient");var n=new Function("test",e.join("")),r=u[t+1];return r||(r=u),n(r)}function a(t,e,i){this.dimension=t,this.vertices=e,this.simplices=i,this.interior=i.filter(function(t){return!t.boundary}),this.tuple=new Array(t+1);for(var n=0;n<=t;++n)this.tuple[n]=this.vertices[n];var r=h[t];r||(r=h[t]=s(t)),this.orient=r}function l(t,e){var i=t.length;if(0===i)throw new Error("Must have at least d+1 points");var r=t[0].length;if(i<=r)throw new Error("Must input at least d+1 points");var o=t.slice(0,r+1),s=u.apply(void 0,o);if(0===s)throw new Error("Input not in general position");for(var l=new Array(r+1),c=0;c<=r;++c)l[c]=c;s<0&&(l[0]=1,l[1]=0);for(var h=new n(l,new Array(r+1),(!1)),f=h.adjacent,d=new Array(r+2),c=0;c<=r;++c){for(var p=l.slice(),g=0;g<=r;++g)g===c&&(p[g]=-1);var m=p[0];p[0]=p[1],p[1]=m;var v=new n(p,new Array(r+1),(!0));f[c]=v,d[c]=v}d[r+1]=h;for(var c=0;c<=r;++c)for(var p=f[c].vertices,y=f[c].adjacent,g=0;g<=r;++g){var _=p[g];if(_<0)y[g]=h;else for(var b=0;b<=r;++b)f[b].vertices.indexOf(_)<0&&(y[g]=f[b])}for(var x=new a(r,o,d),w=!!e,c=r+1;c<i;++c)x.insert(t[c],w);return x.boundary()}e.exports=l;var u=t("robust-orientation"),c=t("simplicial-complex").compareCells;n.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var h=[],f=a.prototype;f.handleBoundaryDegeneracy=function(t,e){var i=this.dimension,n=this.vertices.length-1,r=this.tuple,o=this.vertices,s=[t];for(t.lastVisited=-n;s.length>0;){t=s.pop();for(var a=(t.vertices,t.adjacent),l=0;l<=i;++l){var u=a[l];if(u.boundary&&!(u.lastVisited<=-n)){for(var c=u.vertices,h=0;h<=i;++h){var f=c[h];f<0?r[h]=e:r[h]=o[f]}var d=this.orient();if(d>0)return u;u.lastVisited=-n,0===d&&s.push(u)}}}return null},f.walk=function(t,e){var i=this.vertices.length-1,n=this.dimension,r=this.vertices,o=this.tuple,s=e?this.interior.length*Math.random()|0:this.interior.length-1,a=this.interior[s];t:for(;!a.boundary;){for(var l=a.vertices,u=a.adjacent,c=0;c<=n;++c)o[c]=r[l[c]];a.lastVisited=i;for(var c=0;c<=n;++c){var h=u[c];if(!(h.lastVisited>=i)){var f=o[c];o[c]=t;var d=this.orient();if(o[c]=f,d<0){a=h;continue t}h.boundary?h.lastVisited=-i:h.lastVisited=i}}return}return a},f.addPeaks=function(t,e){var i=this.vertices.length-1,s=this.dimension,a=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,h=[e];e.lastVisited=i,e.vertices[e.vertices.indexOf(-1)]=i,e.boundary=!1,u.push(e);for(var f=[];h.length>0;){var e=h.pop(),d=e.vertices,p=e.adjacent,g=d.indexOf(i);if(!(g<0))for(var m=0;m<=s;++m)if(m!==g){var v=p[m];if(v.boundary&&!(v.lastVisited>=i)){var y=v.vertices;if(v.lastVisited!==-i){for(var _=0,b=0;b<=s;++b)y[b]<0?(_=b,l[b]=t):l[b]=a[y[b]];var x=this.orient();if(x>0){y[_]=i,v.boundary=!1,u.push(v),h.push(v),v.lastVisited=i;continue}v.lastVisited=-i}var w=v.adjacent,C=d.slice(),E=p.slice(),S=new n(C,E,(!0));c.push(S);var T=w.indexOf(e);if(!(T<0)){w[T]=S,E[g]=v,C[m]=-1,E[m]=e,p[m]=S,S.flip();for(var b=0;b<=s;++b){var I=C[b];if(!(I<0||I===i)){for(var k=new Array(s-1),P=0,L=0;L<=s;++L){var O=C[L];O<0||L===b||(k[P++]=O)}f.push(new r(k,S,b))}}}}}}f.sort(o);for(var m=0;m+1<f.length;m+=2){var A=f[m],M=f[m+1],R=A.index,N=M.index;R<0||N<0||(A.cell.adjacent[A.index]=M.cell,M.cell.adjacent[M.index]=A.cell)}},f.insert=function(t,e){var i=this.vertices;i.push(t);var n=this.walk(t,e);if(n){for(var r=this.dimension,o=this.tuple,s=0;s<=r;++s){var a=n.vertices[s];a<0?o[s]=t:o[s]=i[a]}var l=this.orient(o);l<0||(0!==l||(n=this.handleBoundaryDegeneracy(n,t)))&&this.addPeaks(t,n)}},f.boundary=function(){for(var t=this.dimension,e=[],i=this.simplices,n=i.length,r=0;r<n;++r){var o=i[r];if(o.boundary){for(var s=new Array(t),a=o.vertices,l=0,u=0,c=0;c<=t;++c)a[c]>=0?s[l++]=a[c]:u=1&c;if(u===(1&t)){var h=s[0];s[0]=s[1],s[1]=h}e.push(s)}}return e}},{"robust-orientation":608,"simplicial-complex":617}],590:[function(t,e,i){function n(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var r=Object.prototype.toString},{}],591:[function(t,e,i){!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,n=t.ui.mouse.prototype,r=n._mouseInit,o=n._mouseDestroy;n._touchStart=function(t){var n=this;!i&&n._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,n._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},n._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},n._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},n._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)},n._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)}}}(jQuery)},{}],592:[function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(s){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(a[e]=n)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),
t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var s,a;for(a=0;a<i.length;a++)s=r.classesElementLookup[i[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){t.inArray(e.target,r)!==-1&&(i.classesElementLookup[n]=t(r.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):i.on(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&s.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget})},{}],593:[function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],t):t(jQuery)}(function(t){var e=!1;return t(document).on("mouseup",function(){e=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,r=1===i.which,o=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&t(i.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&t.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,e=!1,i.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})},{}],594:[function(t,e,i){!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../keycode","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,u,c=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(r>i||r===i&&(e===c._lastChangedValue||c.values(e)===h.min))&&(r=i,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,r,o=this.value(),s=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(i=0===e?Math.min(r,i):Math.max(r,i)),s[e]=i),i!==o&&(n=this._trigger("slide",t,this._uiHash(e,i,s)),n!==!1&&(this._hasMultipleValues()?this.values(e,i):this.value(i)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=r-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step,n=Math.round((t-e)/i)*i;t=n+e,t>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return i===-1?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-i+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),i=this._start(e,s),i===!1))return}switch(o=this.options.step,n=r=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;r=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;r=this._trimAlignValue(n-o)}this._slide(e,s,r)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}})})},{}],595:[function(t,e,i){!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e){e=e||Q;var i=e.createElement("script");i.text=t,e.head.appendChild(i).parentNode.removeChild(i)}function n(t){var e=!!t&&"length"in t&&t.length,i=ft.type(t);return"function"!==i&&!ft.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,i){if(ft.isFunction(e))return ft.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ft.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(wt.test(e))return ft.filter(e,t,i);e=ft.filter(e,t)}return ft.grep(t,function(t){return rt.call(e,t)>-1!==i&&1===t.nodeType})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return ft.each(t.match(kt)||[],function(t,i){e[i]=!0}),e}function a(t){return t}function l(t){throw t}function u(t,e,i){var n;try{t&&ft.isFunction(n=t.promise)?n.call(t).done(e).fail(i):t&&ft.isFunction(n=t.then)?n.call(t,e,i):e.call(void 0,t)}catch(t){i.call(void 0,t)}}function c(){Q.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),ft.ready()}function h(){this.expando=ft.expando+h.uid++}function f(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(jt,"-$&").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Nt.test(i)?JSON.parse(i):i)}catch(r){}Rt.set(t,e,i)}else i=void 0;return i}function d(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return ft.css(t,e,"")},l=a(),u=i&&i[3]||(ft.cssNumber[e]?"":"px"),c=(ft.cssNumber[e]||"px"!==u&&+l)&&Ft.exec(ft.css(t,e));if(c&&c[3]!==u){u=u||c[3],i=i||[],c=+l||1;do o=o||".5",c/=o,ft.style(t,e,c+u);while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}function p(t){var e,i=t.ownerDocument,n=t.nodeName,r=qt[n];return r?r:(e=i.body.appendChild(i.createElement(n)),r=ft.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),qt[n]=r,r)}function g(t,e){for(var i,n,r=[],o=0,s=t.length;o<s;o++)n=t[o],n.style&&(i=n.style.display,e?("none"===i&&(r[o]=Mt.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&Bt(n)&&(r[o]=p(n))):"none"!==i&&(r[o]="none",Mt.set(n,"display",i)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function m(t,e){var i="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],i):i}function v(t,e){for(var i=0,n=t.length;i<n;i++)Mt.set(t[i],"globalEval",!e||Mt.get(e[i],"globalEval"))}function y(t,e,i,n,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],d=0,p=t.length;d<p;d++)if(o=t[d],o||0===o)if("object"===ft.type(o))ft.merge(f,o.nodeType?[o]:o);else if(Wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Gt.exec(o)||["",""])[1].toLowerCase(),l=Xt[a]||Xt._default,s.innerHTML=l[1]+ft.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;ft.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(n&&ft.inArray(o,n)>-1)r&&r.push(o);else if(u=ft.contains(o.ownerDocument,o),s=m(h.appendChild(o),"script"),u&&v(s),i)for(c=0;o=s[c++];)Ht.test(o.type||"")&&i.push(o);return h}function _(){return!0}function b(){return!1}function x(){try{return Q.activeElement}catch(t){}}function w(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)w(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),r===!1)r=b;else if(!r)return t;return 1===o&&(s=r,r=function(t){return ft().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,r,n,i)})}function C(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function E(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){var i,n,r,o,s,a,l,u;if(1===e.nodeType){if(Mt.hasData(t)&&(o=Mt.access(t),s=Mt.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)ft.event.add(e,r,u[r][i])}Rt.hasData(t)&&(a=Rt.access(t),l=ft.extend({},a),Rt.set(e,l))}}function I(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Ut.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function k(t,e,n,r){e=it.apply([],e);var o,s,a,l,u,c,h=0,f=t.length,d=f-1,p=e[0],g=ft.isFunction(p);if(g||f>1&&"string"==typeof p&&!ct.checkClone&&te.test(p))return t.each(function(i){var o=t.eq(i);g&&(e[0]=p.call(this,i,o.html())),k(o,e,n,r)});if(f&&(o=y(e,t[0].ownerDocument,!1,t,r),s=o.firstChild,1===o.childNodes.length&&(o=s),s||r)){for(a=ft.map(m(o,"script"),E),l=a.length;h<f;h++)u=o,h!==d&&(u=ft.clone(u,!0,!0),l&&ft.merge(a,m(u,"script"))),n.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,ft.map(a,S),h=0;h<l;h++)u=a[h],Ht.test(u.type||"")&&!Mt.access(u,"globalEval")&&ft.contains(c,u)&&(u.src?ft._evalUrl&&ft._evalUrl(u.src):i(u.textContent.replace(ie,""),c))}return t}function P(t,e,i){for(var n,r=e?ft.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||ft.cleanData(m(n)),n.parentNode&&(i&&ft.contains(n.ownerDocument,n)&&v(m(n,"script")),n.parentNode.removeChild(n));return t}function L(t,e,i){var n,r,o,s,a=t.style;return i=i||oe(t),i&&(s=i.getPropertyValue(e)||i[e],""!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),!ct.pixelMarginRight()&&re.test(s)&&ne.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function O(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ue.length;i--;)if(t=ue[i]+e,t in ce)return t}function M(t,e,i){var n=Ft.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function R(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=ft.css(t,i+zt[o],!0,r)),n?("content"===i&&(s-=ft.css(t,"padding"+zt[o],!0,r)),"margin"!==i&&(s-=ft.css(t,"border"+zt[o]+"Width",!0,r))):(s+=ft.css(t,"padding"+zt[o],!0,r),"padding"!==i&&(s+=ft.css(t,"border"+zt[o]+"Width",!0,r)));return s}function N(t,e,i){var n,r=!0,o=oe(t),s="border-box"===ft.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(n=t.getBoundingClientRect()[e]),n<=0||null==n){if(n=L(t,e,o),(n<0||null==n)&&(n=t.style[e]),re.test(n))return n;r=s&&(ct.boxSizingReliable()||n===t.style[e]),n=parseFloat(n)||0}return n+R(t,e,i||(s?"border":"content"),r,o)+"px"}function j(t,e,i,n,r){return new j.prototype.init(t,e,i,n,r)}function D(){fe&&(t.requestAnimationFrame(D),ft.fx.tick())}function F(){return t.setTimeout(function(){he=void 0}),he=ft.now()}function z(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)i=zt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function B(t,e,i){for(var n,r=(U.tweeners[e]||[]).concat(U.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function V(t,e,i){var n,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,d={},p=t.style,m=t.nodeType&&Bt(t),v=Mt.get(t,"fxshow");i.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})}));for(n in e)if(r=e[n],de.test(r)){if(delete e[n],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[n])continue;m=!0}d[n]=v&&v[n]||ft.style(t,n)}if(l=!ft.isEmptyObject(e),l||!ft.isEmptyObject(d)){h&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=v&&v.display,null==u&&(u=Mt.get(t,"display")),c=ft.css(t,"display"),"none"===c&&(u?c=u:(g([t],!0),u=t.style.display||u,c=ft.css(t,"display"),g([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ft.css(t,"float")&&(l||(f.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in d)l||(v?"hidden"in v&&(m=v.hidden):v=Mt.access(t,"fxshow",{display:u}),o&&(v.hidden=!m),m&&g([t],!0),f.done(function(){m||g([t]),Mt.remove(t,"fxshow");for(n in d)ft.style(t,n,d[n])})),l=B(m?v[n]:0,n,f),n in v||(v[n]=l.start,m&&(l.end=l.start,l.start=0))}}function q(t,e){var i,n,r,o,s;for(i in t)if(n=ft.camelCase(i),r=e[n],o=t[i],ft.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),s=ft.cssHooks[n],s&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function U(t,e,i){var n,r,o=0,s=U.prefilters.length,a=ft.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=he||F(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,s=0,l=u.tweens.length;s<l;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,i]),o<1&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},i),originalProperties:e,originalOptions:i,startTime:he||F(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ft.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(q(c,u.opts.specialEasing);o<s;o++)if(n=U.prefilters[o].call(u,t,c,u.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(u.elem,u.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(c,B,u),ft.isFunction(u.opts.start)&&u.opts.start.call(t,u),ft.fx.timer(ft.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function H(t,e,i,n){var r;if(ft.isArray(e))ft.each(e,function(e,r){i||Te.test(t)?n(t,r):H(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==ft.type(e))n(t,e);else for(r in e)H(t+"["+r+"]",e[r],i,n)}function X(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(kt)||[];if(ft.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function W(t,e,i,n){function r(a){var l;return o[a]=!0,ft.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===Fe;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Y(t,e){var i,n,r=ft.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function $(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));
if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function Z(t,e,i,n){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function K(t){return ft.isWindow(t)?t:9===t.nodeType&&t.defaultView}var J=[],Q=t.document,tt=Object.getPrototypeOf,et=J.slice,it=J.concat,nt=J.push,rt=J.indexOf,ot={},st=ot.toString,at=ot.hasOwnProperty,lt=at.toString,ut=lt.call(Object),ct={},ht="3.1.0",ft=function(t,e){return new ft.fn.init(t,e)},dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^-ms-/,gt=/-([a-z])/g,mt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:nt,sort:J.sort,splice:J.splice},ft.extend=ft.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(u&&n&&(ft.isPlainObject(n)||(r=ft.isArray(n)))?(r?(r=!1,o=i&&ft.isArray(i)?i:[]):o=i&&ft.isPlainObject(i)?i:{},s[e]=ft.extend(u,o,n)):void 0!==n&&(s[e]=n));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ft.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==st.call(t))&&(!(e=tt(t))||(i=at.call(e,"constructor")&&e.constructor,"function"==typeof i&&lt.call(i)===ut))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[st.call(t)]||"object":typeof t},globalEval:function(t){i(t)},camelCase:function(t){return t.replace(pt,"ms-").replace(gt,mt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,r=0;if(n(t))for(i=t.length;r<i&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(dt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?ft.merge(i,"string"==typeof t?[t]:t):nt.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:rt.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],o=0,s=t.length,a=!i;o<s;o++)n=!e(t[o],o),n!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o,s=0,a=[];if(n(t))for(r=t.length;s<r;s++)o=e(t[s],s,i),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,i),null!=o&&a.push(o);return it.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),ft.isFunction(t))return n=et.call(arguments,2),r=function(){return t.apply(e||this,n.concat(et.call(arguments)))},r.guid=t.guid=t.guid||ft.guid++,r},now:Date.now,support:ct}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=J[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,i,n){var r,o,s,a,l,u,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:V)!==M&&A(e),e=e||M,N)){if(11!==p&&(l=vt.exec(t)))if(r=l[1]){if(9===p){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(f&&(s=f.getElementById(r))&&z(e,s)&&s.id===r)return i.push(s),i}else{if(l[2])return J.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(i,e.getElementsByClassName(r)),i}if(w.qsa&&!X[t+" "]&&(!j||!j.test(t))){if(1!==p)f=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,wt):e.setAttribute("id",a=B),u=T(t),o=u.length;o--;)u[o]="#"+a+" "+d(u[o]);c=u.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(c)try{return J.apply(i,f.querySelectorAll(c)),i}catch(g){}finally{a===B&&e.removeAttribute("id")}}}return k(t.replace(at,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>C.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function r(t){var e=M.createElement("fieldset");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)C.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Et(e))!==t)}}function c(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=e.next,o=r||n,s=i&&"parentNode"===o,a=U++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r)}:function(e,i,l){var u,c,h,f=[q,a];if(l){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||s)if(h=e[B]||(e[B]={}),c=h[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=c[o])&&u[0]===q&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,i,l))return!0}}}function g(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function v(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),u&&e.push(a)));return s}function y(t,e,i,r,o,s){return r&&!r[B]&&(r=y(r)),o&&!o[B]&&(o=y(o,s)),n(function(n,s,a,l){var u,c,h,f=[],d=[],p=s.length,g=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?g:v(g,f,t,a,l),_=i?o||(n?t:p||r)?[]:s:y;if(i&&i(y,_,a,l),r)for(u=v(_,d),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(_[d[c]]=!(y[d[c]]=h));if(n){if(o||t){if(o){for(u=[],c=_.length;c--;)(h=_[c])&&u.push(y[c]=h);o(null,_=[],u,l)}for(c=_.length;c--;)(h=_[c])&&(u=o?tt(n,h):f[c])>-1&&(n[u]=!(s[u]=h))}}else _=v(_===s?_.splice(p,_.length):_),o?o(null,s,_,l):J.apply(s,_)})}function _(t){for(var e,i,n,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt(e,t)>-1},s,!0),c=[function(t,i,n){var r=!o&&(n||i!==P)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];a<r;a++)if(i=C.relative[t[a].type])c=[p(g(c),i)];else{if(i=C.filter[t[a].type].apply(null,t[a].matches),i[B]){for(n=++a;n<r&&!C.relative[t[n].type];n++);return y(a>1&&g(c),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),i,a<n&&_(t.slice(a,n)),n<r&&_(t=t.slice(n)),n<r&&d(t))}c.push(i)}return g(c)}function b(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,u){var c,h,f,d=0,p="0",g=n&&[],m=[],y=P,_=n||o&&C.find.TAG("*",u),b=q+=null==y?1:Math.random()||.1,x=_.length;for(u&&(P=s===M||s||u);p!==x&&null!=(c=_[p]);p++){if(o&&c){for(h=0,s||c.ownerDocument===M||(A(c),a=!N);f=t[h++];)if(f(c,s||M,a)){l.push(c);break}u&&(q=b)}r&&((c=!f&&c)&&d--,n&&g.push(c))}if(d+=p,r&&p!==d){for(h=0;f=i[h++];)f(g,m,s,a);if(n){if(d>0)for(;p--;)g[p]||m[p]||(m[p]=Z.call(l));m=v(m)}J.apply(l,m),u&&!n&&m.length>0&&d+i.length>1&&e.uniqueSort(l)}return u&&(q=b,P=y),g};return r?n(s):s}var x,w,C,E,S,T,I,k,P,L,O,A,M,R,N,j,D,F,z,B="sizzle"+1*new Date,V=t.document,q=0,U=0,G=i(),H=i(),X=i(),W=function(t,e){return t===e&&(O=!0),0},Y={}.hasOwnProperty,$=[],Z=$.pop,K=$.push,J=$.push,Q=$.slice,tt=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(it+"+","g"),at=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),bt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,wt=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Ct=function(){A()},Et=p(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{J.apply($=Q.call(V.childNodes),V.childNodes),$[V.childNodes.length].nodeType}catch(St){J={apply:$.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}w=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:V;return n!==M&&9===n.nodeType&&n.documentElement?(M=n,R=M.documentElement,N=!S(M),V!==M&&(i=M.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",Ct,!1):i.attachEvent&&i.attachEvent("onunload",Ct)),w.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=r(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(M.getElementsByClassName),w.getById=r(function(t){return R.appendChild(t).id=B,!M.getElementsByName||!M.getElementsByName(B).length}),w.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var i=e.getElementById(t);return i?[i]:[]}},C.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),C.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},C.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},D=[],j=[],(w.qsa=mt.test(M.querySelectorAll))&&(r(function(t){R.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||j.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+it+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&j.push(":enabled",":disabled"),R.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=mt.test(F=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&r(function(t){w.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),D.push("!=",ot)}),j=j.length&&new RegExp(j.join("|")),D=D.length&&new RegExp(D.join("|")),e=mt.test(R.compareDocumentPosition),z=e||mt.test(R.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return O=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!w.sortDetached&&e.compareDocumentPosition(t)===i?t===M||t.ownerDocument===V&&z(V,t)?-1:e===M||e.ownerDocument===V&&z(V,e)?1:L?tt(L,t)-tt(L,e):0:4&i?-1:1)}:function(t,e){if(t===e)return O=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===M?-1:e===M?1:r?-1:o?1:L?tt(L,t)-tt(L,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===V?-1:l[n]===V?1:0},M):M},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==M&&A(t),i=i.replace(ct,"='$1']"),w.matchesSelector&&N&&!X[i+" "]&&(!D||!D.test(i))&&(!j||!j.test(i)))try{var n=F.call(t,i);if(n||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,M,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==M&&A(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==M&&A(t);var i=C.attrHandle[e.toLowerCase()],n=i&&Y.call(C.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:w.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(xt,wt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(O=!w.detectDuplicates,L=!w.sortStable&&t.slice(0),t.sort(W),O){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return L=null,t},E=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=E(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=E(e);return i},C=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=T(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(f=m,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===q&&u[1],_=d&&u[2],f=d&&m.childNodes[d];f=++d&&f&&f[g]||(_=d=0)||p.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[q,d,_];break}}else if(y&&(f=e,h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),u=c[t]||[],d=u[0]===q&&u[1],_=d),_===!1)for(;(f=++d&&f&&f[g]||(_=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(y&&(h=f[B]||(f[B]={}),c=h[f.uniqueID]||(h[f.uniqueID]={}),c[t]=[q,_]),f!==e)););return _-=r,_===n||_%n===0&&_/n>=0}}},PSEUDO:function(t,i){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(i):o.length>1?(r=[t,t,"",i],C.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=tt(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=I(t.replace(at,"$1"));return r[B]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:n(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var i;do if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===R},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[i<0?i+e:i]}),even:c(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},C.pseudos.nth=C.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})C.pseudos[x]=l(x);return f.prototype=C.filters=C.pseudos,C.setFilters=new f,T=e.tokenize=function(t,i){var n,r,o,s,a,l,u,c=H[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],u=C.preFilter;a;){n&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=ut.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(at," ")}),a=a.slice(n.length));for(s in C.filter)!(r=dt[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):H(t,l).slice(0)},I=e.compile=function(t,e){var i,n=[],r=[],o=X[t+" "];if(!o){for(e||(e=T(t)),i=e.length;i--;)o=_(e[i]),o[B]?n.push(o):r.push(o);o=X(t,b(r,n)),o.selector=t}return o},k=e.select=function(t,e,i,n){var r,o,s,a,l,u="function"==typeof t&&t,c=!n&&T(t=u.selector||t);if(i=i||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(_t,bt),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((l=C.find[a])&&(n=l(s.matches[0].replace(_t,bt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(r,1),t=n.length&&d(o),!t)return J.apply(i,n),i;break}}return(u||I(t,c))(n,e,!N,i,!e||yt.test(t)&&h(e.parentNode)||e),i},w.sortStable=B.split("").sort(W).join("")===B,w.detectDuplicates=!!O,A(),w.sortDetached=r(function(t){return 1&t.compareDocumentPosition(M.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,i){var n;if(!i)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains,ft.escapeSelector=vt.escape;var yt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ft(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},bt=ft.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,wt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ft.find.matchesSelector(n,t)?[n]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,i,n=this.length,r=this;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<n;e++)if(ft.contains(r[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)ft.find(t,r[e],i);return n>1?ft.uniqueSort(i):i},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&bt.test(t)?ft(t):t||[],!1).length}});var Ct,Et=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,St=ft.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||Ct,"string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Et.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),xt.test(n[1])&&ft.isPlainObject(e))for(n in e)ft.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Q.getElementById(n[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==i.ready?i.ready(t):t(ft):ft.makeArray(t,this)};St.prototype=ft.fn,Ct=ft(Q);var Tt=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e=ft(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(ft.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,r=this.length,o=[],s="string"!=typeof t&&ft(t);if(!bt.test(t))for(;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&ft.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?rt.call(ft(t),this[0]):rt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){return yt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return t.contentDocument||ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(i,n){var r=ft.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=ft.filter(n,r)),this.length>1&&(It[t]||ft.uniqueSort(r),Tt.test(t)&&r.reverse()),this.pushStack(r)}});var kt=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?s(t):ft.extend({},t);var e,i,n,r,o=[],a=[],l=-1,u=function(){for(r=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<o.length;)o[l].apply(i[0],i[1])===!1&&t.stopOnFalse&&(l=o.length,i=!1);t.memory||(i=!1),e=!1,r&&(o=i?[]:"")},c={add:function(){return o&&(i&&!e&&(l=o.length-1,a.push(i)),function n(e){ft.each(e,function(e,i){ft.isFunction(i)?t.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==ft.type(i)&&n(i)})}(arguments),i&&!e&&u()),this},remove:function(){return ft.each(arguments,function(t,e){for(var i;(i=ft.inArray(e,o,i))>-1;)o.splice(i,1),i<=l&&l--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||e||(o=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},ft.extend({Deferred:function(e){var i=[["notify","progress",ft.Callbacks("memory"),ft.Callbacks("memory"),2],["resolve","done",ft.Callbacks("once memory"),ft.Callbacks("once memory"),0,"resolved"],["reject","fail",ft.Callbacks("once memory"),ft.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ft.Deferred(function(e){ft.each(i,function(i,n){var r=ft.isFunction(t[n[4]])&&t[n[4]];o[n[1]](function(){var t=r&&r.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,n,r){function o(e,i,n,r){return function(){var u=this,c=arguments,h=function(){var t,h;if(!(e<s)){if(t=n.apply(u,c),t===i.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ft.isFunction(h)?r?h.call(t,o(s,i,a,r),o(s,i,l,r)):(s++,h.call(t,o(s,i,a,r),o(s,i,l,r),o(s,i,a,i.notifyWith))):(n!==a&&(u=void 0,c=[t]),(r||i.resolveWith)(u,c))}},f=r?h:function(){try{h()}catch(t){ft.Deferred.exceptionHook&&ft.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(n!==l&&(u=void 0,c=[t]),i.rejectWith(u,c))}};e?f():(ft.Deferred.getStackHook&&(f.stackTrace=ft.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return ft.Deferred(function(t){i[0][3].add(o(0,t,ft.isFunction(r)?r:a,t.notifyWith)),i[1][3].add(o(0,t,ft.isFunction(e)?e:a)),i[2][3].add(o(0,t,ft.isFunction(n)?n:l))}).promise()},promise:function(t){return null!=t?ft.extend(t,r):r}},o={};return ft.each(i,function(t,e){var s=e[2],a=e[5];r[e[1]]=s.add,a&&s.add(function(){n=a},i[3-t][2].disable,i[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,i=e,n=Array(i),r=et.call(arguments),o=ft.Deferred(),s=function(t){return function(i){n[t]=this,r[t]=arguments.length>1?et.call(arguments):i,--e||o.resolveWith(n,r)}};if(e<=1&&(u(t,o.done(s(i)).resolve,o.reject),"pending"===o.state()||ft.isFunction(r[i]&&r[i].then)))return o.then();for(;i--;)u(r[i],s(i),o.reject);return o.promise()}});var Pt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ft.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Pt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},ft.readyException=function(e){t.setTimeout(function(){throw e})};var Lt=ft.Deferred();ft.fn.ready=function(t){return Lt.then(t)["catch"](function(t){ft.readyException(t)}),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||Lt.resolveWith(Q,[ft]))}}),ft.ready.then=Lt.then,"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(ft.ready):(Q.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Ot=function(t,e,i,n,r,o,s){var a=0,l=t.length,u=null==i;if("object"===ft.type(i)){r=!0;for(a in i)Ot(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,ft.isFunction(n)||(s=!0),u&&(s?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(ft(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):o},At=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType;
};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},At(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,r=this.cache(t);if("string"==typeof e)r[ft.camelCase(e)]=i;else for(n in e)r[ft.camelCase(n)]=e[n];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ft.camelCase(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){ft.isArray(e)?e=e.map(ft.camelCase):(e=ft.camelCase(e),e=e in n?[e]:e.match(kt)||[]),i=e.length;for(;i--;)delete n[e[i]]}(void 0===e||ft.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ft.isEmptyObject(e)}};var Mt=new h,Rt=new h,Nt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,jt=/[A-Z]/g;ft.extend({hasData:function(t){return Rt.hasData(t)||Mt.hasData(t)},data:function(t,e,i){return Rt.access(t,e,i)},removeData:function(t,e){Rt.remove(t,e)},_data:function(t,e,i){return Mt.access(t,e,i)},_removeData:function(t,e){Mt.remove(t,e)}}),ft.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Rt.get(o),1===o.nodeType&&!Mt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=ft.camelCase(n.slice(5)),f(o,n,r[n])));Mt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Rt.set(this,t)}):Ot(this,function(e){var i;if(o&&void 0===e){if(i=Rt.get(o,t),void 0!==i)return i;if(i=f(o,t),void 0!==i)return i}else this.each(function(){Rt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Rt.remove(this,t)})}}),ft.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Mt.get(t,e),i&&(!n||ft.isArray(i)?n=Mt.access(t,e,ft.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=ft.queue(t,e),n=i.length,r=i.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Mt.get(t,i)||Mt.access(t,i,{empty:ft.Callbacks("once memory").add(function(){Mt.remove(t,[e+"queue",i])})})}}),ft.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?ft.queue(this[0],t):void 0===e?this:this.each(function(){var i=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=ft.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)i=Mt.get(o[s],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Bt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ft.contains(t.ownerDocument,t)&&"none"===ft.css(t,"display")},Vt=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},qt={};ft.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Bt(this)?ft(this).show():ft(this).hide()})}});var Ut=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ht=/^$|\/(?:java|ecma)script/i,Xt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td;var Wt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Yt=Q.documentElement,$t=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Kt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,u,c,h,f,d,p,g,m=Mt.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),r&&ft.find.matchesSelector(Yt,r),i.guid||(i.guid=ft.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ft&&ft.event.triggered!==e.type?ft.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(kt)||[""],u=e.length;u--;)a=Kt.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=ft.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=ft.event.special[d]||{},c=ft.extend({type:d,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&ft.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[d])||(f=l[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,n,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),ft.event.global[d]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,u,c,h,f,d,p,g,m=Mt.hasData(t)&&Mt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(kt)||[""],u=e.length;u--;)if(a=Kt.exec(e[u])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=ft.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,f=l[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||ft.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)ft.event.remove(t,d+e[u],i,n,!0);ft.isEmptyObject(l)&&Mt.remove(t,"handle events")}},dispatch:function(t){var e,i,n,r,o,s,a=ft.event.fix(t),l=new Array(arguments.length),u=(Mt.get(this,"events")||{})[a.type]||[],c=ft.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,a)!==!1){for(s=ft.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,n=((ft.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==n&&(a.result=n)===!1&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(n=[],i=0;i<a;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?ft(r,this).index(l)>-1:ft.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(ft.Event.prototype,t,{enumerable:!0,configurable:!0,get:ft.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ft.expando]?t:new ft.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ft.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ft.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&$t.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Zt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ft.event.addProp),ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||ft.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ft.fn.extend({on:function(t,e,i,n){return w(this,t,e,i,n)},one:function(t,e,i,n){return w(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,ft(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(i=e,e=void 0),i===!1&&(i=b),this.each(function(){ft.event.remove(this,t,i,e)})}});var Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ft.extend({htmlPrefilter:function(t){return t.replace(Jt,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=ft.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(s=m(a),o=m(t),n=0,r=o.length;n<r;n++)I(o[n],s[n]);if(e)if(i)for(o=o||m(t),s=s||m(a),n=0,r=o.length;n<r;n++)T(o[n],s[n]);else T(t,a);return s=m(a,"script"),s.length>0&&v(s,!l&&m(t,"script")),a},cleanData:function(t){for(var e,i,n,r=ft.event.special,o=0;void 0!==(i=t[o]);o++)if(At(i)){if(e=i[Mt.expando]){if(e.events)for(n in e.events)r[n]?ft.event.remove(i,n):ft.removeEvent(i,n,e.handle);i[Mt.expando]=void 0}i[Rt.expando]&&(i[Rt.expando]=void 0)}}}),ft.fn.extend({detach:function(t){return P(this,t,!0)},remove:function(t){return P(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?ft.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ft.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Qt.test(t)&&!Xt[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(ft.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var i=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(m(this)),i&&i.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var i,n=[],r=ft(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),ft(r[s])[e](i),nt.apply(n,i.get());return this.pushStack(n)}});var ne=/^margin/,re=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),oe=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",Yt.appendChild(s);var e=t.getComputedStyle(a);i="1%"!==e.top,o="2px"===e.marginLeft,n="4px"===e.width,a.style.marginRight="50%",r="4px"===e.marginRight,Yt.removeChild(s),a=null}}var i,n,r,o,s=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ft.extend(ct,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return e(),n},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var se=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ue=["Webkit","Moz","ms"],ce=Q.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=L(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ft.camelCase(e),l=t.style;return e=ft.cssProps[a]||(ft.cssProps[a]=A(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=Ft.exec(i))&&r[1]&&(i=d(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(ft.cssNumber[a]?"":"px")),ct.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i)),void 0)}},css:function(t,e,i,n){var r,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=A(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=L(t,e,n)),"normal"===r&&e in le&&(r=le[e]),""===i||i?(o=parseFloat(r),i===!0||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,i,n){if(i)return!se.test(ft.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?N(t,e,n):Vt(t,ae,function(){return N(t,e,n)})},set:function(t,i,n){var r,o=n&&oe(t),s=n&&R(t,e,n,"border-box"===ft.css(t,"boxSizing",!1,o),o);return s&&(r=Ft.exec(i))&&"px"!==(r[3]||"px")&&(t.style[e]=i,i=ft.css(t,e)),M(t,i,s)}}}),ft.cssHooks.marginLeft=O(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Vt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+zt[n]+e]=o[n]||o[n-2]||o[0];return r}},ne.test(t)||(ft.cssHooks[t+e].set=M)}),ft.fn.extend({css:function(t,e){return Ot(this,function(t,e,i){var n,r,o={},s=0;if(ft.isArray(e)){for(n=oe(t),r=e.length;s<r;s++)o[e[s]]=ft.css(t,e[s],!1,n);return o}return void 0!==i?ft.style(t,e,i):ft.css(t,e)},t,e,arguments.length>1)}}),ft.Tween=j,j.prototype={constructor:j,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(ft.cssNumber[i]?"":"px")},cur:function(){var t=j.propHooks[this.prop];return t&&t.get?t.get(this):j.propHooks._default.get(this)},run:function(t){var e,i=j.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=j.prototype.init,ft.fx.step={};var he,fe,de=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;ft.Animation=ft.extend(U,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,Ft.exec(e),i),i}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(kt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],U.tweeners[i]=U.tweeners[i]||[],U.tweeners[i].unshift(e)},prefilters:[V],prefilter:function(t,e){e?U.prefilters.unshift(t):U.prefilters.push(t)}}),ft.speed=function(t,e,i){var n=t&&"object"==typeof t?ft.extend({},t):{complete:i||!i&&e||ft.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ft.isFunction(e)&&e};return ft.fx.off||Q.hidden?n.duration=0:n.duration="number"==typeof n.duration?n.duration:n.duration in ft.fx.speeds?ft.fx.speeds[n.duration]:ft.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){ft.isFunction(n.old)&&n.old.call(this),n.queue&&ft.dequeue(this,n.queue)},n},ft.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Bt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=ft.isEmptyObject(t),o=ft.speed(e,i,n),s=function(){var e=U(this,ft.extend({},t),o);(r||Mt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ft.timers,s=Mt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&pe.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=Mt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=ft.timers,s=n?n.length:0;for(i.finish=!0,ft.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var i=ft.fn[e];ft.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(z(e,!0),t,n,r)}}),ft.each({slideDown:z("show"),slideUp:z("hide"),slideToggle:z("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=0,i=ft.timers;for(he=ft.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||ft.fx.stop(),he=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){fe||(fe=t.requestAnimationFrame?t.requestAnimationFrame(D):t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(fe):t.clearInterval(fe),fe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,i){return e=ft.fx?ft.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=i.selected,t=Q.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var ge,me=ft.expr.attrHandle;ft.fn.extend({attr:function(t,e){return Ot(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ft.prop(t,e,i):(1===o&&ft.isXMLDoc(t)||(r=ft.attrHooks[e.toLowerCase()]||(ft.expr.match.bool.test(e)?ge:void 0)),void 0!==i?null===i?void ft.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=ft.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,r=e&&e.match(kt);if(r&&1===t.nodeType)for(;i=r[n++];)t.removeAttribute(i)}}),ge={set:function(t,e,i){return e===!1?ft.removeAttr(t,i):t.setAttribute(i,i),i}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var i=me[e]||ft.find.attr;me[e]=function(t,e,n){var r,o,s=e.toLowerCase();return n||(o=me[s],me[s]=r,r=null!=i(t,e,n)?s:null,me[s]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Ot(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ft.propFix[t]||t]})}}),ft.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,r=ft.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this});var _e=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(kt)||[];i=this[l++];)if(r=G(i),n=1===i.nodeType&&(" "+r+" ").replace(_e," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ft.trim(n),r!==a&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(kt)||[];i=this[l++];)if(r=G(i),n=1===i.nodeType&&(" "+r+" ").replace(_e," ")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=ft.trim(n),r!==a&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(i){ft(this).toggleClass(t.call(this,i,G(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=ft(this),o=t.match(kt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=G(this),e&&Mt.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":Mt.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+G(i)+" ").replace(_e," ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g,xe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=ft.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,ft(this).val()):t,null==r?r="":"number"==typeof r?r+="":ft.isArray(r)&&(r=ft.map(r,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ft.valHooks[r.type]||ft.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(be,""):null==i?"":i)}}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(xe," ")}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&!i.disabled&&(!i.parentNode.disabled||!ft.nodeName(i.parentNode,"optgroup"))){if(e=ft(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=ft.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=ft.inArray(ft.valHooks.option.get(n),o)>-1)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=ft.inArray(ft(t).val(),e)>-1}},ct.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var we=/^(?:focusinfocus|focusoutblur)$/;ft.extend(ft.event,{trigger:function(e,i,n,r){var o,s,a,l,u,c,h,f=[n||Q],d=at.call(e,"type")?e.type:e,p=at.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!we.test(d+ft.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[ft.expando]?e:new ft.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:ft.makeArray(i,[e]),h=ft.event.special[d]||{},r||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!r&&!h.noBubble&&!ft.isWindow(n)){for(l=h.delegateType||d,we.test(l+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||Q)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||d,c=(Mt.get(s,"events")||{})[e.type]&&Mt.get(s,"handle"),c&&c.apply(s,i),c=u&&s[u],c&&c.apply&&At(s)&&(e.result=c.apply(s,i),e.result===!1&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),i)!==!1||!At(n)||u&&ft.isFunction(n[d])&&!ft.isWindow(n)&&(a=n[u],a&&(n[u]=null),ft.event.triggered=d,n[d](),ft.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(t,e,i){var n=ft.extend(new ft.Event,i,{type:t,isSimulated:!0});ft.event.trigger(n,null,e)}}),ft.fn.extend({trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return ft.event.trigger(t,e,i,!0)}}),ft.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=Mt.access(n,e);r||n.addEventListener(t,i,!0),Mt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Mt.access(n,e)-1;r?Mt.access(n,e,r):(n.removeEventListener(t,i,!0),Mt.remove(n,e))}}});var Ce=t.location,Ee=ft.now(),Se=/\?/;ft.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(n){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),i};var Te=/\[\]$/,Ie=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var i,n=[],r=function(t,e){var i=ft.isFunction(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){r(this.name,this.value)});else for(i in t)H(i,t[i],e,r);return n.join("&")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&Pe.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Ut.test(t))}).map(function(t,e){var i=ft(this).val();return null==i?null:ft.isArray(i)?ft.map(i,function(t){return{name:e.name,value:t.replace(Ie,"\r\n")}}):{name:e.name,value:i.replace(Ie,"\r\n")}}).get()}});var Le=/%20/g,Oe=/#.*$/,Ae=/([?&])_=[^&]*/,Me=/^(.*?):[ \t]*([^\r\n]*)$/gm,Re=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ne=/^(?:GET|HEAD)$/,je=/^\/\//,De={},Fe={},ze="*/".concat("*"),Be=Q.createElement("a");Be.href=Ce.href,ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:Re.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ft.ajaxSettings),e):Y(ft.ajaxSettings,t)},ajaxPrefilter:X(De),ajaxTransport:X(Fe),ajax:function(e,i){function n(e,i,n,a){var u,f,d,b,x,w=i;
c||(c=!0,l&&t.clearTimeout(l),r=void 0,s=a||"",C.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(b=$(p,C,n)),b=Z(p,b,C,u),u?(p.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(ft.lastModified[o]=x),x=C.getResponseHeader("etag"),x&&(ft.etag[o]=x)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=b.state,f=b.data,d=b.error,u=!d)):(d=w,!e&&w||(w="error",e<0&&(e=0))),C.status=e,C.statusText=(i||w)+"",u?v.resolveWith(g,[f,w,C]):v.rejectWith(g,[C,w,d]),C.statusCode(_),_=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[C,p,u?f:d]),y.fireWith(g,[C,w]),h&&(m.trigger("ajaxComplete",[C,p]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,l,u,c,h,f,d,p=ft.ajaxSetup({},i),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?ft(g):ft.event,v=ft.Deferred(),y=ft.Callbacks("once memory"),_=p.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Me.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?s:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),n(0,e),this}};if(v.promise(C),p.url=((e||p.url||Ce.href)+"").replace(je,Ce.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(kt)||[""],null==p.crossDomain){u=Q.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=Be.protocol+"//"+Be.host!=u.protocol+"//"+u.host}catch(E){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ft.param(p.data,p.traditional)),W(De,p,i,C),c)return C;h=ft.event&&p.global,h&&0===ft.active++&&ft.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ne.test(p.type),o=p.url.replace(Oe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Le,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Se.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Ae,""),d=(Se.test(o)?"&":"?")+"_="+Ee++ +d),p.url=o+d),p.ifModified&&(ft.lastModified[o]&&C.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&C.setRequestHeader("If-None-Match",ft.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&C.setRequestHeader("Content-Type",p.contentType),C.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ze+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)C.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,C,p)===!1||c))return C.abort();if(w="abort",y.add(p.complete),C.done(p.success),C.fail(p.error),r=W(Fe,p,i,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,p]),c)return C;p.async&&p.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},p.timeout));try{c=!1,r.send(b,n)}catch(E){if(c)throw E;n(-1,E)}}else n(-1,"No Transport");return C},getJSON:function(t,e,i){return ft.get(t,e,i,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,i,n,r){return ft.isFunction(i)&&(r=r||n,n=i,i=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:r,data:i,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){var e;return this[0]&&(ft.isFunction(t)&&(t=t.call(this[0])),e=ft(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(i){ft(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ft(this).replaceWith(this.childNodes)}),this}}),ft.expr.pseudos.hidden=function(t){return!ft.expr.pseudos.visible(t)},ft.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ft.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ve={0:200,1223:204},qe=ft.ajaxSettings.xhr();ct.cors=!!qe&&"withCredentials"in qe,ct.ajax=qe=!!qe,ft.ajaxTransport(function(e){var i,n;if(ct.cors||qe&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ve[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(i)throw l}},abort:function(){i&&i()}}}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=ft("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ue=[],Ge=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||ft.expando+"_"+Ee++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=e.jsonp!==!1&&(Ge.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ge,"$1"+r):e.jsonp!==!1&&(e.url+=(Se.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||ft.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?ft(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ue.push(r)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ct.createHTMLDocument=function(){var t=Q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ft.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,r,o;return e||(ct.createHTMLDocument?(e=Q.implementation.createHTMLDocument(""),n=e.createElement("base"),n.href=Q.location.href,e.head.appendChild(n)):e=Q),r=xt.exec(t),o=!i&&[],r?[e.createElement(r[1])]:(r=y([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],r.childNodes))},ft.fn.load=function(t,e,i){var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=ft.trim(t.slice(a)),t=t.slice(0,a)),ft.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ft.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?ft("<div>").append(ft.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.pseudos.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,u,c=ft.css(t,"position"),h=ft(t),f={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=ft.css(t,"top"),l=ft.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(n=h.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,i,ft.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):h.css(f)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,i,n,r,o=this[0];if(o)return o.getClientRects().length?(n=o.getBoundingClientRect(),n.width||n.height?(r=o.ownerDocument,i=K(r),e=r.documentElement,{top:n.top+i.pageYOffset-e.clientTop,left:n.left+i.pageXOffset-e.clientLeft}):n):{top:0,left:0}},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n={top:n.top+ft.css(t[0],"borderTopWidth",!0),left:n.left+ft.css(t[0],"borderLeftWidth",!0)}),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||Yt})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;ft.fn[t]=function(n){return Ot(this,function(t,n,r){var o=K(t);return void 0===r?o?o[e]:t[n]:void(o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):t[n]=r)},t,n,arguments.length)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=O(ct.pixelPosition,function(t,i){if(i)return i=L(t,e),re.test(i)?ft(t).position()[e]+"px":i})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){ft.fn[n]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return Ot(this,function(e,i,r){var o;return ft.isWindow(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ft.css(e,i,a):ft.style(e,i,r,a)},e,s?r:void 0,s)}})}),ft.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),ft.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var He=t.jQuery,Xe=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=Xe),e&&t.jQuery===ft&&(t.jQuery=He),ft},e||(t.jQuery=t.$=ft),ft})},{}],596:[function(t,e,i){!function(t){var n=!1;if("function"==typeof define&&define.amd&&(define(t),n=!0),"object"==typeof i&&(e.exports=t(),n=!0),!n){var r=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=r,o}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,r,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if(o=t({path:"/"},n.defaults,o),"number"==typeof o.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*o.expires),o.expires=a}o.expires=o.expires?o.expires.toUTCString():"";try{s=JSON.stringify(r),/^[\{\[]/.test(s)&&(r=s)}catch(l){}r=i.write?i.write(r,e):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var u="";for(var c in o)o[c]&&(u+="; "+c,o[c]!==!0&&(u+="="+o[c]));return document.cookie=e+"="+r+u}e||(s={});for(var h=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<h.length;d++){var p=h[d].split("="),g=p.slice(1).join("=");this.json||'"'!==g.charAt(0)||(g=g.slice(1,-1));try{var m=p[0].replace(f,decodeURIComponent);if(g=i.read?i.read(g,m):i(g,m)||g.replace(f,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(l){}if(e===m){s=g;break}e||(s[m]=g)}catch(l){}}return s}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e(function(){})})},{}],597:[function(t,e,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof e?n(i):"function"==typeof define&&define.amd?define(["exports"],n):n(t.jsts=t.jsts||{})}(this,function(t){"use strict";function e(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}function i(){}function n(){}function r(){}function o(){}function s(){}function a(){}function l(){}function u(t){this.message=t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){if(0===arguments.length)u.call(this);else if(1===arguments.length){var t=arguments[0];u.call(this,t)}}function f(){}function d(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)d.call(this,0,0);else if(1===arguments.length){var t=arguments[0];d.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];d.call(this,e,i,d.NULL_ORDINATE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.x=n,this.y=r,this.z=o}}function p(){if(this.dimensionsToTest=2,0===arguments.length)p.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new n("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function m(){}function v(t){this.message=t||""}function y(){}function _(t){this.message=t||""}function b(t){this.message=t||""}function x(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function w(){if(x.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.ensureCapacity(e.length),this.add(e,i)}}function C(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.init(i.x,n.x,i.y,n.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.init(r,o,s,a)}}function E(){}function S(){E.call(this,"Projective point not representable on the Cartesian plane.")}function T(){}function I(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function k(){}function P(t){this.str=t}function L(t){this.value=t}function O(){}function A(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof A){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var i=arguments[0];A.call(this,A.parse(i))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n,r)}}function M(){}function R(){}function N(){}function j(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],i=arguments[1];this.x=e,this.y=i,this.w=1}else if(arguments[0]instanceof j&&arguments[1]instanceof j){var n=arguments[0],r=arguments[1];this.x=n.y*r.w-r.y*n.w,this.y=r.x*n.w-n.x*r.w,this.w=n.x*r.y-r.x*n.y}else if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[0],l=arguments[1],u=arguments[2];this.x=a,this.y=l,this.w=u}else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3],g=c.y-h.y,m=h.x-c.x,v=c.x*h.y-h.x*c.y,y=f.y-p.y,_=p.x-f.x,b=f.x*p.y-p.x*f.y;this.x=m*b-_*v,this.y=y*v-g*b,this.w=g*_-y*m}}function D(){}function F(){}function z(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function B(){}function V(){}function q(){}function U(){}function G(){}function H(){}function X(){}function W(){}function Y(){}function $(){}function Z(){}function K(){}function J(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function Q(t){return null==t?ts:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function it(t){return null==t?null:t.left}function nt(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function st(){}function at(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function lt(){}function ut(){}function ct(){}function ht(){}function ft(){this.geometries=null;var t=arguments[0],e=arguments[1];if(z.call(this,e),null===t&&(t=[]),z.hasNullElements(t))throw new n("geometries must not contain null elements");this.geometries=t}function dt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function pt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];pt.call(this,t,V.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=i}}function gt(){this.count=null}function mt(){}function vt(){}function yt(){}function _t(){}function bt(){}function xt(){}function wt(){}function Ct(){}function Et(){this.points=null;var t=arguments[0],e=arguments[1];z.call(this,e),this.init(t)}function St(){}function Tt(){this.coordinates=null;var t=arguments[0],e=arguments[1];z.call(this,e),this.init(t)}function It(){}function kt(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(z.call(this,i),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),z.hasNullElements(e))throw new n("holes must not contain null elements");if(t.isEmpty()&&z.hasNonEmptyElements(e))throw new n("shell is empty but holes are not");this.shell=t,this.holes=e}function Pt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function Lt(){if(arguments[0]instanceof d&&arguments[1]instanceof ne){var t=arguments[0],e=arguments[1];Lt.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(I(arguments[0],R)&&arguments[1]instanceof ne){var i=arguments[0],n=arguments[1];Et.call(this,i,n),this.validateConstruction()}}function Ot(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function At(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function Mt(){}function Rt(){}function Nt(){}function jt(){}function Dt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];Dt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var i=0;e>i;i++)this.coordinates[i]=new d}else if(I(arguments[0],R)){var n=arguments[0];if(null===n)return this.coordinates=new Array(0).fill(null),null;this.dimension=n.getDimension(),this.coordinates=new Array(n.size()).fill(null);for(var i=0;i<this.coordinates.length;i++)this.coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this.coordinates=r,this.dimension=o,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this.coordinates=new Array(s).fill(null),this.dimension=a;for(var i=0;s>i;i++)this.coordinates[i]=new d}}function Ft(){}function zt(t,e){return t===e||t!==t&&e!==e}function Bt(t,e){function i(t){return this&&this.constructor===i?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&Vt.call(this,t))):new i(t)}return e||rs(t,"size",{get:Jt}),t.constructor=i,i.prototype=t,i}function Vt(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function qt(t){return this.has(t)&&(this._keys.splice(ns,1),this._values.splice(ns,1),this._itp.forEach(function(t){ns<t[0]&&t[0]--})),ns>-1}function Ut(t){return this.has(t)?this._values[ns]:void 0}function Gt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(ns=t.length;ns--&&!zt(t[ns],e););else ns=t.indexOf(e);return ns>-1}function Ht(t){return Gt.call(this,this._keys,t)}function Xt(t,e){return this.has(t)?this._values[ns]=e:this._values[this._keys.push(t)-1]=e,this}function Wt(){(this._keys||0).length=this._values.length=0}function Yt(){return Kt(this._itp,this._keys)}function $t(){return Kt(this._itp,this._values)}function Zt(){return Kt(this._itp,this._keys,this._values)}function Kt(t,e,i){var n=[0],r=!1;return t.push(n),{next:function(){var o,s=n[0];return!r&&s<e.length?(o=i?[e[s],i[s]]:e[s],n[0]++):(r=!0,t.splice(t.indexOf(n),1)),{done:r,value:o}}}}function Jt(){return this._values.length}function Qt(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}}function te(){this.map_=new ss}function ee(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=ee.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ie){var t=arguments[0];this.modelType=t,t===ee.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=ee.FIXED,this.setScale(e)}else if(arguments[0]instanceof ee){var i=arguments[0];this.modelType=i.modelType,this.scale=i.scale}}function ie(){this.name=null;var t=arguments[0];this.name=t,ie.nameToTypeMap.put(t,this)}function ne(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)ne.call(this,new ee,0);else if(1===arguments.length){if(I(arguments[0],D)){var t=arguments[0];ne.call(this,new ee,0,t)}else if(arguments[0]instanceof ee){var e=arguments[0];ne.call(this,e,0,ne.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];ne.call(this,i,n,ne.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.precisionModel=r,this.coordinateSequenceFactory=s,this.SRID=o}}function re(t){this.geometryFactory=t||new ne}function oe(t){this.parser=new re(t)}function se(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new d,this.intPt[1]=new d,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function ae(){se.apply(this)}function le(){}function ue(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function ce(){}function he(){if(this.p0=null,this.p1=null,0===arguments.length)he.call(this,new d,new d);else if(1===arguments.length){var t=arguments[0];he.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0=e,this.p1=i}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];he.call(this,new d(n,r),new d(o,s))}}function fe(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(ut.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];fe.call(this),this.set(t)}else if(arguments[0]instanceof fe){var e=arguments[0];fe.call(this),this.matrix[T.INTERIOR][T.INTERIOR]=e.matrix[T.INTERIOR][T.INTERIOR],this.matrix[T.INTERIOR][T.BOUNDARY]=e.matrix[T.INTERIOR][T.BOUNDARY],this.matrix[T.INTERIOR][T.EXTERIOR]=e.matrix[T.INTERIOR][T.EXTERIOR],this.matrix[T.BOUNDARY][T.INTERIOR]=e.matrix[T.BOUNDARY][T.INTERIOR],this.matrix[T.BOUNDARY][T.BOUNDARY]=e.matrix[T.BOUNDARY][T.BOUNDARY],this.matrix[T.BOUNDARY][T.EXTERIOR]=e.matrix[T.BOUNDARY][T.EXTERIOR],this.matrix[T.EXTERIOR][T.INTERIOR]=e.matrix[T.EXTERIOR][T.INTERIOR],this.matrix[T.EXTERIOR][T.BOUNDARY]=e.matrix[T.EXTERIOR][T.BOUNDARY],this.matrix[T.EXTERIOR][T.EXTERIOR]=e.matrix[T.EXTERIOR][T.EXTERIOR]}}function de(){this.areaBasePt=null,this.triangleCent3=new d,this.areasum2=0,this.cg3=new d,this.lineCentSum=new d,this.totalLength=0,this.ptCount=0,this.ptCentSum=new d;var t=arguments[0];this.areaBasePt=null,this.add(t)}function pe(t){this.message=t||""}function ge(){this.array_=[]}function me(){this.treeSet=new at,this.list=new x}function ve(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];ve.call(this,ve.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.inputPts=me.filterCoordinates(e),this.geomFactory=i}}function ye(){this.origin=null;var t=arguments[0];this.origin=t}function _e(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function be(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new he,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Et&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];be.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],n=arguments[1];this.srcPts=i,this._isClosed=be.isClosed(i),this.snapTolerance=n}}function xe(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function we(){if(_e.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.snapTolerance=i,this.snapPts=n,this.isSelfSnap=r}}function Ce(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Ee(){this.commonCoord=null,this.ccFilter=new Se}function Se(){this.commonBitsX=new Ce,this.commonBitsY=new Ce}function Te(){this.trans=null;var t=arguments[0];this.trans=t}function Ie(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function ke(){if(this.boundaryRule=V.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new n("Rule must be non-null");this.boundaryRule=t}}function Pe(){}function Le(){}function Oe(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Ae(){}function Me(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function Re(){this._size=null,this.items=null,this._size=0,this.items=new x,this.items.add(null)}function Ne(){}function je(){}function De(){if(this.childBoundables=new x,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function Fe(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=i,this._distance=this.distance()}function ze(){if(this.root=null,this.built=!1,this.itemBoundables=new x,this.nodeCapacity=null,0===arguments.length)ze.call(this,ze.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Be(){}function Ve(){}function qe(){if(0===arguments.length)qe.call(this,qe.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];ze.call(this,t)}}function Ue(){var t=arguments[0];De.call(this,t)}function Ge(){}function He(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.segString=t,this.coord=new d(e),this.segmentIndex=i,this.segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(i))}function Xe(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function We(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Ye(){}function $e(){this.nodeList=new Xe(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Ze(){this.tempEnv1=new C,this.tempEnv2=new C,this.overlapSeg1=new he,this.overlapSeg2=new he}function Ke(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.pts=t,this.start=e,this.end=i,this.context=n}function Je(){}function Qe(){}function ti(){}function ei(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function ii(){if(this.monoChains=new x,this.index=new qe,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];ei.call(this,t)}}function ni(){Ze.apply(this),this.si=null;var t=arguments[0];this.si=t}function ri(){if(this.pt=null,1===arguments.length){var t=arguments[0];u.call(this,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];u.call(this,ri.msgWithCoord(e,i)),this.pt=new d(i)}}function oi(){}function si(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new x,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function ai(){this.li=new ae,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function li(){this.nv=null;var t=arguments[0];this.nv=new ai(li.toSegmentStrings(t))}function ui(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function ci(){}function hi(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[ci.ON]=e}else if(arguments[0]instanceof hi){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var n=0;n<this.location.length;n++)this.location[n]=i.location[n]}}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[ci.ON]=r,this.location[ci.LEFT]=o,this.location[ci.RIGHT]=s}}function fi(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new hi(t),this.elt[1]=new hi(t)}else if(arguments[0]instanceof fi){var e=arguments[0];
this.elt[0]=new hi(e.elt[0]),this.elt[1]=new hi(e.elt[1])}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.elt[0]=new hi(T.NONE),this.elt[1]=new hi(T.NONE),this.elt[i].setLocation(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new hi(r,o,s),this.elt[1]=new hi(r,o,s)}else if(4===arguments.length){var a=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3];this.elt[0]=new hi(T.NONE,T.NONE,T.NONE),this.elt[1]=new hi(T.NONE,T.NONE,T.NONE),this.elt[a].setLocations(l,u,c)}}function di(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new x,this.pts=new x,this.label=new fi(T.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new x,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function pi(){var t=arguments[0],e=arguments[1];di.call(this,t,e)}function gi(){var t=arguments[0],e=arguments[1];di.call(this,t,e)}function mi(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function vi(){mi.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new fi(0,T.NONE)}function yi(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function _i(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2];_i.call(this,e,i,n,null)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];_i.call(this,r),this.init(o,s),this.label=a}}function bi(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(_i.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var i=t.getNumPoints()-1;this.init(t.getCoordinate(i),t.getCoordinate(i-1))}this.computeDirectedLabel()}function xi(){}function wi(){if(this.edges=new x,this.nodes=null,this.edgeEndList=new x,0===arguments.length)this.nodes=new yi(new xi);else if(1===arguments.length){var t=arguments[0];this.nodes=new yi(t)}}function Ci(){this.geometryFactory=null,this.shellList=new x;var t=arguments[0];this.geometryFactory=t}function Ei(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new x,this.resultLineList=new x;var t=arguments[0],e=arguments[1],i=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=i}function Si(){this.op=null,this.geometryFactory=null,this.resultPointList=new x;var t=arguments[0],e=arguments[1];arguments[2],this.op=t,this.geometryFactory=e}function Ti(){}function Ii(){this.geom=null;var t=arguments[0];this.geom=t}function ki(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[T.NONE,T.NONE]}function Pi(){ki.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function Li(){xi.apply(this)}function Oi(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function Ai(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=Ai.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.eventType=Ai.INSERT,this.label=i,this.xValue=n,this.obj=r}}function Mi(){}function Ri(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=i}function Ni(){Mi.apply(this),this.events=new x,this.nOverlaps=null}function ji(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Di(){}function Fi(){ji.apply(this),this.item=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.min=t,this.max=e,this.item=i}function zi(){ji.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function Bi(){this.leaves=new x,this.root=null,this.level=0}function Vi(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.lines=e,this.isForcedToLineString=i}}function qi(){this.items=new x}function Ui(){this.index=null;var t=arguments[0];if(!I(t,It))throw new n("Argument must be Polygonal");this.index=new Hi(t)}function Gi(){this.counter=null;var t=arguments[0];this.counter=t}function Hi(){this.index=new Bi;var t=arguments[0];this.init(t)}function Xi(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.coord=new d(t),this.segmentIndex=e,this.dist=i}function Wi(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Yi(){}function $i(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new C,this.env2=new C;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Yi;this.startIndex=e.getChainStartIndices(this.pts)}function Zi(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;2>t;t++)for(var e=0;3>e;e++)this.depth[t][e]=Zi.NULL_VALUE}function Ki(){if(mi.apply(this),this.pts=null,this.env=null,this.eiList=new Wi(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Zi,this.depthDelta=0,1===arguments.length){var t=arguments[0];Ki.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.pts=e,this.label=i}}function Ji(){if(wi.apply(this),this.parentGeom=null,this.lineEdgeMap=new te,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new ke,2===arguments.length){var t=arguments[0],e=arguments[1];Ji.call(this,t,e,V.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.argIndex=i,this.parentGeom=n,this.boundaryNodeRule=r,null!==n&&this.add(n)}}function Qi(){if(this.li=new ae,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Ji(0,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];Qi.call(this,e,i,V.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];n.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(n.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Ji(0,n,o),this.arg[1]=new Ji(1,r,o)}}function tn(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=tn.orientation(t)}function en(){this.edges=new x,this.ocaMap=new rt}function nn(){this.ptLocator=new ke,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new en,this.resultPolyList=new x,this.resultLineList=new x,this.resultPointList=new x;var t=arguments[0],e=arguments[1];Qi.call(this,t,e),this.graph=new wi(new Li),this.geomFact=t.getFactory()}function rn(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function on(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function sn(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function an(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=sn.avg(this.loY,this.hiY)}function ln(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function un(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function cn(){}function hn(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.p0=t,this.p1=e,this.p2=i}function fn(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function dn(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new he,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];dn.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.inputGeom=e,this.isConvex=i}}function pn(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function gn(){_e.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function mn(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function vn(){this._isMarked=!1;var t=arguments[0];mn.call(this,t)}function yn(){this.vertexMap=new te}function _n(){this._isStart=!1;var t=arguments[0];vn.call(this,t)}function bn(){yn.apply(this)}function xn(){this.result=null,this.factory=null,this.graph=null,this.lines=new x,this.nodeEdgeStack=new ge,this.ringStartEdge=null,this.graph=new bn}function wn(){this.items=new x,this.subnode=new Array(4).fill(null)}function Cn(){}function En(t,e){var i,n,r,o,s={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[t];if(o||(i=0>e||0>1/e,isFinite(e)||(o=s[t],i&&(o.d+=1<<t/4-1),n=Math.pow(2,a)-1,r=0)),!o){for(n={32:127,64:1023}[t],r=Math.abs(e);r>=2;)n++,r/=2;for(;1>r&&n>0;)n--,r*=2;0>=n&&(r/=2),32===t&&n>254&&(o={d:i?255:127,c:128,b:0,a:0},n=Math.pow(2,a)-1,r=0)}return n}function Sn(){this.pt=new d,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function Tn(){wn.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function In(){}function kn(){wn.apply(this)}function Pn(){this.root=null,this.minExtent=1,this.root=new kn}function Ln(t){this.geometryFactory=t||new ne}function On(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ln(this.geometryFactory)}function An(){this.parser=new Ln(this.geometryFactory)}function Mn(t){this.geometryFactory=t||new ne,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new re(this.geometryFactory)}function Rn(t){return[t.x,t.y]}function Nn(t){this.geometryFactory=t||new ne}function jn(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];jn.call(this,t,e,0,0)}else if(4===arguments.length){var i=arguments[0],n=arguments[1];arguments[2],arguments[3],this.noder=i,this.scaleFactor=n,this.isScaled=!this.isIntegerPrecision()}}function Dn(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!i.isInBoundary(2)}}function Fn(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function zn(){if(this.quadrantSegments=zn.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=zn.CAP_ROUND,this.joinStyle=zn.JOIN_ROUND,this.mitreLimit=zn.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=zn.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(i)}else if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(n),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(s)}}function Bn(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Vn(){this.array_=[]}function qn(){this.finder=null,this.dirEdgeList=new x,this.nodes=new x,this.rightMostCoord=null,this.env=null,this.finder=new Bn}function Un(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=ce.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function Gn(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new x}function Hn(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new he,this.seg1=new he,this.offset0=new he,this.offset1=new he,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new ae,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===zn.JOIN_ROUND&&(this.closingSegLengthFactor=Hn.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}function Xn(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Wn(){this.subgraphs=null,this.seg=new he,this.cga=new ce;var t=arguments[0];this.subgraphs=t}function Yn(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new he(t),this.leftDepth=e}function $n(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new x;var t=arguments[0],e=arguments[1],i=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=i}function Zn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function Kn(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new en;var t=arguments[0];this.bufParams=t}function Jn(){this.li=new ae,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Qn(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=i,0>=e)throw new n("Scale factor must be non-zero");1!==e&&(this.pt=new d(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new d,this.p1Scaled=new d),this.initCorners(this.pt)}function tr(){this.tempEnv1=new C,this.selectedSegment=new he}function er(){this.index=null;var t=arguments[0];this.index=t}function ir(){tr.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=i}function nr(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new x}function rr(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new ae,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function or(){if(this.argGeom=null,this.distance=null,this.bufParams=new zn,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.argGeom=e,this.bufParams=i}}function sr(){this.comps=null;var t=arguments[0];this.comps=t}function ar(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];ar.call(this,t,ar.INSIDE_AREA,e)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.component=i,this.segIndex=n,this.pt=r}}function lr(){this.pts=null;var t=arguments[0];this.pts=t}function ur(){this.locations=null;var t=arguments[0];this.locations=t}function cr(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new ke,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];cr.call(this,t,e,0)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=i,this.geom[1]=n,this.terminateDistance=o}}function hr(){this.factory=null,this.directedEdges=new x,this.coordinates=null;var t=arguments[0];this.factory=t}function fr(){this._isMarked=!1,this._isVisited=!1,this.data=null}function dr(){fr.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.from=t,this.to=e,this.edgeDirection=n,this.p0=t.getCoordinate(),this.p1=i;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Je.quadrant(r,o),this.angle=Math.atan2(o,r)}function pr(){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];dr.call(this,t,e,i,n)}function gr(){if(fr.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function mr(){this.outEdges=new x,this.sorted=!1}function vr(){if(fr.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];vr.call(this,t,new mr)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.pt=e,this.deStar=i}}function yr(){gr.apply(this),this.line=null;var t=arguments[0];this.line=t}function _r(){this.nodeMap=new rt}function br(){this.edges=new J,this.dirEdges=new J,this.nodeMap=new _r}function xr(){br.apply(this)}function wr(){this.graph=new xr,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function Cr(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];dr.call(this,t,e,i,n)}function Er(){gr.apply(this),this.line=null;var t=arguments[0];this.line=t}function Sr(){this.factory=null,this.deList=new x,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Tr(){}function Ir(){br.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function kr(){if(this.lineStringAdder=new Pr(this),this.graph=null,this.dangles=new x,this.cutEdges=new x,this.invalidRingLines=new x,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)kr.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function Pr(){this.p=null;var t=arguments[0];this.p=t}function Lr(){}function Or(){if(this.edgeEnds=new x,1===arguments.length){var t=arguments[0];Or.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);_i.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new fi(e.getLabel())),this.insert(e)}}function Ar(){ki.apply(this)}function Mr(){var t=arguments[0],e=arguments[1];vi.call(this,t,e)}function Rr(){xi.apply(this)}function Nr(){this.li=new ae,this.ptLocator=new ke,this.arg=null,this.nodes=new yi(new Rr),this.im=null,this.isolatedEdges=new x,this.invalidPoint=null;var t=arguments[0];this.arg=t}function jr(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function Dr(){this.li=new ae,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new d(t.getMinX(),t.getMinY()),this.diagUp1=new d(t.getMaxX(),t.getMaxY()),this.diagDown0=new d(t.getMinX(),t.getMaxY()),this.diagDown1=new d(t.getMaxX(),t.getMinY())}function Fr(){this._isDone=!1}function zr(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function Br(){Fr.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function Vr(){Fr.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function qr(){Fr.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new d,this.p1=new d;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new Dr(this.rectEnv)}function Ur(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];Qi.call(this,t,e),this._relate=new Nr(this.arg)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];Qi.call(this,i,n,r),this._relate=new Nr(this.arg)}}function Gr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=Gr.extractFactory(t),this.inputGeoms=t}function Hr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Xr(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Wr(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new x)}function Yr(){if(this.polygons=new x,this.lines=new x,this.points=new x,this.geomFact=null,1===arguments.length){if(I(arguments[0],m)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof z){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.geomFact=n,this.extract(i)}}function $r(){this.geometryFactory=new ne,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function Zr(){this.items=new x,this.subnode=[null,null]}function Kr(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.init(e,i)}}function Jr(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function Qr(){Zr.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function to(){Zr.apply(this)}function eo(){this.root=null,this.minExtent=1,this.root=new to}function io(){}function no(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Kr;var t=arguments[0];this.ring=t,this.buildIndex()}function ro(){tr.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function oo(){this.nodes=new yi(new Rr)}function so(){this.li=new ae,this.geomGraph=null,this.nodeGraph=new oo,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function ao(){this.graph=null,this.rings=new x,this.totalEnv=new C,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function lo(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];lo.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.errorType=e,null!==i&&(this.pt=i.copy())}}function uo(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function co(){At.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function ho(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function fo(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new he;var t=arguments[0];this.pts=t}function po(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function go(){_e.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function mo(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];mo.call(this,t,e,null,-1)}else if(4===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];he.call(this,i,n),this.parent=r,this.index=o}}function vo(){if(this.parentLine=null,this.segs=null,this.resultSegs=new x,this.minimumSize=null,1===arguments.length){var t=arguments[0];vo.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.parentLine=e,this.minimumSize=i,this.init()}}function yo(){this.index=new Pn}function _o(){this.querySeg=null,this.items=new x;var t=arguments[0];this.querySeg=t}function bo(){this.li=new ae,this.inputIndex=new yo,this.outputIndex=new yo,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function xo(){this.inputIndex=new yo,this.outputIndex=new yo,this.distanceTolerance=0}function wo(){this.inputGeom=null,this.lineSimplifier=new xo,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function Co(){_e.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function Eo(){this.tps=null;var t=arguments[0];this.tps=t}function So(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function To(){}function Io(){}function ko(){}function Po(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new d(t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p=new d(e,i)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.p=new d(n,r,o)}}function Lo(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];Po.call(this,t)}function Oo(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Ao(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Mo(){}function Ro(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function No(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];u.call(this,t)}else if(arguments[0]instanceof he){var e=arguments[0];u.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new he(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];u.call(this,No.msgWithSpatial(i,n)),this.seg=new he(n)}}function jo(){}function Do(){this.visitedKey=0,this.quadEdges=new x,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new he,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/Do.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new Ro(this)}function Fo(){}function zo(){this.triList=new x}function Bo(){this.triList=new x}function Vo(){this.coordList=new w,this.triCoords=new x}function qo(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new he(t,e)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.ls=new he(i,n),this.data=r}else if(6===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3],u=arguments[4],c=arguments[5];qo.call(this,new d(o,s,a),new d(l,u,c))}else if(7===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],g=arguments[3],m=arguments[4],v=arguments[5],y=arguments[6];qo.call(this,new d(h,f,p),new d(g,m,v),y)}}function Uo(){}function Go(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new d(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.p=new d(i,n),this.left=null,this.right=null,this.count=1,this.data=r}}function Ho(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Ho.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Xo(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Wo(){this.initialVertices=null,this.segVertices=null,this.segments=new x,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new Io,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new x(t),this.tolerance=e,this.kdt=new Ho(e)}function Yo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function $o(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function Zo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Ko(){}Array.prototype.fill||(Array.prototype.fill=function(t){for(var e=Object(this),i=parseInt(e.length,10),n=arguments[1],r=parseInt(n,10)||0,o=0>r?Math.max(i+r,0):Math.min(r,i),s=arguments[2],a=void 0===s?i:parseInt(s,10)||0,l=0>a?Math.max(i+a,0):Math.min(a,i);l>o;o++)e[o]=t;return e}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return 0>t?Math.ceil(t):Math.floor(t)},e(i.prototype,{interfaces_:function(){return[]},getClass:function(){return i}}),i.equalsWithTolerance=function(t,e,i){return Math.abs(t-e)<=i},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,c(h,u),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new h("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length){var t=arguments[0];f.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(!e)throw null===i?new h:new h(i)}},f.equals=function(){if(2===arguments.length){
var t=arguments[0],e=arguments[1];f.equals(t,e,null)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];if(!n.equals(i))throw new h("Expected "+i+" but encountered "+n+(null!==r?": "+r:""))}},e(d.prototype,{setOrdinate:function(t,e){switch(t){case d.X:this.x=e;break;case d.Y:this.y=e;break;case d.Z:this.z=e;break;default:throw new n("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!i.equalsWithTolerance(this.x,e.x,n)&&!!i.equalsWithTolerance(this.y,e.y,n)}},getOrdinate:function(t){switch(t){case d.X:return this.x;case d.Y:return this.y;case d.Z:return this.z}throw new n("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof d&&this.equals2D(t)},equalInZ:function(t,e){return i.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{var t=null;return t}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}finally{}},copy:function(){return new d(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+i*i+n*n)},distance:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},hashCode:function(){var t=17;return t=37*t+d.hashCode(this.x),t=37*t+d.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,s,l]},getClass:function(){return d}}),d.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(p.prototype,{compare:function(t,e){var i=t,n=e,r=p.compare(i.x,n.x);if(0!==r)return r;var o=p.compare(i.y,n.y);if(0!==o)return o;if(this.dimensionsToTest<=2)return 0;var s=p.compare(i.z,n.z);return s},interfaces_:function(){return[a]},getClass:function(){return p}}),p.compare=function(t,e){return e>t?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},d.DimensionalComparator=p,d.serialVersionUID=0x5cbf2c235c7e5800,d.NULL_ORDINATE=r.NaN,d.X=0,d.Y=1,d.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},v.prototype=new Error,v.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},_.prototype=new Error,_.prototype.name="NoSuchElementException",b.prototype=new Error,b.prototype.name="OperationNotSupported",x.prototype=Object.create(y.prototype),x.prototype.constructor=x,x.prototype.ensureCapacity=function(){},x.prototype.interfaces_=function(){return[y,m]},x.prototype.add=function(t){return this.array_.push(t),!0},x.prototype.clear=function(){this.array_=[]},x.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},x.prototype.set=function(t,e){var i=this.array_[t];return this.array_[t]=e,i},x.prototype.iterator=function(){return new Jo(this)},x.prototype.get=function(t){if(0>t||t>=this.size())throw new v;return this.array_[t]},x.prototype.isEmpty=function(){return 0===this.array_.length},x.prototype.size=function(){return this.array_.length},x.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;i>e;e++)t.push(this.array_[e]);return t},x.prototype.remove=function(t){for(var e=!1,i=0,n=this.array_.length;n>i;i++)if(this.array_[i]===t){this.array_.splice(i,1),e=!0;break}return e};var Jo=function(t){this.arrayList_=t,this.position_=0};Jo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new _;return this.arrayList_.get(this.position_++)},Jo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Jo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Jo.prototype.remove=function(){throw new b},c(w,x),e(w.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],i=!1,n=t.iterator();n.hasNext();)this.add(n.next(),e),i=!0;return i}return x.prototype.addAll.apply(this,arguments)},clone:function js(){for(var js=x.prototype.clone.call(this),t=0;t<this.size();t++)js.add(t,this.get(t).copy());return js},toCoordinateArray:function(){return this.toArray(w.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];x.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],i=arguments[1];return this.add(e,i,!0),!0}if(arguments[0]instanceof d&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(n))return null}x.prototype.add.call(this,n)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=arguments[2];if(c)for(var h=0;h<l.length;h++)this.add(l[h],u);else for(var h=l.length-1;h>=0;h--)this.add(l[h],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof d){var f=arguments[0],p=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(f>0){var v=this.get(f-1);if(v.equals2D(p))return null}if(m>f){var y=this.get(f);if(y.equals2D(p))return null}}}x.prototype.add.call(this,f,p)}}else if(4===arguments.length){var _=arguments[0],b=arguments[1],w=arguments[2],C=arguments[3],E=1;w>C&&(E=-1);for(var h=w;h!==C;h+=E)this.add(_[h],b);return!0}},closeRing:function(){this.size()>0&&this.add(new d(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return w}}),w.coordArrayType=new Array(0).fill(null),e(C.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof C))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new C;var e=this.minx>t.minx?this.minx:t.minx,i=this.miny>t.miny?this.miny:t.miny,n=this.maxx<t.maxx?this.maxx:t.maxx,r=this.maxy<t.maxy?this.maxy:t.maxy;return new C(e,n,i,r)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof C){var e=arguments[0];return!this.isNull()&&!e.isNull()&&(e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return!this.isNull()&&(i>=this.minx&&i<=this.maxx&&n>=this.miny&&n<=this.maxy)}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof d){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return!this.isNull()&&!(i>this.maxx||i<this.minx||n>this.maxy||n<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.isNull()?(this.minx=i,this.maxx=i,this.miny=n,this.maxy=n):(i<this.minx&&(this.minx=i),i>this.maxx&&(this.maxx=i),n<this.miny&&(this.miny=n),n>this.maxy&&(this.maxy=n))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e>t?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=i,this.maxy+=i,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof C){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return this.covers(i,n)}},centre:function(){return this.isNull()?null:new d((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof C){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.init(i.x,n.x,i.y,n.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];o>r?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),a>s?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var i=0;return this.maxy<t.miny?i=t.miny-this.maxy:this.miny>t.maxy&&(i=this.miny-t.maxy),0===e?i:0===i?e:Math.sqrt(e*e+i*i)},hashCode:function(){var t=17;return t=37*t+d.hashCode(this.minx),t=37*t+d.hashCode(this.maxx),t=37*t+d.hashCode(this.miny),t=37*t+d.hashCode(this.maxy)},interfaces_:function(){return[o,l]},getClass:function(){return C}}),C.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];return i.x>=(t.x<e.x?t.x:e.x)&&i.x<=(t.x>e.x?t.x:e.x)&&i.y>=(t.y<e.y?t.y:e.y)&&i.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),u=Math.min(n.x,r.x),c=Math.max(n.x,r.x);return!(u>l)&&(!(a>c)&&(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),u=Math.min(n.y,r.y),c=Math.max(n.y,r.y),!(u>l)&&!(a>c)))}},C.serialVersionUID=0x51845cd552189800,c(S,E),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),e(T.prototype,{interfaces_:function(){return[]},getClass:function(){return T}}),T.toLocationSymbol=function(t){switch(t){case T.EXTERIOR:return"e";case T.BOUNDARY:return"b";case T.INTERIOR:return"i";case T.NONE:return"-"}throw new n("Unknown location value: "+t)},T.INTERIOR=0,T.BOUNDARY=1,T.EXTERIOR=2,T.NONE=-1,e(k.prototype,{interfaces_:function(){return[]},getClass:function(){return k}}),k.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/k.LOG_10},k.min=function(t,e,i,n){var r=t;return r>e&&(r=e),r>i&&(r=i),r>n&&(r=n),r},k.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],i=arguments[2];return e>t?e:t>i?i:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1],o=arguments[2];return r>n?r:n>o?o:n}},k.wrap=function(t,e){return 0>t?e- -t%e:t%e},k.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=t;return e>n&&(n=e),i>n&&(n=i),n}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],n=r;return o>n&&(n=o),s>n&&(n=s),a>n&&(n=a),n}},k.average=function(t,e){return(t+e)/2},k.LOG_10=Math.log(10),P.prototype.append=function(t){this.str+=t},P.prototype.setCharAt=function(t,e){return this.str.substr(0,t)+e+this.str.substr(t+1)},P.prototype.toString=function(t){return this.str},L.prototype.intValue=function(){return this.value},L.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},L.isNaN=function(t){return Number.isNaN(t)},O.isWhitespace=function(t){return 32>=t&&t>=0||127==t},O.toUpperCase=function(t){return t.toUpperCase()},e(A.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var i=this.abs(),n=A.magnitude(i.hi),r=A.TEN.pow(n);i=i.divide(r),i.gt(A.TEN)?(i=i.divide(A.TEN),n+=1):i.lt(A.ONE)&&(i=i.multiply(A.TEN),n-=1);for(var o=n+1,s=new P,a=A.MAX_PRINT_DIGITS-1,l=0;a>=l;l++){t&&l===o&&s.append(".");var u=Math.trunc(i.hi);if(0>u)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,s.append(h),i=i.subtract(A.valueOf(u)).multiply(A.TEN),c&&i.selfAdd(A.TEN);var f=!0,d=A.magnitude(i.hi);if(0>d&&Math.abs(d)>=a-l&&(f=!1),!f)break}return e[0]=n,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof A){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof A){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null,c=null,h=null;return l=this.hi/i,u=A.SPLIT*l,r=u-l,h=A.SPLIT*i,r=u-r,o=l-r,s=h-i,c=l*i,s=h-s,a=i-s,h=r*s-c+r*a+o*s+o*a,u=(this.hi-c-h+this.lo-l*n)/i,h=l+u,this.hi=h,this.lo=l-h+u,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof A){var t=arguments[0],e=null,i=null,n=null,o=null,s=null,a=null,l=null,u=null;s=this.hi/t.hi,a=A.SPLIT*s,e=a-s,u=A.SPLIT*t.hi,e=a-e,i=s-e,n=u-t.hi,l=s*t.hi,n=u-n,o=t.hi-n,u=e*n-l+e*o+i*n+i*o,a=(this.hi-l-u+this.lo-s*t.lo)/t.hi,u=s+a;var c=u,h=s-u+a;return new A(c,h)}if("number"==typeof arguments[0]){var f=arguments[0];return r.isNaN(f)?A.createNaN():A.copy(this).selfDivide(f,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return A.valueOf(1);var e=new A(this),i=A.valueOf(1),n=Math.abs(t);if(n>1)for(;n>0;)n%2===1&&i.selfMultiply(e),n/=2,n>0&&(e=e.sqr());else i=e;return 0>t?i.reciprocal():i},ceil:function(){if(this.isNaN())return A.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new A(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()},setValue:function(){if(arguments[0]instanceof A){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return A.valueOf(0);if(this.isNegative())return A.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,i=A.valueOf(e),n=this.subtract(i.sqr()),r=n.hi*(.5*t);return i.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],i=null,n=null,r=null,o=null,s=null,a=null;return r=this.hi+e,s=r-this.hi,o=r-s,o=e-s+(this.hi-o),a=o+this.lo,i=r+a,n=a+(r-i),this.hi=i+n,this.lo=n+(i-this.hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],i=null,n=null,c=null,h=null,r=null,o=null,s=null,a=null;r=this.hi+l,c=this.lo+u,s=r-this.hi,a=c-this.lo,o=r-s,h=c-a,o=l-s+(this.hi-o),h=u-a+(this.lo-h),s=o+c,i=r+s,n=s+(r-i),s=h+n;var f=i+s,d=s+(i-f);return this.hi=f,this.lo=d,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof A){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null;l=A.SPLIT*this.hi,r=l-this.hi,u=A.SPLIT*i,r=l-r,o=this.hi-r,s=u-i,l=this.hi*i,s=u-s,a=i-s,u=r*s-l+r*a+o*s+o*a+(this.hi*n+this.lo*i);var c=l+u;r=l-c;var h=u+r;return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return A.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new A(t,e)},negate:function(){return this.isNaN()?this:new A((-this.hi),(-this.lo))},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}finally{}},multiply:function(){if(arguments[0]instanceof A){var t=arguments[0];return t.isNaN()?A.createNaN():A.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?A.createNaN():A.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=A.magnitude(this.hi);return t>=-3&&20>=t?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!0,e),n=e[0]+1,r=i;if("."===i.charAt(0))r="0"+i;else if(0>n)r="0."+A.stringOfChar("0",-n)+i;else if(-1===i.indexOf(".")){var o=n-i.length,s=A.stringOfChar("0",o);r=i+s+".0"}return this.isNegative()?"-"+r:r},reciprocal:function(){var t=null,e=null,i=null,n=null,r=null,o=null,s=null,a=null;r=1/this.hi,o=A.SPLIT*r,t=o-r,a=A.SPLIT*this.hi,t=o-t,e=r-t,i=a-this.hi,s=r*this.hi,i=a-i,n=this.hi-i,a=t*i-s+t*n+e*i+e*n,o=(1-s-a-r*this.lo)/this.hi;var l=r+o,u=r-l+o;return new A(l,u)},toSciNotation:function(){if(this.isZero())return A.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!1,e),n=A.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var r="";i.length>1&&(r=i.substring(1));var o=i.charAt(0)+"."+r;return this.isNegative()?"-"+o+n:o+n},abs:function(){return this.isNaN()?A.NaN:this.isNegative()?this.negate():new A(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof A){var t=arguments[0];return A.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return A.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof A){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this.hi=i,this.lo=n}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?A.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[l,o,s]},getClass:function(){return A}}),A.sqr=function(t){return A.valueOf(t).selfMultiply(t)},A.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return A.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new A(e)}},A.sqrt=function(t){return A.valueOf(t).sqrt()},A.parse=function(t){for(var e=0,i=t.length;O.isWhitespace(t.charAt(e));)e++;var n=!1;if(i>e){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(n=!0))}for(var o=new A,s=0,a=0,l=0;!(e>=i);){var u=t.charAt(e);if(e++,O.isDigit(u)){var c=u-"0";o.selfMultiply(A.TEN),o.selfAdd(c),s++}else{if("."!==u){if("e"===u||"E"===u){var h=t.substring(e);try{l=L.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}finally{}break}throw new NumberFormatException("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=s}}var f=o,d=s-a-l;if(0===d)f=o;else if(d>0){var p=A.TEN.pow(d);f=o.divide(p)}else if(0>d){var p=A.TEN.pow(-d);f=o.multiply(p)}return n?f.negate():f},A.createNaN=function(){return new A(r.NaN,r.NaN)},A.copy=function(t){return new A(t)},A.magnitude=function(t){var e=Math.abs(t),i=Math.log(e)/Math.log(10),n=Math.trunc(Math.floor(i)),r=Math.pow(10,n);return e>=10*r&&(n+=1),n},A.stringOfChar=function(t,e){for(var i=new P,n=0;e>n;n++)i.append(t);return i.toString()},A.PI=new A(3.141592653589793,1.2246467991473532e-16),A.TWO_PI=new A(6.283185307179586,2.4492935982947064e-16),A.PI_2=new A(1.5707963267948966,6.123233995736766e-17),A.E=new A(2.718281828459045,1.4456468917292502e-16),A.NaN=new A(r.NaN,r.NaN),A.EPS=1.23259516440783e-32,A.SPLIT=134217729,A.MAX_PRINT_DIGITS=32,A.TEN=A.valueOf(10),A.ONE=A.valueOf(1),A.SCI_NOT_EXPONENT_CHAR="E",A.SCI_NOT_ZERO="0.0E0",e(M.prototype,{interfaces_:function(){return[]},getClass:function(){return M}}),M.orientationIndex=function(t,e,i){var n=M.orientationIndexFilter(t,e,i);if(1>=n)return n;var r=A.valueOf(e.x).selfAdd(-t.x),o=A.valueOf(e.y).selfAdd(-t.y),s=A.valueOf(i.x).selfAdd(-e.x),a=A.valueOf(i.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},M.signOfDet2x2=function(t,e,i,n){var r=t.multiply(n).selfSubtract(e.multiply(i));return r.signum()},M.intersection=function(t,e,i,n){var r=A.valueOf(n.y).selfSubtract(i.y).selfMultiply(A.valueOf(e.x).selfSubtract(t.x)),o=A.valueOf(n.x).selfSubtract(i.x).selfMultiply(A.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=A.valueOf(n.x).selfSubtract(i.x).selfMultiply(A.valueOf(t.y).selfSubtract(i.y)),l=A.valueOf(n.y).selfSubtract(i.y).selfMultiply(A.valueOf(t.x).selfSubtract(i.x)),u=a.subtract(l),c=u.selfDivide(s).doubleValue(),h=A.valueOf(t.x).selfAdd(A.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),f=A.valueOf(e.x).selfSubtract(t.x).selfMultiply(A.valueOf(t.y).selfSubtract(i.y)),p=A.valueOf(e.y).selfSubtract(t.y).selfMultiply(A.valueOf(t.x).selfSubtract(i.x)),g=f.subtract(p),m=g.selfDivide(s).doubleValue(),v=A.valueOf(i.y).selfAdd(A.valueOf(n.y).selfSubtract(i.y).selfMultiply(m)).doubleValue();return new d(h,v)},M.orientationIndexFilter=function(t,e,i){var n=null,r=(t.x-i.x)*(e.y-i.y),o=(t.y-i.y)*(e.x-i.x),s=r-o;if(r>0){if(0>=o)return M.signum(s);n=r+o}else{if(!(0>r))return M.signum(s);if(o>=0)return M.signum(s);n=-r-o}var a=M.DP_SAFE_EPSILON*n;return s>=a||-s>=a?M.signum(s):2},M.signum=function(t){return t>0?1:0>t?-1:0},M.DP_SAFE_EPSILON=1e-15,e(R.prototype,{setOrdinate:function(t,e,i){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[s]},getClass:function(){return R}}),R.X=0,R.Y=1,R.Z=2,R.M=3,N.arraycopy=function(t,e,i,n,r){for(var o=0,s=e;e+r>s;s++)i[n+o]=t[s],o++},N.getProperty=function(t){return{"line.separator":"\n"}[t]},e(j.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new S;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new S;return t},getCoordinate:function(){var t=new d;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return j}}),j.intersection=function(t,e,i,n){var o=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,l=i.y-n.y,u=n.x-i.x,c=i.x*n.y-n.x*i.y,h=s*c-u*a,f=l*a-o*c,p=o*u-l*s,g=h/p,m=f/p;if(r.isNaN(g)||r.isInfinite(g)||r.isNaN(m)||r.isInfinite(m))throw new S;return new d(g,m)},e(D.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:I(arguments[0],R)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return D}}),e(F.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return F}}),e(z.prototype,{isGeometryCollection:function(){return this.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof z){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof z))return!1;var i=e;return this.equalsExact(i)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(z.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var i=arguments[0],n=arguments[1],e=i;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(i,n)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION)throw new n("This method does not support GeometryCollection arguments")},equal:function(t,e,i){return 0===i?t.equals(e):t.distance(e)<=i},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new C(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var i=t.iterator(),n=e.iterator();i.hasNext()&&n.hasNext();){var r=i.next(),o=n.next(),s=r.compareTo(o);if(0!==s)return s}return i.hasNext()?1:n.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===z.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===z.SORTINDEX_MULTIPOINT||this.getSortIndex()===z.SORTINDEX_MULTILINESTRING||this.getSortIndex()===z.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[s,o,l]},getClass:function(){return z}}),z.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},z.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},z.serialVersionUID=0x799ea46522854c00,z.SORTINDEX_POINT=0,z.SORTINDEX_MULTIPOINT=1,z.SORTINDEX_LINESTRING=2,z.SORTINDEX_LINEARRING=3,z.SORTINDEX_MULTILINESTRING=4,z.SORTINDEX_POLYGON=5,z.SORTINDEX_MULTIPOLYGON=6,z.SORTINDEX_GEOMETRYCOLLECTION=7,z.geometryChangedFilter={interfaces_:function(){return[F]},filter:function(t){t.geometryChangedAction()}},e(B.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return B}}),e(V.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return V}}),e(q.prototype,{isInBoundary:function(t){return t%2===1},interfaces_:function(){return[V]},getClass:function(){return q}}),e(U.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[V]},getClass:function(){return U}}),e(G.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[V]},getClass:function(){return G}}),e(H.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[V]},getClass:function(){return H}}),V.Mod2BoundaryNodeRule=q,V.EndPointBoundaryNodeRule=U,V.MultiValentEndPointBoundaryNodeRule=G,V.MonoValentEndPointBoundaryNodeRule=H,V.MOD2_BOUNDARY_RULE=new q,V.ENDPOINT_BOUNDARY_RULE=new U,V.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new G,V.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new H,V.OGC_SFS_BOUNDARY_RULE=V.MOD2_BOUNDARY_RULE,e(X.prototype,{interfaces_:function(){return[]},getClass:function(){return X}}),X.isRing=function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])},X.ptNotInList=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(X.indexOf(n,e)<0)return n}return null},X.scroll=function(t,e){var i=X.indexOf(e,t);if(0>i)return null;var n=new Array(t.length).fill(null);N.arraycopy(t,i,n,0,t.length-i),N.arraycopy(t,0,n,t.length-i,i),N.arraycopy(n,0,t,0,t.length)},X.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!t[i].equals(e[i]))return!1;return!0}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];if(n===r)return!0;if(null===n||null===r)return!1;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(0!==o.compare(n[i],r[i]))return!1;return!0}},X.intersection=function(t,e){for(var i=new w,n=0;n<t.length;n++)e.intersects(t[n])&&i.add(t[n],!0);return i.toCoordinateArray()},X.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},X.removeRepeatedPoints=function(t){if(!X.hasRepeatedPoints(t))return t;var e=new w(t,(!1));return e.toCoordinateArray()},X.reverse=function(t){for(var e=t.length-1,i=Math.trunc(e/2),n=0;i>=n;n++){var r=t[n];t[n]=t[e-n],t[e-n]=r}},X.removeNull=function(t){for(var e=0,i=0;i<t.length;i++)null!==t[i]&&e++;var n=new Array(e).fill(null);if(0===e)return n;for(var r=0,i=0;i<t.length;i++)null!==t[i]&&(n[r++]=t[i]);return n},X.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),i=0;i<t.length;i++)e[i]=new d(t[i]);return e}if(5===arguments.length)for(var n=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],i=0;a>i;i++)o[s+i]=new d(n[r+i])},X.isEqualReversed=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=e[t.length-i-1];
if(0!==n.compareTo(r))return!1}return!0},X.envelope=function(t){for(var e=new C,i=0;i<t.length;i++)e.expandToInclude(t[i]);return e},X.toCoordinateArray=function(t){return t.toArray(X.coordArrayType)},X.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},X.indexOf=function(t,e){for(var i=0;i<e.length;i++)if(t.equals(e[i]))return i;return-1},X.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var i=t.length-1-e,n=t[e].compareTo(t[i]);if(0!==n)return n}return 1},X.compare=function(t,e){for(var i=0;i<t.length&&i<e.length;){var n=t[i].compareTo(e[i]);if(0!==n)return n;i++}return i<e.length?-1:i<t.length?1:0},X.minCoordinate=function(t){for(var e=null,i=0;i<t.length;i++)(null===e||e.compareTo(t[i])>0)&&(e=t[i]);return e},X.extract=function(t,e,i){e=k.clamp(e,0,t.length),i=k.clamp(i,-1,t.length);var n=i-e+1;0>i&&(n=0),e>=t.length&&(n=0),e>i&&(n=0);var r=new Array(n).fill(null);if(0===n)return r;for(var o=0,s=e;i>=s;s++)r[o++]=t[s];return r},e(W.prototype,{compare:function(t,e){var i=t,n=e;return X.compare(i,n)},interfaces_:function(){return[a]},getClass:function(){return W}}),e(Y.prototype,{compare:function(t,e){var i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;var r=X.compare(i,n),o=X.isEqualReversed(i,n);return o?0:r},OLDcompare:function(t,e){var i=t,n=e;if(i.length<n.length)return-1;if(i.length>n.length)return 1;if(0===i.length)return 0;for(var r=X.increasingDirection(i),o=X.increasingDirection(n),s=r>0?0:i.length-1,a=o>0?0:i.length-1,l=0;l<i.length;l++){var u=i[s].compareTo(n[a]);if(0!==u)return u;s+=r,a+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return Y}}),X.ForwardComparator=W,X.BidirectionalComparator=Y,X.coordArrayType=new Array(0).fill(null),$.prototype.get=function(){},$.prototype.put=function(){},$.prototype.size=function(){},$.prototype.values=function(){},$.prototype.entrySet=function(){},Z.prototype=new $,K.prototype=new m,K.prototype.contains=function(){},J.prototype=new K,J.prototype.contains=function(t){for(var e=0,i=this.array_.length;i>e;e++){var n=this.array_[e];if(n===t)return!0}return!1},J.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},J.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},J.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},J.prototype.size=function(){return this.array_.length},J.prototype.isEmpty=function(){return 0===this.array_.length},J.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;i>e;e++)t.push(this.array_[e]);return t},J.prototype.iterator=function(){return new Qo(this)};var Qo=function(t){this.hashSet_=t,this.position_=0};Qo.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new _;return this.hashSet_.array_[this.position_++]},Qo.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Qo.prototype.remove=function(){throw new b};var ts=0,es=1;rt.prototype=new Z,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(0>i)e=e.left;else{if(!(i>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ts,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i,n,r=this.root_;do if(i=r,n=t.compareTo(r.key),0>n)r=r.left;else{if(!(n>0)){var o=r.value;return r.value=e,o}r=r.right}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:i,color:ts,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>n?i.left=s:i.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=es;null!=t&&t!=this.root_&&t.parent.color==es;)if(tt(t)==it(tt(tt(t)))){var e=nt(tt(tt(t)));Q(e)==es?(et(tt(t),ts),et(e,ts),et(tt(tt(t)),es),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),ts),et(tt(tt(t)),es),this.rotateRight(tt(tt(t))))}else{var e=it(tt(tt(t)));Q(e)==es?(et(tt(t),ts),et(e,ts),et(tt(tt(t)),es),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),ts),et(tt(tt(t)),es),this.rotateLeft(tt(tt(t))))}this.root_.color=ts},rt.prototype.values=function(){var t=new x,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new J,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,i=t;null!==e&&i===e.right;)i=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),st.prototype=new K,at.prototype=new st,at.prototype.contains=function(t){for(var e=0,i=this.array_.length;i>e;e++){var n=this.array_[e];if(0===n.compareTo(t))return!0}return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,i=this.array_.length;i>e;e++){var n=this.array_[e];if(1===n.compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new b},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;i>e;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new is(this)};var is=function(t){this.treeSet_=t,this.position_=0};is.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new _;return this.treeSet_.array_[this.position_++]},is.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},is.prototype.remove=function(){throw new b},lt.sort=function(){var t,e,i,n,r=arguments[0];if(1===arguments.length)return n=function(t,e){return t.compareTo(e)},void r.sort(n);if(2===arguments.length)i=arguments[1],n=function(t,e){return i.compare(t,e)},r.sort(n);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),i=arguments[3],n=function(t,e){return i.compare(t,e)},e.sort(n),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},lt.asList=function(t){for(var e=new x,i=0,n=t.length;n>i;i++)e.add(t[i]);return e},e(ut.prototype,{interfaces_:function(){return[]},getClass:function(){return ut}}),ut.toDimensionSymbol=function(t){switch(t){case ut.FALSE:return ut.SYM_FALSE;case ut.TRUE:return ut.SYM_TRUE;case ut.DONTCARE:return ut.SYM_DONTCARE;case ut.P:return ut.SYM_P;case ut.L:return ut.SYM_L;case ut.A:return ut.SYM_A}throw new n("Unknown dimension value: "+t)},ut.toDimensionValue=function(t){switch(O.toUpperCase(t)){case ut.SYM_FALSE:return ut.FALSE;case ut.SYM_TRUE:return ut.TRUE;case ut.SYM_DONTCARE:return ut.DONTCARE;case ut.SYM_P:return ut.P;case ut.SYM_L:return ut.L;case ut.SYM_A:return ut.A}throw new n("Unknown dimension symbol: "+t)},ut.P=0,ut.L=1,ut.A=2,ut.FALSE=-1,ut.TRUE=-2,ut.DONTCARE=-3,ut.SYM_FALSE="F",ut.SYM_TRUE="T",ut.SYM_DONTCARE="*",ut.SYM_P="0",ut.SYM_L="1",ut.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),c(ft,z),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new C,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return z.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=0;i<this.geometries.length;i++)for(var n=this.geometries[i].getCoordinates(),r=0;r<n.length;r++)e++,t[e]=n[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t;if(this.geometries.length!==i.geometries.length)return!1;for(var n=0;n<this.geometries.length;n++)if(!this.geometries[n].equalsExact(i.geometries[n],e))return!1;return!0}return z.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();lt.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=ut.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),i=0;i<this.geometries.length;i++)e[i]=this.geometries[i].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(lt.asList(this.geometries)),i=new at(lt.asList(t.geometries));return this.compare(e,i)}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],o=n,s=this.getNumGeometries(),a=o.getNumGeometries(),l=0;s>l&&a>l;){var u=this.getGeometryN(l),c=o.getGeometryN(l),h=u.compareToSameClass(c,r);if(0!==h)return h;l++}return s>l?1:a>l?-1:0}},apply:function(){if(I(arguments[0],B))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(I(arguments[0],ht)){var i=arguments[0];if(0===this.geometries.length)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(i),!i.isDone());e++);i.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var n=arguments[0];n.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(n)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=z.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,c(dt,ft),e(dt.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),i=0;i<this.geometries.length;i++)e[t-1-i]=this.geometries[i].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new pt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new dt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return dt}}),dt.serialVersionUID=0x7155d2ab4afa8000,e(pt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof Et?this.boundaryLineString(this.geom):this.geom instanceof dt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var e=this.bnRule.isInBoundary(2);return e?t.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new x;this.endpointMap=new rt;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);0!==n.getNumPoints()&&(this.addEndpoint(n.getCoordinateN(0)),this.addEndpoint(n.getCoordinateN(n.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue(),a=s.count;this.bnRule.isInBoundary(a)&&e.add(o.getKey())}return X.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return pt}}),pt.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new pt(t);return e.getBoundary()}if(2===arguments.length){var i=arguments[0],n=arguments[1],e=new pt(i,n);return e.getBoundary()}},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),wt.chars=function(t,e){for(var i=new Array(e).fill(null),n=0;e>n;n++)i[n]=t;return new String(i)},wt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new _t,i=new mt(e);return t.printStackTrace(i),e.toString()}if(2===arguments.length){for(var n=arguments[0],r=arguments[1],o="",s=new vt(wt.getStackTrace(n)),a=new xt(s),l=0;r>l;l++)try{o+=a.readLine()+wt.NEWLINE}catch(t){if(!(t instanceof bt))throw t;f.shouldNeverReachHere()}finally{}return o}},wt.split=function(t,e){for(var i=e.length,n=new x,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);n.add(s),r=r.substring(o+i),o=r.indexOf(e)}r.length>0&&n.add(r);for(var a=new Array(n.size()).fill(null),l=0;l<a.length;l++)a[l]=n.get(l);return a},wt.toString=function(){if(1===arguments.length){var t=arguments[0];return wt.SIMPLE_ORDINATE_FORMAT.format(t)}},wt.spaces=function(t){return wt.chars(" ",t)},wt.NEWLINE=N.getProperty("line.separator"),wt.SIMPLE_ORDINATE_FORMAT=new yt("0.#"),e(Ct.prototype,{interfaces_:function(){return[]},getClass:function(){return Ct}}),Ct.copyCoord=function(t,e,i,n){for(var r=Math.min(t.getDimension(),i.getDimension()),o=0;r>o;o++)i.setOrdinate(n,o,t.getOrdinate(e,o))},Ct.isRing=function(t){var e=t.size();return 0===e||!(3>=e)&&(t.getOrdinate(0,R.X)===t.getOrdinate(e-1,R.X)&&t.getOrdinate(0,R.Y)===t.getOrdinate(e-1,R.Y))},Ct.isEqual=function(t,e){var i=t.size(),n=e.size();if(i!==n)return!1;for(var o=Math.min(t.getDimension(),e.getDimension()),s=0;i>s;s++)for(var a=0;o>a;a++){var l=t.getOrdinate(s,a),u=e.getOrdinate(s,a);if(!(t.getOrdinate(s,a)===e.getOrdinate(s,a)||r.isNaN(l)&&r.isNaN(u)))return!1}return!0},Ct.extend=function(t,e,i){var n=t.create(i,e.getDimension()),r=e.size();if(Ct.copy(e,0,n,0,r),r>0)for(var o=r;i>o;o++)Ct.copy(e,r-1,n,o,1);return n},Ct.reverse=function(t){for(var e=t.size()-1,i=Math.trunc(e/2),n=0;i>=n;n++)Ct.swap(t,n,e-n)},Ct.swap=function(t,e,i){if(e===i)return null;for(var n=0;n<t.getDimension();n++){var r=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(i,n)),t.setOrdinate(i,n,r)}},Ct.copy=function(t,e,i,n,r){for(var o=0;r>o;o++)Ct.copyCoord(t,e+o,i,n+o)},Ct.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var i=t.getDimension(),n=new P;n.append("(");for(var r=0;e>r;r++){r>0&&n.append(" ");for(var o=0;i>o;o++)o>0&&n.append(","),n.append(wt.toString(t.getOrdinate(r,o)))}return n.append(")"),n.toString()}},Ct.ensureValidRing=function(t,e){var i=e.size();if(0===i)return e;if(3>=i)return Ct.createClosedRing(t,e,4);var n=e.getOrdinate(0,R.X)===e.getOrdinate(i-1,R.X)&&e.getOrdinate(0,R.Y)===e.getOrdinate(i-1,R.Y);return n?e:Ct.createClosedRing(t,e,i+1)},Ct.createClosedRing=function(t,e,i){var n=t.create(i,e.getDimension()),r=e.size();Ct.copy(e,0,n,0,r);for(var o=r;i>o;o++)Ct.copy(e,0,n,o,1);return n},c(Et,z),e(Et.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new C:this.points.expandEnvelope(new C)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return z.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t;if(this.points.size()!==i.points.size())return!1;for(var n=0;n<this.points.size();n++)if(!this.equal(this.points.getCoordinate(n),i.points.getCoordinate(n),e))return!1;return!0}return z.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&Ct.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?ut.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return ce.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();Ct.reverse(t);var e=this.getFactory().createLineString(t);return e},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,i=0,n=0;i<this.points.size()&&n<e.points.size();){var r=this.points.getCoordinate(i).compareTo(e.points.getCoordinate(n));if(0!==r)return r;i++,n++}return i<this.points.size()?1:n<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],e=o;return s.compare(this.points,e.points)}},apply:function(){if(I(arguments[0],B))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(I(arguments[0],ht)){var i=arguments[0];if(0===this.points.size())return null;for(var e=0;e<this.points.size()&&(i.filter(this.points,e),!i.isDone());e++);i.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new pt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof Et},clone:function(){var t=z.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new Et(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new n("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return Et}}),Et.serialVersionUID=0x2b2b51ba435c8e00,e(St.prototype,{interfaces_:function(){return[]},getClass:function(){return St}}),c(Tt,z),e(Tt.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new C;var t=new C;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return z.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return z.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var i=arguments[0],n=arguments[1],e=i;return n.compare(this.coordinates,e.coordinates)}},apply:function(){if(I(arguments[0],B)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(I(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(I(arguments[0],F)){var n=arguments[0];n.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=z.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new Tt(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[St]},getClass:function(){return Tt}}),Tt.serialVersionUID=0x44077bad161cbc00,e(It.prototype,{interfaces_:function(){return[]},getClass:function(){return It}}),c(kt,z),e(kt.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return z.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=this.shell.getCoordinates(),n=0;n<i.length;n++)e++,t[e]=i[n];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),s=0;s<o.length;s++)e++,t[e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(ce.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(ce.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),i=0;5>i;i++){var n=t.getX(i);if(n!==e.getMinX()&&n!==e.getMaxX())return!1;var r=t.getY(i);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),i=1;4>=i;i++){var n=t.getX(i),r=t.getY(i),a=n!==o,l=r!==s;if(a===l)return!1;o=n,s=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t,n=this.shell,r=i.shell;if(!n.equalsExact(r,e))return!1;if(this.holes.length!==i.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(i.holes[o],e))return!1;return!0}return z.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);lt.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(e.isEmpty())return null;var n=new Array(e.getCoordinates().length-1).fill(null);N.arraycopy(e.getCoordinates(),0,n,0,n.length);var r=X.minCoordinate(e.getCoordinates());X.scroll(n,r),N.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],ce.isCCW(e.getCoordinates())===i&&X.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,i=t.shell;return e.compareToSameClass(i)}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=n,e=this.shell,i=o.shell,s=e.compareToSameClass(i,r);if(0!==s)return s;for(var a=this.getNumInteriorRing(),l=o.getNumInteriorRing(),u=0;a>u&&l>u;){var c=this.getInteriorRingN(u),h=o.getInteriorRingN(u),f=c.compareToSameClass(h,r);if(0!==f)return f;u++}return a>u?1:l>u?-1:0}},apply:function(){if(I(arguments[0],B)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(I(arguments[0],ht)){var i=arguments[0];if(this.shell.apply(i),!i.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(i),!i.isDone());e++);i.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this),this.shell.apply(r);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=z.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),i=0;i<e.length;i++)e[i]=this.holes[i].copy();return new kt(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[It]},getClass:function(){return kt}}),kt.serialVersionUID=-0x307ffefd8dc97200,c(Pt,ft),e(Pt.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return ft.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return ut.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Pt(t,this.factory)},interfaces_:function(){return[St]},getClass:function(){return Pt}}),Pt.serialVersionUID=-0x6fb1ed4162e0fc00,c(Lt,Et),e(Lt.prototype,{getSortIndex:function(){return z.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return ut.FALSE},isClosed:function(){return!!this.isEmpty()||Et.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();Ct.reverse(t);var e=this.getFactory().createLinearRing(t);return e},validateConstruction:function(){if(!this.isEmpty()&&!Et.prototype.isClosed.call(this))throw new n("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Lt.MINIMUM_VALID_SIZE)throw new n("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Lt(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Lt}}),Lt.MINIMUM_VALID_SIZE=4,Lt.serialVersionUID=-0x3b229e262367a600,c(Ot,ft),e(Ot.prototype,{getSortIndex:function(){return z.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&ft.prototype.equalsExact.call(this,t,e)}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),i=0;i<this.geometries.length;i++)e[i]=this.geometries[i].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new x,e=0;e<this.geometries.length;e++)for(var i=this.geometries[e],n=i.getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Ot(t,this.factory)},interfaces_:function(){return[It]},getClass:function(){return Ot}}),Ot.serialVersionUID=-0x7a5aa1369171980,e(At.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var i=this.editInternal(t,e);return this.isUserDataCopied&&i.setUserData(t.getUserData()),
i},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof kt?this.editPolygon(t,e):t instanceof Tt?e.edit(t,this.factory):t instanceof Et?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var i=e.edit(t,this.factory),n=new x,r=0;r<i.getNumGeometries();r++){var o=this.edit(i.getGeometryN(r),e);null===o||o.isEmpty()||n.add(o)}return i.getClass()===Pt?this.factory.createMultiPoint(n.toArray([])):i.getClass()===dt?this.factory.createMultiLineString(n.toArray([])):i.getClass()===Ot?this.factory.createMultiPolygon(n.toArray([])):this.factory.createGeometryCollection(n.toArray([]))},editPolygon:function(t,e){var i=e.edit(t,this.factory);if(null===i&&(i=this.factory.createPolygon(null)),i.isEmpty())return i;var n=this.edit(i.getExteriorRing(),e);if(null===n||n.isEmpty())return this.factory.createPolygon();for(var r=new x,o=0;o<i.getNumInteriorRing();o++){var s=this.edit(i.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this.factory.createPolygon(n,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return At}}),At.GeometryEditorOperation=Mt,e(Rt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Mt]},getClass:function(){return Rt}}),e(Nt.prototype,{edit:function(t,e){if(t instanceof Lt)return e.createLinearRing(this.editCoordinates(t.getCoordinates(),t));if(t instanceof Et)return e.createLineString(this.editCoordinates(t.getCoordinates(),t));if(t instanceof Tt){var i=this.editCoordinates(t.getCoordinates(),t);return i.length>0?e.createPoint(i[0]):e.createPoint()}return t},interfaces_:function(){return[Mt]},getClass:function(){return Nt}}),e(jt.prototype,{edit:function(t,e){return t instanceof Lt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Et?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Tt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Mt]},getClass:function(){return jt}}),At.NoOpGeometryOperation=Rt,At.CoordinateOperation=Nt,At.CoordinateSequenceOperation=jt,e(Dt.prototype,{setOrdinate:function(t,e,i){switch(e){case R.X:this.coordinates[t].x=i;break;case R.Y:this.coordinates[t].y=i;break;case R.Z:this.coordinates[t].z=i;break;default:throw new n("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case R.X:return this.coordinates[t].x;case R.Y:return this.coordinates[t].y;case R.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],i=arguments[1];i.x=this.coordinates[e].x,i.y=this.coordinates[e].y,i.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new d(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new Dt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new Dt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new P(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[R,l]},getClass:function(){return Dt}}),Dt.serialVersionUID=-0xcb44a778db18e00,e(Ft.prototype,{readResolve:function(){return Ft.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Dt(t)}if(I(arguments[0],R)){var e=arguments[0];return new Dt(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return n>3&&(n=3),2>n?new Dt(i):new Dt(i,n)}},interfaces_:function(){return[D,l]},getClass:function(){return Ft}}),Ft.instance=function(){return Ft.instanceObject},Ft.serialVersionUID=-0x38e49fa6cf6f2e00,Ft.instanceObject=new Ft;var ns,rs=Object.defineProperty,os=Bt({"delete":qt,has:Ht,get:Ut,set:Xt,keys:Yt,values:$t,entries:Zt,forEach:Qt,clear:Wt}),ss="undefined"!=typeof Map&&Map.prototype.values?Map:os;te.prototype=new $,te.prototype.get=function(t){return this.map_.get(t)||null},te.prototype.put=function(t,e){return this.map_.set(t,e),e},te.prototype.values=function(){for(var t=new x,e=this.map_.values(),i=e.next();!i.done;)t.add(i.value),i=e.next();return t},te.prototype.entrySet=function(){var t=new J;return this.map_.entries().forEach(function(e){return t.add(e)}),t},te.prototype.size=function(){return this.map_.size()},e(ee.prototype,{equals:function(t){if(!(t instanceof ee))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,i=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new L(i).compareTo(new L(n))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===ee.FLOATING||this.modelType===ee.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===ee.FLOATING?t="Floating":this.modelType===ee.FLOATING_SINGLE?t="Floating-Single":this.modelType===ee.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(r.isNaN(t))return t;if(this.modelType===ee.FLOATING_SINGLE){var e=t;return e}return this.modelType===ee.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof d){var i=arguments[0];if(this.modelType===ee.FLOATING)return null;i.x=this.makePrecise(i.x),i.y=this.makePrecise(i.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===ee.FLOATING?t=16:this.modelType===ee.FLOATING_SINGLE?t=6:this.modelType===ee.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[l,o]},getClass:function(){return ee}}),ee.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(ie.prototype,{readResolve:function(){return ie.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[l]},getClass:function(){return ie}}),ie.serialVersionUID=-552860263173159e4,ie.nameToTypeMap=new te,ee.Type=ie,ee.serialVersionUID=0x6bee6404e9a25c00,ee.FIXED=new ie("FIXED"),ee.FLOATING=new ie("FLOATING"),ee.FLOATING_SINGLE=new ie("FLOATING SINGLE"),ee.maximumPreciseValue=9007199254740992,e(ne.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new d(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new d(t.getMinX(),t.getMinY()),new d(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new d(t.getMinX(),t.getMinY()),new d(t.getMinX(),t.getMaxY()),new d(t.getMaxX(),t.getMaxY()),new d(t.getMaxX(),t.getMinY()),new d(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],R)){var e=arguments[0];return new Et(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new dt(null,this);if(1===arguments.length){var t=arguments[0];return new dt(t,this)}},buildGeometry:function(t){for(var e=null,i=!1,n=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(i=!0),o.isGeometryCollectionOrDerived()&&(n=!0)}if(null===e)return this.createGeometryCollection();if(i||n)return this.createGeometryCollection(ne.toGeometryArray(t));var a=t.iterator().next(),l=t.size()>1;if(l){if(a instanceof kt)return this.createMultiPolygon(ne.toPolygonArray(t));if(a instanceof Et)return this.createMultiLineString(ne.toLineStringArray(t));if(a instanceof Tt)return this.createMultiPoint(ne.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof d){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(I(arguments[0],R)){var e=arguments[0];return new Tt(e,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new kt(null,null,this);if(1===arguments.length){if(I(arguments[0],R)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Lt){var i=arguments[0];return this.createPolygon(i,null)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return new kt(n,r,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){var t=arguments[0];return new ft(t,this)}},createGeometry:function(t){var e=new At(this);return e.edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],R)){var e=arguments[0];return new Lt(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Ot(null,this);if(1===arguments.length){var t=arguments[0];return new Ot(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new Pt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Pt(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(I(arguments[0],R)){var i=arguments[0];if(null===i)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(i.size()).fill(null),r=0;r<i.size();r++){var o=this.getCoordinateSequenceFactory().create(1,i.getDimension());Ct.copy(i,r,o,0,1),n[r]=this.createPoint(o)}return this.createMultiPoint(n)}}},interfaces_:function(){return[l]},getClass:function(){return ne}}),ne.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.getDefaultCoordinateSequenceFactory=function(){return Ft.instance()},ne.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ne.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ne.serialVersionUID=-0x5ea75f2051eeb400;var as={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(re.prototype,{read:function(t){var e,i,n;t=t.replace(/[\n\r]/g," ");var r=as.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=as.emptyTypeStr.exec(t),r[2]=void 0),r&&(i=r[1].toLowerCase(),n=r[2],us[i]&&(e=us[i].apply(this,[n]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!ls[e])return null;var i,n=e.toUpperCase();return i=t.isEmpty()?n+" EMPTY":n+"("+ls[e].apply(this,[t])+")"}});var ls={coordinate:function(t){return t.x+" "+t.y},point:function(t){return ls.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],i=0,n=t.geometries.length;n>i;++i)e.push("("+ls.point.apply(this,[t.geometries[i]])+")");return e.join(",")},linestring:function(t){for(var e=[],i=0,n=t.points.coordinates.length;n>i;++i)e.push(ls.coordinate.apply(this,[t.points.coordinates[i]]));return e.join(",")},linearring:function(t){for(var e=[],i=0,n=t.points.coordinates.length;n>i;++i)e.push(ls.coordinate.apply(this,[t.points.coordinates[i]]));return e.join(",")},multilinestring:function(t){for(var e=[],i=0,n=t.geometries.length;n>i;++i)e.push("("+ls.linestring.apply(this,[t.geometries[i]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+ls.linestring.apply(this,[t.shell])+")");for(var i=0,n=t.holes.length;n>i;++i)e.push("("+ls.linestring.apply(this,[t.holes[i]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],i=0,n=t.geometries.length;n>i;++i)e.push("("+ls.polygon.apply(this,[t.geometries[i]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],i=0,n=t.geometries.length;n>i;++i)e.push(this.extractGeometry(t.geometries[i]));return e.join(",")}},us={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(as.spaces);return this.geometryFactory.createPoint(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;o>r;++r)e=i[r].replace(as.trimParens,"$1"),n.push(us.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;o>r;++r)e=i[r].trim().split(as.spaces),n.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;o>r;++r)e=i[r].trim().split(as.spaces),n.push(new d(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,i=t.trim().split(as.parenComma),n=[],r=0,o=i.length;o>r;++r)e=i[r].replace(as.trimParens,"$1"),n.push(us.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(n)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,i,n,r,o=t.trim().split(as.parenComma),s=[],a=0,l=o.length;l>a;++a)e=o[a].replace(as.trimParens,"$1"),i=us.linestring.apply(this,[e]),n=this.geometryFactory.createLinearRing(i.points),0===a?r=n:s.push(n);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,i=t.trim().split(as.doubleParenComma),n=[],r=0,o=i.length;o>r;++r)e=i[r].replace(as.trimParens,"$1"),n.push(us.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),i=[],n=0,r=e.length;r>n;++n)i.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(i)}};e(oe.prototype,{write:function(t){return this.parser.write(t)}}),e(oe,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(se.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new P;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,i,n){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=i,this.inputLines[1][1]=n,this.result=this.computeIntersect(t,e,i,n)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),i=this.getEdgeDistance(t,1);e>i?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==se.NO_INTERSECTION},getEdgeDistance:function(t,e){var i=se.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1]);return i},isCollinear:function(){return this.result===se.COLLINEAR_INTERSECTION},toString:function(){return oe.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+oe.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return se}}),se.computeEdgeDistance=function(t,e,i){var n=Math.abs(i.x-e.x),r=Math.abs(i.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(i))o=n>r?n:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);o=n>r?s:a,0!==o||t.equals(e)||(o=Math.max(s,a))}return f.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},se.nonRobustComputeEdgeDistance=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);return f.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},se.DONT_INTERSECT=0,se.DO_INTERSECT=1,se.COLLINEAR=2,se.NO_INTERSECTION=0,se.POINT_INTERSECTION=1,se.COLLINEAR_INTERSECTION=2,c(ae,se),e(ae.prototype,{isInSegmentEnvelopes:function(t){var e=new C(this.inputLines[0][0],this.inputLines[0][1]),i=new C(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&i.contains(t)},computeIntersection:function(){if(3!==arguments.length)return se.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],i=arguments[2];return this._isProper=!1,C.intersects(e,i,t)&&0===ce.orientationIndex(e,i,t)&&0===ce.orientationIndex(i,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(i))&&(this._isProper=!1),this.result=se.POINT_INTERSECTION,null):void(this.result=se.NO_INTERSECTION)},normalizeToMinimum:function(t,e,i,n,r){r.x=this.smallestInAbsValue(t.x,e.x,i.x,n.x),r.y=this.smallestInAbsValue(t.y,e.y,i.y,n.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},safeHCoordinateIntersection:function(t,e,i,n){var r=null;try{r=j.intersection(t,e,i,n)}catch(o){if(!(o instanceof S))throw o;r=ae.nearestEndpoint(t,e,i,n)}finally{}return r},intersection:function(t,e,i,n){var r=this.intersectionWithNormalization(t,e,i,n);return this.isInSegmentEnvelopes(r)||(r=new d(ae.nearestEndpoint(t,e,i,n))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,i,n){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(i)<o&&(r=i,o=Math.abs(i)),Math.abs(n)<o&&(r=n),r},checkDD:function(t,e,i,n,r){var o=M.intersection(t,e,i,n),s=this.isInSegmentEnvelopes(o);N.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&N.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,i,n){var r=new d(t),o=new d(e),s=new d(i),a=new d(n),l=new d;this.normalizeToEnvCentre(r,o,s,a,l);var u=this.safeHCoordinateIntersection(r,o,s,a);return u.x+=l.x,u.y+=l.y,u},computeCollinearIntersection:function(t,e,i,n){var r=C.intersects(t,e,i),o=C.intersects(t,e,n),s=C.intersects(i,n,t),a=C.intersects(i,n,e);return r&&o?(this.intPt[0]=i,this.intPt[1]=n,se.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=t,this.intPt[1]=e,se.COLLINEAR_INTERSECTION):r&&s?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||o||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):r&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||o||s?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):o&&s?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||r||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):o&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||r||s?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):se.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,i,n,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=i.x<n.x?i.x:n.x,c=i.y<n.y?i.y:n.y,h=i.x>n.x?i.x:n.x,f=i.y>n.y?i.y:n.y,d=o>u?o:u,p=h>a?a:h,g=s>c?s:c,m=f>l?l:f,v=(d+p)/2,y=(g+m)/2;r.x=v,r.y=y,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},computeIntersect:function(t,e,i,n){if(this._isProper=!1,!C.intersects(t,e,i,n))return se.NO_INTERSECTION;var r=ce.orientationIndex(t,e,i),o=ce.orientationIndex(t,e,n);if(r>0&&o>0||0>r&&0>o)return se.NO_INTERSECTION;var s=ce.orientationIndex(i,n,t),a=ce.orientationIndex(i,n,e);if(s>0&&a>0||0>s&&0>a)return se.NO_INTERSECTION;var l=0===r&&0===o&&0===s&&0===a;return l?this.computeCollinearIntersection(t,e,i,n):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(i)||t.equals2D(n)?this.intPt[0]=t:e.equals2D(i)||e.equals2D(n)?this.intPt[0]=e:0===r?this.intPt[0]=new d(i):0===o?this.intPt[0]=new d(n):0===s?this.intPt[0]=new d(t):0===a&&(this.intPt[0]=new d(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,i,n)),se.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.nearestEndpoint=function(t,e,i,n){var r=t,o=ce.distancePointLine(t,i,n),s=ce.distancePointLine(e,i,n);return o>s&&(o=s,r=e),s=ce.distancePointLine(i,t,e),o>s&&(o=s,r=i),s=ce.distancePointLine(n,t,e),o>s&&(o=s,r=n),r},e(le.prototype,{interfaces_:function(){return[]},getClass:function(){return le}}),le.orientationIndex=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=i.x-e.x,s=i.y-e.y;return le.signOfDet2x2(n,r,o,s)},le.signOfDet2x2=function(t,e,i,n){var r=null,o=null,s=null,a=0;if(r=1,0===t||0===n)return 0===e||0===i?0:e>0?i>0?-r:r:i>0?r:-r;if(0===e||0===i)return n>0?t>0?r:-r:t>0?-r:r;if(e>0?n>0?n>=e||(r=-r,o=t,t=i,i=o,o=e,e=n,n=o):-n>=e?(r=-r,i=-i,n=-n):(o=t,t=-i,i=o,o=e,e=-n,n=o):n>0?n>=-e?(r=-r,t=-t,e=-e):(o=-t,t=i,i=o,o=-e,e=n,n=o):e>=n?(t=-t,e=-e,i=-i,n=-n):(r=-r,o=-t,t=-i,i=o,o=-e,e=-n,n=o),t>0){if(!(i>0))return r;if(!(i>=t))return r}else{if(i>0)return-r;if(!(t>=i))return-r;r=-r,t=-t,i=-i}for(;;){if(a+=1,s=Math.floor(i/t),i-=s*t,n-=s*e,0>n)return-r;if(n>e)return r;if(t>i+i){if(n+n>e)return r}else{if(e>n+n)return-r;i=t-i,n=e-n,r=-r}if(0===n)return 0===i?0:-r;if(0===i)return r;if(s=Math.floor(t/i),t-=s*i,e-=s*n,0>e)return r;if(e>n)return-r;if(i>t+t){if(e+e>n)return-r}else{if(n>e+e)return r;t=i-t,e=n-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(ue.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var i=t.x,n=e.x;return i>n&&(i=e.x,n=t.x),this.p.x>=i&&this.p.x<=n&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,o=t.y-this.p.y,s=e.x-this.p.x,a=e.y-this.p.y,l=le.signOfDet2x2(r,o,s,a);if(0===l)return this.isPointOnSegment=!0,null;o>a&&(l=-l),l>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==T.EXTERIOR},getLocation:function(){return this.isPointOnSegment?T.BOUNDARY:this.crossingCount%2===1?T.INTERIOR:T.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return ue}}),ue.locatePointInRing=function(){if(arguments[0]instanceof d&&I(arguments[1],R)){for(var t=arguments[0],e=arguments[1],i=new ue(t),n=new d,r=new d,o=1;o<e.size();o++)if(e.getCoordinate(o,n),e.getCoordinate(o-1,r),i.countSegment(n,r),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof d&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],i=new ue(s),o=1;o<a.length;o++){var n=a[o],r=a[o-1];if(i.countSegment(n,r),i.isOnSegment())return i.getLocation()}return i.getLocation()}},e(ce.prototype,{interfaces_:function(){return[]},getClass:function(){return ce}}),ce.orientationIndex=function(t,e,i){return M.orientationIndex(t,e,i)},ce.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,i=t[0].x,n=1;n<t.length-1;n++){var r=t[n].x-i,o=t[n+1].y,s=t[n-1].y;e+=r*(s-o)}return e/2}if(I(arguments[0],R)){var a=arguments[0],l=a.size();if(3>l)return 0;var u=new d,c=new d,h=new d;a.getCoordinate(0,c),a.getCoordinate(1,h);var i=c.x;h.x-=i;for(var e=0,n=1;l-1>n;n++)u.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(n+1,h),h.x-=i,e+=c.x*(u.y-h.y);return e/2}},ce.distanceLineLine=function(t,e,i,n){if(t.equals(e))return ce.distancePointLine(t,i,n);if(i.equals(n))return ce.distancePointLine(n,t,e);var r=!1;if(C.intersects(t,e,i,n)){var o=(e.x-t.x)*(n.y-i.y)-(e.y-t.y)*(n.x-i.x);if(0===o)r=!0;else{var s=(t.y-i.y)*(n.x-i.x)-(t.x-i.x)*(n.y-i.y),a=(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y),l=a/o,u=s/o;(0>u||u>1||0>l||l>1)&&(r=!0)}}else r=!0;return r?k.min(ce.distancePointLine(t,i,n),ce.distancePointLine(e,i,n),ce.distancePointLine(i,t,e),ce.distancePointLine(n,t,e)):0},ce.isPointInRing=function(t,e){return ce.locatePointInRing(t,e)!==T.EXTERIOR},ce.computeLength=function(t){var e=t.size();if(1>=e)return 0;var i=0,n=new d;t.getCoordinate(0,n);for(var r=n.x,o=n.y,s=1;e>s;s++){t.getCoordinate(s,n);var a=n.x,l=n.y,u=a-r,c=l-o;i+=Math.sqrt(u*u+c*c),r=a,o=l}return i},ce.isCCW=function(t){var e=t.length-1;if(3>e)throw new n("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],r=0,o=1;e>=o;o++){var s=t[o];s.y>i.y&&(i=s,r=o)}var a=r;do a-=1,0>a&&(a=e);while(t[a].equals2D(i)&&a!==r);var l=r;do l=(l+1)%e;while(t[l].equals2D(i)&&l!==r);var u=t[a],c=t[l];if(u.equals2D(i)||c.equals2D(i)||u.equals2D(c))return!1;var h=ce.computeOrientation(u,i,c),f=!1;return f=0===h?u.x>c.x:h>0},ce.locatePointInRing=function(t,e){return ue.locatePointInRing(t,e)},ce.distancePointLinePerpendicular=function(t,e,i){var n=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y),r=((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/n;return Math.abs(r)*Math.sqrt(n)},ce.computeOrientation=function(t,e,i){return ce.orientationIndex(t,e,i)},ce.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new n("Line array must contain at least one vertex");for(var i=t.distance(e[0]),r=0;r<e.length-1;r++){var o=ce.distancePointLine(t,e[r],e[r+1]);i>o&&(i=o)}return i}if(3===arguments.length){var s=arguments[0],a=arguments[1],l=arguments[2];if(a.x===l.x&&a.y===l.y)return s.distance(a);var u=(l.x-a.x)*(l.x-a.x)+(l.y-a.y)*(l.y-a.y),c=((s.x-a.x)*(l.x-a.x)+(s.y-a.y)*(l.y-a.y))/u;if(0>=c)return s.distance(a);if(c>=1)return s.distance(l);var h=((a.y-s.y)*(l.x-a.x)-(a.x-s.x)*(l.y-a.y))/u;return Math.abs(h)*Math.sqrt(u)}},ce.isOnLine=function(t,e){for(var i=new ae,n=1;n<e.length;n++){var r=e[n-1],o=e[n];if(i.computeIntersection(t,r,o),i.hasIntersection())return!0}return!1},ce.CLOCKWISE=-1,ce.RIGHT=ce.CLOCKWISE,ce.COUNTERCLOCKWISE=1,ce.LEFT=ce.COUNTERCLOCKWISE,ce.COLLINEAR=0,ce.STRAIGHT=ce.COLLINEAR,e(he.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof he){var t=arguments[0],e=ce.orientationIndex(this.p0,this.p1,t.p0),i=ce.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&i>=0?Math.max(e,i):0>=e&&0>=i?Math.max(e,i):0}if(arguments[0]instanceof d){var n=arguments[0];return ce.orientationIndex(this.p0,this.p1,n)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof he))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new ae;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof d){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new d(t);var e=this.projectionFactor(t),i=new d;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof he){var n=arguments[0],r=this.projectionFactor(n.p0),o=this.projectionFactor(n.p1);if(r>=1&&o>=1)return null;if(0>=r&&0>=o)return null;var s=this.project(n.p0);0>r&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(n.p1);return 0>o&&(a=this.p0),o>1&&(a=this.p1),new he(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return ce.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return he.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,n=e*e+i*i;if(0>=n)return r.NaN;var o=((t.x-this.p0.x)*e+(t.y-this.p0.y)*i)/n;return o},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var i=new Array(2).fill(null),n=r.MAX_VALUE,o=null,s=this.closestPoint(t.p0);n=s.distance(t.p0),i[0]=s,i[1]=t.p0;var a=this.closestPoint(t.p1);o=a.distance(t.p1),n>o&&(n=o,i[0]=a,i[1]=t.p1);var l=t.closestPoint(this.p0);o=l.distance(this.p0),n>o&&(n=o,i[0]=this.p0,i[1]=l);var u=t.closestPoint(this.p1);return o=u.distance(this.p1),n>o&&(n=o,i[0]=this.p1,i[1]=u),i},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&1>e)return this.project(t);var i=this.p0.distance(t),n=this.p1.distance(t);return n>i?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,i=this.p0.compareTo(e.p0);return 0!==i?i:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{var e=j.intersection(this.p0,this.p1,t.p0,t.p1);
return e}catch(t){if(!(t instanceof S))throw t}finally{}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var i=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,l=0;if(0!==e){if(0>=s)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,l=e*o/s}var u=i-l,c=n+a,h=new d(u,c);return h},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=i.x,this.p1.y=i.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return 0>e?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof he){var t=arguments[0];return ce.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof d){var e=arguments[0];return ce.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new d;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),i=java.lang.Double.doubleToLongBits(this.p1.x);i^=31*java.lang.Double.doubleToLongBits(this.p1.y);var n=Math.trunc(i)^Math.trunc(i>>32);return e^n},interfaces_:function(){return[o,l]},getClass:function(){return he}}),he.midPoint=function(t,e){return new d((t.x+e.x)/2,(t.y+e.y)/2)},he.serialVersionUID=0x2d2172135f411c00,e(fe.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){var t=fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||fe.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||fe.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||fe.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]);return t&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},isCoveredBy:function(){var t=fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])||fe.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||fe.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||fe.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY]);return t&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var i=Math.trunc(e/3),n=e%3;this.matrix[i][n]=ut.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]=s}},isContains:function(){return fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var i=Math.trunc(e/3),n=e%3;this.setAtLeast(i,n,ut.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]<s&&(this.matrix[r][o]=s)}},setAtLeastIfValid:function(t,e,i){t>=0&&e>=0&&this.setAtLeast(t,e,i)},isWithin:function(){return fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===ut.A&&e===ut.A||t===ut.L&&e===ut.L||t===ut.L&&e===ut.A||t===ut.P&&e===ut.A||t===ut.P&&e===ut.L)&&(this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&(fe.isTrue(this.matrix[T.INTERIOR][T.BOUNDARY])||fe.isTrue(this.matrix[T.BOUNDARY][T.INTERIOR])||fe.isTrue(this.matrix[T.BOUNDARY][T.BOUNDARY])))},isOverlaps:function(t,e){return t===ut.P&&e===ut.P||t===ut.A&&e===ut.A?fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&fe.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&fe.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&(1===this.matrix[T.INTERIOR][T.INTERIOR]&&fe.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR])&&fe.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]))},isEquals:function(t,e){return t===e&&(fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&this.matrix[T.INTERIOR][T.EXTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.EXTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.EXTERIOR][T.BOUNDARY]===ut.FALSE)},toString:function(){for(var t=new P("123456789"),e=0;3>e;e++)for(var i=0;3>i;i++)t.setCharAt(3*e+i,ut.toDimensionSymbol(this.matrix[e][i]));return t.toString()},setAll:function(t){for(var e=0;3>e;e++)for(var i=0;3>i;i++)this.matrix[e][i]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new n("Should be length 9: "+t);for(var e=0;3>e;e++)for(var i=0;3>i;i++)if(!fe.matches(this.matrix[e][i],t.charAt(3*e+i)))return!1;return!0},add:function(t){for(var e=0;3>e;e++)for(var i=0;3>i;i++)this.setAtLeast(e,i,t.get(e,i))},isDisjoint:function(){return this.matrix[T.INTERIOR][T.INTERIOR]===ut.FALSE&&this.matrix[T.INTERIOR][T.BOUNDARY]===ut.FALSE&&this.matrix[T.BOUNDARY][T.INTERIOR]===ut.FALSE&&this.matrix[T.BOUNDARY][T.BOUNDARY]===ut.FALSE},isCrosses:function(t,e){return t===ut.P&&e===ut.L||t===ut.P&&e===ut.A||t===ut.L&&e===ut.A?fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&fe.isTrue(this.matrix[T.INTERIOR][T.EXTERIOR]):t===ut.L&&e===ut.P||t===ut.A&&e===ut.P||t===ut.A&&e===ut.L?fe.isTrue(this.matrix[T.INTERIOR][T.INTERIOR])&&fe.isTrue(this.matrix[T.EXTERIOR][T.INTERIOR]):t===ut.L&&e===ut.L&&0===this.matrix[T.INTERIOR][T.INTERIOR]},interfaces_:function(){return[s]},getClass:function(){return fe}}),fe.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===ut.SYM_DONTCARE||(e===ut.SYM_TRUE&&(t>=0||t===ut.TRUE)||(e===ut.SYM_FALSE&&t===ut.FALSE||(e===ut.SYM_P&&t===ut.P||(e===ut.SYM_L&&t===ut.L||e===ut.SYM_A&&t===ut.A))))}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[0],n=arguments[1],r=new fe(i);return r.matches(n)}},fe.isTrue=function(t){return t>=0||t===ut.TRUE};var cs=Object.freeze({Coordinate:d,CoordinateList:w,Envelope:C,LineSegment:he,GeometryFactory:ne,Geometry:z,Point:Tt,LineString:Et,LinearRing:Lt,Polygon:kt,GeometryCollection:ft,MultiPoint:Pt,MultiLineString:dt,MultiPolygon:Ot,Dimension:ut,IntersectionMatrix:fe});e(de.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,i=0;i<t.length-1;i++){var n=t[i].distance(t[i+1]);if(0!==n){e+=n;var r=(t[i].x+t[i+1].x)/2;this.lineCentSum.x+=n*r;var o=(t[i].y+t[i+1].y)/2;this.lineCentSum.y+=n*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=ce.isCCW(t),i=0;i<t.length-1;i++)this.addTriangle(this.areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new d;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!ce.isCCW(t),i=0;i<t.length-1;i++)this.addTriangle(this.areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)},addTriangle:function(t,e,i,n){var r=n?1:-1;de.centroid3(t,e,i,this.triangleCent3);var o=de.area2(t,e,i);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof kt){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof z){var i=arguments[0];if(i.isEmpty())return null;if(i instanceof Tt)this.addPoint(i.getCoordinate());else if(i instanceof Et)this.addLineSegments(i.getCoordinates());else if(i instanceof kt){var n=i;this.add(n)}else if(i instanceof ft)for(var r=i,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return de}}),de.area2=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},de.centroid3=function(t,e,i,n){return n.x=t.x+e.x+i.x,n.y=t.y+e.y+i.y,null},de.getCentroid=function(t){var e=new de(t);return e.getCentroid()},pe.prototype=new Error,pe.prototype.name="EmptyStackException",ge.prototype=new y,ge.prototype.add=function(t){return this.array_.push(t),!0},ge.prototype.get=function(t){if(0>t||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},ge.prototype.push=function(t){return this.array_.push(t),t},ge.prototype.pop=function(t){if(0===this.array_.length)throw new pe;return this.array_.pop()},ge.prototype.peek=function(){if(0===this.array_.length)throw new pe;return this.array_[this.array_.length-1]},ge.prototype.empty=function(){return 0===this.array_.length},ge.prototype.isEmpty=function(){return this.empty()},ge.prototype.search=function(t){return this.array_.indexOf(t)},ge.prototype.size=function(){return this.array_.length},ge.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;i>e;e++)t.push(this.array_[e]);return t},e(me.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[B]},getClass:function(){return me}}),me.filterCoordinates=function(t){for(var e=new me,i=0;i<t.length;i++)e.filter(t[i]);return e.getCoordinates()},e(ve.prototype,{preSort:function(t){for(var e=null,i=1;i<t.length;i++)(t[i].y<t[0].y||t[i].y===t[0].y&&t[i].x<t[0].x)&&(e=t[0],t[0]=t[i],t[i]=e);return lt.sort(t,1,t.length,new ye(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),i=new w;return i.add(e,!1),i.size()<3?null:(i.closeRing(),i.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new x,i=null,n=0;n<=t.length-2;n++){var r=t[n],o=t[n+1];r.equals(o)||null!==i&&this.isBetween(i,r,o)||(e.add(r),i=r)}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,i){if(0!==ce.computeOrientation(t,e,i))return!1;if(t.x!==i.x){if(t.x<=e.x&&e.x<=i.x)return!0;if(i.x<=e.x&&e.x<=t.x)return!0}if(t.y!==i.y){if(t.y<=e.y&&e.y<=i.y)return!0;if(i.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var i=new at,n=0;n<e.length;n++)i.add(e[n]);for(var n=0;n<t.length;n++)ce.isPointInRing(t[n],e)||i.add(t[n]);var r=X.toCoordinateArray(i);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),i=this.grahamScan(e),n=this.toCoordinateArray(i);return this.lineOrPolygon(n)},padArray3:function(t){for(var e=new Array(3).fill(null),i=0;i<e.length;i++)i<t.length?e[i]=t[i]:e[i]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),i=0;i<e.length;i++)e[i]=t[0];for(var n=1;n<t.length;n++)t[n].x<e[0].x&&(e[0]=t[n]),t[n].x-t[n].y<e[1].x-e[1].y&&(e[1]=t[n]),t[n].y>e[2].y&&(e[2]=t[n]),t[n].x+t[n].y>e[3].x+e[3].y&&(e[3]=t[n]),t[n].x>e[4].x&&(e[4]=t[n]),t[n].x-t[n].y>e[5].x-e[5].y&&(e[5]=t[n]),t[n].y<e[6].y&&(e[6]=t[n]),t[n].x+t[n].y<e[7].x+e[7].y&&(e[7]=t[n]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),i=0;i<t.size();i++){var n=t.get(i);e[i]=n}return e},grahamScan:function(t){var e=null,i=new ge;e=i.push(t[0]),e=i.push(t[1]),e=i.push(t[2]);for(var n=3;n<t.length;n++){for(e=i.pop();!i.empty()&&ce.computeOrientation(i.peek(),e,t[n])>0;)e=i.pop();e=i.push(e),e=i.push(t[n])}return e=i.push(t[0]),i},interfaces_:function(){return[]},getClass:function(){return ve}}),ve.extractCoordinates=function(t){var e=new me;return t.apply(e),e.getCoordinates()},e(ye.prototype,{compare:function(t,e){var i=t,n=e;return ye.polarCompare(this.origin,i,n)},interfaces_:function(){return[a]},getClass:function(){return ye}}),ye.polarCompare=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=i.x-t.x,s=i.y-t.y,a=ce.computeOrientation(t,e,i);if(a===ce.COUNTERCLOCKWISE)return 1;if(a===ce.CLOCKWISE)return-1;var l=n*n+r*r,u=o*o+s*s;return u>l?-1:l>u?1:0},ve.RadialComparator=ye,e(_e.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var i=!0,n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof Lt&&!n.isEmpty()||(i=!1);for(var r=new x,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Lt||(i=!1),r.add(s))}if(i)return this.factory.createPolygon(n,r.toArray([]));var a=new x;return null!==n&&a.add(n),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var i=new x,n=0;n<t.getNumGeometries();n++){var r=this.transformLineString(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this.factory.buildGeometry(i)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var i=new x,n=0;n<t.getNumGeometries();n++){var r=this.transformPoint(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this.factory.buildGeometry(i)},transformMultiPolygon:function(t,e){for(var i=new x,n=0;n<t.getNumGeometries();n++){var r=this.transformPolygon(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this.factory.buildGeometry(i)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var i=new x,n=0;n<t.getNumGeometries();n++){var r=this.transform(t.getGeometryN(n));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||i.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(ne.toGeometryArray(i)):this.factory.buildGeometry(i)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof Tt)return this.transformPoint(t,null);if(t instanceof Pt)return this.transformMultiPoint(t,null);if(t instanceof Lt)return this.transformLinearRing(t,null);if(t instanceof Et)return this.transformLineString(t,null);if(t instanceof dt)return this.transformMultiLineString(t,null);if(t instanceof kt)return this.transformPolygon(t,null);if(t instanceof Ot)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new n("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var i=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===i)return this.factory.createLinearRing(null);var n=i.size();return n>0&&4>n&&!this.preserveType?this.factory.createLineString(i):this.factory.createLinearRing(i)},interfaces_:function(){return[]},getClass:function(){return _e}}),e(be.prototype,{snapVertices:function(t,e){for(var i=this._isClosed?t.size()-1:t.size(),n=0;i>n;n++){var r=t.get(n),o=this.findSnapForVertex(r,e);null!==o&&(t.set(n,new d(o)),0===n&&this._isClosed&&t.set(t.size()-1,new d(o)))}},findSnapForVertex:function(t,e){for(var i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<this.snapTolerance)return e[i]}return null},snapTo:function(t){var e=new w(this.srcPts);this.snapVertices(e,t),this.snapSegments(e,t);var i=e.toCoordinateArray();return i},snapSegments:function(t,e){if(0===e.length)return null;var i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(var n=0;i>n;n++){var r=e[n],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new d(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var i=r.MAX_VALUE,n=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var s=this.seg.distance(t);s<this.snapTolerance&&i>s&&(i=s,n=o)}return n},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return be}}),be.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])},e(xe.prototype,{snapTo:function(t,e){var i=this.extractTargetCoordinates(t),n=new we(e,i);return n.transform(this.srcGeom)},snapToSelf:function(t,e){var i=this.extractTargetCoordinates(this.srcGeom),n=new we(t,i,(!0)),r=n.transform(this.srcGeom),o=r;return e&&I(o,It)&&(o=r.buffer(0)),o},computeSnapTolerance:function(t){var e=this.computeMinimumSegmentLength(t),i=e/10;return i},extractTargetCoordinates:function(t){for(var e=new at,i=t.getCoordinates(),n=0;n<i.length;n++)e.add(i[n]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,i=0;i<t.length-1;i++){var n=t[i].distance(t[i+1]);e>n&&(e=n)}return e},interfaces_:function(){return[]},getClass:function(){return xe}}),xe.snap=function(t,e,i){var n=new Array(2).fill(null),r=new xe(t);n[0]=r.snapTo(e,i);var o=new xe(e);return n[1]=o.snapTo(n[0],i),n},xe.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=xe.computeSizeBasedSnapTolerance(t),i=t.getPrecisionModel();if(i.getType()===ee.FIXED){var n=1/i.getScale()*2/1.415;n>e&&(e=n)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(xe.computeOverlaySnapTolerance(r),xe.computeOverlaySnapTolerance(o))}},xe.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal(),i=Math.min(e.getHeight(),e.getWidth()),n=i*xe.SNAP_PRECISION_FACTOR;return n},xe.snapToSelf=function(t,e,i){var n=new xe(t);return n.snapToSelf(e,i)},xe.SNAP_PRECISION_FACTOR=1e-9,c(we,_e),e(we.prototype,{snapLine:function(t,e){var i=new be(t,this.snapTolerance);return i.setAllowSnappingToSourceVertices(this.isSelfSnap),i.snapTo(e)},transformCoordinates:function(t,e){var i=t.toCoordinateArray(),n=this.snapLine(i,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(n)},interfaces_:function(){return[]},getClass:function(){return we}}),e(Ce.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);if(this.isFirst)return this.commonBits=e,this.commonSignExp=Ce.signExpBits(this.commonBits),this.isFirst=!1,null;var i=Ce.signExpBits(e);return i!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=Ce.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=Ce.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),i=Long.toBinaryString(t),n="0000000000000000000000000000000000000000000000000000000000000000"+i,o=n.substring(n.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return s}},interfaces_:function(){return[]},getClass:function(){return Ce}}),Ce.getBit=function(t,e){var i=1<<e;return 0!==(t&i)?1:0},Ce.signExpBits=function(t){return t>>52},Ce.zeroLowerBits=function(t,e){var i=(1<<e)-1,n=~i,r=t&n;return r},Ce.numCommonMostSigMantissaBits=function(t,e){for(var i=0,n=52;n>=0;n--){if(Ce.getBit(t,n)!==Ce.getBit(e,n))return i;i++}return 52},e(Ee.prototype,{addCommonBits:function(t){var e=new Te(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new d(this.commonCoord);e.x=-e.x,e.y=-e.y;var i=new Te(e);return t.apply(i),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Ee}}),e(Se.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new d(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[B]},getClass:function(){return Se}}),e(Te.prototype,{filter:function(t,e){var i=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,i),t.setOrdinate(e,1,n)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return Te}}),Ee.CommonCoordinateFilter=Se,Ee.Translater=Te,e(Ie.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Ie.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new _;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new Ie(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return Ie}}),Ie.isAtomic=function(t){return!(t instanceof ft)},e(ke.prototype,{locateInternal:function(){if(arguments[0]instanceof d&&arguments[1]instanceof kt){var t=arguments[0],e=arguments[1];if(e.isEmpty())return T.EXTERIOR;var i=e.getExteriorRing(),n=this.locateInPolygonRing(t,i);if(n===T.EXTERIOR)return T.EXTERIOR;if(n===T.BOUNDARY)return T.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===T.INTERIOR)return T.EXTERIOR;if(s===T.BOUNDARY)return T.BOUNDARY}return T.INTERIOR}if(arguments[0]instanceof d&&arguments[1]instanceof Et){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return T.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?ce.isOnLine(a,u)?T.INTERIOR:T.EXTERIOR:T.BOUNDARY}if(arguments[0]instanceof d&&arguments[1]instanceof Tt){var c=arguments[0],h=arguments[1],f=h.getCoordinate();return f.equals2D(c)?T.INTERIOR:T.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?ce.locatePointInRing(t,e.getCoordinates()):T.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==T.EXTERIOR},updateLocationInfo:function(t){t===T.INTERIOR&&(this.isIn=!0),t===T.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof Tt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Et)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof kt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof dt)for(var i=e,n=0;n<i.getNumGeometries();n++){var r=i.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Ot)for(var o=e,n=0;n<o.getNumGeometries();n++){var s=o.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof ft)for(var a=new Ie(e);a.hasNext();){var l=a.next();l!==e&&this.computeLocation(t,l)}},locate:function(t,e){return e.isEmpty()?T.EXTERIOR:e instanceof Et?this.locateInternal(t,e):e instanceof kt?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?T.BOUNDARY:this.numBoundaries>0||this.isIn?T.INTERIOR:T.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return ke}}),e(Pe.prototype,{interfaces_:function(){return[]},getClass:function(){return Pe}}),Pe.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the octant for point ( "+t+", "+e+" )");var i=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?i>=r?0:1:i>=r?7:6:e>=0?i>=r?3:2:i>=r?4:5}if(arguments[0]instanceof d&&arguments[1]instanceof d){var o=arguments[0],s=arguments[1],a=s.x-o.x,l=s.y-o.y;if(0===a&&0===l)throw new n("Cannot compute the octant for two identical points "+o);return Pe.octant(a,l)}},e(Le.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Le}}),e(Oe.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:Pe.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return oe.toLineString(new Dt(this.pts))},interfaces_:function(){return[Le]},getClass:function(){return Oe}}),e(Ae.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Ae}}),e(Me.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Ae,l]},getClass:function(){return Me}}),e(Re.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,i=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(i)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,i)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return Re}}),e(Ne.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Ne}}),e(je.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return je}}),e(De.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Ae,l]},getClass:function(){return De}}),De.serialVersionUID=0x5a1e55ec41369800;var hs={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return hs.sort(t),t.get(0)},sort:function(t,e){var i=t.toArray();e?lt.sort(i,e):lt.sort(i);for(var n=t.iterator(),r=0,o=i.length;o>r;r++)n.next(),n.set(i[r])},singletonList:function(t){var e=new x;return e.add(t),e}};e(Fe.prototype,{expandToQueue:function(t,e){var i=Fe.isComposite(this.boundable1),r=Fe.isComposite(this.boundable2);if(i&&r)return Fe.area(this.boundable1)>Fe.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(i)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new n("neither boundable is composite")},isLeaves:function(){return!(Fe.isComposite(this.boundable1)||Fe.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,i,n){for(var r=t.getChildBoundables(),o=r.iterator();o.hasNext();){var s=o.next(),a=new Fe(s,e,this.itemDistance);a.getDistance()<n&&i.add(a)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return Fe}}),Fe.area=function(t){return t.getBounds().getArea()},Fe.isComposite=function(t){return t instanceof De},e(ze.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function Ds(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var t=arguments[0],Ds=0,e=t.getChildBoundables().iterator();e.hasNext();){var i=e.next();i instanceof De?Ds+=this.size(i):i instanceof Me&&(Ds+=1)}return Ds}},removeItem:function(t,e){for(var i=null,n=t.getChildBoundables().iterator();n.hasNext();){var r=n.next();r instanceof Me&&r.getItem()===e&&(i=r)}return null!==i&&(t.getChildBoundables().remove(i),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new x:t}if(1===arguments.length){for(var e=arguments[0],i=new x,n=e.getChildBoundables().iterator();n.hasNext();){var r=n.next();if(r instanceof De){var o=this.itemsTree(r);null!==o&&i.add(o)}else r instanceof Me?i.add(r.getItem()):f.shouldNeverReachHere()}return i.size()<=0?null:i}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Me(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new x;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];if(f.isTrue(i>-2),n.getLevel()===i)return r.add(n),null;for(var o=n.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof De?this.boundablesAtLevel(i,s,r):(f.isTrue(s instanceof Me),-1===i&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new x;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var i=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),i)&&this.query(i,this.root,n)}else if(3===arguments.length)if(I(arguments[2],Ne)&&arguments[0]instanceof Object&&arguments[1]instanceof De)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof De?this.query(r,u,s):u instanceof Me?s.visitItem(u.getItem()):f.shouldNeverReachHere())}else if(I(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof De)for(var c=arguments[0],h=arguments[1],d=arguments[2],a=h.getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),c)&&(u instanceof De?this.query(c,u,d):u instanceof Me?d.add(u.getItem()):f.shouldNeverReachHere());
}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.remove(t,this.root,e)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=this.removeItem(n,r);if(o)return!0;for(var s=null,a=n.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),i)&&l instanceof De&&(o=this.remove(i,l,r))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var i=this.createParentBoundables(t,e+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,i=t.getChildBoundables().iterator();i.hasNext();){var n=i.next();if(n instanceof De){var r=this.depth(n);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var i=new x;i.add(this.createNode(e));var n=new x(t);hs.sort(n,this.getComparator());for(var r=n.iterator();r.hasNext();){var o=r.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(e)),this.lastNode(i).addChildBoundable(o)}return i},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[l]},getClass:function(){return ze}}),ze.compareDoubles=function(t,e){return t>e?1:e>t?-1:0},ze.IntersectsOp=Be,ze.serialVersionUID=-0x35ef64c82d4c5400,ze.DEFAULT_NODE_CAPACITY=10,e(Ve.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Ve}}),c(qe,ze),e(qe.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(t.length>0);for(var i=new x,n=0;n<t.length;n++)i.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return i},createNode:function(t){return new Ue(t)},size:function(){return 0===arguments.length?ze.prototype.size.call(this):ze.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return ze.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void ze.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return qe.intersectsOp},verticalSlices:function(t,e){for(var i=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),r=t.iterator(),o=0;e>o;o++){n[o]=new x;for(var s=0;r.hasNext()&&i>s;){var a=r.next();n[o].add(a),s++}}return n},query:function(){if(1===arguments.length){var t=arguments[0];return ze.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],i=arguments[1];ze.prototype.query.call(this,e,i)}else if(3===arguments.length)if(I(arguments[2],Ne)&&arguments[0]instanceof Object&&arguments[1]instanceof De){var n=arguments[0],r=arguments[1],o=arguments[2];ze.prototype.query.call(this,n,r,o)}else if(I(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof De){var s=arguments[0],a=arguments[1],l=arguments[2];ze.prototype.query.call(this,s,a,l)}},getComparator:function(){return qe.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return ze.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return ze.prototype.remove.call(this,t,e)}return ze.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?ze.prototype.depth.call(this):ze.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),n=new x(t);hs.sort(n,qe.xComparator);var r=this.verticalSlices(n,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(I(arguments[0],Ve)){var t=arguments[0],e=new Fe(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe){var i=arguments[0];return this.nearestNeighbour(i,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof qe&&I(arguments[1],Ve)){var n=arguments[0],o=arguments[1],e=new Fe(this.getRoot(),n.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],l=a,u=null,c=new Re;for(c.add(s);!c.isEmpty()&&l>0;){var h=c.poll(),f=h.getDistance();if(f>=l)break;h.isLeaves()?(l=f,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[0],p=arguments[1],g=arguments[2],m=new Me(d,p),e=new Fe(this.getRoot(),m,g);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[je,l]},getClass:function(){return qe}}),qe.centreX=function(t){return qe.avg(t.getMinX(),t.getMaxX())},qe.avg=function(t,e){return(t+e)/2},qe.centreY=function(t){return qe.avg(t.getMinY(),t.getMaxY())},c(Ue,De),e(Ue.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var i=e.next();null===t?t=new C(i.getBounds()):t.expandToInclude(i.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ue}}),qe.STRtreeNode=Ue,qe.serialVersionUID=0x39920f7d5f261e0,qe.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return ze.compareDoubles(qe.centreX(t.getBounds()),qe.centreX(e.getBounds()))}},qe.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return ze.compareDoubles(qe.centreY(t.getBounds()),qe.centreY(e.getBounds()))}},qe.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},qe.DEFAULT_NODE_CAPACITY=10,e(Ge.prototype,{interfaces_:function(){return[]},getClass:function(){return Ge}}),Ge.relativeSign=function(t,e){return e>t?-1:t>e?1:0},Ge.compare=function(t,e,i){if(e.equals2D(i))return 0;var n=Ge.relativeSign(e.x,i.x),r=Ge.relativeSign(e.y,i.y);switch(t){case 0:return Ge.compareValue(n,r);case 1:return Ge.compareValue(r,n);case 2:return Ge.compareValue(r,-n);case 3:return Ge.compareValue(-n,r);case 4:return Ge.compareValue(-n,-r);case 5:return Ge.compareValue(-r,-n);case 6:return Ge.compareValue(-r,n);case 7:return Ge.compareValue(n,-r)}return f.shouldNeverReachHere("invalid octant value"),0},Ge.compareValue=function(t,e){return 0>t?-1:t>0?1:0>e?-1:e>0?1:0},e(He.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Ge.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return He}}),e(Xe.prototype,{getSplitCoordinates:function(){var t=new w;this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next();this.addEdgeCoordinates(i,n,t),i=n}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new x;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var i=e.next().intValue();this.add(this.edge.getCoordinate(i),i)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var i=e.next();i.print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var i=this.edge.getCoordinate(e),n=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));i.equals2D(n)&&t.add(new L(e+1))}},addEdgeCoordinates:function(t,e,i){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||n--,i.add(new d(t.coord),!1);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)i.add(this.edge.getCoordinate(s));o&&i.add(new d(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},findCollapseIndex:function(t,e,i){if(!t.coord.equals2D(e.coord))return!1;var n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(i[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),i=this.iterator(),n=i.next();i.hasNext();){var r=i.next(),o=this.findCollapseIndex(n,r,e);o&&t.add(new L(e[0])),n=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),s=0;o[s++]=new d(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return r&&(o[s]=new d(e.coord)),new $e(o,this.edge.getData())},add:function(t,e){var i=new He(this.edge,t,e,this.edge.getSegmentOctant(e)),n=this.nodeMap.get(i);return null!==n?(f.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this.nodeMap.put(i,i),i)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),i=t.get(0),n=i.getCoordinate(0);if(!n.equals2D(e[0]))throw new u("bad split edge start point at "+n);var r=t.get(t.size()-1),o=r.getCoordinates(),s=o[o.length-1];if(!s.equals2D(e[e.length-1]))throw new u("bad split edge end point at "+s)},interfaces_:function(){return[]},getClass:function(){return Xe}}),e(We.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex>this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return We}}),e(Ye.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Le]},getClass:function(){return Ye}}),e($e.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Pe.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var i=arguments[0],n=arguments[1],r=(arguments[2],arguments[3]),o=new d(i.getIntersection(r));this.addIntersection(o,n)}},toString:function(){return oe.toLineString(new Dt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var i=e,n=i+1;if(n<this.pts.length){var r=this.pts[n];t.equals2D(r)&&(i=n)}var o=this.nodeList.add(t,i);return o},addIntersections:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},interfaces_:function(){return[Ye]},getClass:function(){return $e}}),$e.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new x;return $e.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var i=arguments[0],n=arguments[1],r=i.iterator();r.hasNext();){var o=r.next();o.getNodeList().addSplitEdges(n)}},e(Ze.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];t.getLineSegment(e,this.overlapSeg1),i.getLineSegment(n,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return Ze}}),e(Ke.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,i,n){var r=this.pts[e],o=this.pts[i];if(n.tempEnv1.init(r,o),i-e===1)return n.select(this,e),null;if(!t.intersects(n.tempEnv1))return null;var s=Math.trunc((e+i)/2);s>e&&this.computeSelect(t,e,s,n),i>s&&this.computeSelect(t,s,i,n)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,i=this.start;i<=this.end;i++)t[e++]=this.pts[i];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new C(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,i,n,r,o){var s=this.pts[t],a=this.pts[e],l=i.pts[n],u=i.pts[r];if(e-t===1&&r-n===1)return o.overlap(this,t,i,n),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((n+r)/2);c>t&&(h>n&&this.computeOverlapsInternal(t,c,i,n,h,o),r>h&&this.computeOverlapsInternal(t,c,i,h,r,o)),e>c&&(h>n&&this.computeOverlapsInternal(c,e,i,n,h,o),r>h&&this.computeOverlapsInternal(c,e,i,h,r,o))},interfaces_:function(){return[]},getClass:function(){return Ke}}),e(Je.prototype,{interfaces_:function(){return[]},getClass:function(){return Je}}),Je.isNorthern=function(t){return t===Je.NE||t===Je.NW},Je.isOpposite=function(t,e){if(t===e)return!1;var i=(t-e+4)%4;return 2===i},Je.commonHalfPlane=function(t,e){if(t===e)return t;var i=(t-e+4)%4;if(2===i)return-1;var n=e>t?t:e,r=t>e?t:e;return 0===n&&3===r?3:n},Je.isInHalfPlane=function(t,e){return e===Je.SE?t===Je.SE||t===Je.SW:t===e||t===e+1},Je.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new n("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Je.NE:Je.SE:e>=0?Je.NW:Je.SW}if(arguments[0]instanceof d&&arguments[1]instanceof d){var i=arguments[0],r=arguments[1];if(r.x===i.x&&r.y===i.y)throw new n("Cannot compute the quadrant for two identical points "+i);return r.x>=i.x?r.y>=i.y?Je.NE:Je.SE:r.y>=i.y?Je.NW:Je.SW}},Je.NE=0,Je.NW=1,Je.SW=2,Je.SE=3,e(Qe.prototype,{interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.getChainStartIndices=function(t){var e=0,i=new x;i.add(new L(e));do{var n=Qe.findChainEnd(t,e);i.add(new L(n)),e=n}while(e<t.length-1);var r=Qe.toIntArray(i);return r},Qe.findChainEnd=function(t,e){for(var i=e;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;for(var n=Je.quadrant(t[i],t[i+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){var o=Je.quadrant(t[r-1],t[r]);if(o!==n)break}r++}return r-1},Qe.getChains=function(){if(1===arguments.length){var t=arguments[0];return Qe.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],i=arguments[1],n=new x,r=Qe.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new Ke(e,r[o],r[o+1],i);n.add(s)}return n}},Qe.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e},e(ti.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return ti}}),e(ei.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[ti]},getClass:function(){return ei}}),c(ii,ei),e(ii.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return $e.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Qe.getChains(t.getCoordinates(),t),i=e.iterator();i.hasNext();){var n=i.next();n.setId(this.idCounter++),this.index.insert(n.getEnvelope(),n),this.monoChains.add(n)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new ni(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var i=e.next(),n=this.index.query(i.getEnvelope()),r=n.iterator();r.hasNext();){var o=r.next();if(o.getId()>i.getId()&&(i.computeOverlaps(o,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return ii}}),c(ni,Ze),e(ni.prototype,{overlap:function(){if(4!==arguments.length)return Ze.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],r=t.getContext(),o=i.getContext();this.si.processIntersections(r,e,o,n)},interfaces_:function(){return[]},getClass:function(){return ni}}),ii.SegmentOverlapAction=ni,c(ri,u),e(ri.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(oi.prototype,{processIntersections:function(t,e,i,n){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return oi}}),e(si.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,i,n){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===i&&e===n)return null;if(this.isCheckEndSegmentsOnly){var r=this.isEndSegment(t,e)||this.isEndSegment(i,n);if(!r)return null}var o=t.getCoordinates()[e],s=t.getCoordinates()[e+1],a=i.getCoordinates()[n],l=i.getCoordinates()[n+1];this.li.computeIntersection(o,s,a,l),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=o,this.intSegments[1]=s,this.intSegments[2]=a,this.intSegments[3]=l,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return!this.findAllIntersections&&null!==this.interiorIntersection},interfaces_:function(){return[oi]},getClass:function(){return si}}),si.createAllIntersectionsFinder=function(t){var e=new si(t);return e.setFindAllIntersections(!0),e},si.createAnyIntersectionFinder=function(t){return new si(t)},si.createIntersectionCounter=function(t){var e=new si(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(ai.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new si(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new ii;return t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new ri(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+oe.toLineString(t[0],t[1])+" and "+oe.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.computeIntersections=function(t){var e=new ai(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(li.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return li}}),li.toSegmentStrings=function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next();e.add(new Oe(n.getCoordinates(),n))}return e},li.checkValid=function(t){var e=new li(t);e.checkValid()},e(ui.prototype,{map:function(t){for(var e=new x,i=0;i<t.getNumGeometries();i++){var n=this.mapOp.map(t.getGeometryN(i));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return ui}}),ui.map=function(t,e){var i=new ui(e);return i.map(t)},e(ci.prototype,{interfaces_:function(){return[]},getClass:function(){return ci}}),ci.opposite=function(t){return t===ci.LEFT?ci.RIGHT:t===ci.RIGHT?ci.LEFT:t},ci.ON=0,ci.LEFT=1,ci.RIGHT=2,e(hi.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==T.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===T.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[ci.ON]=this.location[ci.ON],e[ci.LEFT]=T.NONE,e[ci.RIGHT]=T.NONE,this.location=e}for(var i=0;i<this.location.length;i++)this.location[i]===T.NONE&&i<t.location.length&&(this.location[i]=t.location[i])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[ci.LEFT];this.location[ci.LEFT]=this.location[ci.RIGHT],this.location[ci.RIGHT]=t},toString:function(){var t=new P;return this.location.length>1&&t.append(T.toLocationSymbol(this.location[ci.LEFT])),t.append(T.toLocationSymbol(this.location[ci.ON])),this.location.length>1&&t.append(T.toLocationSymbol(this.location[ci.RIGHT])),t.toString()},setLocations:function(t,e,i){this.location[ci.ON]=t,this.location[ci.LEFT]=e,this.location[ci.RIGHT]=i},get:function(t){return t<this.location.length?this.location[t]:T.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===T.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(ci.ON,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.location[e]=i}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(T.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return hi}}),e(fi.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.elt[e].setAllLocationsIfNull(i)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;2>e;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new hi(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(ci.ON)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.elt[e].get(i)}},toString:function(){var t=new P;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(ci.ON,e)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.elt[i].setLocation(n,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new hi(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return fi}}),fi.toLineLabel=function(t){for(var e=new fi(T.NONE),i=0;2>i;i++)e.setLocation(i,t.getLocation(i));return e},e(di.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=ce.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,i=!0;do{if(null===e)throw new ri("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new ri("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var n=e.getLabel();f.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),i=e.getEdges().getOutgoingDegree(this);i>this.maxNodeDegree&&(this.maxNodeDegree=i),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,i){var n=t.getCoordinates();if(e){var r=1;i&&(r=0);for(var o=r;o<n.length;o++)this.pts.add(n[o])}else{var r=n.length-2;i&&(r=n.length-1);for(var o=r;o>=0;o--)this.pts.add(n[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do t.getEdge().setInResult(!0),t=t.getNext();while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing(),i=e.getEnvelopeInternal();if(!i.contains(t))return!1;if(!ce.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this.holes.iterator();n.hasNext();){var r=n.next();if(r.containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e.getLocation(i,ci.RIGHT);if(n===T.NONE)return null;if(this.label.getLocation(i)===T.NONE)return this.label.setLocation(i,n),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),i=0;i<this.holes.size();i++)e[i]=this.holes.get(i).getLinearRing();var n=t.createPolygon(this.getLinearRing(),e);return n},interfaces_:function(){return[]},getClass:function(){return di}}),c(pi,di),e(pi.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return pi}}),c(gi,di),e(gi.prototype,{buildMinimalRings:function(){var t=new x,e=this.startDe;do{if(null===e.getMinEdgeRing()){var i=new pi(e,this.geometryFactory);t.add(i)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{var e=t.getNode();e.getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return gi}}),e(mi.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return mi}}),c(vi,mi),e(vi.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){var e=t.next();if(e.getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var i=T.NONE;if(i=this.label.getLocation(e),!t.isNull(e)){var n=t.getLocation(e);i!==T.BOUNDARY&&(i=n)}return i},setLabel:function(){if(2!==arguments.length)return mi.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new fi(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof vi){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof fi)for(var e=arguments[0],i=0;2>i;i++){var n=this.computeMergedLocation(e,i),r=this.label.getLocation(i);r===T.NONE&&this.label.setLocation(i,n)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=T.NONE;null!==this.label&&(e=this.label.getLocation(t));var i=null;switch(e){case T.BOUNDARY:i=T.INTERIOR;break;case T.INTERIOR:i=T.BOUNDARY;break;default:i=T.BOUNDARY}this.label.setLocation(t,i)},interfaces_:function(){return[]},getClass:function(){return vi}}),e(yi.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof d){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof vi){var i=arguments[0],e=this.nodeMap.get(i.getCoordinate());return null===e?(this.nodeMap.put(i.getCoordinate(),i),i):(e.mergeLabel(i),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next();i.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new x,i=this.iterator();i.hasNext();){var n=i.next();n.getLabel().getLocation(t)===T.BOUNDARY&&e.add(n)}return e},add:function(t){var e=t.getCoordinate(),i=this.addNode(e);i.add(t)},interfaces_:function(){return[]},getClass:function(){return yi}}),e(_i.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ce.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){
return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),i=this.getClass().getName(),n=i.lastIndexOf("."),r=i.substring(n+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),i=e.lastIndexOf("."),n=e.substring(i+1);return"  "+n+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Je.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return _i}}),c(bi,_i),e(bi.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new fi(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new ri("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function Fs(){for(var Fs=!0,t=0;2>t;t++)this.label.isArea(t)&&this.label.getLocation(t,ci.LEFT)===T.INTERIOR&&this.label.getLocation(t,ci.RIGHT)===T.INTERIOR||(Fs=!1);return Fs},setNextMin:function(t){this.nextMin=t},print:function(t){_i.prototype.print.call(this,t),t.print(" "+this.depth[ci.LEFT]+"/"+this.depth[ci.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,T.EXTERIOR),i=!this.label.isArea(1)||this.label.allPositionsEqual(1,T.EXTERIOR);return t&&e&&i},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var i=this.getEdge().getDepthDelta();this._isForward||(i=-i);var n=1;t===ci.LEFT&&(n=-1);var r=ci.opposite(t),o=i*n,s=e+o;this.setDepth(t,e),this.setDepth(r,s)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return bi}}),bi.depthFactor=function(t,e){return t===T.EXTERIOR&&e===T.INTERIOR?1:t===T.INTERIOR&&e===T.EXTERIOR?-1:0},e(xi.prototype,{createNode:function(t){return new vi(t,null)},interfaces_:function(){return[]},getClass:function(){return xi}}),e(wi.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var i=this.edges.get(e);i.print(t),i.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof vi){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){N.out.println(t)},isBoundaryNode:function(t,e){var i=this.nodes.find(e);if(null===i)return!1;var n=i.getLabel();return null!==n&&n.getLocation(t)===T.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,i,n){return!!t.equals(i)&&(ce.computeOrientation(t,e,n)===ce.COLLINEAR&&Je.quadrant(t,e)===Je.quadrant(i,n))},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){N.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var i=0;i<this.edges.size();i++){var n=this.edges.get(i),r=n.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return n;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return n}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var i=e.next();if(i.getEdge()===t)return i}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.edges.add(i);var n=new bi(i,(!0)),r=new bi(i,(!1));n.setSym(r),r.setSym(n),this.add(n),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var i=0;i<this.edges.size();i++){var n=this.edges.get(i),r=n.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return n}return null},interfaces_:function(){return[]},getClass:function(){return wi}}),wi.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();i.getEdges().linkResultDirectedEdges()}},e(Ci.prototype,{sortShellsAndHoles:function(t,e,i){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()?i.add(r):e.add(r)}},computePolygons:function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next(),r=n.toPolygon(this.geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();if(null===n.getShell()){var r=this.findEdgeRingContaining(n,t);if(null===r)throw new ri("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(r)}}},buildMinimalEdgeRings:function(t,e,i){for(var n=new x,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):i.addAll(s)}else n.add(o)}return n},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){var i=e.next();if(i.containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var r=new gi(n,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();n.isHole()&&n.setShell(t)}},getPolygons:function(){var t=this.computePolygons(this.shellList);return t},findEdgeRingContaining:function(t,e){for(var i=t.getLinearRing(),n=i.getEnvelopeInternal(),r=i.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(n)&&ce.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=l)}return o},findShell:function(t){for(var e=0,i=null,n=t.iterator();n.hasNext();){var r=n.next();r.isHole()||(i=r,e++)}return f.isTrue(1>=e,"found two shells in MinimalEdgeRing list"),i},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],i=arguments[1];wi.linkResultDirectedEdges(i);var n=this.buildMaximalEdgeRings(e),r=new x,o=this.buildMinimalEdgeRings(n,this.shellList,r);this.sortShellsAndHoles(o,this.shellList,r),this.placeFreeHoles(this.shellList,r)}},interfaces_:function(){return[]},getClass:function(){return Ci}}),e(Ei.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next();this.collectLineEdge(i,t,this.lineEdgesList),this.collectBoundaryTouchEdge(i,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var i=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,i)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,i){var n=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!nn.isResultOfOp(n,e)||r.isCovered()||(i.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().findCoveredLineEdges()}for(var i=this.op.getGraph().getEdgeEnds().iterator();i.hasNext();){var n=i.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var o=this.op.isCoveredByA(n.getCoordinate());r.setCovered(o)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getLabel();i.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(i,0):this.labelIsolatedLine(i,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var i=e.next(),n=(i.getLabel(),this.geometryFactory.createLineString(i.getCoordinates()));this.resultLineList.add(n),i.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,i){var n=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(nn.isResultOfOp(n,e)&&e===nn.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Ei}}),e(Si.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var i=this.geometryFactory.createPoint(e);this.resultPointList.add(i)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var i=e.next();if(!(i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==nn.INTERSECTION)){var n=i.getLabel();nn.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(i)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return Si}}),e(Ti.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Ti}}),e(Ii.prototype,{locate:function(t){return Ii.locate(t,this.geom)},interfaces_:function(){return[Ti]},getClass:function(){return Ii}}),Ii.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&ce.isPointInRing(t,e.getCoordinates())},Ii.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var i=e.getExteriorRing();if(!Ii.isPointInRing(t,i))return!1;for(var n=0;n<e.getNumInteriorRing();n++){var r=e.getInteriorRingN(n);if(Ii.isPointInRing(t,r))return!1}return!0},Ii.containsPoint=function(t,e){if(e instanceof kt)return Ii.containsPointInPolygon(t,e);if(e instanceof ft)for(var i=new Ie(e);i.hasNext();){var n=i.next();if(n!==e&&Ii.containsPoint(t,n))return!0}return!1},Ii.locate=function(t,e){return e.isEmpty()?T.EXTERIOR:Ii.containsPoint(t,e)?T.INTERIOR:T.EXTERIOR},e(ki.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),i=e-1;return 0===e&&(i=this.edgeList.size()-1),this.edgeList.get(i)},propagateSideLabels:function(t){for(var e=T.NONE,i=this.iterator();i.hasNext();){var n=i.next(),r=n.getLabel();r.isArea(t)&&r.getLocation(t,ci.LEFT)!==T.NONE&&(e=r.getLocation(t,ci.LEFT))}if(e===T.NONE)return null;for(var o=e,i=this.iterator();i.hasNext();){var n=i.next(),r=n.getLabel();if(r.getLocation(t,ci.ON)===T.NONE&&r.setLocation(t,ci.ON,o),r.isArea(t)){var s=r.getLocation(t,ci.LEFT),a=r.getLocation(t,ci.RIGHT);if(a!==T.NONE){if(a!==o)throw new ri("side location conflict",n.getCoordinate());s===T.NONE&&f.shouldNeverReachHere("found single null side (at "+n.getCoordinate()+")"),o=s}else f.isTrue(r.getLocation(t,ci.LEFT)===T.NONE,"found single null side"),r.setLocation(t,ci.RIGHT,o),r.setLocation(t,ci.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},print:function(t){N.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var i=e.next();i.print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var i=e.size()-1,n=e.get(i).getLabel(),r=n.getLocation(t,ci.LEFT);f.isTrue(r!==T.NONE,"Found unlabelled area edge");for(var o=r,s=this.iterator();s.hasNext();){var a=s.next(),l=a.getLabel();f.isTrue(l.isArea(t),"Found non-area edge");var u=l.getLocation(t,ci.LEFT),c=l.getLocation(t,ci.RIGHT);if(u===c)return!1;if(c!==o)return!1;o=u}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){var i=this.edgeList.get(e);if(i===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new x(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,i){return this.ptInAreaLocation[t]===T.NONE&&(this.ptInAreaLocation[t]=Ii.locate(e,i[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new P;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var i=e.next();t.append(i),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next();i.computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],i=this.iterator();i.hasNext();)for(var n=i.next(),r=n.getLabel(),o=0;2>o;o++)r.isLine(o)&&r.getLocation(o)===T.BOUNDARY&&(e[o]=!0);for(var i=this.iterator();i.hasNext();)for(var n=i.next(),r=n.getLabel(),o=0;2>o;o++)if(r.isAnyNull(o)){var s=T.NONE;if(e[o])s=T.EXTERIOR;else{var a=n.getCoordinate();s=this.getLocation(o,a,t)}r.setAllLocationsIfNull(o,s)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return ki}}),c(Pi,ki),e(Pi.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,i=this.SCANNING_FOR_INCOMING,n=0;n<this.resultAreaEdgeList.size();n++){var r=this.resultAreaEdgeList.get(n),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),i){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),i=this.SCANNING_FOR_INCOMING}}if(i===this.LINKING_TO_OUTGOING){if(null===t)throw new ri("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(1>e)return null;var i=t.get(0);if(1===e)return i;var n=t.get(e-1),r=i.getQuadrant(),o=n.getQuadrant();return Je.isNorthern(r)&&Je.isNorthern(o)?i:Je.isNorthern(r)||Je.isNorthern(o)?0!==i.getDy()?i:0!==n.getDy()?n:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null):n},print:function(t){N.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var i=e.next();t.print("out "),i.print(t),t.println(),t.print("in "),i.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new x;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next(),n=i.getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,i=this.edgeList.size()-1;i>=0;i--){var n=this.edgeList.get(i),r=n.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=n}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),i=(t.getLabel(),t.getDepth(ci.LEFT)),n=t.getDepth(ci.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),i),o=this.computeDepths(0,e,r);if(o!==n)throw new ri("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],a=arguments[1],l=arguments[2],u=l,c=s;a>c;c++){var h=this.edgeList.get(c);h.getLabel(),h.setEdgeDepths(ci.RIGHT,u),u=h.getDepth(ci.LEFT)}return u}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next(),i=e.getLabel();i.merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,i=null,n=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var o=this.resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),n){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;i=s,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;i.setNextMin(o),n=this.SCANNING_FOR_INCOMING}}n===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var i=e.next();i.isInResult()&&t++}return t}if(1===arguments.length){for(var n=arguments[0],t=0,e=this.iterator();e.hasNext();){var i=e.next();i.getEdgeRing()===n&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=T.NONE,e=this.iterator();e.hasNext();){var i=e.next(),n=i.getSym();if(!i.isLineEdge()){if(i.isInResult()){t=T.INTERIOR;break}if(n.isInResult()){t=T.EXTERIOR;break}}}if(t===T.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var i=e.next(),n=i.getSym();i.isLineEdge()?i.getEdge().setCovered(r===T.INTERIOR):(i.isInResult()&&(r=T.EXTERIOR),n.isInResult()&&(r=T.INTERIOR))}},computeLabelling:function(t){ki.prototype.computeLabelling.call(this,t),this.label=new fi(T.NONE);for(var e=this.iterator();e.hasNext();)for(var i=e.next(),n=i.getEdge(),r=n.getLabel(),o=0;2>o;o++){var s=r.getLocation(o);s!==T.INTERIOR&&s!==T.BOUNDARY||this.label.setLocation(o,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Pi}}),c(Li,xi),e(Li.prototype,{createNode:function(t){return new vi(t,new Pi)},interfaces_:function(){return[]},getClass:function(){return Li}}),e(Oi.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return Oi}}),e(Ai.prototype,{isDelete:function(){return this.eventType===Ai.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===Ai.INSERT},isSameLabel:function(t){return null!==this.label&&this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return Ai}}),Ai.INSERT=1,Ai.DELETE=2,e(Mi.prototype,{interfaces_:function(){return[]},getClass:function(){return Mi}}),e(Ri.prototype,{isTrivialIntersection:function(t,e,i,n){if(t===i&&1===this.li.getIntersectionNum()){if(Ri.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next(),r=n.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return null!==e&&(!!this.isBoundaryPointInternal(t,e[0])||!!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),i.addIntersections(this.li,n,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Ri}}),Ri.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},c(Ni,Mi),e(Ni.prototype,{prepareEvents:function(){hs.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var i=this.events.get(e);if(i.isInsert()&&this.processOverlaps(e,i.getDeleteEventIndex(),i,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Ri&&I(arguments[0],y)&&I(arguments[1],y)){var n=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(n,n),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&I(arguments[0],y)&&arguments[1]instanceof Ri){var s=arguments[0],a=arguments[1],l=arguments[2];l?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},addEdge:function(t,e){for(var i=t.getMonotoneChainEdge(),n=i.getStartIndexes(),r=0;r<n.length-1;r++){var o=new Oi(i,r),s=new Ai(e,i.getMinX(r),o);this.events.add(s),this.events.add(new Ai(i.getMaxX(r),s))}},processOverlaps:function(t,e,i,n){for(var r=i.getObject(),o=t;e>o;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();i.isSameLabel(s)||(r.computeIntersections(a,n),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var i=e.next();this.addEdge(i,i)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],e=n.iterator();e.hasNext();){var i=e.next();this.addEdge(i,r)}},interfaces_:function(){return[]},getClass:function(){return Ni}}),e(ji.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return oe.toLineString(new d(this.min,0),new d(this.max,0))},interfaces_:function(){return[]},getClass:function(){return ji}}),e(Di.prototype,{compare:function(t,e){var i=t,n=e,r=(i.min+i.max)/2,o=(n.min+n.max)/2;return o>r?-1:r>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Di}}),ji.NodeComparator=Di,c(Fi,ji),e(Fi.prototype,{query:function(t,e,i){return this.intersects(t,e)?void i.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return Fi}}),c(zi,ji),e(zi.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,i){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,i),void(null!==this.node2&&this.node2.query(t,e,i))):null},interfaces_:function(){return[]},getClass:function(){return zi}}),e(Bi.prototype,{buildTree:function(){hs.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,i=new x;;){if(this.buildLevel(t,i),1===i.size())return i.get(0);e=t,t=i,i=e}},insert:function(t,e,i){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new Fi(t,e,i))},query:function(t,e,i){this.init(),this.root.query(t,e,i)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){N.out.println(oe.toLineString(new d(t.min,this.level),new d(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var i=0;i<t.size();i+=2){var n=t.get(i),r=i+1<t.size()?t.get(i):null;if(null===r)e.add(n);else{var o=new zi(t.get(i),t.get(i+1));e.add(o)}}},interfaces_:function(){return[]},getClass:function(){return Bi}}),e(Vi.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Lt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof Et&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[F]},getClass:function(){return Vi}}),Vi.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Vi.getLines(t))}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().buildGeometry(Vi.getLines(e,i))}},Vi.getLines=function(){if(1===arguments.length){var t=arguments[0];return Vi.getLines(t,!1)}if(2===arguments.length){if(I(arguments[0],m)&&I(arguments[1],m)){for(var e=arguments[0],i=arguments[1],n=e.iterator();n.hasNext();){var r=n.next();Vi.getLines(r,i)}return i}if(arguments[0]instanceof z&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new x;return o.apply(new Vi(a,s)),a}if(arguments[0]instanceof z&&I(arguments[1],m)){var l=arguments[0],u=arguments[1];return l instanceof Et?u.add(l):l.apply(new Vi(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&I(arguments[0],m)&&I(arguments[1],m)){for(var c=arguments[0],h=arguments[1],f=arguments[2],n=c.iterator();n.hasNext();){var r=n.next();Vi.getLines(r,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof z&&I(arguments[1],m)){var d=arguments[0],p=arguments[1],g=arguments[2];return d.apply(new Vi(p,g)),p}}},e(qi.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ne]},getClass:function(){return qi}}),e(Ui.prototype,{locate:function(t){var e=new ue(t),i=new Gi(e);return this.index.query(t.y,t.y,i),e.getLocation()},interfaces_:function(){return[Ti]},getClass:function(){return Ui}}),e(Gi.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Ne]},getClass:function(){return Gi}}),e(Hi.prototype,{init:function(t){for(var e=Vi.getLines(t),i=e.iterator();i.hasNext();){var n=i.next(),r=n.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var i=new he(t[e-1],t[e]),n=Math.min(i.p0.y,i.p1.y),r=Math.max(i.p0.y,i.p1.y);this.index.insert(n,r,i)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new qi;return this.index.query(t,e,i),i.getItems()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this.index.query(n,r,o)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),Ui.SegmentVisitor=Gi,Ui.IntervalIndexedGeometry=Hi,e(Xi.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Xi}}),e(Wi.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var i=e.next();i.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),s=0;o[s++]=new d(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new Ki(o,new fi(this.edge.label))},add:function(t,e,i){var n=new Xi(t,e,i),r=this.nodeMap.get(n);return null!==r?r:(this.nodeMap.put(n,n),n)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next();if(i.coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return Wi}}),e(Yi.prototype,{getChainStartIndices:function(t){var e=0,i=new x;i.add(new L(e));do{var n=this.findChainEnd(t,e);i.add(new L(n)),e=n}while(e<t.length-1);var r=Yi.toIntArray(i);return r},findChainEnd:function(t,e){for(var i=Je.quadrant(t[e],t[e+1]),n=e+1;n<t.length;){var r=Je.quadrant(t[n-1],t[n]);if(r!==i)break;n++}return n-1},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e},e($i.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e>i?e:i},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return i>e?e:i},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[i],e.startIndex[i+1],n)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],d=s.pts[l];if(o-r===1&&l-a===1)return u.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+o)/2),g=Math.trunc((a+l)/2);p>r&&(g>a&&this.computeIntersectsForChain(r,p,s,a,g,u),l>g&&this.computeIntersectsForChain(r,p,s,g,l,u)),o>p&&(g>a&&this.computeIntersectsForChain(p,o,s,a,g,u),l>g&&this.computeIntersectsForChain(p,o,s,g,l,u))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var i=0;i<this.startIndex.length-1;i++)for(var n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(i,t,n,e)},interfaces_:function(){return[]},getClass:function(){return $i}}),e(Zi.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,i){this.depth[t][e]=i},isNull:function(){if(0===arguments.length){for(var t=0;2>t;t++)for(var e=0;3>e;e++)if(this.depth[t][e]!==Zi.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this.depth[i][1]===Zi.NULL_VALUE}if(2===arguments.length){var n=arguments[0],r=arguments[1];
return this.depth[n][r]===Zi.NULL_VALUE}},normalize:function(){for(var t=0;2>t;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),0>e&&(e=0);for(var i=1;3>i;i++){var n=0;this.depth[t][i]>e&&(n=1),this.depth[t][i]=n}}},getDelta:function(t){return this.depth[t][ci.RIGHT]-this.depth[t][ci.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?T.EXTERIOR:T.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;2>e;e++)for(var i=1;3>i;i++){var n=t.getLocation(e,i);n!==T.EXTERIOR&&n!==T.INTERIOR||(this.isNull(e,i)?this.depth[e][i]=Zi.depthAtLocation(n):this.depth[e][i]+=Zi.depthAtLocation(n))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];s===T.INTERIOR&&this.depth[r][o]++}},interfaces_:function(){return[]},getClass:function(){return Zi}}),Zi.depthAtLocation=function(t){return t===T.EXTERIOR?0:t===T.INTERIOR?1:Zi.NULL_VALUE},Zi.NULL_VALUE=-1,c(Ki,mi),e(Ki.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];var e=new Ki(t,fi.toLineLabel(this.label));return e},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Ki))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var i=!0,n=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(i=!1),this.pts[o].equals2D(e.pts[--r])||(n=!1),!i&&!n)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Ki.updateIM(this.label,t)},isCollapsed:function(){return!!this.label.isArea()&&(3===this.pts.length&&!!this.pts[0].equals(this.pts[2]))},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new $i(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new C;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,i,n){var r=new d(t.getIntersection(n)),o=e,s=t.getEdgeDistance(i,n),a=o+1;if(a<this.pts.length){var l=this.pts[a];r.equals2D(l)&&(o=a,s=0)}this.eiList.add(r,o,s)},toString:function(){var t=new P;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.updateIM=function(){if(2!==arguments.length)return mi.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,ci.ON),t.getLocation(1,ci.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,ci.LEFT),t.getLocation(1,ci.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,ci.RIGHT),t.getLocation(1,ci.RIGHT),2))},c(Ji,wi),e(Ji.prototype,{insertBoundaryPoint:function(t,e){var i=this.nodes.addNode(e),n=i.getLabel(),r=1,o=T.NONE;o=n.getLocation(t,ci.ON),o===T.BOUNDARY&&r++;var s=Ji.determineBoundary(this.boundaryNodeRule,r);n.setLocation(t,s)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=new Ri(i,(!0),(!1));o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this.parentGeom instanceof Lt||this.parentGeom instanceof kt||this.parentGeom instanceof Ot,l=n||!a;return s.computeIntersections(this.edges,o,l),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){var i=e.next();i.eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,i){var n=new Ri(e,i,(!0));n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());var r=this.createEdgeSetIntersector();return r.computeIntersections(this.edges,t.edges,n),n},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof Tt){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,T.INTERIOR)}else if(arguments[0]instanceof d){var i=arguments[0];this.insertPoint(this.argIndex,i,T.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),T.EXTERIOR,T.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var i=t.getInteriorRingN(e);this.addPolygonRing(i,T.INTERIOR,T.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],T.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],T.BOUNDARY)},addLineString:function(t){var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var i=new Ki(e,new fi(this.argIndex,T.INTERIOR));this.lineEdgeMap.put(t,i),this.insertEdge(i),f.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),i=0,n=t.iterator();n.hasNext();){var r=n.next();e[i++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,i){return this.isBoundaryNode(t,e)?null:void(i===T.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,i))},addPolygonRing:function(t,e,i){if(t.isEmpty())return null;var n=X.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=n[0],null;var r=e,o=i;ce.isCCW(n)&&(r=i,o=e);var s=new Ki(n,new fi(this.argIndex,T.BOUNDARY,r,o));this.lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this.argIndex,n[0],T.BOUNDARY)},insertPoint:function(t,e,i){var n=this.nodes.addNode(e),r=n.getLabel();null===r?n.label=new fi(t,i):r.setLocation(t,i)},createEdgeSetIntersector:function(){return new Ni},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,n)}},add:function(){if(1!==arguments.length)return wi.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Ot&&(this.useBoundaryDeterminationRule=!1),t instanceof kt)this.addPolygon(t);else if(t instanceof Et)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Pt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},locate:function(t){return I(this.parentGeom,It)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new Ui(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return wi.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.determineBoundary=function(t,e){return t.isInBoundary(e)?T.BOUNDARY:T.INTERIOR},e(Qi.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return Qi}}),e(tn.prototype,{compareTo:function(t){var e=t,i=tn.compareOriented(this.pts,this._orientation,e.pts,e._orientation);return i},interfaces_:function(){return[o]},getClass:function(){return tn}}),tn.orientation=function(t){return 1===X.increasingDirection(t)},tn.compareOriented=function(t,e,i,n){for(var r=e?1:-1,o=n?1:-1,s=e?t.length:-1,a=n?i.length:-1,l=e?0:t.length-1,u=n?0:i.length-1;;){var c=t[l].compareTo(i[u]);if(0!==c)return c;l+=r,u+=o;var h=l===s,f=u===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},e(en.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var i=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var n=i.getCoordinates(),r=0;r<n.length;r++)r>0&&t.print(","),t.print(n[r].x+" "+n[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new tn(t.getCoordinates()),i=this.ocaMap.get(e);return i},add:function(t){this.edges.add(t);var e=new tn(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return en}}),c(nn,Qi),e(nn.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new fi(t.getLabel()),n.flip());var r=e.getDepth();r.isNull()&&r.add(i),r.add(n),i.merge(n)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),i=e.getSym();e.isInResult()&&i.isInResult()&&(e.setInResult(!1),i.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this.resultLineList)||!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,i,n){var r=new x;return r.addAll(t),r.addAll(e),r.addAll(i),r.isEmpty()?nn.createEmptyResult(n,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next(),r=this.ptLocator.locate(t,n);if(r!==T.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new x,e=this.edgeList.iterator();e.hasNext();){var i=e.next();i.isCollapsed()&&(e.remove(),t.add(i.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),i=e.getEdges().getLabel();e.getLabel().merge(i)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertUniqueEdge(i)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new x;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),li.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var i=new Ci(this.geomFact);i.add(this.graph),this.resultPolyList=i.getPolygons();var n=new Ei(this,this.geomFact,this.ptLocator);this.resultLineList=n.build(t);var r=new Si(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var i=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,i)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var i=e.next(),n=this.graph.addNode(i.getCoordinate());n.setLabel(t,i.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var i=e.next(),n=i.getLabel();n.isArea()&&!i.isInteriorAreaEdge()&&nn.isResultOfOp(n.getLocation(0,ci.RIGHT),n.getLocation(1,ci.RIGHT),t)&&i.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),i=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(var r=0;2>r;r++)i.isNull(r)||!i.isArea()||n.isNull(r)||(0===n.getDelta(r)?i.toLine(r):(f.isTrue(!n.isNull(r,ci.LEFT),"depth of LEFT side has not been initialized"),i.setLocation(r,ci.LEFT,n.getLocation(r,ci.LEFT)),f.isTrue(!n.isNull(r,ci.RIGHT),"depth of RIGHT side has not been initialized"),i.setLocation(r,ci.RIGHT,n.getLocation(r,ci.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var i=e.next(),n=i.getLabel();i.isIsolated()&&(t++,n.isNull(0)?this.labelIncompleteNode(i,0):this.labelIncompleteNode(i,1)),i.getEdges().updateLabelling(n)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return nn}}),nn.overlayOp=function(t,e,i){var n=new nn(t,e),r=n.getResultGeometry(i);return r},nn.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return nn.createEmptyResult(nn.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var i=e;return ui.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(i)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),on.overlayOp(t,e,nn.INTERSECTION)},nn.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return nn.createEmptyResult(nn.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),on.overlayOp(t,e,nn.SYMDIFFERENCE)},nn.resultDimension=function(t,e,i){var n=e.getDimension(),r=i.getDimension(),o=-1;switch(t){case nn.INTERSECTION:o=Math.min(n,r);break;case nn.UNION:o=Math.max(n,r);break;case nn.DIFFERENCE:o=n;break;case nn.SYMDIFFERENCE:o=Math.max(n,r)}return o},nn.createEmptyResult=function(t,e,i,n){var r=null;switch(nn.resultDimension(t,e,i)){case-1:r=n.createGeometryCollection(new Array(0).fill(null));break;case 0:r=n.createPoint();break;case 1:r=n.createLineString();break;case 2:r=n.createPolygon()}return r},nn.difference=function(t,e){return t.isEmpty()?nn.createEmptyResult(nn.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),on.overlayOp(t,e,nn.DIFFERENCE))},nn.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=t.getLocation(0),n=t.getLocation(1);return nn.isResultOfOp(i,n,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===T.BOUNDARY&&(r=T.INTERIOR),o===T.BOUNDARY&&(o=T.INTERIOR),s){case nn.INTERSECTION:return r===T.INTERIOR&&o===T.INTERIOR;case nn.UNION:return r===T.INTERIOR||o===T.INTERIOR;case nn.DIFFERENCE:return r===T.INTERIOR&&o!==T.INTERIOR;case nn.SYMDIFFERENCE:return r===T.INTERIOR&&o!==T.INTERIOR||r!==T.INTERIOR&&o===T.INTERIOR}return!1}},nn.INTERSECTION=1,nn.UNION=2,nn.DIFFERENCE=3,nn.SYMDIFFERENCE=4,e(rn.prototype,{selfSnap:function(t){var e=new xe(t),i=e.snapTo(t,this.snapTolerance);return i},removeCommonBits:function(t){this.cbr=new Ee,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),i=nn.overlayOp(e[0],e[1],t);return this.prepareResult(i)},checkValid:function(t){t.isValid()||N.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=xe.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t),i=xe.snap(e[0],e[1],this.snapTolerance);return i},interfaces_:function(){return[]},getClass:function(){return rn}}),rn.overlayOp=function(t,e,i){var n=new rn(t,e);return n.getResultGeometry(i)},rn.union=function(t,e){return rn.overlayOp(t,e,nn.UNION)},rn.intersection=function(t,e){return rn.overlayOp(t,e,nn.INTERSECTION)},rn.symDifference=function(t,e){return rn.overlayOp(t,e,nn.SYMDIFFERENCE)},rn.difference=function(t,e){return rn.overlayOp(t,e,nn.DIFFERENCE)},e(on.prototype,{getResultGeometry:function(t){var e=null,i=!1,n=null;try{e=nn.overlayOp(this.geom[0],this.geom[1],t);var r=!0;r&&(i=!0)}catch(t){if(!(t instanceof u))throw t;n=t}finally{}if(!i)try{e=rn.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof u?n:t}finally{}return e},interfaces_:function(){return[]},getClass:function(){return on}}),on.overlayOp=function(t,e,i){var n=new on(t,e);return n.getResultGeometry(i)},on.union=function(t,e){return on.overlayOp(t,e,nn.UNION)},on.intersection=function(t,e){return on.overlayOp(t,e,nn.INTERSECTION)},on.symDifference=function(t,e){return on.overlayOp(t,e,nn.SYMDIFFERENCE)},on.difference=function(t,e){return on.overlayOp(t,e,nn.DIFFERENCE)},e(sn.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,i=0,n=this.horizontalBisector(t);if(0===n.getLength())i=0,e=n.getCoordinate();else{var r=on.overlayOp(n,t,nn.INTERSECTION),o=this.widestGeometry(r);i=o.getEnvelopeInternal().getWidth(),e=sn.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||i>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=i)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function zs(){if(arguments[0]instanceof ft){var t=arguments[0];if(t.isEmpty())return t;for(var zs=t.getGeometryN(0),e=1;e<t.getNumGeometries();e++)t.getGeometryN(e).getEnvelopeInternal().getWidth()>zs.getEnvelopeInternal().getWidth()&&(zs=t.getGeometryN(e));return zs}if(arguments[0]instanceof z){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),i=an.getBisectorY(t);return this.factory.createLineString([new d(e.getMinX(),i),new d(e.getMaxX(),i)])},add:function(t){if(t instanceof kt)this.addPolygon(t);else if(t instanceof ft)for(var e=t,i=0;i<e.getNumGeometries();i++)this.add(e.getGeometryN(i))},interfaces_:function(){return[]},getClass:function(){return sn}}),sn.centre=function(t){return new d(sn.avg(t.getMinX(),t.getMaxX()),sn.avg(t.getMinY(),t.getMaxY()))},sn.avg=function(t,e){return(t+e)/2},e(an.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));var e=sn.avg(this.hiY,this.loY);return e},process:function(t){for(var e=t.getCoordinateSequence(),i=0;i<e.size();i++){var n=e.getY(i);this.updateInterval(n)}},interfaces_:function(){return[]},getClass:function(){return an}}),an.getBisectorY=function(t){var e=new an(t);return e.getBisectorY()},sn.SafeBisectorFinder=an,e(ln.prototype,{addEndpoints:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof Et)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,i=0;i<e.getNumGeometries();i++)this.addEndpoints(e.getGeometryN(i))}else if(arguments[0]instanceof Array){var n=arguments[0];this.add(n[0]),this.add(n[n.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof Et)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,i=0;i<e.getNumGeometries();i++)this.addInterior(e.getGeometryN(i))}else if(arguments[0]instanceof Array)for(var n=arguments[0],i=1;i<n.length-1;i++)this.add(n[i])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new d(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return ln}}),e(un.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof z){var t=arguments[0];if(t instanceof Tt)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,i=0;i<e.getNumGeometries();i++)this.add(e.getGeometryN(i))}else if(arguments[0]instanceof d){var n=arguments[0],r=n.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new d(n),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return un}}),e(cn.prototype,{interfaces_:function(){return[]},getClass:function(){return cn}}),cn.toDegrees=function(t){return 180*t/Math.PI},cn.normalize=function(t){for(;t>Math.PI;)t-=cn.PI_TIMES_2;for(;t<=-Math.PI;)t+=cn.PI_TIMES_2;return t},cn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=i.x-e.x,r=i.y-e.y;return Math.atan2(r,n)}},cn.isAcute=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=i.x-e.x,s=i.y-e.y,a=n*o+r*s;return a>0},cn.isObtuse=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=i.x-e.x,s=i.y-e.y,a=n*o+r*s;return 0>a},cn.interiorAngle=function(t,e,i){var n=cn.angle(e,t),r=cn.angle(e,i);return Math.abs(r-n)},cn.normalizePositive=function(t){if(0>t){for(;0>t;)t+=cn.PI_TIMES_2;t>=cn.PI_TIMES_2&&(t=0)}else{for(;t>=cn.PI_TIMES_2;)t-=cn.PI_TIMES_2;0>t&&(t=0)}return t},cn.angleBetween=function(t,e,i){var n=cn.angle(e,t),r=cn.angle(e,i);return cn.diff(n,r)},cn.diff=function(t,e){var i=null;return i=e>t?e-t:t-e,i>Math.PI&&(i=2*Math.PI-i),i},cn.toRadians=function(t){return t*Math.PI/180},cn.getTurn=function(t,e){var i=Math.sin(e-t);return i>0?cn.COUNTERCLOCKWISE:0>i?cn.CLOCKWISE:cn.NONE},cn.angleBetweenOriented=function(t,e,i){var n=cn.angle(e,t),r=cn.angle(e,i),o=r-n;return o<=-Math.PI?o+cn.PI_TIMES_2:o>Math.PI?o-cn.PI_TIMES_2:o},cn.PI_TIMES_2=2*Math.PI,cn.PI_OVER_2=Math.PI/2,cn.PI_OVER_4=Math.PI/4,cn.COUNTERCLOCKWISE=ce.COUNTERCLOCKWISE,cn.CLOCKWISE=ce.CLOCKWISE,cn.NONE=ce.COLLINEAR,e(hn.prototype,{area:function(){return hn.area(this.p0,this.p1,this.p2)},signedArea:function(){return hn.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new n("Supplied point is null.");return hn.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return hn.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return hn.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return hn.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return hn.area3D(this.p0,this.p1,this.p2)},centroid:function(){return hn.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return hn.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return hn}}),hn.area=function(t,e,i){return Math.abs(((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2)},hn.signedArea=function(t,e,i){return((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2},hn.det=function(t,e,i,n){return t*n-e*i},hn.interpolateZ=function(t,e,i,n){var r=e.x,o=e.y,s=i.x-r,a=n.x-r,l=i.y-o,u=n.y-o,c=s*u-a*l,h=t.x-r,f=t.y-o,d=(u*h-a*f)/c,p=(-l*h+s*f)/c,g=e.z+d*(i.z-e.z)+p*(n.z-e.z);return g},hn.longestSideLength=function(t,e,i){var n=t.distance(e),r=e.distance(i),o=i.distance(t),s=n;return r>s&&(s=r),o>s&&(s=o),s},hn.isAcute=function(t,e,i){return!(!cn.isAcute(t,e,i)||!cn.isAcute(e,i,t))&&!!cn.isAcute(i,t,e)},hn.circumcentre=function(t,e,i){var n=i.x,r=i.y,o=t.x-n,s=t.y-r,a=e.x-n,l=e.y-r,u=2*hn.det(o,s,a,l),c=hn.det(s,o*o+s*s,l,a*a+l*l),h=hn.det(o,o*o+s*s,a,a*a+l*l),f=n-c/u,p=r+h/u;return new d(f,p)},hn.perpendicularBisector=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=new j(t.x+i/2,t.y+n/2,1),o=new j(t.x-n+i/2,t.y+i+n/2,1);return new j(r,o)},hn.angleBisector=function(t,e,i){var n=e.distance(t),r=e.distance(i),o=n/(n+r),s=i.x-t.x,a=i.y-t.y,l=new d(t.x+o*s,t.y+o*a);return l},hn.area3D=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=i.x-t.x,a=i.y-t.y,l=i.z-t.z,u=r*l-o*a,c=o*s-n*l,h=n*a-r*s,f=u*u+c*c+h*h,d=Math.sqrt(f)/2;return d},hn.centroid=function(t,e,i){var n=(t.x+e.x+i.x)/3,r=(t.y+e.y+i.y)/3;return new d(n,r)},hn.inCentre=function(t,e,i){var n=e.distance(i),r=t.distance(i),o=t.distance(e),s=n+r+o,a=(n*t.x+r*e.x+o*i.x)/s,l=(n*t.y+r*e.y+o*i.y)/s;return new d(a,l)},e(fn.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new d(t[0])],null}var e=this.input.convexHull(),i=e.getCoordinates(),t=i;if(i[0].equals2D(i[i.length-1])&&(t=new Array(i.length-1).fill(null),X.copyDeep(i,0,t,0,i.length-1)),t.length<=2)return this.extremalPts=X.copyDeep(t),null;for(var n=fn.lowestPoint(t),r=fn.pointWitMinAngleWithX(t,n),o=0;o<t.length;o++){var s=fn.pointWithMinAngleWithSegment(t,n,r);if(cn.isObtuse(n,s,r))return this.extremalPts=[new d(n),new d(r)],null;if(cn.isObtuse(s,n,r))n=s;else{if(!cn.isObtuse(s,r,n))return this.extremalPts=[new d(n),new d(r),new d(s)],null;r=s}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new d((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=hn.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return fn}}),fn.pointWitMinAngleWithX=function(t,e){for(var i=r.MAX_VALUE,n=null,o=0;o<t.length;o++){var s=t[o];if(s!==e){var a=s.x-e.x,l=s.y-e.y;0>l&&(l=-l);var u=Math.sqrt(a*a+l*l),c=l/u;i>c&&(i=c,n=s)}}return n},fn.lowestPoint=function(t){for(var e=t[0],i=1;i<t.length;i++)t[i].y<e.y&&(e=t[i]);return e},fn.pointWithMinAngleWithSegment=function(t,e,i){for(var n=r.MAX_VALUE,o=null,s=0;s<t.length;s++){var a=t[s];if(a!==e&&a!==i){var l=cn.angleBetween(e,a,i);n>l&&(n=l,o=a)}}return o},e(dn.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){t instanceof kt?this.convexHullPts=t.getExteriorRing().getCoordinates():this.convexHullPts=t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,i=new he,n=0;n<t.length-1;n++)i.p0=t[n],i.p1=t[n+1],e=this.findMaxPerpDistance(t,i,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new ve(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,i){for(var n=e.distancePerpendicular(t[i]),r=n,o=i,s=o;r>=n;)n=r,o=s,s=dn.nextIndex(t,o),r=e.distancePerpendicular(t[s]);return n<this.minWidth&&(this.minPtIndex=o,this.minWidth=n,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new he(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,i=r.MAX_VALUE,n=-r.MAX_VALUE,o=r.MAX_VALUE,s=-r.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var l=dn.computeC(t,e,this.convexHullPts[a]);l>n&&(n=l),i>l&&(i=l);var u=dn.computeC(-e,t,this.convexHullPts[a]);u>s&&(s=u),o>u&&(o=u)}var c=dn.computeSegmentForLine(-t,-e,s),h=dn.computeSegmentForLine(-t,-e,o),f=dn.computeSegmentForLine(-e,t,n),d=dn.computeSegmentForLine(-e,t,i),p=f.lineIntersection(c),g=d.lineIntersection(c),m=d.lineIntersection(h),v=f.lineIntersection(h),y=this.inputGeom.getFactory().createLinearRing([p,g,m,v,p]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return dn}}),dn.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},dn.computeC=function(t,e,i){return t*i.y-e*i.x},dn.getMinimumDiameter=function(t){return new dn(t).getDiameter()},dn.getMinimumRectangle=function(t){return new dn(t).getMinimumRectangle()},dn.computeSegmentForLine=function(t,e,i){var n=null,r=null;return Math.abs(e)>Math.abs(t)?(n=new d(0,i/e),r=new d(1,i/e-t/e)):(n=new d(i/t,0),r=new d(i/t-e/t,1)),
new he(n,r)};var fs=Object.freeze({Centroid:de,CGAlgorithms:ce,ConvexHull:ve,InteriorPointArea:sn,InteriorPointLine:ln,InteriorPointPoint:un,RobustLineIntersector:ae,MinimumBoundingCircle:fn,MinimumDiameter:dn});e(pn.prototype,{getResultGeometry:function(){return new gn(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>=t)throw new n("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.densifyPoints=function(t,e,i){for(var n=new he,r=new w,o=0;o<t.length-1;o++){n.p0=t[o],n.p1=t[o+1],r.add(n.p0,!1);var s=n.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var l=s/a,u=1;a>u;u++){var c=u*l/s,h=n.pointAlong(c);i.makePrecise(h),r.add(h,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},pn.densify=function(t,e){var i=new pn(t);return i.setDistanceTolerance(e),i.getResultGeometry()},c(gn,_e),e(gn.prototype,{transformMultiPolygon:function(t,e){var i=_e.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)},transformPolygon:function(t,e){var i=_e.prototype.transformPolygon.call(this,t,e);return e instanceof Ot?i:this.createValidArea(i)},transformCoordinates:function(t,e){var i=t.toCoordinateArray(),n=pn.densifyPoints(i,this.distanceTolerance,e.getPrecisionModel());return e instanceof Et&&1===n.length&&(n=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(n)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return gn}}),pn.DensifyTransformer=gn;var ds=Object.freeze({Densifier:pn});e(mn.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),i=this;do{var n=i.oNext(),r=n.compareTo(t);if(r!==e||n===this)return i.insertAfter(t),null;i=n}while(i!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function Bs(){var Bs=0,t=this;do Bs++,t=t.oNext();while(t!==this);return Bs},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),i=this.deltaY(),n=t.deltaX(),r=t.deltaY();if(e===n&&i===r)return 0;var o=Je.quadrant(e,i),s=Je.quadrant(n,r);return o>s?1:s>o?-1:ce.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if(t=t.prev(),t===this)return null;return t},compareTo:function(t){var e=t,i=this.compareAngularDirection(e);return i},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return mn}}),mn.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},mn.create=function(t,e){var i=new mn(t),n=new mn(e);return i.init(n),i},c(vn,mn),e(vn.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return vn}}),vn.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},vn.isMarked=function(t){return t.isMarked()},vn.setMark=function(t,e){t.setMark(e)},vn.markBoth=function(t){t.mark(),t.sym().mark()},vn.mark=function(t){t.mark()},e(yn.prototype,{insert:function(t,e,i){var n=this.create(t,e);null!==i?i.insert(n):this.vertexMap.put(t,n);var r=this.vertexMap.get(e);return null!==r?r.insert(n.sym()):this.vertexMap.put(e,n.sym()),n},create:function(t,e){var i=this.createEdge(t),n=this.createEdge(e);return mn.init(i,n),i},createEdge:function(t){return new mn(t)},addEdge:function(t,e){if(!yn.isValidEdge(t,e))return null;var i=this.vertexMap.get(t),n=null;if(null!==i&&(n=i.find(e)),null!==n)return n;var r=this.insert(t,e,i);return r},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var i=this.vertexMap.get(t);return null===i?null:i.find(e)},interfaces_:function(){return[]},getClass:function(){return yn}}),yn.isValidEdge=function(t,e){var i=e.compareTo(t);return 0!==i},c(_n,vn),e(_n.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return _n}}),c(bn,yn),e(bn.prototype,{createEdge:function(t){return new _n(t)},interfaces_:function(){return[]},getClass:function(){return bn}}),e(xn.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new w,i=t;for(e.add(i.orig().copy(),!1);2===i.sym().degree();){var n=i.next();if(n===t)break;e.add(n.orig().copy(),!1),i=n}e.add(i.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new w,i=t;for(this.ringStartEdge=null,vn.markBoth(i),e.add(i.orig().copy(),!1);2===i.sym().degree();){this.updateRingStartEdge(i);var n=i.next();if(n===t)return this.buildRing(this.ringStartEdge),null;e.add(n.orig().copy(),!1),i=n,vn.markBoth(i)}e.add(i.dest().copy(),!1),this.stackEdges(i.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do vn.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext();while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var i=e.next();vn.isMarked(i)||this.process(i)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();vn.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof z){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Et&&this.add(t)}})}else if(I(arguments[0],m))for(var e=arguments[0],i=e.iterator();i.hasNext();){var n=i.next();this.add(n)}else if(arguments[0]instanceof Et){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory());for(var o=r.getCoordinateSequence(),s=!1,i=1;i<o.size();i++){var a=this.graph.addEdge(o.getCoordinate(i-1),o.getCoordinate(i));null!==a&&(s||(a.setStart(),s=!0))}}},interfaces_:function(){return[]},getClass:function(){return xn}}),xn.dissolve=function(t){var e=new xn;return e.add(t),e.getResult()};var ps=Object.freeze({LineDissolver:xn});e(wn.prototype,{hasChildren:function(){for(var t=0;4>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;4>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var i=0;4>i;i++)null!==this.subnode[i]&&this.subnode[i].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var i=this.items.iterator();i.hasNext();)e.visitItem(i.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var i=!1,n=0;4>n;n++)if(null!==this.subnode[n]&&(i=this.subnode[n].remove(t,e))){this.subnode[n].isPrunable()&&(this.subnode[n]=null);break}return i?i:i=this.items.remove(e)},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var i=0;4>i;i++)null!==this.subnode[i]&&this.subnode[i].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;4>e;e++)if(null!==this.subnode[e]){var i=this.subnode[e].depth();i>t&&(t=i)}return t+1},isEmpty:function Vs(){var Vs=!0;this.items.isEmpty()||(Vs=!1);for(var t=0;4>t;t++)null!==this.subnode[t]&&(this.subnode[t].isEmpty()||(Vs=!1));return Vs},add:function(t){this.items.add(t)},interfaces_:function(){return[l]},getClass:function(){return wn}}),wn.getSubnodeIndex=function(t,e,i){var n=-1;return t.getMinX()>=e&&(t.getMinY()>=i&&(n=3),t.getMaxY()<=i&&(n=1)),t.getMaxX()<=e&&(t.getMinY()>=i&&(n=2),t.getMaxY()<=i&&(n=0)),n},Cn.exponent=function(t){return En(64,t)-1023},Cn.powerOf2=function(t){return Math.pow(2,t)},e(Sn.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=Sn.computeQuadLevel(t),this.env=new C,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=Cn.powerOf2(e);this.pt.x=Math.floor(i.getMinX()/n)*n,this.pt.y=Math.floor(i.getMinY()/n)*n,this.env.init(this.pt.x,this.pt.x+n,this.pt.y,this.pt.y+n)}},getEnvelope:function(){return this.env},getCentre:function(){return new d((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Sn}}),Sn.computeQuadLevel=function(t){var e=t.getWidth(),i=t.getHeight(),n=e>i?e:i,r=Cn.exponent(n)+1;return r},c(Tn,wn),e(Tn.prototype,{find:function(t){var e=wn.getSubnodeIndex(t,this.centrex,this.centrey);if(-1===e)return this;if(null!==this.subnode[e]){var i=this.subnode[e];return i.find(t)}return this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=wn.getSubnodeIndex(t,this.centrex,this.centrey);if(-1!==e){var i=this.getSubnode(e);return i.getNode(t)}return this},createSubnode:function(t){var e=0,i=0,n=0,r=0;switch(t){case 0:e=this.env.getMinX(),i=this.centrex,n=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,i=this.env.getMaxX(),n=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),i=this.centrex,n=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,i=this.env.getMaxX(),n=this.centrey,r=this.env.getMaxY()}var o=new C(e,i,n,r),s=new Tn(o,this.level-1);return s},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e=wn.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var i=this.createSubnode(e);i.insertNode(t),this.subnode[e]=i}},interfaces_:function(){return[]},getClass:function(){return Tn}}),Tn.createNode=function(t){var e=new Sn(t),i=new Tn(e.getEnvelope(),e.getLevel());return i},Tn.createExpanded=function(t,e){var i=new C(e);null!==t&&i.expandToInclude(t.env);var n=Tn.createNode(i);return null!==t&&n.insertNode(t),n},e(In.prototype,{interfaces_:function(){return[]},getClass:function(){return In}}),In.isZeroWidth=function(t,e){var i=e-t;if(0===i)return!0;var n=Math.max(Math.abs(t),Math.abs(e)),r=i/n,o=Cn.exponent(r);return o<=In.MIN_BINARY_EXPONENT},In.MIN_BINARY_EXPONENT=-50,c(kn,wn),e(kn.prototype,{insert:function(t,e){var i=wn.getSubnodeIndex(t,kn.origin.x,kn.origin.y);if(-1===i)return this.add(e),null;var n=this.subnode[i];if(null===n||!n.getEnvelope().contains(t)){var r=Tn.createExpanded(n,t);this.subnode[i]=r}this.insertContained(this.subnode[i],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,i){f.isTrue(t.getEnvelope().contains(e));var n=In.isZeroWidth(e.getMinX(),e.getMaxX()),r=In.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=n||r?t.find(e):t.getNode(e),o.add(i)},interfaces_:function(){return[]},getClass:function(){return kn}}),kn.origin=new d(0,0),e(Pn.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var i=Pn.ensureExtent(t,this.minExtent);this.root.insert(i,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new qi;return this.query(t,e),e.getItems()}if(2===arguments.length){var i=arguments[0],n=arguments[1];this.root.visit(i,n)}},queryAll:function(){var t=new x;return this.root.addAllItems(t),t},remove:function(t,e){var i=Pn.ensureExtent(t,this.minExtent);return this.root.remove(i,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var i=t.getHeight();i<this.minExtent&&i>0&&(this.minExtent=i)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[je,l]},getClass:function(){return Pn}}),Pn.ensureExtent=function(t,e){var i=t.getMinX(),n=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return i!==n&&r!==o?t:(i===n&&(i-=e/2,n=i+e/2),r===o&&(r-=e/2,o=r+e/2),new C(i,n,r,o))},Pn.serialVersionUID=-0x678b60c967a25400;var gs=Object.freeze({Quadtree:Pn}),ms=Object.freeze({STRtree:qe}),vs=Object.freeze({quadtree:gs,strtree:ms}),ys=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Ln.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var i=e.type;if(!_s[i])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ys.indexOf(i)?_s[i].apply(this,[e.coordinates]):"GeometryCollection"===i?_s[i].apply(this,[e.geometries]):_s[i].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!bs[e])throw new Error("Geometry is not supported");return bs[e].apply(this,[t])}});var _s={Feature:function(t){var e={};for(var i in t)e[i]=t[i];if(t.geometry){var n=t.geometry.type;if(!_s[n])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=_s.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var i=0;i<t.features.length;++i)e.features.push(this.read(t.features[i]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function qs(t){for(var qs=[],e=0;e<t.length;++e){var i=t[e];qs.push(new d(i[0],i[1]))}return qs},bbox:function(t){return this.geometryFactory.createLinearRing([new d(t[0],t[1]),new d(t[2],t[1]),new d(t[2],t[3]),new d(t[0],t[3]),new d(t[0],t[1])])},Point:function(t){var e=new d(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],i=0;i<t.length;++i)e.push(_s.Point.apply(this,[t[i]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=_s.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],i=0;i<t.length;++i)e.push(_s.LineString.apply(this,[t[i]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=_s.coordinates.apply(this,[t[0]]),i=this.geometryFactory.createLinearRing(e),n=[],r=1;r<t.length;++r){var o=t[r],s=_s.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);n.push(a)}return this.geometryFactory.createPolygon(i,n)},MultiPolygon:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(_s.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},bs={coordinate:function(t){return[t.x,t.y]},Point:function(t){var e=bs.coordinate.apply(this,[t.getCoordinate()]);return{type:"Point",coordinates:e}},MultiPoint:function(t){for(var e=[],i=0;i<t.geometries.length;++i){var n=t.geometries[i],r=bs.Point.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],i=t.getCoordinates(),n=0;n<i.length;++n){var r=i[n];e.push(bs.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],i=0;i<t.geometries.length;++i){var n=t.geometries[i],r=bs.LineString.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],i=bs.LineString.apply(this,[t.shell]);e.push(i.coordinates);for(var n=0;n<t.holes.length;++n){var r=t.holes[n],o=bs.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],i=0;i<t.geometries.length;++i){var n=t.geometries[i],r=bs.Polygon.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],i=0;i<t.geometries.length;++i){var n=t.geometries[i],r=n.getGeometryType();e.push(bs[r].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}};e(On.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===ee.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,i=t.points.length;i>e;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,i=t.geometries.length;i>e;e++)this.reducePrecision(t.geometries[e])}}),e(An.prototype,{write:function(t){return this.parser.write(t)}}),e(Mn.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===ee.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,i=t.points.coordinates.length;i>e;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var n=0,r=t.geometries.length;r>n;n++)this.reducePrecision(t.geometries[n])}}),e(Nn.prototype,{read:function(t){return t instanceof ol.geom.Point?this.convertFromPoint(t):t instanceof ol.geom.LineString?this.convertFromLineString(t):t instanceof ol.geom.LinearRing?this.convertFromLinearRing(t):t instanceof ol.geom.Polygon?this.convertFromPolygon(t):t instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof ol.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new d(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new d(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),i=null,n=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?i=o:n.push(o)}return this.geometryFactory.createPolygon(i,n)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Rn);return new ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Rn);return new ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Rn)],i=0;i<t.holes.length;i++)e.push(t.holes[i].points.coordinates.map(Rn));return new ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new ol.geom.MultiPoint(t.getCoordinates().map(Rn))},convertToMultiLineString:function(t){for(var e=[],i=0;i<t.geometries.length;i++)e.push(this.convertToLineString(t.geometries[i]).getCoordinates());return new ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],i=0;i<t.geometries.length;i++)e.push(this.convertToPolygon(t.geometries[i]).getCoordinates());return new ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],i=0;i<t.geometries.length;i++){var n=t.geometries[i];e.push(this.write(n))}return new ol.geom.GeometryCollection(e)}});var xs=Object.freeze({GeoJSONReader:On,GeoJSONWriter:An,OL3Parser:Nn,WKTReader:Mn,WKTWriter:oe});e(jn.prototype,{rescale:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var i=e.next();this.rescale(i.getCoordinates())}else if(arguments[0]instanceof Array){var n=arguments[0],r=null,o=null;2===n.length&&(r=new d(n[0]),o=new d(n[1]));for(var e=0;e<n.length;e++)n[e].x=n[e].x/this.scaleFactor+this.offsetX,n[e].y=n[e].y/this.scaleFactor+this.offsetY;2===n.length&&n[0].equals2D(n[1])&&N.out.println(n)}},scale:function(){if(I(arguments[0],m)){for(var t=arguments[0],e=new x,i=t.iterator();i.hasNext();){var n=i.next();e.add(new $e(this.scale(n.getCoordinates()),n.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),i=0;i<r.length;i++)o[i]=new d(Math.round((r[i].x-this.offsetX)*this.scaleFactor),Math.round((r[i].y-this.offsetY)*this.scaleFactor),r[i].z);var s=X.removeRepeatedPoints(o);return s}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[ti]},getClass:function(){return jn}});var ws=Object.freeze({MCIndexNoder:ii,ScaledNoder:jn,SegmentString:Le});e(Dn.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i),r=n.getCoordinate();if(e.contains(r))return this.nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=Vi.getLines(t),i=e.iterator();i.hasNext();){var n=i.next();if(!this.isSimpleLinearGeometry(n))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,i=t.getEdgeIterator();i.hasNext();){var n=i.next(),r=(n.getMaximumSegmentIndex(),n.isClosed()),o=n.getCoordinate(0);this.addEndpoint(e,o,r);var s=n.getCoordinate(n.getNumPoints()-1);this.addEndpoint(e,s,r)}for(var i=e.values().iterator();i.hasNext();){var a=i.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Ji(0,t),i=new ae,n=e.computeSelfNodes(i,!0);return!n.hasIntersection()||(n.hasProperIntersection()?(this.nonSimpleLocation=n.getProperIntersectionPoint(),!1):!this.hasNonEndpointIntersection(e)&&(!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getMaximumSegmentIndex(),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(n))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,i){var n=t.get(e);null===n&&(n=new Fn(e),t.put(e,n)),n.addEndpoint(i)},computeSimple:function(t){return this.nonSimpleLocation=null,!!t.isEmpty()||(t instanceof Et?this.isSimpleLinearGeometry(t):t instanceof dt?this.isSimpleLinearGeometry(t):t instanceof Pt?this.isSimpleMultiPoint(t):I(t,It)?this.isSimplePolygonal(t):!(t instanceof ft)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);if(!this.computeSimple(i))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return Dn}}),e(Fn.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Fn}}),Dn.EndpointInfo=Fn,e(zn.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=zn.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=zn.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=t&&(this.quadrantSegments=1),this.joinStyle!==zn.JOIN_ROUND&&(this.quadrantSegments=zn.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=0>t?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return zn}}),zn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},zn.CAP_ROUND=1,zn.CAP_FLAT=2,zn.CAP_SQUARE=3,zn.JOIN_ROUND=1,zn.JOIN_MITRE=2,zn.JOIN_BEVEL=3,zn.DEFAULT_QUADRANT_SEGMENTS=8,zn.DEFAULT_MITRE_LIMIT=5,zn.DEFAULT_SIMPLIFY_FACTOR=.01,e(Bn.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var i=this.getRightmostSideOfSegment(t,e);return 0>i&&(i=this.getRightmostSideOfSegment(t,e-1)),0>i&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),i},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],i=t[this.minIndex+1],n=ce.computeOrientation(this.minCoord,i,e),r=!1;e.y<this.minCoord.y&&i.y<this.minCoord.y&&n===ce.COUNTERCLOCKWISE?r=!0:e.y>this.minCoord.y&&i.y>this.minCoord.y&&n===ce.CLOCKWISE&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var i=t.getEdge(),n=i.getCoordinates();if(0>e||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=ci.LEFT;return n[e].y<n[e+1].y&&(r=ci.RIGHT),r},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),i=0;i<e.length-1;i++)(null===this.minCoord||e[i].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=i,this.minCoord=e[i])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();i.isForward()&&this.checkForRightmostCoordinate(i)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe;var n=this.getRightmostSide(this.minDe,this.minIndex);n===ci.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Bn}}),Vn.prototype.addLast=function(t){this.array_.push(t)},Vn.prototype.removeFirst=function(){return this.array_.shift()},Vn.prototype.isEmpty=function(){return 0===this.array_.length},e(qn.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,i=t.getEdges().iterator();i.hasNext();){var n=i.next();if(n.isVisited()||n.getSym().isVisited()){e=n;break}}if(null===e)throw new ri("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var n=i.next();n.setVisited(!0),this.copySymDepths(n)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(ci.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(ci.RIGHT)>=1&&e.getDepth(ci.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new J,i=new Vn,n=t.getNode();for(i.addLast(n),e.add(n),t.setVisited(!0);!i.isEmpty();){var r=i.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next(),a=s.getSym();if(!a.isVisited()){var l=a.getNode();e.contains(l)||(i.addLast(l),e.add(l))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new C,e=this.dirEdgeList.iterator();e.hasNext();)for(var i=e.next(),n=i.getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this.env=t}return this.env},addReachable:function(t){var e=new ge;for(e.add(t);!e.empty();){var i=e.pop();this.add(i,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(ci.LEFT,t.getDepth(ci.RIGHT)),e.setDepth(ci.RIGHT,t.getDepth(ci.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var n=i.next();this.dirEdgeList.add(n);var r=n.getSym(),o=r.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return qn}}),e(Un.prototype,{isDeletable:function(t,e,i,n){var r=this.inputLine[t],o=this.inputLine[e],s=this.inputLine[i];return!(!this.isConcave(r,o,s)||!this.isShallow(r,o,s,n))&&this.isShallowSampled(r,o,t,i,n)},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length-1,this.findNextNonDeletedIndex(t)),i=this.findNextNonDeletedIndex(e),n=!1;i<this.inputLine.length;){var r=!1;this.isDeletable(t,e,i,this.distanceTol)&&(this.isDeleted[e]=Un.DELETE,r=!0,n=!0),t=r?i:e,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e)}return n},isShallowConcavity:function(t,e,i,n){var r=ce.computeOrientation(t,e,i),o=r===this.angleOrientation;if(!o)return!1;var s=ce.distancePointLine(e,t,i);return n>s},isShallowSampled:function(t,e,i,n,r){var o=Math.trunc((n-i)/Un.NUM_PTS_TO_CHECK);0>=o&&(o=1);for(var s=i;n>s;s+=o)if(!this.isShallow(t,e,this.inputLine[s],r))return!1;return!0},isConcave:function Us(t,e,i){
var n=ce.computeOrientation(t,e,i),Us=n===this.angleOrientation;return Us},simplify:function(t){this.distanceTol=Math.abs(t),0>t&&(this.angleOrientation=ce.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do e=this.deleteShallowConcavities();while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Un.DELETE;)e++;return e},isShallow:function(t,e,i,n){var r=ce.distancePointLine(e,t,i);return n>r},collapseLine:function(){for(var t=new w,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Un.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Un}}),Un.simplify=function(t,e){var i=new Un(t);return i.simplify(e)},Un.INIT=0,Un.DELETE=1,Un.KEEP=1,Un.NUM_PTS_TO_CHECK=10,e(Gn.prototype,{getCoordinates:function(){var t=this.ptList.toArray(Gn.COORDINATE_ARRAY_TYPE);return t},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new d(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var i=0;i<t.length;i++)this.addPt(t[i]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1),i=t.distance(e);return i<this.minimimVertexDistance},toString:function(){var t=new ne,e=t.createLineString(this.getCoordinates());return e.toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new d(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1),i=null;return this.ptList.size()>=2&&(i=this.ptList.get(this.ptList.size()-2)),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return Gn}}),Gn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(Hn.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var i=ce.computeOrientation(this.s0,this.s1,this.s2),n=i===ce.CLOCKWISE&&this.side===ci.LEFT||i===ce.COUNTERCLOCKWISE&&this.side===ci.RIGHT;0===i?this.addCollinear(e):n?this.addOutsideTurn(i,e):this.addInsideTurn(i,e)},addLineEndCap:function(t,e){var i=new he(t,e),n=new he;this.computeOffsetSegment(i,ci.LEFT,this.distance,n);var r=new he;this.computeOffsetSegment(i,ci.RIGHT,this.distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case zn.CAP_ROUND:this.segList.addPt(n.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,ce.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case zn.CAP_FLAT:this.segList.addPt(n.p1),this.segList.addPt(r.p1);break;case zn.CAP_SQUARE:var l=new d;l.x=Math.abs(this.distance)*Math.cos(a),l.y=Math.abs(this.distance)*Math.sin(a);var u=new d(n.p1.x+l.x,n.p1.y+l.y),c=new d(r.p1.x+l.x,r.p1.y+l.y);this.segList.addPt(u),this.segList.addPt(c)}},getCoordinates:function(){var t=this.segList.getCoordinates();return t},addMitreJoin:function(t,e,i,n){var r=!0,o=null;try{o=j.intersection(e.p0,e.p1,i.p0,i.p1);var s=0>=n?1:o.distance(t)/Math.abs(n);s>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof S))throw t;o=new d(0,0),r=!1}finally{}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,i,n,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,i,n,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),l=i.x-t.x,u=i.y-t.y,c=Math.atan2(u,l);n===ce.CLOCKWISE?c>=a&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,a,c,n,r),this.segList.addPt(i)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Hn.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===zn.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===zn.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new d(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new d(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new d(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,i){this.s1=t,this.s2=e,this.side=i,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,i,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,i,n){var r=this.seg0.p1,o=cn.angle(r,this.seg0.p0),s=(cn.angle(r,this.seg1.p1),cn.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)),a=s/2,l=cn.normalize(o+a),u=cn.normalize(l+Math.PI),c=n*i,h=c*Math.abs(Math.sin(a)),f=i-h,p=r.x+c*Math.cos(u),g=r.y+c*Math.sin(u),m=new d(p,g),v=new he(r,m),y=v.pointAlongOffset(1,f),_=v.pointAlongOffset(1,-f);this.side===ci.LEFT?(this.segList.addPt(y),this.segList.addPt(_)):(this.segList.addPt(_),this.segList.addPt(y))},computeOffsetSegment:function(t,e,i,n){var r=e===ci.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),l=r*i*o/a,u=r*i*s/a;n.p0.x=t.p0.x-u,n.p0.y=t.p0.y+l,n.p1.x=t.p1.x-u,n.p1.y=t.p1.y+l},addFilletArc:function(t,e,i,n,r){var o=n===ce.CLOCKWISE?-1:1,s=Math.abs(e-i),a=Math.trunc(s/this.filletAngleQuantum+.5);if(1>a)return null;var l=null,u=null;l=0,u=s/a;for(var c=l,h=new d;s>c;){var f=e+o*c;h.x=t.x+r*Math.cos(f),h.y=t.y+r*Math.sin(f),this.segList.addPt(h),c+=u}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Hn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var i=new d((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i);var n=new d((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new d(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new Gn,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Hn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var e=this.li.getIntersectionNum();e>=2&&(this.bufParams.getJoinStyle()===zn.JOIN_BEVEL||this.bufParams.getJoinStyle()===zn.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,ce.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Hn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Hn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Hn.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Xn.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var i=0>e,n=Math.abs(e),r=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,i,r);var o=r.getCoordinates();return i&&X.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,i){var n=this.simplifyTolerance(this.distance);if(e){i.addSegments(t,!0);var r=Un.simplify(t,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],ci.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(r[s],!0)}else{i.addSegments(t,!1);var a=Un.simplify(t,n),l=a.length-1;i.initSideSegments(a[0],a[1],ci.LEFT),i.addFirstSegment();for(var s=2;l>=s;s++)i.addNextSegment(a[s],!0)}i.addLastSegment(),i.closeRing()},computeRingBufferCurve:function(t,e,i){var n=this.simplifyTolerance(this.distance);e===ci.RIGHT&&(n=-n);var r=Un.simplify(t,n),o=r.length-1;i.initSideSegments(r[o-1],r[0],e);for(var s=1;o>=s;s++){var a=1!==s;i.addNextSegment(r[s],a)}i.closeRing()},computeLineBufferCurve:function(t,e){var i=this.simplifyTolerance(this.distance),n=Un.simplify(t,i),r=n.length-1;e.initSideSegments(n[0],n[1],ci.LEFT);for(var o=2;r>=o;o++)e.addNextSegment(n[o],!0);e.addLastSegment(),e.addLineEndCap(n[r-1],n[r]);var s=Un.simplify(t,-i),a=s.length-1;e.initSideSegments(s[a],s[a-1],ci.LEFT);for(var o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case zn.CAP_ROUND:e.createCircle(t);break;case zn.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,0>e&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var i=Math.abs(e),n=this.getSegGen(i);if(t.length<=1)this.computePointCurve(t[0],n);else if(this.bufParams.isSingleSided()){var r=0>e;this.computeSingleSidedBufferCurve(t,r,n)}else this.computeLineBufferCurve(t,n);var o=n.getCoordinates();return o},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,i){if(this.distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return Xn.copyCoordinates(t);var n=this.getSegGen(i);return this.computeRingBufferCurve(t,e,n),n.getCoordinates()},computeOffsetCurve:function(t,e,i){var n=this.simplifyTolerance(this.distance);if(e){var r=Un.simplify(t,-n),o=r.length-1;i.initSideSegments(r[o],r[o-1],ci.LEFT),i.addFirstSegment();for(var s=o-2;s>=0;s--)i.addNextSegment(r[s],!0)}else{var a=Un.simplify(t,n),l=a.length-1;i.initSideSegments(a[0],a[1],ci.LEFT),i.addFirstSegment();for(var s=2;l>=s;s++)i.addNextSegment(a[s],!0)}i.addLastSegment()},getSegGen:function(t){return new Hn(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Xn}}),Xn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),i=0;i<e.length;i++)e[i]=new d(t[i]);return e},e(Wn.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,i=this.subgraphs.iterator();i.hasNext();){var n=i.next(),r=n.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,n.getDirectedEdges(),e)}return e}if(3===arguments.length)if(I(arguments[2],y)&&arguments[0]instanceof d&&arguments[1]instanceof bi)for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),i=0;i<l.length-1;i++){this.seg.p0=l[i],this.seg.p1=l[i+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var u=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(u<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||ce.computeOrientation(this.seg.p0,this.seg.p1,o)===ce.RIGHT)){var c=s.getDepth(ci.LEFT);this.seg.p0.equals(l[i])||(c=s.getDepth(ci.RIGHT));var h=new Yn(this.seg,c);a.add(h)}}else if(I(arguments[2],y)&&arguments[0]instanceof d&&I(arguments[1],y))for(var f=arguments[0],p=arguments[1],g=arguments[2],i=p.iterator();i.hasNext();){var m=i.next();m.isForward()&&this.findStabbedSegments(f,m,g)}},getDepth:function(t){var e=this.findStabbedSegments(t);if(0===e.size())return 0;var i=hs.min(e);return i.leftDepth},interfaces_:function(){return[]},getClass:function(){return Wn}}),e(Yn.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var i=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==i?i:(i=-1*e.upwardSeg.orientationIndex(this.upwardSeg),0!==i?i:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var i=t.p0.compareTo(e.p0);return 0!==i?i:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return Yn}}),Wn.DepthSegment=Yn,e($n.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),i=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(i,T.EXTERIOR,T.INTERIOR)},addPolygon:function(t){var e=this.distance,i=ci.LEFT;this.distance<0&&(e=-this.distance,i=ci.RIGHT);var n=t.getExteriorRing(),r=X.removeRepeatedPoints(n.getCoordinates());if(this.distance<0&&this.isErodedCompletely(n,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,i,T.EXTERIOR,T.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=X.removeRepeatedPoints(s.getCoordinates());this.distance>0&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,e,ci.opposite(i),T.INTERIOR,T.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var i=new hn(t[0],t[1],t[2]),n=i.inCentre(),r=ce.distancePointLine(n,i.p0,i.p1);return r<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=X.removeRepeatedPoints(t.getCoordinates()),i=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(i,T.EXTERIOR,T.INTERIOR)},addCurve:function(t,e,i){if(null===t||t.length<2)return null;var n=new $e(t,new fi(0,T.BOUNDARY,e,i));this.curveList.add(n)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,i,n,r){if(0===e&&t.length<Lt.MINIMUM_VALID_SIZE)return null;var o=n,s=r;t.length>=Lt.MINIMUM_VALID_SIZE&&ce.isCCW(t)&&(o=r,s=n,i=ci.opposite(i));var a=this.curveBuilder.getRingCurve(t,i,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof kt)this.addPolygon(t);else if(t instanceof Et)this.addLineString(t);else if(t instanceof Tt)this.addPoint(t);else if(t instanceof Pt)this.addCollection(t);else if(t instanceof dt)this.addCollection(t);else if(t instanceof Ot)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var i=t.getCoordinates();if(i.length<4)return 0>e;if(4===i.length)return this.isTriangleErodedCompletely(i,e);var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth());return 0>e&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},interfaces_:function(){return[]},getClass:function(){return $n}}),e(Zn.prototype,{isTrivialIntersection:function(t,e,i,n){if(t===i&&1===this.li.getIntersectionNum()){if(Zn.isAdjacentSegments(e,n))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&n===r||0===n&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),i.addIntersections(this.li,n,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[oi]},getClass:function(){return Zn}}),Zn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Kn.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new fi(t.getLabel()),n.flip()),i.merge(n);var r=Kn.depthDelta(n),o=e.getDepthDelta(),s=o+r;e.setDepthDelta(s)}else this.edgeList.add(t),t.setDepthDelta(Kn.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var i=new x,n=t.iterator();n.hasNext();){var r=n.next(),o=r.getRightmostCoordinate(),s=new Wn(i),a=s.getDepth(o);r.computeDepth(a),r.findResultEdges(),i.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new x,i=t.getNodes().iterator();i.hasNext();){var n=i.next();if(!n.isVisited()){var r=new qn;r.create(n),e.add(r)}}return hs.sort(e,hs.reverseOrder()),e},createEmptyResultGeometry:function(){var t=this.geomFact.createPolygon();return t},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new ii,i=new ae;return i.setPrecisionModel(t),e.setSegmentIntersector(new Zn(i)),e},buffer:function(t,e){var i=this.workingPrecisionModel;null===i&&(i=t.getPrecisionModel()),this.geomFact=t.getFactory();var n=new Xn(i,this.bufParams),r=new $n(t,e,n),o=r.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,i),this.graph=new wi(new Li),this.graph.addEdges(this.edgeList.getEdges());var s=this.createSubgraphs(this.graph),a=new Ci(this.geomFact);this.buildSubgraphs(s,a);var l=a.getPolygons();if(l.size()<=0)return this.createEmptyResultGeometry();var u=this.geomFact.buildGeometry(l);return u},computeNodedEdges:function(t,e){var i=this.getNoder(e);i.computeNodes(t);for(var n=i.getNodedSubstrings(),r=n.iterator();r.hasNext();){var o=r.next(),s=o.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=o.getData(),l=new Ki(o.getCoordinates(),new fi(a));this.insertUniqueEdge(l)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Kn}}),Kn.depthDelta=function(t){var e=t.getLocation(0,ci.LEFT),i=t.getLocation(0,ci.RIGHT);return e===T.INTERIOR&&i===T.EXTERIOR?1:e===T.EXTERIOR&&i===T.INTERIOR?-1:0},Kn.convertSegStrings=function(t){for(var e=new ne,i=new x;t.hasNext();){var n=t.next(),r=e.createLineString(n.getCoordinates());i.add(r)}return e.buildGeometry(i)},e(Jn.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),i=e.getCoordinates();this.checkEndPtVertexIntersections(i[0],this.segStrings),this.checkEndPtVertexIntersections(i[i.length-1],this.segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),i=e.getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new u("found endpt/interior pt intersection at index "+o+" :pt "+n)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),i=this.segStrings.iterator();i.hasNext();){var n=i.next();this.checkInteriorIntersections(e,n)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(r,l,o,c);else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3];if(h===d&&f===p)return null;var g=h.getCoordinates()[f],m=h.getCoordinates()[f+1],v=d.getCoordinates()[p],y=d.getCoordinates()[p+1];if(this.li.computeIntersection(g,m,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,v,y)))throw new u("found non-noded intersection at "+g+"-"+m+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var i=arguments[0],n=i.getCoordinates(),t=0;t<n.length-2;t++)this.checkCollapse(n[t],n[t+1],n[t+2])},hasInteriorIntersection:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++){var r=t.getIntersection(n);if(!r.equals(e)&&!r.equals(i))return!0}return!1},checkCollapse:function(t,e,i){if(t.equals(i))throw new u("found non-noded collapse at "+Jn.fact.createLineString([t,e,i]))},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.fact=new ne,e(Qn.prototype,{intersectsScaled:function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this.maxx<i||this.minx>n||this.maxy<r||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){var e=.5;this.minx=t.x-e,this.maxx=t.x+e,this.miny=t.y-e,this.maxy=t.y+e,this.corner[0]=new d(this.maxx,this.maxy),this.corner[1]=new d(this.minx,this.maxy),this.corner[2]=new d(this.minx,this.miny),this.corner[3]=new d(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Qn.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new C(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.hasIntersection()||(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var i=!1,n=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),!!this.li.isProper()||(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),!!this.li.isProper()||(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),!!this.li.isProper()||(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.isProper()||(!(!i||!n)||(!!t.equals(this.pt)||!!e.equals(this.pt))))))},addSnappedNode:function(t,e){var i=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(i,n)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.SAFE_ENV_EXPANSION_FACTOR=.75,e(tr.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return tr}}),e(er.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2],r=e.getSafeEnvelope(),o=new ir(e,i,n);return this.index.query(r,{interfaces_:function(){return[Ne]},visitItem:function(t){var e=t;e.select(r,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return er}}),c(ir,tr),e(ir.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return tr.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],i=t.getContext();return null!==this.parentEdge&&i===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(i,e))},interfaces_:function(){return[]},getClass:function(){return ir}}),er.HotPixelSnapAction=ir,e(nr.prototype,{processIntersections:function(t,e,i,n){if(t===i&&e===n)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=i.getCoordinates()[n],a=i.getCoordinates()[n+1];if(this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var l=0;l<this.li.getIntersectionNum();l++)this.interiorIntersections.add(this.li.getIntersection(l));t.addIntersections(this.li,e,0),i.addIntersections(this.li,n,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[oi]},getClass:function(){return nr}}),e(rr.prototype,{checkCorrectness:function(t){var e=$e.getNodedSubstrings(t),i=new Jn(e);try{i.checkValid()}catch(t){if(!(t instanceof E))throw t;t.printStackTrace()}finally{}},getNodedSubstrings:function(){return $e.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var i=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var i=new nr(e);return this.noder.setSegmentIntersector(i),this.noder.computeNodes(t),i.getInteriorIntersections()},computeVertexSnaps:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var i=e.next();this.computeVertexSnaps(i)}else if(arguments[0]instanceof $e)for(var n=arguments[0],r=n.getCoordinates(),o=0;o<r.length;o++){var s=new Qn(r[o],this.scaleFactor,this.li),a=this.pointSnapper.snap(s,n,o);a&&n.addIntersection(r[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new ii,this.pointSnapper=new er(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=new Qn(i,this.scaleFactor,this.li);this.pointSnapper.snap(n)}},interfaces_:function(){return[ti]},getClass:function(){return rr}}),e(or.prototype,{bufferFixedPrecision:function(t){var e=new jn(new rr(new ee(1)),t.getScale()),i=new Kn(this.bufParams);i.setWorkingPrecisionModel(t),i.setNoder(e),this.resultGeometry=i.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=or.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof ri))throw t;this.saveException=t}finally{}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],i=or.precisionScaleFactor(this.argGeom,this.distance,e),n=new ee(i);this.bufferFixedPrecision(n)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===ee.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Kn(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof u))throw t;this.saveException=t}finally{}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return or}}),or.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new or(t),n=i.getResultGeometry(e);return n}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var r=arguments[0],o=arguments[1],s=arguments[2],a=new or(r);a.setQuadrantSegments(s);var n=a.getResultGeometry(o);return n}if(arguments[2]instanceof zn&&arguments[0]instanceof z&&"number"==typeof arguments[1]){var l=arguments[0],u=arguments[1],c=arguments[2],a=new or(l,c),n=a.getResultGeometry(u);return n}}else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],a=new or(h);a.setQuadrantSegments(d),a.setEndCapStyle(p);var n=a.getResultGeometry(f);return n}},or.precisionScaleFactor=function(t,e,i){var n=t.getEnvelopeInternal(),r=k.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY())),o=e>0?e:0,s=r+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),l=i-a,u=Math.pow(10,l);return u},or.CAP_ROUND=zn.CAP_ROUND,or.CAP_BUTT=zn.CAP_FLAT,or.CAP_FLAT=zn.CAP_FLAT,or.CAP_SQUARE=zn.CAP_SQUARE,or.MAX_PRECISION_DIGITS=12;var Cs=Object.freeze({BufferOp:or,BufferParameters:zn});e(sr.prototype,{filter:function(t){t instanceof kt&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return sr}}),sr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return sr.getPolygons(t,new x)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof kt?i.add(e):e instanceof ft&&e.apply(new sr(i)),i}},e(ar.prototype,{isInsideArea:function(){return this.segIndex===ar.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.INSIDE_AREA=-1,e(lr.prototype,{filter:function(t){t instanceof Tt&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return lr}}),lr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Tt?hs.singletonList(t):lr.getPoints(t,new x)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof Tt?i.add(e):e instanceof ft&&e.apply(new lr(i)),i}},e(ur.prototype,{filter:function(t){(t instanceof Tt||t instanceof Et||t instanceof kt)&&this.locations.add(new ar(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return ur}}),ur.getLocations=function(t){var e=new x;return t.apply(new ur(e)),e},e(cr.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=1-e,r=sr.getPolygons(this.geom[e]);if(r.size()>0){var o=ur.getLocations(this.geom[n]);if(this.computeContainmentDistance(o,r,i),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[n]=i[0],this.minDistanceLocation[e]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&I(arguments[0],y)&&I(arguments[1],y)){for(var s=arguments[0],a=arguments[1],l=arguments[2],u=0;u<s.size();u++)for(var c=s.get(u),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),l),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ar&&arguments[1]instanceof kt){var f=arguments[0],d=arguments[1],p=arguments[2],g=f.getCoordinate();if(T.EXTERIOR!==this.ptLocator.locate(g,d))return this.minDistance=0,p[0]=f,p[1]=new ar(d,g),null}},computeMinDistanceLinesPoints:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,i),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Vi.getLines(this.geom[0]),i=Vi.getLines(this.geom[1]),n=lr.getPoints(this.geom[0]),r=lr.getPoints(this.geom[1]);
return this.computeMinDistanceLines(e,i,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,n,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){this.computeMinDistance();var t=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return t},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Et&&arguments[1]instanceof Tt){var t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var n=t.getCoordinates(),r=e.getCoordinate(),o=0;o<n.length-1;o++){var s=ce.distancePointLine(r,n[o],n[o+1]);if(s<this.minDistance){this.minDistance=s;var a=new he(n[o],n[o+1]),l=a.closestPoint(r);i[0]=new ar(t,o,l),i[1]=new ar(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Et&&arguments[1]instanceof Et){var u=arguments[0],c=arguments[1],h=arguments[2];if(u.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this.minDistance)return null;for(var n=u.getCoordinates(),f=c.getCoordinates(),o=0;o<n.length-1;o++)for(var d=0;d<f.length-1;d++){var s=ce.distanceLineLine(n[o],n[o+1],f[d],f[d+1]);if(s<this.minDistance){this.minDistance=s;var p=new he(n[o],n[o+1]),g=new he(f[d],f[d+1]),m=p.closestPoints(g);h[0]=new ar(u,o,m[0]),h[1]=new ar(c,d,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,i[0]=new ar(r,0,r.getCoordinate()),i[1]=new ar(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new n("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,i),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.distance=function(t,e){var i=new cr(t,e);return i.distance()},cr.isWithinDistance=function(t,e,i){var n=new cr(t,e,i);return n.distance()<=i},cr.nearestPoints=function(t,e){var i=new cr(t,e);return i.nearestPoints()};var Es=Object.freeze({DistanceOp:cr});e(hr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,i=new w,n=this.directedEdges.iterator();n.hasNext();){var r=n.next();r.getEdgeDirection()?t++:e++,i.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=i.toCoordinateArray(),e>t&&X.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return hr}}),e(fr.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return fr}}),fr.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var i=t.next();if(i.isVisited()===e)return i}return null},fr.setVisited=function(t,e){for(;t.hasNext();){var i=t.next();i.setVisited(e)}},fr.setMarked=function(t,e){for(;t.hasNext();){var i=t.next();i.setMarked(e)}},c(dr,fr),e(dr.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ce.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),i=e.lastIndexOf("."),n=e.substring(i+1);t.print("  "+n+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return dr}}),dr.toEdges=function(t){for(var e=new x,i=t.iterator();i.hasNext();)e.add(i.next().parentEdge);return e},c(pr,dr),e(pr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return pr}}),c(gr,fr),e(gr.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof vr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return gr}}),e(mr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(hs.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof gr){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var i=this.outEdges.get(e);if(i.getEdge()===t)return e}return-1}if(arguments[0]instanceof dr){var n=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var i=this.outEdges.get(e);if(i===n)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],o=r%this.outEdges.size();return 0>o&&(o+=this.outEdges.size()),o}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return mr}}),c(vr,fr),e(vr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return vr}}),vr.getEdgesBetween=function(t,e){var i=dr.toEdges(t.getOutEdges().getEdges()),n=new J(i),r=dr.toEdges(e.getOutEdges().getEdges());return n.retainAll(r),n},c(yr,gr),e(yr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return yr}}),e(_r.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return _r}}),e(br.prototype,{findNodesOfDegree:function(t){for(var e=new x,i=this.nodeIterator();i.hasNext();){var n=i.next();n.getDegree()===t&&e.add(n)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof gr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof dr){var e=arguments[0],i=e.getSym();null!==i&&i.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof vr){for(var n=arguments[0],r=n.getOutEdges().getEdges(),o=r.iterator();o.hasNext();){var s=o.next(),i=s.getSym();null!==i&&this.remove(i),this.dirEdges.remove(s);var a=s.getEdge();null!==a&&this.edges.remove(a)}this.nodeMap.remove(n.getCoordinate()),n.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof gr){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof dr){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof vr){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof gr){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof dr){var i=arguments[0];this.dirEdges.add(i)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return br}}),c(xr,br),e(xr.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var i=e[0],n=e[e.length-1],r=this.getNode(i),o=this.getNode(n),s=new pr(r,o,e[1],(!0)),a=new pr(o,r,e[e.length-2],(!1)),l=new yr(t);l.setDirectedEdges(s,a),this.add(l)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new vr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return xr}}),e(wr.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var i=e.next();i.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(i))}},merge:function(){if(null!==this.mergedLineStrings)return null;fr.setMarked(this.graph.nodeIterator(),!1),fr.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new x,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new x;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new hr(this.factory),i=t;do e.add(i),i.getEdge().setMarked(!0),i=i.getNext();while(null!==i&&i!==t);return e},add:function(){if(arguments[0]instanceof z){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Et&&this.add(t)}})}else if(I(arguments[0],m)){var e=arguments[0];this.mergedLineStrings=null;for(var i=e.iterator();i.hasNext();){var n=i.next();this.add(n)}}else if(arguments[0]instanceof Et){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory()),this.graph.addEdge(r)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return wr}});var Ss=Object.freeze({LineMerger:wr}),Ts=Object.freeze({OverlayOp:nn});c(Cr,dr),e(Cr.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return Cr}}),c(Er,gr),e(Er.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Er}}),e(Sr.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new w,e=this.deList.iterator();e.hasNext();){var i=e.next(),n=i.getEdge();Sr.addEdge(n.getLine().getCoordinates(),i.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this.ringPts.length<=3)&&(this.getRing(),this.ring.isValid())},build:function(t){var e=t;do this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring");while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}var i=this.factory.createPolygon(this.ring,t);return i},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Lt){var t=arguments[0];null===this.holes&&(this.holes=new x),this.holes.add(t)}else if(arguments[0]instanceof Sr){var e=arguments[0];e.setShell(this);var i=e.getRing();null===this.holes&&(this.holes=new x),this.holes.add(i)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),i=e.getSym().getRing();if(i.isOuterHole())return i}return null},computeHole:function(){var t=this.getRing();this._isHole=ce.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return oe.toLineString(new Dt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&N.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof E))throw t;N.out.println(this.ringPts)}finally{}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),i=e.getSym().getRing().getShell();if(null!==i&&i.isIncludedSet())return this.setIncluded(!i.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.findDirEdgesInRing=function(t){var e=t,i=new x;do i.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring");while(e!==t);return i},Sr.addEdge=function(t,e,i){if(e)for(var n=0;n<t.length;n++)i.add(t[n],!1);else for(var n=t.length-1;n>=0;n--)i.add(t[n],!1)},Sr.findEdgeRingContaining=function(t,e){for(var i=t.getRing(),n=i.getEnvelopeInternal(),r=i.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getRing(),c=u.getEnvelopeInternal();if(!c.equals(n)&&c.contains(n)){r=X.ptNotInList(i.getCoordinates(),u.getCoordinates());var h=!1;ce.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=l,s=o.getRing().getEnvelopeInternal())}}return o},e(Tr.prototype,{compare:function(t,e){var i=t,n=e;return i.getRing().getEnvelope().compareTo(n.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Tr}}),Sr.EnvelopeComparator=Tr,c(Ir,br),e(Ir.prototype,{findEdgeRing:function(t){var e=new Sr(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){var t=null;if(null===t)return null;this.computeDepthParity(t)}else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Ir.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var i=e[0],n=e[e.length-1],r=this.getNode(i),o=this.getNode(n),s=new Cr(r,o,e[1],(!0)),a=new Cr(o,r,e[e.length-2],(!1)),l=new Er(t);l.setDirectedEdges(s,a),this.add(l)},deleteCutEdges:function(){this.computeNextCWEdges(),Ir.findLabeledEdgeRings(this.dirEdges);for(var t=new x,e=this.dirEdges.iterator();e.hasNext();){var i=e.next();if(!i.isMarked()){var n=i.getSym();if(i.getLabel()===n.getLabel()){i.setMarked(!0),n.setMarked(!0);var r=i.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Ir.label(this.dirEdges,-1);var t=Ir.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new x,i=this.dirEdges.iterator();i.hasNext();){var n=i.next();if(!n.isMarked()&&!n.isInRing()){var r=this.findEdgeRing(n);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new vr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getLabel(),r=Ir.findIntersectionNodes(i,n);if(null!==r)for(var o=r.iterator();o.hasNext();){var s=o.next();Ir.computeNextCCWEdges(s,n)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new J,i=new ge,n=t.iterator();n.hasNext();)i.push(n.next());for(;!i.isEmpty();){var r=i.pop();Ir.deleteAllEdges(r);for(var o=r.getOutEdges().getEdges(),n=o.iterator();n.hasNext();){var s=n.next();s.setMarked(!0);var a=s.getSym();null!==a&&a.setMarked(!0);var l=s.getEdge();e.add(l.getLine());var u=s.getToNode();1===Ir.getDegreeNonDeleted(u)&&i.push(u)}}return e},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.findLabeledEdgeRings=function(t){for(var e=new x,i=1,n=t.iterator();n.hasNext();){var r=n.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var o=Sr.findDirEdgesInRing(r);Ir.label(o,i),i++}}return e},Ir.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),i=0,n=e.iterator();n.hasNext();){var r=n.next();r.isMarked()||i++}return i},Ir.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),i=e.iterator();i.hasNext();){var n=i.next();n.setMarked(!0);var r=n.getSym();null!==r&&r.setMarked(!0)}},Ir.label=function(t,e){for(var i=t.iterator();i.hasNext();){var n=i.next();n.setLabel(e)}},Ir.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),i=null,n=null,r=e.getEdges().iterator();r.hasNext();){var o=r.next();if(!o.isMarked()){if(null===i&&(i=o),null!==n){var s=n.getSym();s.setNext(o)}n=o}}if(null!==n){var s=n.getSym();s.setNext(i)}},Ir.computeNextCCWEdges=function(t,e){for(var i=t.getOutEdges(),n=null,r=null,o=i.getEdges(),s=o.size()-1;s>=0;s--){var a=o.get(s),l=a.getSym(),u=null;a.getLabel()===e&&(u=a);var c=null;l.getLabel()===e&&(c=l),null===u&&null===c||(null!==c&&(r=c),null!==u&&(null!==r&&(r.setNext(u),r=null),null===n&&(n=u)))}null!==r&&(f.isTrue(null!==n),r.setNext(n))},Ir.getDegree=function(t,e){for(var i=t.getOutEdges().getEdges(),n=0,r=i.iterator();r.hasNext();){var o=r.next();o.getLabel()===e&&n++}return n},Ir.findIntersectionNodes=function(t,e){var i=t,n=null;do{var r=i.getFromNode();Ir.getDegree(r,e)>1&&(null===n&&(n=new x),n.add(r)),i=i.getNext(),f.isTrue(null!==i,"found null DE in ring"),f.isTrue(i===t||!i.isInRing(),"found DE already in ring")}while(i!==t);return n},e(kr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new ne),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(ne.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,i){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isValid()?e.add(r):i.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new x,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new x;this.invalidRingLines=new x,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),kr.assignHolesToShells(this.holeList,this.shellList),hs.sort(this.shellList,new Sr.EnvelopeComparator);var i=!0;this.extractOnlyPolygonal&&(kr.findDisjointShells(this.shellList),i=!1),this.polyList=kr.extractPolygons(this.shellList,i)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var i=e.next();this.add(i)}else if(arguments[0]instanceof Et){var n=arguments[0];this.geomFactory=n.getFactory(),null===this.graph&&(this.graph=new Ir(this.geomFactory)),this.graph.addEdge(n)}else if(arguments[0]instanceof z){var r=arguments[0];r.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new x,this.shellList=new x;for(var e=t.iterator();e.hasNext();){var i=e.next();i.computeHole(),i.isHole()?this.holeList.add(i):this.shellList.add(i)}},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getOuterHole();null===n||n.isProcessed()||(i.setIncluded(!0),n.setProcessed(!0))}},kr.extractPolygons=function(t,e){for(var i=new x,n=t.iterator();n.hasNext();){var r=n.next();(e||r.isIncluded())&&i.add(r.getPolygon())}return i},kr.assignHolesToShells=function(t,e){for(var i=t.iterator();i.hasNext();){var n=i.next();kr.assignHoleToShell(n,e)}},kr.assignHoleToShell=function(t,e){var i=Sr.findEdgeRingContaining(t,e);null!==i&&i.addHole(t)},kr.findDisjointShells=function(t){kr.findOuterShells(t);var e=null;do{e=!1;for(var i=t.iterator();i.hasNext();){var n=i.next();n.isIncludedSet()||(n.updateIncluded(),n.isIncludedSet()||(e=!0))}}while(e)},e(Pr.prototype,{filter:function(t){t instanceof Et&&this.p.add(t)},interfaces_:function(){return[F]},getClass:function(){return Pr}}),kr.LineStringAdder=Pr;var Is=Object.freeze({Polygonizer:kr});e(Lr.prototype,{createEdgeEndForNext:function(t,e,i,n){var r=i.segmentIndex+1;if(r>=t.getNumPoints()&&null===n)return null;var o=t.getCoordinate(r);null!==n&&n.segmentIndex===i.segmentIndex&&(o=n.coord);var s=new _i(t,i.coord,o,new fi(t.getLabel()));e.add(s)},createEdgeEndForPrev:function(t,e,i,n){var r=i.segmentIndex;if(0===i.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==n&&n.segmentIndex>=r&&(o=n.coord);var s=new fi(t.getLabel());s.flip();var a=new _i(t,i.coord,o,s);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new x,i=t;i.hasNext();){var n=i.next();this.computeEdgeEnds(n,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),l=null,u=null;if(!a.hasNext())return null;var c=a.next();do l=u,u=c,c=null,a.hasNext()&&(c=a.next()),null!==u&&(this.createEdgeEndForPrev(r,o,u,l),this.createEdgeEndForNext(r,o,u,c));while(null!==u)}},interfaces_:function(){return[]},getClass:function(){return Lr}}),c(Or,_i),e(Or.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--> Label: "+this.label);for(var e=this.iterator();e.hasNext();){var i=e.next();i.print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var i=0,n=!1,r=this.iterator();r.hasNext();){var o=r.next(),s=o.getLabel().getLocation(t);s===T.BOUNDARY&&i++,s===T.INTERIOR&&(n=!0)}var s=T.NONE;n&&(s=T.INTERIOR),i>0&&(s=Ji.determineBoundary(e,i)),this.label.setLocation(t,s)},computeLabelSide:function(t,e){for(var i=this.iterator();i.hasNext();){var n=i.next();if(n.getLabel().isArea()){var r=n.getLabel().getLocation(t,e);if(r===T.INTERIOR)return this.label.setLocation(t,e,T.INTERIOR),null;r===T.EXTERIOR&&this.label.setLocation(t,e,T.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,ci.LEFT),this.computeLabelSide(t,ci.RIGHT)},updateIM:function(t){Ki.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,i=this.iterator();i.hasNext();){var n=i.next();n.getLabel().isArea()&&(e=!0)}e?this.label=new fi(T.NONE,T.NONE,T.NONE):this.label=new fi(T.NONE);for(var r=0;2>r;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)},interfaces_:function(){return[]},getClass:function(){return Or}}),c(Ar,ki),e(Ar.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next();i.updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new Or(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Ar}}),c(Mr,vi),e(Mr.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Mr}}),c(Rr,xi),e(Rr.prototype,{createNode:function(t){return new Mr(t,new Ar)},interfaces_:function(){return[]},getClass:function(){return Rr}}),e(Nr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.nodes.add(i)}},computeProperIntersectionIM:function(t,e){var i=this.arg[0].getGeometry().getDimension(),n=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===i&&2===n?r&&e.setAtLeast("212101212"):2===i&&1===n?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===i&&2===n?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===i&&1===n&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var i=this.arg[t].getEdgeIterator();i.hasNext();){var n=i.next();n.isIsolated()&&(this.labelIsolatedEdge(n,e,this.arg[e].getGeometry()),this.isolatedEdges.add(n))}},labelIsolatedEdge:function(t,e,i){if(i.getDimension()>0){var n=this.ptLocator.locate(t.getCoordinate(),i);t.getLabel().setAllLocations(e,n)}else t.getLabel().setAllLocations(e,T.EXTERIOR)},computeIM:function(){var t=new fe;if(t.set(T.EXTERIOR,T.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var i=new Lr,n=i.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(n);var r=i.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var i=e.next(),n=this.nodes.addNode(i.getCoordinate());n.setLabel(t,i.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(t)&&(n===T.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,T.INTERIOR))}},labelIsolatedNode:function(t,e){var i=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,i)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.addNode(o.coord);n===T.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,T.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),i=e.getLabel();f.isTrue(i.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(i.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){var i=e.next();i.updateIM(t)}for(var n=this.nodes.iterator();n.hasNext();){var r=n.next();r.updateIM(t),r.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(T.INTERIOR,T.EXTERIOR,e.getDimension()),t.set(T.BOUNDARY,T.EXTERIOR,e.getBoundaryDimension()));var i=this.arg[1].getGeometry();i.isEmpty()||(t.set(T.EXTERIOR,T.INTERIOR,i.getDimension()),t.set(T.EXTERIOR,T.BOUNDARY,i.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Nr}}),e(jr.prototype,{isContainedInBoundary:function(t){if(t instanceof kt)return!1;if(t instanceof Tt)return this.isPointContainedInBoundary(t);if(t instanceof Et)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);if(!this.isContainedInBoundary(i))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),i=new d,n=new d,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,i),e.getCoordinate(r+1,n),!this.isLineSegmentContainedInBoundary(i,n))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof Tt){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof d){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY();
}},contains:function(t){return!!this.rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return jr}}),jr.contains=function(t,e){var i=new jr(t);return i.contains(e)},e(Dr.prototype,{intersects:function(t,e){var i=new C(t,e);if(!this.rectEnv.intersects(i))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var n=t;t=e,e=n}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return Dr}}),e(Fr.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var i=t.getGeometryN(e);if(i instanceof ft)this.applyTo(i);else if(this.visit(i),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Fr}}),e(zr.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new Br(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var i=new Vr(this.rectangle);if(i.applyTo(t),i.containsPoint())return!0;var n=new qr(this.rectangle);return n.applyTo(t),!!n.intersects()},interfaces_:function(){return[]},getClass:function(){return zr}}),zr.intersects=function(t,e){var i=new zr(t);return i.intersects(e)},c(Br,Fr),e(Br.prototype,{isDone:function(){return this._intersects===!0},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return Br}}),c(Vr,Fr),e(Vr.prototype,{isDone:function(){return this._containsPoint===!0},visit:function(t){if(!(t instanceof kt))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var i=new d,n=0;4>n;n++)if(this.rectSeq.getCoordinate(n,i),e.contains(i)&&Ii.containsPointInPolygon(i,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Vr}}),c(qr,Fr),e(qr.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return this.hasIntersection===!0},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var i=Vi.getLines(t);this.checkIntersectionWithLineStrings(i)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();if(this.checkIntersectionWithSegments(i),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),i=1;i<e.size();i++)if(e.getCoordinate(i-1,this.p0),e.getCoordinate(i,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return qr}}),c(Ur,Qi),e(Ur.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Ur}}),Ur.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||Ur.relate(t,e).isCovers())},Ur.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?zr.intersects(t,e):e.isRectangle()?zr.intersects(e,t):Ur.relate(t,e).isIntersects())},Ur.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Ur.relate(t,e).isTouches(t.getDimension(),e.getDimension())},Ur.within=function(t,e){return e.contains(t)},Ur.coveredBy=function(t,e){return Ur.covers(e,t)},Ur.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new Ur(t,e),n=i.getIntersectionMatrix();return n}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof z&&arguments[1]instanceof z){var r=arguments[0],o=arguments[1],s=arguments[2];return Ur.relateWithCheck(r,o).matches(s)}if(I(arguments[2],V)&&arguments[0]instanceof z&&arguments[1]instanceof z){var a=arguments[0],l=arguments[1],u=arguments[2],i=new Ur(a,l,u),n=i.getIntersectionMatrix();return n}}},Ur.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Ur.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},Ur.disjoint=function(t,e){return!t.intersects(e)},Ur.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Ur.relate(t,e)},Ur.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&Ur.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},Ur.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?jr.contains(t,e):Ur.relate(t,e).isContains())};var ks=Object.freeze({RelateOp:Ur});e(Gr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);this.skipEmpty&&n.isEmpty()||e.add(n)}},combine:function(){for(var t=new x,e=this.inputGeoms.iterator();e.hasNext();){var i=e.next();this.extractElements(i,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return Gr}}),Gr.combine=function(){if(1===arguments.length){var t=arguments[0],e=new Gr(t);return e.combine()}if(2===arguments.length){var i=arguments[0],n=arguments[1],e=new Gr(Gr.createList(i,n));return e.combine()}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],e=new Gr(Gr.createList(r,o,s));return e.combine()}},Gr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Gr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new x;return i.add(t),i.add(e),i}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],i=new x;return i.add(n),i.add(r),i.add(o),i}},e(Hr.prototype,{union:function(){for(var t=new ke,e=new at,i=0;i<this.pointGeom.getNumGeometries();i++){var n=this.pointGeom.getGeometryN(i),r=n.getCoordinate(),o=t.locate(r,this.otherGeom);o===T.EXTERIOR&&e.add(r)}if(0===e.size())return this.otherGeom;var s=null,a=X.toCoordinateArray(e);return s=1===a.length?this.geomFact.createPoint(a[0]):this.geomFact.createMultiPointFromCoords(a),Gr.combine(s,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.union=function(t,e){var i=new Hr(t,e);return i.union()},e(Xr.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Xr}}),Xr.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Xr.extract(t,e,new x)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];return i.getSortIndex()===n?r.add(i):i instanceof ft&&i.apply(new Xr(n,r)),r}},e(Wr.prototype,{reduceToGeometries:function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next(),r=null;I(n,y)?r=this.unionTree(n):n instanceof z&&(r=n),e.add(r)}return e},extractByEnvelope:function(t,e,i){for(var n=new x,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?n.add(o):i.add(o)}return this.geomFactory.buildGeometry(n)},unionOptimized:function(t,e){var i=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!i.intersects(n)){var r=Gr.combine(t,e);return r}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=i.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,o)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new qe(Wr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var i=e.next();t.insert(i.getEnvelopeInternal(),i)}this.inputPolys=null;var n=t.itemsTree(),r=this.unionTree(n);return r},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2];if(1>=n-i){var r=Wr.getGeometry(e,i);return this.unionSafe(r,null)}if(n-i===2)return this.unionSafe(Wr.getGeometry(e,i),Wr.getGeometry(e,i+1));var o=Math.trunc((n+i)/2),r=this.binaryUnion(e,i,o),s=this.binaryUnion(e,o,n);return this.unionSafe(r,s)}},repeatedUnion:function(t){for(var e=null,i=t.iterator();i.hasNext();){var n=i.next();e=null===e?n.copy():e.union(n)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Wr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t),i=this.binaryUnion(e);return i},unionUsingEnvelopeIntersection:function(t,e,i){var n=new x,r=this.extractByEnvelope(i,t,n),o=this.extractByEnvelope(i,e,n),s=this.unionActual(r,o);n.add(s);var a=Gr.combine(n);return a},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),i=e.buildGeometry(t),n=i.buffer(0);return n}if(2===arguments.length){var r=arguments[0],o=arguments[1],e=r.getFactory(),i=e.createGeometryCollection([r,o]),n=i.buffer(0);return n}},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.restrictToPolygons=function(t){if(I(t,It))return t;var e=sr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ne.toPolygonArray(e))},Wr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Wr.union=function(t){var e=new Wr(t);return e.union()},Wr.STRTREE_NODE_CAPACITY=4,e(Yr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return on.overlayOp(t,e,nn.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var i=e.next();this.extract(i)}else if(arguments[0]instanceof z){var n=arguments[0];null===this.geomFact&&(this.geomFact=n.getFactory()),Xr.extract(n,z.SORTINDEX_POLYGON,this.polygons),Xr.extract(n,z.SORTINDEX_LINESTRING,this.lines),Xr.extract(n,z.SORTINDEX_POINT,this.points)}},union:function Gs(){if(null===this.geomFact)return null;var t=null;if(this.points.size()>0){var e=this.geomFact.buildGeometry(this.points);t=this.unionNoOpt(e)}var i=null;if(this.lines.size()>0){var n=this.geomFact.buildGeometry(this.lines);i=this.unionNoOpt(n)}var r=null;this.polygons.size()>0&&(r=Wr.union(this.polygons));var o=this.unionWithNull(i,r),Gs=null;return Gs=null===t?o:null===o?t:Hr.union(t,o),null===Gs?this.geomFact.createGeometryCollection():Gs},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.union=function(){if(1===arguments.length){if(I(arguments[0],m)){var t=arguments[0],e=new Yr(t);return e.union()}if(arguments[0]instanceof z){var i=arguments[0],e=new Yr(i);return e.union()}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],e=new Yr(n,r);return e.union()}};var Ps=Object.freeze({UnaryUnionOp:Yr});e($r.prototype,{visitInteriorRing:function(t,e){var i=t.getCoordinates(),n=i[0],r=$r.findDifferentPoint(i,n),o=e.findEdgeInSameDirection(n,r),s=e.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,ci.RIGHT)===T.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,ci.RIGHT)===T.INTERIOR&&(a=s.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof kt){var i=t;this.visitInteriorRing(i.getExteriorRing(),e)}if(t instanceof Ot)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.visitInteriorRing(i.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var i=e.next();i.getLabel().getLocation(0,ci.RIGHT)===T.INTERIOR&&i.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,i=t;do f.isTrue(null!==i,"found null Directed Edge"),i.setVisited(!0),i=i.getNext();while(i!==e)},buildEdgeRings:function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&null===n.getEdgeRing()){var r=new gi(n,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var i=t.get(e);if(!i.isHole()){var n=i.getEdges(),r=n.get(0);if(r.getLabel().getLocation(0,ci.RIGHT)===T.INTERIOR)for(var o=0;o<n.size();o++)if(r=n.get(o),!r.isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new x;this.geomGraph.computeSplitEdges(t);var e=new wi(new Li);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var i=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(i)},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.findDifferentPoint=function(t,e){for(var i=0;i<t.length;i++)if(!t[i].equals(e))return t[i];return null},e(Zr.prototype,{hasChildren:function(){for(var t=0;2>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;2>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var i=!1,n=0;2>n;n++)if(null!==this.subnode[n]&&(i=this.subnode[n].remove(t,e))){this.subnode[n].isPrunable()&&(this.subnode[n]=null);break}return i?i:i=this.items.remove(e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;2>e;e++)if(null!==this.subnode[e]){var i=this.subnode[e].depth();i>t&&(t=i)}return t+1},nodeSize:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.getSubnodeIndex=function(t,e){var i=-1;return t.min>=e&&(i=1),t.max<=e&&(i=0),i},e(Kr.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!(this.min>i||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Kr){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return i>=this.min&&n<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Kr}}),e(Jr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Jr.computeLevel(t),this.interval=new Kr,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var i=Cn.powerOf2(t);this.pt=Math.floor(e.getMin()/i)*i,this.interval.init(this.pt,this.pt+i)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Jr}}),Jr.computeLevel=function(t){var e=t.getWidth(),i=Cn.exponent(e)+1;return i},c(Qr,Zr),e(Qr.prototype,{getInterval:function(){return this.interval},find:function(t){var e=Zr.getSubnodeIndex(t,this.centre);if(-1===e)return this;if(null!==this.subnode[e]){var i=this.subnode[e];return i.find(t)}return this},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e=Zr.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var i=this.createSubnode(e);i.insert(t),this.subnode[e]=i}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=Zr.getSubnodeIndex(t,this.centre);if(-1!==e){var i=this.getSubnode(e);return i.getNode(t)}return this},createSubnode:function(t){var e=0,i=0;switch(t){case 0:e=this.interval.getMin(),i=this.centre;break;case 1:e=this.centre,i=this.interval.getMax()}var n=new Kr(e,i),r=new Qr(n,this.level-1);return r},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.createNode=function(t){var e=new Jr(t),i=new Qr(e.getInterval(),e.getLevel());return i},Qr.createExpanded=function(t,e){var i=new Kr(e);null!==t&&i.expandToInclude(t.interval);var n=Qr.createNode(i);return null!==t&&n.insert(t),n},c(to,Zr),e(to.prototype,{insert:function(t,e){var i=Zr.getSubnodeIndex(t,to.origin);if(-1===i)return this.add(e),null;var n=this.subnode[i];if(null===n||!n.getInterval().contains(t)){var r=Qr.createExpanded(n,t);this.subnode[i]=r}this.insertContained(this.subnode[i],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,i){f.isTrue(t.getInterval().contains(e));var n=In.isZeroWidth(e.getMin(),e.getMax()),r=null;r=n?t.find(e):t.getNode(e),r.add(i)},interfaces_:function(){return[]},getClass:function(){return to}}),to.origin=0,e(eo.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var i=eo.ensureExtent(t,this.minExtent);this.root.insert(i,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Kr(t,t))}if(arguments[0]instanceof Kr){var e=arguments[0],i=new x;return this.query(e,i),i}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.root.addAllItemsFromOverlapping(n,r)}},iterator:function(){var t=new x;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var i=eo.ensureExtent(t,this.minExtent);return this.root.remove(i,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return eo}}),eo.ensureExtent=function(t,e){var i=t.getMin(),n=t.getMax();return i!==n?t:(i===n&&(i-=e/2,n=i+e/2),new Kr(i,n))},e(io.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return io}}),e(no.prototype,{testLineSegment:function(t,e){var i=null,n=null,r=null,o=null,s=null,a=e.p0,l=e.p1;n=a.x-t.x,r=a.y-t.y,o=l.x-t.x,s=l.y-t.y,(r>0&&0>=s||s>0&&0>=r)&&(i=le.signOfDet2x2(n,r,o,s)/(s-r),i>0&&this.crossings++)},buildIndex:function(){this.tree=new eo;for(var t=X.removeRepeatedPoints(this.ring.getCoordinates()),e=Qe.getChains(t),i=0;i<e.size();i++){var n=e.get(i),r=n.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,n)}},testMonotoneChain:function(t,e,i){i.select(t,e)},isInside:function(t){this.crossings=0;var e=new C(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var i=this.tree.query(this.interval),n=new ro(this,t),o=i.iterator();o.hasNext();){var s=o.next();this.testMonotoneChain(e,n,s)}return this.crossings%2===1},interfaces_:function(){return[io]},getClass:function(){return no}}),c(ro,tr),e(ro.prototype,{select:function(){if(1!==arguments.length)return tr.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return ro}}),no.MCSelecter=ro,e(oo.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.nodes.add(i)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var i=t.getNodeIterator();i.hasNext();){var n=i.next(),r=this.nodes.addNode(n.getCoordinate());r.setLabel(e,n.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new Lr,i=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(i)},computeIntersectionNodes:function(t,e){for(var i=t.getEdgeIterator();i.hasNext();)for(var n=i.next(),r=n.getLabel().getLocation(e),o=n.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);r===T.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,T.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return oo}}),e(so.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),i=e.getEdges().iterator();i.hasNext();){var n=i.next();if(n.getEdgeEnds().size()>1)return this.invalidPoint=n.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return so}}),e(ao.prototype,{buildIndex:function(){this.index=new qe;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),i=e.getEnvelopeInternal();this.index.insert(i,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),i=e.getCoordinates(),n=this.index.query(e.getEnvelopeInternal()),r=0;r<n.size();r++){var o=n.get(r),s=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=uo.findPtNotNode(i,o,this.graph);if(null!==a){var l=ce.isPointInRing(a,s);if(l)return this.nestedPt=a,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return ao}}),e(lo.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return lo.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.ERROR=0,lo.REPEATED_POINT=1,lo.HOLE_OUTSIDE_SHELL=2,lo.NESTED_HOLES=3,lo.DISCONNECTED_INTERIOR=4,lo.SELF_INTERSECTION=5,lo.RING_SELF_INTERSECTION=6,lo.NESTED_SHELLS=7,lo.DUPLICATE_RINGS=8,lo.TOO_FEW_POINTS=9,lo.INVALID_COORDINATE=10,lo.RING_NOT_CLOSED=11,lo.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(uo.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!uo.isValid(t[e]))return this.validErr=new lo(lo.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof kt){var i=arguments[0];if(this.checkInvalidCoordinates(i.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var e=0;e<i.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(i.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var i=new ao(e),n=0;n<t.getNumInteriorRing();n++){var r=t.getInteriorRingN(n);i.add(r)}var o=i.isNonNested();o||(this.validErr=new lo(lo.NESTED_HOLES,i.getNestedPoint()))},checkConsistentArea:function(t){var e=new so(t),i=e.isNodeConsistentArea();return i?void(e.hasDuplicateRings()&&(this.validErr=new lo(lo.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new lo(lo.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,i){var n=t.getCoordinates(),r=e.getCoordinates(),o=uo.findPtNotNode(n,e,i);if(null!==o){var s=ce.isPointInRing(o,r);if(!s)return o}var a=uo.findPtNotNode(r,t,i);if(null!==a){var l=ce.isPointInRing(a,n);return l?a:null}return f.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var i=e.next();if(this.checkNoSelfIntersectingRing(i.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new $r(t);e.isInteriorsConnected()||(this.validErr=new lo(lo.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,i=!0,n=t.iterator();n.hasNext();){var r=n.next();if(i)i=!1;else{if(e.contains(r.coord))return this.validErr=new lo(lo.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var i=t.getExteriorRing(),n=new no(i),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),s=uo.findPtNotNode(o.getCoordinates(),i,e);if(null===s)return null;var a=!n.isInside(s);if(a)return this.validErr=new lo(lo.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){return t.hasTooFewPoints()?(this.validErr=new lo(lo.TOO_FEW_POINTS,t.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof Tt){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Pt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Lt){var i=arguments[0];if(this.checkInvalidCoordinates(i.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(i),null!==this.validErr)return null;var n=new Ji(0,i);if(this.checkTooFewPoints(n),null!==this.validErr)return null;var r=new ae;n.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(n)}else if(arguments[0]instanceof Et){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;var n=new Ji(0,o);this.checkTooFewPoints(n)}else if(arguments[0]instanceof kt){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this.validErr)return null;if(this.checkClosedRings(s),null!==this.validErr)return null;var n=new Ji(0,s);if(this.checkTooFewPoints(n),null!==this.validErr)return null;if(this.checkConsistentArea(n),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(n),null!==this.validErr))return null;if(this.checkHolesInShell(s,n),null!==this.validErr)return null;if(this.checkHolesNotNested(s,n),null!==this.validErr)return null;this.checkConnectedInteriors(n)}else if(arguments[0]instanceof Ot){for(var a=arguments[0],l=0;l<a.getNumGeometries();l++){var u=a.getGeometryN(l);if(this.checkInvalidCoordinates(u),null!==this.validErr)return null;if(this.checkClosedRings(u),null!==this.validErr)return null}var n=new Ji(0,a);if(this.checkTooFewPoints(n),null!==this.validErr)return null;if(this.checkConsistentArea(n),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(n),null!==this.validErr))return null;for(var l=0;l<a.getNumGeometries();l++){var u=a.getGeometryN(l);if(this.checkHolesInShell(u,n),null!==this.validErr)return null}for(var l=0;l<a.getNumGeometries();l++){var u=a.getGeometryN(l);if(this.checkHolesNotNested(u,n),null!==this.validErr)return null}if(this.checkShellsNotNested(a,n),null!==this.validErr)return null;this.checkConnectedInteriors(n)}else if(arguments[0]instanceof ft)for(var c=arguments[0],l=0;l<c.getNumGeometries();l++){var h=c.getGeometryN(l);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof z){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof Tt)this.checkValid(f);else if(f instanceof Pt)this.checkValid(f);else if(f instanceof Lt)this.checkValid(f);else if(f instanceof Et)this.checkValid(f);else if(f instanceof kt)this.checkValid(f);else if(f instanceof Ot)this.checkValid(f);else{if(!(f instanceof ft))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,i){var n=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),s=uo.findPtNotNode(n,r,i);if(null===s)return null;var a=ce.isPointInRing(s,o);if(!a)return null;if(e.getNumInteriorRing()<=0)return this.validErr=new lo(lo.NESTED_SHELLS,s),null;for(var l=null,u=0;u<e.getNumInteriorRing();u++){var c=e.getInteriorRingN(u);if(l=this.checkShellInsideHole(t,c,i),null===l)return null}this.validErr=new lo(lo.NESTED_SHELLS,l)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new lo(lo.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var i=0;i<t.getNumGeometries();i++)for(var n=t.getGeometryN(i),r=n.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(i!==o){var s=t.getGeometryN(o);if(this.checkShellNotNested(r,s,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.findPtNotNode=function(t,e,i){for(var n=i.findEdge(e),r=n.getEdgeIntersectionList(),o=0;o<t.length;o++){var s=t[o];if(!r.isIntersection(s))return s}return null},uo.isValid=function(){if(arguments[0]instanceof z){var t=arguments[0],e=new uo(t);return e.isValid()}if(arguments[0]instanceof d){var i=arguments[0];return!r.isNaN(i.x)&&(!r.isInfinite(i.x)&&(!r.isNaN(i.y)&&!r.isInfinite(i.y)))}};var Ls=Object.freeze({IsValidOp:uo}),Os=Object.freeze({BoundaryOp:pt,IsSimpleOp:Dn,buffer:Cs,distance:Es,linemerge:Ss,overlay:Ts,polygonize:Is,relate:ks,union:Ps,valid:Ls});c(co,At.CoordinateOperation),e(co.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var i=new Array(t.length).fill(null),n=0;n<t.length;n++){var r=new d(t[n]);this.targetPM.makePrecise(r),i[n]=r}var o=new w(i,(!1)),s=o.toCoordinateArray(),a=0;e instanceof Et&&(a=2),e instanceof Lt&&(a=4);var l=i;return this.removeCollapsed&&(l=null),s.length<a?l:s},interfaces_:function(){return[]},getClass:function(){return co}}),e(ho.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var i=e.buffer(0),n=i;return this.changePrecisionModel||(n=t.getFactory().createGeometry(i)),n},reducePointwise:function(t){var e=null;if(this.changePrecisionModel){var i=this.createFactory(t.getFactory(),this.targetPM);e=new At(i)}else e=new At;
var n=this.removeCollapsed;t.getDimension()>=2&&(n=!0);var r=e.edit(t,new co(this.targetPM,n));return r},changePM:function(t,e){var i=this.createEditor(t.getFactory(),e);return i.edit(t,new At.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){var i=new ne(e,t.getSRID(),t.getCoordinateSequenceFactory());return i},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:I(e,It)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new At;var i=this.createFactory(t,e),n=new At(i);return n},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.reduce=function(t,e){var i=new ho(e);return i.reduce(t)},ho.reducePointwise=function(t,e){var i=new ho(e);return i.setPointwise(!0),i.reduce(t)};var As=Object.freeze({GeometryPrecisionReducer:ho});e(fo.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var i=-1,n=t,r=t+1;e>r;r++){var o=this.seg.distance(this.pts[r]);o>i&&(i=o,n=r)}if(i<=this.distanceTolerance)for(var r=t+1;e>r;r++)this.usePt[r]=!1;else this.simplifySection(t,n),this.simplifySection(n,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new w,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new d(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return fo}}),fo.simplify=function(t,e){var i=new fo(t);return i.setDistanceTolerance(e),i.simplify()},e(po.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new go(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>t)throw new n("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return po}}),po.simplify=function(t,e){var i=new po(t);return i.setDistanceTolerance(e),i.getResultGeometry()},c(go,_e),e(go.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var i=_e.prototype.transformPolygon.call(this,t,e);return e instanceof Ot?i:this.createValidArea(i)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var i=t.toCoordinateArray(),n=null;return n=0===i.length?new Array(0).fill(null):fo.simplify(i,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(n)},transformMultiPolygon:function(t,e){var i=_e.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)},transformLinearRing:function(t,e){var i=e instanceof kt,n=_e.prototype.transformLinearRing.call(this,t,e);return!i||n instanceof Lt?n:null},interfaces_:function(){return[]},getClass:function(){return go}}),po.DPTransformer=go,c(mo,he),e(mo.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return mo}}),e(vo.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(vo.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(vo.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var i=new mo(t[e],t[e+1],this.parentLine,e);this.segs[e]=i}},getResultCoordinates:function(){return vo.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return vo}}),vo.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),i=null,n=0;n<t.size();n++)i=t.get(n),e[n]=i.p0;return e[e.length-1]=i.p1,e},e(yo.prototype,{remove:function(t){this.index.remove(new C(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof vo)for(var t=arguments[0],e=t.getSegments(),i=0;i<e.length;i++){var n=e[i];this.add(n)}else if(arguments[0]instanceof he){var r=arguments[0];this.index.insert(new C(r.p0,r.p1),r)}},query:function(t){var e=new C(t.p0,t.p1),i=new _o(t);this.index.query(e,i);var n=i.getItems();return n},interfaces_:function(){return[]},getClass:function(){return yo}}),e(_o.prototype,{visitItem:function(t){var e=t;C.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Ne]},getClass:function(){return _o}}),e(bo.prototype,{flatten:function(t,e){var i=this.linePts[t],n=this.linePts[e],r=new he(i,n);return this.remove(this.line,t,e),this.outputIndex.add(r),r},hasBadIntersection:function(t,e,i){return!!this.hasBadOutputIntersection(i)||!!this.hasBadInputIntersection(t,e,i)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,i){i+=1;var n=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){var s=i+1;s<this.line.getMinimumSize()&&(o=!1)}var a=new Array(1).fill(null),l=this.findFurthestPoint(this.linePts,t,e,a);a[0]>this.distanceTolerance&&(o=!1);var u=new he;if(u.p0=this.linePts[t],u.p1=this.linePts[e],n[0]=t,n[1]=e,this.hasBadIntersection(this.line,n,u)&&(o=!1),o){var r=this.flatten(t,e);return this.line.addToResult(r),null}this.simplifySection(t,l,i),this.simplifySection(l,e,i)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),i=e.iterator();i.hasNext();){var n=i.next();if(this.hasInteriorIntersection(n,t))return!0}return!1},findFurthestPoint:function(t,e,i,n){var r=new he;r.p0=t[e],r.p1=t[i];for(var o=-1,s=e,a=e+1;i>a;a++){var l=t[a],u=r.distance(l);u>o&&(o=u,s=a)}return n[0]=o,s},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,i){for(var n=e;i>n;n++){var r=t.getSegment(n);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,i){for(var n=this.inputIndex.query(i),r=n.iterator();r.hasNext();){var o=r.next();if(this.hasInteriorIntersection(o,i)){if(bo.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return bo}}),bo.isInLineSection=function(t,e,i){if(i.getParent()!==t.getParent())return!1;var n=i.getIndex();return n>=e[0]&&n<e[1]},e(xo.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var i=new bo(this.inputIndex,this.outputIndex);i.setDistanceTolerance(this.distanceTolerance),i.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return xo}}),e(wo.prototype,{getResultGeometry:function(){if(this.inputGeom.isEmpty())return this.inputGeom.copy();this.linestringMap=new te,this.inputGeom.apply(new Eo(this)),this.lineSimplifier.simplify(this.linestringMap.values());var t=new Co(this.linestringMap).transform(this.inputGeom);return t},setDistanceTolerance:function(t){if(0>t)throw new n("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return wo}}),wo.simplify=function(t,e){var i=new wo(t);return i.setDistanceTolerance(e),i.getResultGeometry()},c(Co,_e),e(Co.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof Et){var i=this.linestringMap.get(e);return this.createCoordinateSequence(i.getResultCoordinates())}return _e.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return Co}}),e(Eo.prototype,{filter:function(t){if(t instanceof Et){var e=t;if(e.isEmpty())return null;var i=e.isClosed()?4:2,n=new vo(e,i);this.tps.linestringMap.put(e,n)}},interfaces_:function(){return[F]},getClass:function(){return Eo}}),wo.LineStringTransformer=Co,wo.LineStringMapBuilderFilter=Eo;var Ms=Object.freeze({DouglasPeuckerSimplifier:po,TopologyPreservingSimplifier:wo});e(So.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=So.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=this.getConstrainedLength(i),o=r/this.segLen;n.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=So.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return So}}),So.pointAlongReverse=function(t,e){var i=new d;return i.x=t.p1.x-e*(t.p1.x-t.p0.x),i.y=t.p1.y-e*(t.p1.y-t.p0.y),i},e(To.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return To}}),e(Io.prototype,{findSplitPoint:function(t,e){var i=t.getLineSegment(),n=i.getLength(),r=n/2,o=new So(i),s=Io.projectedSplitPoint(t,e),a=2*s.distance(e)*.8,l=a;return l>r&&(l=r),o.setMinimumLength(l),o.splitAt(s),o.getSplitPoint()},interfaces_:function(){return[To]},getClass:function(){return Io}}),Io.projectedSplitPoint=function(t,e){var i=t.getLineSegment(),n=i.project(e);return n},e(ko.prototype,{interfaces_:function(){return[]},getClass:function(){return ko}}),ko.triArea=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},ko.isInCircleDDNormalized=function(t,e,i,n){var r=A.valueOf(t.x).selfSubtract(n.x),o=A.valueOf(t.y).selfSubtract(n.y),s=A.valueOf(e.x).selfSubtract(n.x),a=A.valueOf(e.y).selfSubtract(n.y),l=A.valueOf(i.x).selfSubtract(n.x),u=A.valueOf(i.y).selfSubtract(n.y),c=r.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(u).selfSubtract(l.multiply(a)),f=l.multiply(o).selfSubtract(r.multiply(u)),d=r.multiply(r).selfAdd(o.multiply(o)),p=s.multiply(s).selfAdd(a.multiply(a)),g=l.multiply(l).selfAdd(u.multiply(u)),m=d.selfMultiply(h).selfAdd(p.selfMultiply(f)).selfAdd(g.selfMultiply(c)),v=m.doubleValue()>0;return v},ko.checkRobustInCircle=function(t,e,i,n){var r=ko.isInCircleNonRobust(t,e,i,n),o=ko.isInCircleDDSlow(t,e,i,n),s=ko.isInCircleCC(t,e,i,n),a=hn.circumcentre(t,e,i);N.out.println("p radius diff a = "+Math.abs(n.distance(a)-t.distance(a))/t.distance(a)),r===o&&r===s||(N.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+s+")"),N.out.println(oe.toLineString(new Dt([t,e,i,n]))),N.out.println("Circumcentre = "+oe.toPoint(a)+" radius = "+t.distance(a)),N.out.println("p radius diff a = "+Math.abs(n.distance(a)/t.distance(a)-1)),N.out.println("p radius diff b = "+Math.abs(n.distance(a)/e.distance(a)-1)),N.out.println("p radius diff c = "+Math.abs(n.distance(a)/i.distance(a)-1)),N.out.println())},ko.isInCircleDDFast=function(t,e,i,n){var r=A.sqr(t.x).selfAdd(A.sqr(t.y)).selfMultiply(ko.triAreaDDFast(e,i,n)),o=A.sqr(e.x).selfAdd(A.sqr(e.y)).selfMultiply(ko.triAreaDDFast(t,i,n)),s=A.sqr(i.x).selfAdd(A.sqr(i.y)).selfMultiply(ko.triAreaDDFast(t,e,n)),a=A.sqr(n.x).selfAdd(A.sqr(n.y)).selfMultiply(ko.triAreaDDFast(t,e,i)),l=r.selfSubtract(o).selfAdd(s).selfSubtract(a),u=l.doubleValue()>0;return u},ko.isInCircleCC=function(t,e,i,n){var r=hn.circumcentre(t,e,i),o=t.distance(r),s=n.distance(r)-o;return 0>=s},ko.isInCircleNormalized=function(t,e,i,n){var r=t.x-n.x,o=t.y-n.y,s=e.x-n.x,a=e.y-n.y,l=i.x-n.x,u=i.y-n.y,c=r*a-s*o,h=s*u-l*a,f=l*o-r*u,d=r*r+o*o,p=s*s+a*a,g=l*l+u*u,m=d*h+p*f+g*c;return m>0},ko.isInCircleDDSlow=function(t,e,i,n){var r=A.valueOf(n.x),o=A.valueOf(n.y),s=A.valueOf(t.x),a=A.valueOf(t.y),l=A.valueOf(e.x),u=A.valueOf(e.y),c=A.valueOf(i.x),h=A.valueOf(i.y),f=s.multiply(s).add(a.multiply(a)).multiply(ko.triAreaDDSlow(l,u,c,h,r,o)),d=l.multiply(l).add(u.multiply(u)).multiply(ko.triAreaDDSlow(s,a,c,h,r,o)),p=c.multiply(c).add(h.multiply(h)).multiply(ko.triAreaDDSlow(s,a,l,u,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(ko.triAreaDDSlow(s,a,l,u,c,h)),m=f.subtract(d).add(p).subtract(g),v=m.doubleValue()>0;return v},ko.isInCircleNonRobust=function(t,e,i,n){var r=(t.x*t.x+t.y*t.y)*ko.triArea(e,i,n)-(e.x*e.x+e.y*e.y)*ko.triArea(t,i,n)+(i.x*i.x+i.y*i.y)*ko.triArea(t,e,n)-(n.x*n.x+n.y*n.y)*ko.triArea(t,e,i)>0;return r},ko.isInCircleRobust=function(t,e,i,n){return ko.isInCircleNormalized(t,e,i,n)},ko.triAreaDDSlow=function(t,e,i,n,r,o){return i.subtract(t).multiply(o.subtract(e)).subtract(n.subtract(e).multiply(r.subtract(t)))},ko.triAreaDDFast=function(t,e,i){var n=A.valueOf(e.x).selfSubtract(t.x).selfMultiply(A.valueOf(i.y).selfSubtract(t.y)),r=A.valueOf(e.y).selfSubtract(t.y).selfMultiply(A.valueOf(i.x).selfSubtract(t.x));return n.selfSubtract(r)},e(Po.prototype,{circleCenter:function(t,e){var i=new Po(this.getX(),this.getY()),n=this.bisector(i,t),r=this.bisector(t,e),o=new j(n,r),s=null;try{s=new Po(o.getX(),o.getY())}catch(n){if(!(n instanceof S))throw n;N.err.println("a: "+i+"  b: "+t+"  c: "+e),N.err.println(n)}finally{}return s},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var i=e.getX()-t.getX(),n=e.getY()-t.getY(),r=new j(t.getX()+i/2,t.getY()+n/2,1),o=new j(t.getX()-n+i/2,t.getY()+i+n/2,1);return new j(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.p.distance(e.getCoordinate())<i}},getCoordinate:function(){return this.p},isInCircle:function(t,e,i){return ko.isInCircleRobust(t.p,e.p,i.p,this.p)},interpolateZValue:function(t,e,i){var n=t.getX(),r=t.getY(),o=e.getX()-n,s=i.getX()-n,a=e.getY()-r,l=i.getY()-r,u=o*l-s*a,c=this.getX()-n,h=this.getY()-r,f=(l*c-s*h)/u,d=(-a*c+o*h)/u,p=t.getZ()+f*(e.getZ()-t.getZ())+d*(i.getZ()-t.getZ());return p},midPoint:function(t){var e=(this.p.x+t.getX())/2,i=(this.p.y+t.getY())/2,n=(this.p.z+t.getZ())/2;return new Po(e,i,n)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new Po(t*this.p.x,t*this.p.y)},cross:function(){return new Po(this.p.y,(-this.p.x))},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new Po(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var i=this,n=e.sub(t),r=i.sub(t),o=n.crossProduct(r);return o>0?Po.LEFT:0>o?Po.RIGHT:n.getX()*r.getX()<0||n.getY()*r.getY()<0?Po.BEHIND:n.magn()<r.magn()?Po.BEYOND:t.equals(i)?Po.ORIGIN:e.equals(i)?Po.DESTINATION:Po.BETWEEN},sum:function(t){return new Po(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var i=this.circleCenter(t,e),n=this.distance(i,t),r=this.distance(this,t),o=this.distance(t,e);return r>o&&(r=o),o=this.distance(e,this),r>o&&(r=o),n/r},interfaces_:function(){return[]},getClass:function(){return Po}}),Po.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=e.distance(i),r=t.distance(e),o=i.z-e.z,s=e.z+o*(r/n);return s}if(4===arguments.length){var a=arguments[0],l=arguments[1],u=arguments[2],c=arguments[3],h=l.x,f=l.y,d=u.x-h,p=c.x-h,g=u.y-f,m=c.y-f,v=d*m-p*g,y=a.x-h,_=a.y-f,b=(m*y-p*_)/v,x=(-g*y+d*_)/v,w=l.z+b*(u.z-l.z)+x*(c.z-l.z);return w}},Po.LEFT=0,Po.RIGHT=1,Po.BEYOND=2,Po.BEHIND=3,Po.BETWEEN=4,Po.ORIGIN=5,Po.DESTINATION=6,c(Lo,Po),e(Lo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return Lo}}),e(Oo.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new he(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},"delete":function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return oe.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return Oo}}),Oo.makeEdge=function(t,e){var i=new Oo,n=new Oo,r=new Oo,o=new Oo;i._rot=n,n._rot=r,r._rot=o,o._rot=i,i.setNext(i),n.setNext(o),r.setNext(r),o.setNext(n);var s=i;return s.setOrig(t),s.setDest(e),s},Oo.swap=function(t){var e=t.oPrev(),i=t.sym().oPrev();Oo.splice(t,e),Oo.splice(t.sym(),i),Oo.splice(t,e.lNext()),Oo.splice(t.sym(),i.lNext()),t.setOrig(e.dest()),t.setDest(i.dest())},Oo.splice=function(t,e){var i=t.oNext().rot(),n=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=n.oNext(),a=i.oNext();t.setNext(r),e.setNext(o),i.setNext(s),n.setNext(a)},Oo.connect=function(t,e){var i=Oo.makeEdge(t.dest(),e.orig());return Oo.splice(i,t.lNext()),Oo.splice(i.sym(),e),i},e(Ao.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv["delete"](e.oNext()));var i=this.subdiv.makeEdge(e.orig(),t);Oo.splice(i,e);var n=i;do i=this.subdiv.connect(e,i.sym()),e=i.oPrev();while(e.lNext()!==n);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))Oo.swap(e),e=e.oPrev();else{if(e.oNext()===n)return i;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertSite(i)}},interfaces_:function(){return[]},getClass:function(){return Ao}}),e(Mo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Mo}}),e(Ro.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){var t=this.subdiv.getEdges();return t.iterator().next()},interfaces_:function(){return[Mo]},getClass:function(){return Ro}}),c(No,u),e(No.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return No}}),No.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(jo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return jo}}),e(Do.prototype,{getTriangleVertices:function(t){var e=new Bo;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this.frameVertex[0])||(!!t.equals(this.frameVertex[1])||!!t.equals(this.frameVertex[2]))},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var i=Oo.connect(t,e);return this.quadEdges.add(i),i},getVoronoiCellPolygon:function(t,e){var i=new x,n=t;do{var r=t.rot().orig().getCoordinate();i.add(r),t=t.oPrev()}while(t!==n);var o=new w;o.addAll(i,!1),o.closeRing(),o.size()<4&&(N.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),l=n.orig();return a.setUserData(l.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);Oo.splice(t.sym(),e);var i=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return Oo.splice(e.sym(),i),Oo.splice(i.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);Do.getTriangleEdges(t,e);var i=new Array(3).fill(null);Do.getTriangleEdges(t.sym(),i);var n=t.lNext().dest();if(this.isFrameVertex(n))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var i=Oo.makeEdge(t,e);return this.quadEdges.add(i),i},visitTriangles:function(t,e){this.visitedKey++;var i=new ge;i.push(this.startingEdge);for(var n=new J;!i.empty();){var r=i.pop();if(!n.contains(r)){var o=this.fetchTriangleToVisit(r,i,e,n);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate());var i=this.seg.distance(e);return i<this.edgeCoincidenceTolerance},getEnvelope:function(){return new C(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),i=t.getHeight(),n=0;n=e>i?10*e:10*i,this.frameVertex[0]=new Po((t.getMaxX()+t.getMinX())/2,t.getMaxY()+n),this.frameVertex[1]=new Po(t.getMinX()-n,t.getMinY()-n),this.frameVertex[2]=new Po(t.getMaxX()+n,t.getMinY()-n),this.frameEnv=new C(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Vo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new J,i=this.quadEdges.iterator();i.hasNext();){var n=i.next(),r=n.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=n.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,i,n){var r=t,o=0,s=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();n.contains(a)||e.push(a),n.add(r),o++,r=r.lNext()}while(r!==t);return s&&!i?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),i=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();i[n++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(i)}},getVertexUniqueEdges:function(t){for(var e=new x,i=new J,n=this.quadEdges.iterator();n.hasNext();){var r=n.next(),o=r.orig();i.contains(o)||(i.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();i.contains(a)||(i.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new zo;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new x,i=new ge;i.push(this.startingEdge);for(var n=new J;!i.empty();){var r=i.pop();if(!n.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),i.push(r.oNext()),i.push(r.sym().oNext()),n.add(r),n.add(r.sym())}}return e},"delete":function(t){Oo.splice(t,t.oPrev()),Oo.splice(t.sym(),t.sym().oPrev());var e=t.sym(),i=t.rot(),n=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(i),this.quadEdges.remove(n),t["delete"](),e["delete"](),i["delete"](),n["delete"]()},locateFromEdge:function(t,e){for(var i=0,n=this.quadEdges.size(),r=e;;){if(i++,i>n)throw new No(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Fo,!0);for(var e=new x,i=this.getVertexUniqueEdges(!1),n=i.iterator();n.hasNext();){var r=n.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(ne.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),i=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();i[n++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(i)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var i=this.makeEdge(e.orig(),t);Oo.splice(i,e);var n=i;do i=this.connect(e,i.sym()),e=i.oPrev();while(e.lNext()!==n);return n},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Po){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof d){var e=arguments[0];return this.locator.locate(new Po(e))}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=this.locator.locate(new Po(i));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(i)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(n))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return Do}}),Do.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new n("Edges do not form a triangle")},e(Fo.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),i=t[1].orig().getCoordinate(),n=t[2].orig().getCoordinate(),r=hn.circumcentre(e,i,n),o=new Po(r),s=0;3>s;s++)t[s].rot().setOrig(o)},interfaces_:function(){return[jo]},getClass:function(){return Fo}}),e(zo.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[jo]},getClass:function(){return zo}}),e(Bo.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[jo]},getClass:function(){return Bo}}),e(Vo.prototype,{checkTriangleSize:function(t){var e="";t.length>=2?e=oe.toLineString(t[0],t[1]):t.length>=1&&(e=oe.toPoint(t[0]))},visit:function(t){this.coordList.clear();for(var e=0;3>e;e++){var i=t[e].orig();this.coordList.add(i.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var n=this.coordList.toCoordinateArray();if(4!==n.length)return null;this.triCoords.add(n)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[jo]},getClass:function(){return Vo}}),Do.TriangleCircumcentreVisitor=Fo,Do.TriangleEdgesListVisitor=zo,Do.TriangleVertexListVisitor=Bo,Do.TriangleCoordinatesVisitor=Vo,Do.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(qo.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){var t=this.ls.getCoordinate(1);return t.z},getStartZ:function(){var t=this.ls.getCoordinate(0);return t.z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){var t=this.ls.getCoordinate(1);return t.y},getStartX:function(){var t=this.ls.getCoordinate(0);return t.x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){var t=this.ls.getCoordinate(0);return t.y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){var t=this.ls.getCoordinate(1);return t.x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return qo}}),e(Uo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Uo}}),e(Go.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return Go}}),e(Ho.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],i=arguments[1];if(null===this.root)return this.root=new Go(e,i),this.root;if(this.tolerance>0){var n=this.findBestMatchNode(e);if(null!==n)return n.increment(),n}return this.insertExact(e,i)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var i=arguments[0],n=new x;return this.query(i,n),n}if(2===arguments.length)if(arguments[0]instanceof C&&I(arguments[1],y))!function(){var i=t[0],n=t[1];e.queryNode(e.root,i,!0,{interfaces_:function(){return[Uo]},visit:function(t){n.add(t)}})}();else if(arguments[0]instanceof C&&I(arguments[1],Uo)){var r=arguments[0],o=arguments[1];this.queryNode(this.root,r,!0,o)}},queryNode:function(t,e,i,n){if(null===t)return null;var r=null,o=null,s=null;i?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=s>r,l=o>=s;a&&this.queryNode(t.getLeft(),e,!i,n),e.contains(t.getCoordinate())&&n.visit(t),l&&this.queryNode(t.getRight(),e,!i,n)},findBestMatchNode:function(t){var e=new Xo(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var i=this.root,n=this.root,r=!0,o=!0;null!==i;){if(null!==i){var s=t.distance(i.getCoordinate())<=this.tolerance;if(s)return i.increment(),i}o=r?t.x<i.getX():t.y<i.getY(),n=i,i=o?i.getLeft():i.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var a=new Go(t,e);return o?n.setLeft(a):n.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return Ho}}),Ho.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Ho.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],i=arguments[1],n=new w,r=e.iterator();r.hasNext();)for(var o=r.next(),s=i?o.getCount():1,a=0;s>a;a++)n.add(o.getCoordinate(),!0);return n.toCoordinateArray()}},e(Xo.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate()),i=e<=this.tolerance;if(!i)return null;var n=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(n=!0),n&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new C(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){
return[Uo]},getClass:function(){return Xo}}),Ho.BestMatchVisitor=Xo,e(Wo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do e=this.enforceGabriel(this.segments),t++;while(e>0&&t<Wo.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertSite(i)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,i=this.initialVertices.iterator();i.hasNext();){var n=i.next();t[e++]=n.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();){var n=r.next();t[e++]=n.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new ne,e=this.getPointArray(),i=new ve(e,t);this.convexHull=i.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),i=t.getEnd(),n=new d((e.x+i.x)/2,(e.y+i.y)/2),o=e.distance(n),s=new C(n);s.expandBy(o);for(var a=this.kdt.query(s),l=null,u=r.MAX_VALUE,c=a.iterator();c.hasNext();){var h=c.next(),f=h.getCoordinate();if(!f.equals2D(e)&&!f.equals2D(i)){var p=n.distance(f);if(o>p){var g=p;(null===l||u>g)&&(l=f,u=g)}}}return l},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new x,i=0,n=new x,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this.splitPt=this.splitFinder.findSplitPoint(o,s);var a=this.createVertex(this.splitPt,o),l=(this.insertSite(a),new qo(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),u=new qo(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(l),e.add(u),n.add(o),i+=1}}return t.removeAll(n),t.addAll(e),i},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new Lo(t)}if(2===arguments.length){var i=arguments[0],n=arguments[1],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(i,n):new Lo(i),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Wo.computeVertexEnvelope(this.initialVertices),e=Wo.computeVertexEnvelope(this.segVertices),i=new C(t);i.expandToInclude(e);var n=.2*i.getWidth(),r=.2*i.getHeight(),o=Math.max(n,r);this.computeAreaEnv=new C(i),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new Do(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Ro(this.subdiv)),this.incDel=new Ao(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Lo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var i=e.getData();return i.merge(t),i}return this.incDel.insertSite(t),t}if(arguments[0]instanceof d){var n=arguments[0];this.insertSite(this.createVertex(n))}},interfaces_:function(){return[]},getClass:function(){return Wo}}),Wo.computeVertexEnvelope=function(t){for(var e=new C,i=t.iterator();i.hasNext();){var n=i.next();e.expandToInclude(n.getCoordinate())}return e},Wo.MAX_SPLIT_ITER=99,e(Yo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Yo.envelope(this.siteCoords),e=Yo.toVertices(this.siteCoords);this.subdiv=new Do(t,this.tolerance);var i=new Ao(this.subdiv);i.insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof z){var t=arguments[0];this.siteCoords=Yo.extractUniqueCoordinates(t)}else if(I(arguments[0],m)){var e=arguments[0];this.siteCoords=Yo.unique(X.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Yo}}),Yo.extractUniqueCoordinates=function(t){if(null===t)return new w;var e=t.getCoordinates();return Yo.unique(e)},Yo.envelope=function(t){for(var e=new C,i=t.iterator();i.hasNext();){var n=i.next();e.expandToInclude(n)}return e},Yo.unique=function(t){var e=X.copyDeep(t);lt.sort(e);var i=new w(e,(!1));return i},Yo.toVertices=function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next();e.add(new Po(n))}return e},e($o.prototype,{createSiteVertices:function(t){for(var e=new x,i=t.iterator();i.hasNext();){var n=i.next();this.constraintVertexMap.containsKey(n)||e.add(new Lo(n))}return e},create:function(){if(null!==this.subdiv)return null;var t=Yo.envelope(this.siteCoords),e=new x;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=$o.createConstraintSegments(this.constraintLines));var i=this.createSiteVertices(this.siteCoords),n=new Wo(i,this.tolerance);n.setConstraints(e,new x(this.constraintVertexMap.values())),n.formInitialDelaunay(),n.enforceConstraints(),this.subdiv=n.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Yo.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),i=0;i<e.length;i++){var n=new Lo(e[i]);this.constraintVertexMap.put(e[i],n)}},interfaces_:function(){return[]},getClass:function(){return $o}}),$o.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Vi.getLines(t),i=new x,n=e.iterator();n.hasNext();){var r=n.next();$o.createConstraintSegments(r,i)}return i}if(2===arguments.length)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),n=1;n<a.length;n++)s.add(new qo(a[n-1],a[n]))},e(Zo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Yo.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var i=Yo.toVertices(this.siteCoords);this.subdiv=new Do(t,this.tolerance);var n=new Ao(this.subdiv);n.insertSites(i)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return Zo.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof z){var t=arguments[0];this.siteCoords=Yo.extractUniqueCoordinates(t)}else if(I(arguments[0],m)){var e=arguments[0];this.siteCoords=Yo.unique(X.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return Zo}}),Zo.clipGeometryCollection=function(t,e){for(var i=t.getFactory().toGeometry(e),n=new x,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=i.intersection(o),s.setUserData(o.getUserData())),null===s||s.isEmpty()||n.add(s)}return t.getFactory().createGeometryCollection(ne.toGeometryArray(n))};var Rs=Object.freeze({ConformingDelaunayTriangulationBuilder:$o,DelaunayTriangulationBuilder:Yo,VoronoiDiagramBuilder:Zo});e(Ko.prototype,{interfaces_:function(){return[]},getClass:function(){return Ko}}),Ko.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return nn.createEmptyResult(nn.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),on.overlayOp(t,e,nn.UNION)},e(z.prototype,{equalsTopo:function(t){return!!this.getEnvelopeInternal().equals(t.getEnvelopeInternal())&&Ur.relate(this,t).isEquals(this.getDimension(),t.getDimension())},union:function(){if(0===arguments.length)return Yr.union(this);if(1===arguments.length){var t=arguments[0];return Ko.union(this,t)}},isValid:function(){return uo.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return nn.createEmptyResult(nn.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return ui.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),on.overlayOp(this,t,nn.INTERSECTION)},covers:function(t){return Ur.covers(this,t)},coveredBy:function(t){return Ur.coveredBy(this,t)},touches:function(t){return Ur.touches(this,t)},intersects:function(t){return Ur.intersects(this,t)},within:function(t){return Ur.within(this,t)},overlaps:function(t){return Ur.overlaps(this,t)},disjoint:function(t){return Ur.disjoint(this,t)},crosses:function(t){return Ur.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return or.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return or.bufferOp(this,e,i)}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];return or.bufferOp(this,n,r,o)}},convexHull:function(){return new ve(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return Ur.relate.apply(Ur,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=de.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(0===e){var i=new un(this);t=i.getInteriorPoint()}else if(1===e){var i=new ln(this);t=i.getInteriorPoint()}else{var i=new sn(this);t=i.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return nn.createEmptyResult(nn.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),on.overlayOp(this,t,nn.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){var t=new oe;return t.write(this)},toString:function(){this.toText()},contains:function(t){return Ur.contains(this,t)},difference:function(t){return this.isEmpty()?nn.createEmptyResult(nn.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),on.overlayOp(this,t,nn.DIFFERENCE))},isSimple:function(){var t=new Dn(this);return t.isSimple()},isWithinDistance:function(t,e){var i=this.getEnvelopeInternal().distance(t.getEnvelopeInternal());return!(i>e)&&cr.isWithinDistance(this,t,e)},distance:function(t){return cr.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});var Ns="1.1.2 (248dab8)";t.version=Ns,t.algorithm=fs,t.densify=ds,t.dissolve=ps,t.geom=cs,t.index=vs,t.io=xs,t.noding=ws,t.operation=Os,t.precision=As,t.simplify=Ms,t.triangulate=Rs})},{}],598:[function(t,e,i){(function(){"use strict";var t,e;if(t=window.location,!t.origin){e=t.protocol+"//"+t.hostname+(t.port?":"+t.port:"");try{Object.defineProperty(t,"origin",{value:e,enumerable:!0})}catch(i){t.origin=e}}}).call(this)},{}],599:[function(t,e,i){(function(n){"use strict";!function(t){if("object"==typeof i&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this,r.mapboxgl=t()}}(function(){var e;return function i(e,n,r){function o(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var i=e[a][1][t];return o(i?i:t)},h,h.exports,i,e,n,r)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,i,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof i?i.exports=r():"function"==typeof e&&e.amd?e(r):t.glMatrix=r()}(this,function(){function t(t,e,i){var n=e[0],r=e[1],o=e[2];return t[0]=n*i[0]+r*i[3]+o*i[6],t[1]=n*i[1]+r*i[4]+o*i[7],t[2]=n*i[2]+r*i[5]+o*i[8],t}function e(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3];return t[0]=i[0]*n+i[4]*r+i[8]*o+i[12]*s,t[1]=i[1]*n+i[5]*r+i[9]*o+i[13]*s,t[2]=i[2]*n+i[6]*r+i[10]*o+i[14]*s,t[3]=i[3]*n+i[7]*r+i[11]*o+i[15]*s,t}function i(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function n(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(i),l=Math.cos(i);return t[0]=n*l+o*a,t[1]=r*l+s*a,t[2]=n*-a+o*l,t[3]=r*-a+s*l,t}function r(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=i[0],l=i[1];return t[0]=n*a,t[1]=r*a,t[2]=o*l,t[3]=s*l,t}function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(t,e){var i=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=i,t[2]=0,t[3]=-i,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){var i=e[0],n=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],m=e[14],v=e[15],y=i*a-n*s,_=i*l-r*s,b=i*u-o*s,x=n*l-r*a,w=n*u-o*a,C=r*u-o*l,E=c*g-h*p,S=c*m-f*p,T=c*v-d*p,I=h*m-f*g,k=h*v-d*g,P=f*v-d*m,L=y*P-_*k+b*I+x*T-w*S+C*E;return L?(L=1/L,t[0]=(a*P-l*k+u*I)*L,t[1]=(r*k-n*P-o*I)*L,t[2]=(g*C-m*w+v*x)*L,t[3]=(f*w-h*C-d*x)*L,t[4]=(l*T-s*P-u*S)*L,t[5]=(i*P-r*T+o*S)*L,t[6]=(m*b-p*C-v*_)*L,t[7]=(c*C-f*b+d*_)*L,t[8]=(s*k-a*T+u*E)*L,t[9]=(n*T-i*k-o*E)*L,t[10]=(p*w-g*b+v*y)*L,t[11]=(h*b-c*w-d*y)*L,t[12]=(a*S-s*I-l*E)*L,t[13]=(i*I-n*S+r*E)*L,t[14]=(g*_-p*x-m*y)*L,t[15]=(c*x-h*_+f*y)*L,t):null}function c(t,e,i){var n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],g=e[12],m=e[13],v=e[14],y=e[15],_=i[0],b=i[1],x=i[2],w=i[3];return t[0]=_*n+b*a+x*h+w*g,t[1]=_*r+b*l+x*f+w*m,t[2]=_*o+b*u+x*d+w*v,t[3]=_*s+b*c+x*p+w*y,_=i[4],b=i[5],x=i[6],w=i[7],t[4]=_*n+b*a+x*h+w*g,t[5]=_*r+b*l+x*f+w*m,t[6]=_*o+b*u+x*d+w*v,t[7]=_*s+b*c+x*p+w*y,_=i[8],b=i[9],x=i[10],w=i[11],t[8]=_*n+b*a+x*h+w*g,t[9]=_*r+b*l+x*f+w*m,t[10]=_*o+b*u+x*d+w*v,t[11]=_*s+b*c+x*p+w*y,_=i[12],b=i[13],x=i[14],w=i[15],t[12]=_*n+b*a+x*h+w*g,t[13]=_*r+b*l+x*f+w*m,t[14]=_*o+b*u+x*d+w*v,t[15]=_*s+b*c+x*p+w*y,t}function h(t,e,i){var n,r,o,s,a,l,u,c,h,f,d,p,g=i[0],m=i[1],v=i[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(n=e[0],r=e[1],o=e[2],s=e[3],a=e[4],l=e[5],u=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],t[0]=n,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=f,t[10]=d,t[11]=p,t[12]=n*g+a*m+h*v+e[12],t[13]=r*g+l*m+f*v+e[13],t[14]=o*g+u*m+d*v+e[14],t[15]=s*g+c*m+p*v+e[15]),t}function f(t,e,i){var n=i[0],r=i[1],o=i[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[4],s=e[5],a=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*n,t[5]=s*r+c*n,t[6]=a*r+h*n,t[7]=l*r+f*n,t[8]=u*r-o*n,t[9]=c*r-s*n,t[10]=h*r-a*n,t[11]=f*r-l*n,t}function p(t,e,i){var n=Math.sin(i),r=Math.cos(i),o=e[0],s=e[1],a=e[2],l=e[3],u=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*n,t[1]=s*r+c*n,t[2]=a*r+h*n,t[3]=l*r+f*n,t[4]=u*r-o*n,t[5]=c*r-s*n,t[6]=h*r-a*n,t[7]=f*r-l*n,t}function g(t,e,i,n,r){var o=1/Math.tan(e/2),s=1/(n-r);return t[0]=o/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*n*s,t[15]=0,t}function m(t,e,i,n,r,o,s){var a=1/(e-i),l=1/(n-r),u=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+i)*a,t[13]=(r+n)*l,t[14]=(s+o)*u,t[15]=1,t}return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:i,rotate:n,scale:r},mat3:{create:o,fromRotation:s},mat4:{create:a,identity:l,translate:h,scale:f,multiply:c,perspective:g,rotateX:d,rotateZ:p,invert:u,ortho:m}}})},{}],2:[function(t,i,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof i?i.exports=r():"function"==typeof e&&e.amd?e(r):t.ShelfPack=r()}(this,function(){function t(t,e,i){i=i||{},this.w=t||64,this.h=e||64,this.autoResize=!!i.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,i){this.x=0,this.y=t,this.w=this.free=e,this.h=i}function i(t,e,i,n,r,o,s){this.id=t,this.x=e,this.y=i,this.w=n,this.h=r,this.maxw=o||n,this.maxh=s||r,this.refcount=0}return t.prototype.pack=function(t,e){var i=this;t=[].concat(t),e=e||{};for(var n,r,o,s,a=[],l=0;l<t.length;l++)if(n=t[l].w||t[l].width,r=t[l].h||t[l].height,o=t[l].id,n&&r){if(!(s=i.packOne(n,r,o)))continue;e.inPlace&&(t[l].x=s.x,t[l].y=s.y,t[l].id=s.id),a.push(s)}if(this.shelves.length>0){for(var u=0,c=0,h=0;h<this.shelves.length;h++){var f=i.shelves[h];c+=f.h,u=Math.max(f.w-f.free,u)}this.resize(u,c)}return a},t.prototype.packOne=function(t,i,n){var r,o,s,a,l=this,u={freebin:-1,shelf:-1,waste:1/0},c=0;if("string"==typeof n||"number"==typeof n){if(r=this.getBin(n))return this.ref(r),r;"number"==typeof n&&(this.maxId=Math.max(n,this.maxId))}else n=++this.maxId;for(a=0;a<this.freebins.length;a++){if(r=l.freebins[a],i===r.maxh&&t===r.maxw)return l.allocFreebin(a,t,i,n);i>r.maxh||t>r.maxw||i<=r.maxh&&t<=r.maxw&&(s=r.maxw*r.maxh-t*i)<u.waste&&(u.waste=s,u.freebin=a)}for(a=0;a<this.shelves.length;a++)if(o=l.shelves[a],c+=o.h,!(t>o.free)){if(i===o.h)return l.allocShelf(a,t,i,n);i>o.h||i<o.h&&(s=(o.h-i)*t)<u.waste&&(u.freebin=-1,u.waste=s,u.shelf=a)}if(-1!==u.freebin)return this.allocFreebin(u.freebin,t,i,n);if(-1!==u.shelf)return this.allocShelf(u.shelf,t,i,n);if(i<=this.h-c&&t<=this.w)return o=new e(c,this.w,i),this.allocShelf(this.shelves.push(o)-1,t,i,n);if(this.autoResize){var h,f,d,p;return h=f=this.h,d=p=this.w,(d<=h||t>d)&&(p=2*Math.max(t,d)),(h<d||i>h)&&(f=2*Math.max(i,h)),this.resize(p,f),this.packOne(t,i,n)}return null},t.prototype.allocFreebin=function(t,e,i,n){var r=this.freebins.splice(t,1)[0];return r.id=n,r.w=e,r.h=i,r.refcount=0,this.bins[n]=r,this.ref(r),r},t.prototype.allocShelf=function(t,e,i,n){var r=this.shelves[t],o=r.alloc(e,i,n);return this.bins[n]=o,this.ref(o),o},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){var i=this;this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)i.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,n){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new i(n,r,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],3:[function(t,e,i){function n(t,e,i,n,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=n||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=i||8;var s=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=s,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.d=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Int16Array(s),this.middle=Math.round(s/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,i,n,r,s,a){for(var l=0;l<e;l++){for(var u=0;u<i;u++)n[u]=t[u*e+l];for(o(n,r,s,a,i),u=0;u<i;u++)t[u*e+l]=r[u]}for(u=0;u<i;u++){for(l=0;l<e;l++)n[l]=t[u*e+l];for(o(n,r,s,a,e),l=0;l<e;l++)t[u*e+l]=Math.sqrt(r[l])}}function o(t,e,i,n,r){i[0]=0,n[0]=-s,n[1]=+s;for(var o=1,a=0;o<r;o++){for(var l=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);l<=n[a];)a--,l=(t[o]+o*o-(t[i[a]]+i[a]*i[a]))/(2*o-2*i[a]);a++,i[a]=o,n[a]=l,n[a+1]=+s}for(o=0,a=0;o<r;o++){for(;n[a+1]<o;)a++;e[o]=(o-i[a])*(o-i[a])+t[i[a]]}}e.exports=n;var s=1e20;n.prototype.draw=function(t){var e=this;this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var i=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),o=0;o<this.size*this.size;o++){var a=i.data[4*o+3]/255;e.gridOuter[o]=1===a?0:0===a?s:Math.pow(Math.max(0,.5-a),2),e.gridInner[o]=1===a?s:0===a?0:Math.pow(Math.max(0,a-.5),2)}for(r(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),r(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),o=0;o<this.size*this.size;o++){var l=e.gridOuter[o]-e.gridInner[o];n[o]=Math.max(0,Math.min(255,Math.round(255-255*(l/e.radius+e.cutoff))))}return n}},{}],4:[function(t,e,i){function n(t,e,i,n){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=i,this.p2y=n}e.exports=n,n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var i=this;void 0===e&&(e=1e-6);var n,r,o,s,a;for(o=t,a=0;a<8;a++){if(s=i.sampleCurveX(o)-t,Math.abs(s)<e)return o;var l=i.sampleCurveDerivativeX(o);if(Math.abs(l)<1e-6)break;o-=s/l}if(n=0,r=1,(o=t)<n)return n;if(o>r)return r;for(;n<r;){if(s=i.sampleCurveX(o),Math.abs(s-t)<e)return o;t>s?n=o:r=o,o=.5*(r-n)+n}return o},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],5:[function(t,i,n){!function(t,r){"object"==typeof n&&"undefined"!=typeof i?r(n):"function"==typeof e&&e.amd?e(["exports"],r):r(t.WhooTS=t.WhooTS||{})}(this,function(t){function e(t,e,n,r,o,s){return s=s||{},t+"?"+["bbox="+i(n,r,o),"format="+(s.format||"image/png"),"service="+(s.service||"WMS"),"version="+(s.version||"1.1.1"),"request="+(s.request||"GetMap"),"srs="+(s.srs||"EPSG:3857"),"width="+(s.width||256),"height="+(s.height||256),"layers="+e].join("&")}function i(t,e,i){e=Math.pow(2,i)-e-1;var r=n(256*t,256*e,i),o=n(256*(t+1),256*(e+1),i);return r[0]+","+r[1]+","+o[0]+","+o[1]}function n(t,e,i){var n=2*Math.PI*6378137/256/Math.pow(2,i);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=i,t.getMercCoords=n,Object.defineProperty(t,"__esModule",{value:!0})})},{}],6:[function(t,e,i){function n(t){return t=Math.round(t),t<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return n("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function s(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=4095?[(3840&i)>>4|(3840&i)>>8,240&i|(240&i)>>4,15&i|(15&i)<<4,1]:null}if(7===e.length){var i=parseInt(e.substr(1),16);return i>=0&&i<=16777215?[(16711680&i)>>16,(65280&i)>>8,255&i,1]:null}return null}var r=e.indexOf("("),l=e.indexOf(")");if(-1!==r&&l+1===e.length){var c=e.substr(0,r),h=e.substr(r+1,l-(r+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=s(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=s(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,p=s(h[1]),g=s(h[2]),m=g<=.5?g*(p+1):g+p-g*p,v=2*g-m;return[n(255*a(v,m,d+1/3)),n(255*a(v,m,d)),n(255*a(v,m,d-1/3)),f];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{i.parseCSSColor=l}catch(c){}},{}],7:[function(t,e,i){function n(t,e,i){i=i||2;var n=e&&e.length,o=n?e[0]*i:t.length,a=r(t,0,o,i,!0),l=[];if(!a)return l;var u,c,f,d,p,g,m;if(n&&(a=h(t,e,a,i)),t.length>80*i){u=f=t[0],c=d=t[1];for(var v=i;v<o;v+=i)p=t[v],g=t[v+1],p<u&&(u=p),g<c&&(c=g),p>f&&(f=p),g>d&&(d=g);m=Math.max(f-u,d-c)}return s(a,l,i,u,c,m),l}function r(t,e,i,n,r){var o,s;if(r===O(t,e,i,n)>0)for(o=e;o<i;o+=n)s=k(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=k(o,t[o],t[o+1],s);return s&&w(s,s.next)&&(P(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!w(n,n.next)&&0!==x(n.prev,n,n.next))n=n.next;else{if(P(n),(n=e=n.prev)===n.next)return null;i=!0}while(i||n!==e);return e}function s(t,e,i,n,r,h,f){if(t){!f&&h&&g(t,n,r,h);for(var d,p,m=t;t.prev!==t.next;)if(d=t.prev,p=t.next,h?l(t,n,r,h):a(t))e.push(d.i/i),e.push(t.i/i),e.push(p.i/i),P(t),t=p.next,m=p.next;else if((t=p)===m){f?1===f?(t=u(t,e,i),s(t,e,i,n,r,h,2)):2===f&&c(t,e,i,n,r,h):s(o(t),e,i,n,r,h,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(x(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(_(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&x(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,i,n){var r=t.prev,o=t,s=t.next;if(x(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=v(a,l,e,i,n),f=v(u,c,e,i,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&_(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&x(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!w(r,o)&&C(r,n,n.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),P(n),P(n.next),n=t=o),n=n.next}while(n!==t);return n}function c(t,e,i,n,r,a){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&b(l,u)){var c=I(l,u);return l=o(l,l.next),c=o(c,c.next),s(l,e,i,n,r,a),void s(c,e,i,n,r,a)}u=u.next}l=l.next}while(l!==t)}function h(t,e,i,n){var s,a,l,u,c,h=[];for(s=0,a=e.length;s<a;s++)l=e[s]*n,u=s<a-1?e[s+1]*n:t.length,c=r(t,l,u,n,!1),c===c.next&&(c.steiner=!0),h.push(y(c));for(h.sort(f),s=0;s<h.length;s++)d(h[s],i),i=o(i,i.next);return i}function f(t,e){return t.x-e.x}function d(t,e){if(e=p(t,e)){var i=I(e,t);o(i,i.next)}}function p(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i.prev;var l,u=i,c=i.x,h=i.y,f=1/0;for(n=i.next;n!==u;)r>=n.x&&n.x>=c&&_(o<h?r:s,o,c,h,o<h?s:r,o,n.x,n.y)&&((l=Math.abs(o-n.y)/(r-n.x))<f||l===f&&n.x>i.x)&&S(n,t)&&(i=n,f=l),n=n.next;return i}function g(t,e,i,n){var r=t;do null===r.z&&(r.z=v(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,
m(r)}function m(t){var e,i,n,r,o,s,a,l,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<u&&(a++,n=n.nextZ);e++);for(l=u;a>0||l>0&&n;)0===a?(r=n,n=n.nextZ,l--):0!==l&&n?i.z<=n.z?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--):(r=i,i=i.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,u*=2}while(s>1);return t}function v(t,e,i,n,r){return t=32767*(t-i)/r,e=32767*(e-n)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function _(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function b(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!E(t,e)&&S(t,e)&&S(e,t)&&T(t,e)}function x(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function C(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||x(t,e,i)>0!=x(t,e,n)>0&&x(i,n,t)>0!=x(i,n,e)>0}function E(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&C(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function S(t,e){return x(t.prev,t,t.next)<0?x(t,e,t.next)>=0&&x(t,t.prev,e)>=0:x(t,e,t.prev)<0||x(t,t.next,e)<0}function T(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do i.y>o!=i.next.y>o&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==t);return n}function I(t,e){var i=new L(t.i,t.x,t.y),n=new L(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function k(t,e,i,n){var r=new L(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function P(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function L(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}e.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(O(t,0,o,i));if(r)for(var a=0,l=e.length;a<l;a++){var u=e[a]*i,c=a<l-1?e[a+1]*i:t.length;s-=Math.abs(O(t,u,c,i))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,d=n[a+1]*i,p=n[a+2]*i;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},{}],8:[function(t,e,i){function n(t){var e,i,r,u,c,h;switch(typeof t){case"object":if(null===t)return null;if(o(t)){for(r="[",i=t.length-1,e=0;e<i;e++)r+=n(t[e])+",";return i>-1&&(r+=n(t[e])),r+"]"}for(u=s(t).sort(),i=u.length,r="{",c=u[e=0],h=i>0&&void 0!==t[c];e<i;)h?(r+='"'+c.replace(a,l)+'":'+n(t[c]),c=u[++e],(h=e<i&&void 0!==t[c])&&(r+=",")):(c=u[++e],h=e<i&&void 0!==t[c]);return r+"}";case"undefined":return null;case"string":return'"'+t.replace(a,l)+'"';default:return t}}var r={}.toString,o=Array.isArray||function(t){return"[object Array]"===r.call(t)},s=Object.keys||function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e},a=/[\u0000-\u001f"\\]/g,l=function(t){var e=t.charCodeAt(0);switch(e){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return e>15?"\\u00"+e.toString(16):"\\u000"+e.toString(16)}};e.exports=function(t){if(void 0!==t)return""+n(t)},e.exports.stringSearch=a,e.exports.stringReplace=l},{}],9:[function(t,e,i){function n(t){if("Polygon"===t.type)return r(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,i=0;i<t.coordinates.length;i++)e+=r(t.coordinates[i]);return e}return null}function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(o(t[i]))}return e}function o(t){var e=0;if(t.length>2){for(var i,n,r=0;r<t.length-1;r++)i=t[r],n=t[r+1],e+=s(n[0]-i[0])*(2+Math.sin(s(i[1]))+Math.sin(s(n[1])));e=e*a.RADIUS*a.RADIUS/2}return e}function s(t){return t*Math.PI/180}var a=t("wgs84");e.exports.geometry=n,e.exports.ring=o},{wgs84:52}],10:[function(t,e,i){function n(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(r(n,e)),t;case"Feature":return t.geometry=n(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function r(t,e){return function(i){return t(i,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=s(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(r(s,e))),t}function s(t,e){e=!!e,t[0]=a(t[0],!e);for(var i=1;i<t.length;i++)t[i]=a(t[i],e);return t}function a(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("geojson-area");e.exports=n},{"geojson-area":9}],11:[function(t,e,i){function n(t,e,i,n,s,l,u,c){if(i/=e,n/=e,u>=i&&c<=n)return t;if(u>n||c<i)return null;for(var h=[],f=0;f<t.length;f++){var d,p,g=t[f],m=g.geometry,v=g.type;if(d=g.min[s],p=g.max[s],d>=i&&p<=n)h.push(g);else if(!(d>n||p<i)){var y=1===v?r(m,i,n,s):o(m,i,n,s,l,3===v);y.length&&h.push(a(g.tags,v,y,g.id))}}return h.length?h:null}function r(t,e,i,n){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=s[n];a>=e&&a<=i&&r.push(s)}return r}function o(t,e,i,n,r,o){for(var a=[],l=0;l<t.length;l++){var u,c,h,f=0,d=0,p=null,g=t[l],m=g.area,v=g.dist,y=g.outer,_=g.length,b=[];for(c=0;c<_-1;c++)u=p||g[c],p=g[c+1],f=d||u[n],d=p[n],f<e?d>i?(b.push(r(u,p,e),r(u,p,i)),o||(b=s(a,b,m,v,y))):d>=e&&b.push(r(u,p,e)):f>i?d<e?(b.push(r(u,p,i),r(u,p,e)),o||(b=s(a,b,m,v,y))):d<=i&&b.push(r(u,p,i)):(b.push(u),d<e?(b.push(r(u,p,e)),o||(b=s(a,b,m,v,y))):d>i&&(b.push(r(u,p,i)),o||(b=s(a,b,m,v,y))));u=g[_-1],f=u[n],f>=e&&f<=i&&b.push(u),h=b[b.length-1],o&&h&&(b[0][0]!==h[0]||b[0][1]!==h[1])&&b.push(b[0]),s(a,b,m,v,y)}return a}function s(t,e,i,n,r){return e.length&&(e.area=i,e.dist=n,void 0!==r&&(e.outer=r),t.push(e)),[]}e.exports=n;var a=t("./feature")},{"./feature":13}],12:[function(t,e,i){function n(t,e){var i=[];if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)r(i,t.features[n],e);else"Feature"===t.type?r(i,t,e):r(i,{geometry:t},e);return i}function r(t,e,i){if(null!==e.geometry){var n,a,l,c,h=e.geometry,f=h.type,d=h.coordinates,p=e.properties,g=e.id;if("Point"===f)t.push(u(p,1,[s(d)],g));else if("MultiPoint"===f)t.push(u(p,1,o(d),g));else if("LineString"===f)t.push(u(p,2,[o(d,i)],g));else if("MultiLineString"===f||"Polygon"===f){for(l=[],n=0;n<d.length;n++)c=o(d[n],i),"Polygon"===f&&(c.outer=0===n),l.push(c);t.push(u(p,"Polygon"===f?3:2,l,g))}else if("MultiPolygon"===f){for(l=[],n=0;n<d.length;n++)for(a=0;a<d[n].length;a++)c=o(d[n][a],i),c.outer=0===a,l.push(c);t.push(u(p,3,l,g))}else{if("GeometryCollection"!==f)throw new Error("Input data is not a valid GeoJSON object.");for(n=0;n<h.geometries.length;n++)r(t,{geometry:h.geometries[n],properties:p},i)}}}function o(t,e){for(var i=[],n=0;n<t.length;n++)i.push(s(t[n]));return e&&(l(i,e),a(i)),i}function s(t){var e=Math.sin(t[1]*Math.PI/180),i=t[0]/360+.5,n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n=n<0?0:n>1?1:n,[i,n,0]}function a(t){for(var e,i,n=0,r=0,o=0;o<t.length-1;o++)e=i||t[o],i=t[o+1],n+=e[0]*i[1]-i[0]*e[1],r+=Math.abs(i[0]-e[0])+Math.abs(i[1]-e[1]);t.area=Math.abs(n/2),t.dist=r}e.exports=n;var l=t("./simplify"),u=t("./feature")},{"./feature":13,"./simplify":15}],13:[function(t,e,i){function n(t,e,i,n){var o={id:n||null,type:e,geometry:i,tags:t||null,min:[1/0,1/0],max:[-1/0,-1/0]};return r(o),o}function r(t){var e=t.geometry,i=t.min,n=t.max;if(1===t.type)o(i,n,e);else for(var r=0;r<e.length;r++)o(i,n,e[r]);return t}function o(t,e,i){for(var n,r=0;r<i.length;r++)n=i[r],t[0]=Math.min(n[0],t[0]),e[0]=Math.max(n[0],e[0]),t[1]=Math.min(n[1],t[1]),e[1]=Math.max(n[1],e[1])}e.exports=n},{}],14:[function(t,e,i){function n(t,e){return new r(t,e)}function r(t,e){e=this.options=l(Object.create(this.options),e);var i=e.debug;i&&void 0;var n=1<<e.maxZoom,r=c(t,e.tolerance/(n*e.extent));this.tiles={},this.tileCoords=[],i&&(void 0,void 0,void 0,this.stats={},this.total=0),r=d(r,e.buffer/e.extent,s),r.length&&this.splitTile(r,0,0,0),i&&(r.length&&void 0,void 0,void 0)}function o(t,e,i){return 32*((1<<t)*i+e)+t}function s(t,e,i){return[i,(i-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function a(t,e,i){return[(i-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],i,1]}function l(t,e){for(var i in e)t[i]=e[i];return t}function u(t,e,i){var n=t.source;if(1!==n.length)return!1;var r=n[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var s=0;s<o;s++){var a=h.point(r.geometry[0][s],e,t.z2,t.x,t.y);if(a[0]!==-i&&a[0]!==e+i||a[1]!==-i&&a[1]!==e+i)return!1}return!0}e.exports=n;var c=t("./convert"),h=t("./transform"),f=t("./clip"),d=t("./wrap"),p=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,i,n,r,l,c){for(var h=this,d=[t,e,i,n],g=this.options,m=g.debug,v=null;d.length;){n=d.pop(),i=d.pop(),e=d.pop(),t=d.pop();var y=1<<e,_=o(e,i,n),b=h.tiles[_],x=e===g.maxZoom?0:g.tolerance/(y*g.extent);if(!b&&(m>1&&void 0,b=h.tiles[_]=p(t,y,i,n,x,e===g.maxZoom),h.tileCoords.push({z:e,x:i,y:n}),m)){m>1&&(void 0,void 0);var w="z"+e;h.stats[w]=(h.stats[w]||0)+1,h.total++}if(b.source=t,r){if(e===g.maxZoom||e===r)continue;var C=1<<r-e;if(i!==Math.floor(l/C)||n!==Math.floor(c/C))continue}else if(e===g.indexMaxZoom||b.numPoints<=g.indexMaxPoints)continue;if(g.solidChildren||!u(b,g.extent,g.buffer)){b.source=null,m>1&&void 0;var E,S,T,I,k,P,L=.5*g.buffer/g.extent,O=.5-L,A=.5+L,M=1+L;E=S=T=I=null,k=f(t,y,i-L,i+A,0,s,b.min[0],b.max[0]),P=f(t,y,i+O,i+M,0,s,b.min[0],b.max[0]),k&&(E=f(k,y,n-L,n+A,1,a,b.min[1],b.max[1]),S=f(k,y,n+O,n+M,1,a,b.min[1],b.max[1])),P&&(T=f(P,y,n-L,n+A,1,a,b.min[1],b.max[1]),I=f(P,y,n+O,n+M,1,a,b.min[1],b.max[1])),m>1&&void 0,t.length&&(d.push(E||[],e+1,2*i,2*n),d.push(S||[],e+1,2*i,2*n+1),d.push(T||[],e+1,2*i+1,2*n),d.push(I||[],e+1,2*i+1,2*n+1))}else r&&(v=e)}return v},r.prototype.getTile=function(t,e,i){var n=this,r=this.options,s=r.extent,a=r.debug,l=1<<t;e=(e%l+l)%l;var c=o(t,e,i);if(this.tiles[c])return h.tile(this.tiles[c],s);a>1&&void 0;for(var f,d=t,p=e,g=i;!f&&d>0;)d--,p=Math.floor(p/2),g=Math.floor(g/2),f=n.tiles[o(d,p,g)];if(!f||!f.source)return null;if(a>1&&void 0,u(f,s,r.buffer))return h.tile(f,s);a>1&&void 0;var m=this.splitTile(f.source,d,p,g,t,e,i);if(a>1&&void 0,null!==m){var v=1<<t-m;c=o(m,Math.floor(e/v),Math.floor(i/v))}return this.tiles[c]?h.tile(this.tiles[c],s):null}},{"./clip":11,"./convert":12,"./tile":16,"./transform":17,"./wrap":18}],15:[function(t,e,i){function n(t,e){var i,n,o,s,a=e*e,l=t.length,u=0,c=l-1,h=[];for(t[u][2]=1,t[c][2]=1;c;){for(n=0,i=u+1;i<c;i++)(o=r(t[i],t[u],t[c]))>n&&(s=i,n=o);n>a?(t[s][2]=n,h.push(u),h.push(s),u=s):(c=h.pop(),u=h.pop())}}function r(t,e,i){var n=e[0],r=e[1],o=i[0],s=i[1],a=t[0],l=t[1],u=o-n,c=s-r;if(0!==u||0!==c){var h=((a-n)*u+(l-r)*c)/(u*u+c*c);h>1?(n=o,r=s):h>0&&(n+=u*h,r+=c*h)}return u=a-n,c=l-r,u*u+c*c}e.exports=n},{}],16:[function(t,e,i){function n(t,e,i,n,o,s){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:i,y:n,z2:e,transformed:!1,min:[2,1],max:[-1,0]},l=0;l<t.length;l++){a.numFeatures++,r(a,t[l],o,s);var u=t[l].min,c=t[l].max;u[0]<a.min[0]&&(a.min[0]=u[0]),u[1]<a.min[1]&&(a.min[1]=u[1]),c[0]>a.max[0]&&(a.max[0]=c[0]),c[1]>a.max[1]&&(a.max[1]=c[1])}return a}function r(t,e,i,n){var r,s,a,l,u=e.geometry,c=e.type,h=[],f=i*i;if(1===c)for(r=0;r<u.length;r++)h.push(u[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<u.length;r++)if(a=u[r],n||!(2===c&&a.dist<i||3===c&&a.area<f)){var d=[];for(s=0;s<a.length;s++)l=a[s],(n||l[2]>f)&&(d.push(l),t.numSimplified++),t.numPoints++;3===c&&o(d,a.outer),h.push(d)}else t.numPoints+=a.length;if(h.length){var p={geometry:h,type:c,tags:e.tags||null};null!==e.id&&(p.id=e.id),t.features.push(p)}}function o(t,e){s(t)<0===e&&t.reverse()}function s(t){for(var e,i,n=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],i=t[s],n+=(i[0]-e[0])*(e[1]+i[1]);return n}e.exports=n},{}],17:[function(t,e,i){function n(t,e){if(t.transformed)return t;var i,n,o,s=t.z2,a=t.x,l=t.y;for(i=0;i<t.features.length;i++){var u=t.features[i],c=u.geometry;if(1===u.type)for(n=0;n<c.length;n++)c[n]=r(c[n],e,s,a,l);else for(n=0;n<c.length;n++){var h=c[n];for(o=0;o<h.length;o++)h[o]=r(h[o],e,s,a,l)}}return t.transformed=!0,t}function r(t,e,i,n,r){return[Math.round(e*(t[0]*i-n)),Math.round(e*(t[1]*i-r))]}i.tile=n,i.point=r},{}],18:[function(t,e,i){function n(t,e,i){var n=t,o=s(t,1,-1-e,e,0,i,-1,2),a=s(t,1,1-e,2+e,0,i,-1,2);return(o||a)&&(n=s(t,1,-e,1+e,0,i,-1,2)||[],o&&(n=r(o,1).concat(n)),a&&(n=n.concat(r(a,-1)))),n}function r(t,e){for(var i=[],n=0;n<t.length;n++){var r,s=t[n],l=s.type;if(1===l)r=o(s.geometry,e);else{r=[];for(var u=0;u<s.geometry.length;u++)r.push(o(s.geometry[u],e))}i.push(a(s.tags,l,r,s.id))}return i}function o(t,e){var i=[];i.area=t.area,i.dist=t.dist;for(var n=0;n<t.length;n++)i.push([t[n][0]+e,t[n][1],t[n][2]]);return i}var s=t("./clip"),a=t("./feature");e.exports=n},{"./clip":11,"./feature":13}],19:[function(t,e,i){function n(t,e,i){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],i=o[2],this.d=e+2*i;for(var s=0;s<this.d*this.d;s++){var a=o[r+s],l=o[r+s+1];n.push(a===l?null:o.subarray(a,l))}var u=o[r+n.length],c=o[r+n.length+1];this.keys=o.subarray(u,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var h=0;h<this.d*this.d;h++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var f=i/e*t;this.min=-f,this.max=t+f}e.exports=n;var r=3;n.prototype.insert=function(t,e,i,n,r){this._forEachCell(e,i,n,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(n),this.bboxes.push(r)},n.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},n.prototype._insertCell=function(t,e,i,n,r,o){this.cells[r].push(o)},n.prototype.query=function(t,e,i,n){var r=this.min,o=this.max;if(t<=r&&e<=r&&o<=i&&o<=n)return Array.prototype.slice.call(this.keys);var s=[],a={};return this._forEachCell(t,e,i,n,this._queryCell,s,a),s},n.prototype._queryCell=function(t,e,i,n,r,o,s){var a=this.cells[r];if(null!==a)for(var l=this.keys,u=this.bboxes,c=0;c<a.length;c++){var h=a[c];if(void 0===s[h]){var f=4*h;t<=u[f+2]&&e<=u[f+3]&&i>=u[f+0]&&n>=u[f+1]?(s[h]=!0,o.push(l[h])):s[h]=!1}}},n.prototype._forEachCell=function(t,e,i,n,r,o,s){for(var a=this,l=this._convertToCellCoord(t),u=this._convertToCellCoord(e),c=this._convertToCellCoord(i),h=this._convertToCellCoord(n),f=l;f<=c;f++)for(var d=u;d<=h;d++){var p=a.d*d+f;if(r.call(a,t,e,i,n,p,o,s))return}},n.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},n.prototype.toArrayBuffer=function(){var t=this;if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,i=r+this.cells.length+1+1,n=0,o=0;o<this.cells.length;o++)n+=t.cells[o].length;var s=new Int32Array(i+n+this.keys.length+this.bboxes.length);s[0]=this.extent,s[1]=this.n,s[2]=this.padding;for(var a=i,l=0;l<e.length;l++){var u=e[l];s[r+l]=a,s.set(u,a),a+=u.length}return s[r+e.length]=a,s.set(this.keys,a),a+=this.keys.length,s[r+e.length+1]=a,s.set(this.bboxes,a),a+=this.bboxes.length,s.buffer}},{}],20:[function(t,e,i){i.read=function(t,e,i,n,r){var o,s,a=8*r-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=i?r-1:0,f=i?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-c)-1,d>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=u}return(d?-1:1)*s*Math.pow(2,o-n)},i.write=function(t,e,i,n,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+h>=1?f/l:f*Math.pow(2,1-h),e*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[i+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[i+d]=255&s,d+=p,s/=256,u-=8);t[i+d-p]|=128*g}},{}],21:[function(t,e,i){function n(t,e,i,n,o){return new r(t,e,i,n,o)}function r(t,e,i,n,r){var l=this;e=e||o,i=i||s,r=r||Array,this.nodeSize=n||64,this.points=t,this.ids=new r(t.length),this.coords=new r(2*t.length);for(var u=0;u<t.length;u++)l.ids[u]=u,l.coords[2*u]=e(t[u]),l.coords[2*u+1]=i(t[u]);a(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function s(t){return t[1]}var a=t("./sort"),l=t("./range"),u=t("./within");e.exports=n,r.prototype={range:function(t,e,i,n){return l(this.ids,this.coords,t,e,i,n,this.nodeSize)},within:function(t,e,i){return u(this.ids,this.coords,t,e,i,this.nodeSize)}}},{"./range":22,"./sort":23,"./within":24}],22:[function(t,e,i){function n(t,e,i,n,r,o,s){for(var a,l,u=[0,t.length-1,0],c=[];u.length;){var h=u.pop(),f=u.pop(),d=u.pop();if(f-d<=s)for(var p=d;p<=f;p++)a=e[2*p],l=e[2*p+1],a>=i&&a<=r&&l>=n&&l<=o&&c.push(t[p]);else{var g=Math.floor((d+f)/2);a=e[2*g],l=e[2*g+1],a>=i&&a<=r&&l>=n&&l<=o&&c.push(t[g]);var m=(h+1)%2;(0===h?i<=a:n<=l)&&(u.push(d),u.push(g-1),u.push(m)),(0===h?r>=a:o>=l)&&(u.push(g+1),u.push(f),u.push(m))}}return c}e.exports=n},{}],23:[function(t,e,i){function n(t,e,i,o,s,a){if(!(s-o<=i)){var l=Math.floor((o+s)/2);r(t,e,l,o,s,a%2),n(t,e,i,o,l-1,a+1),n(t,e,i,l+1,s,a+1)}}function r(t,e,i,n,s,a){for(;s>n;){if(s-n>600){var l=s-n+1,u=i-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);r(t,e,i,Math.max(n,Math.floor(i-u*h/l+f)),Math.min(s,Math.floor(i+(l-u)*h/l+f)),a)}var d=e[2*i+a],p=n,g=s;for(o(t,e,n,i),e[2*s+a]>d&&o(t,e,n,s);p<g;){for(o(t,e,p,g),p++,g--;e[2*p+a]<d;)p++;for(;e[2*g+a]>d;)g--}e[2*n+a]===d?o(t,e,n,g):(g++,o(t,e,g,s)),g<=i&&(n=g+1),i<=g&&(s=g-1)}}function o(t,e,i,n){s(t,i,n),s(e,2*i,2*n),s(e,2*i+1,2*n+1)}function s(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}e.exports=n},{}],24:[function(t,e,i){function n(t,e,i,n,o,s){for(var a=[0,t.length-1,0],l=[],u=o*o;a.length;){var c=a.pop(),h=a.pop(),f=a.pop();if(h-f<=s)for(var d=f;d<=h;d++)r(e[2*d],e[2*d+1],i,n)<=u&&l.push(t[d]);else{var p=Math.floor((f+h)/2),g=e[2*p],m=e[2*p+1];r(g,m,i,n)<=u&&l.push(t[p]);var v=(c+1)%2;(0===c?i-o<=g:n-o<=m)&&(a.push(f),a.push(p-1),a.push(v)),(0===c?i+o>=g:n+o>=m)&&(a.push(p+1),a.push(h),a.push(v))}}return l}function r(t,e,i,n){var r=t-i,o=e-n;return r*r+o*o}e.exports=n},{}],25:[function(t,e,i){function n(t){return!!t&&"object"==typeof t}function r(t,e){for(var i=-1,n=t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function o(t,e,i,r,a,l){return t===e||(null==t||null==e||!c(t)&&!n(e)?t!==t&&e!==e:s(t,e,o,i,r,a,l))}function s(t,e,i,n,r,o,s){var c=h(t),d=h(e),m=g,v=g;c||(m=S.call(t),m==p?m=b:m!=b&&(c=f(t))),d||(v=S.call(e),v==p?v=b:v!=b&&(d=f(e)));var y=m==b,_=v==b,x=m==v;if(x&&!c&&!y)return l(t,e,m);if(!r){var w=y&&E.call(t,"__wrapped__"),C=_&&E.call(e,"__wrapped__");if(w||C)return i(w?t.value():t,C?e.value():e,n,r,o,s)}if(!x)return!1;o||(o=[]),s||(s=[]);for(var T=o.length;T--;)if(o[T]==t)return s[T]==e;o.push(t),s.push(e);var I=(c?a:u)(t,e,i,n,r,o,s);return o.pop(),s.pop(),I}function a(t,e,i,n,o,s,a){var l=-1,u=t.length,c=e.length;if(u!=c&&!(o&&c>u))return!1;for(;++l<u;){var h=t[l],f=e[l],d=n?n(o?f:h,o?h:f,l):void 0;if(void 0!==d){if(d)continue;return!1}if(o){if(!r(e,function(t){return h===t||i(h,t,n,o,s,a)}))return!1}else if(h!==f&&!i(h,f,n,o,s,a))return!1}return!0}function l(t,e,i){switch(i){case m:case v:return+t==+e;case y:return t.name==e.name&&t.message==e.message;case _:return t!=+t?e!=+e:t==+e;case x:case w:return t==e+""}return!1}function u(t,e,i,n,r,o,s){var a=d(t),l=a.length;if(l!=d(e).length&&!r)return!1;for(var u=l;u--;){var c=a[u];if(!(r?c in e:E.call(e,c)))return!1}for(var h=r;++u<l;){c=a[u];var f=t[c],p=e[c],g=n?n(r?p:f,r?f:p,c):void 0;if(!(void 0===g?i(f,p,n,r,o,s):g))return!1;h||(h="constructor"==c)}if(!h){var m=t.constructor,v=e.constructor;if(m!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v))return!1}return!0}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=t("lodash.isarray"),f=t("lodash.istypedarray"),d=t("lodash.keys"),p="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",_="[object Number]",b="[object Object]",x="[object RegExp]",w="[object String]",C=Object.prototype,E=C.hasOwnProperty,S=C.toString;e.exports=o},{"lodash.isarray":29,"lodash.istypedarray":31,"lodash.keys":32}],26:[function(t,e,i){function n(t,e,i){if("function"!=typeof t)return r;if(void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)};case 5:return function(i,n,r,o,s){return t.call(e,i,n,r,o,s)}}return function(){return t.apply(e,arguments)}}function r(t){return t}e.exports=n},{}],27:[function(t,e,i){function n(t){return!!t&&"object"==typeof t}function r(t,e){var i=null==t?void 0:t[e];return a(i)?i:void 0}function o(t){return s(t)&&d.call(t)==l}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(o(t)?p.test(h.call(t)):n(t)&&u.test(t))}var l="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,f=c.hasOwnProperty,d=c.toString,p=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{}],28:[function(t,e,i){function n(t){return o(t)&&g.call(t,"callee")&&(!v.call(t,"callee")||m.call(t)==h)}function r(t){return null!=t&&a(t.length)&&!s(t)}function o(t){return u(t)&&r(t)}function s(t){var e=l(t)?m.call(t):"";return e==f||e==d}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var c=9007199254740991,h="[object Arguments]",f="[object Function]",d="[object GeneratorFunction]",p=Object.prototype,g=p.hasOwnProperty,m=p.toString,v=p.propertyIsEnumerable;e.exports=n},{}],29:[function(t,e,i){function n(t){return!!t&&"object"==typeof t}function r(t,e){var i=null==t?void 0:t[e];return l(i)?i:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function s(t){return a(t)&&g.call(t)==c}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return null!=t&&(s(t)?m.test(d.call(t)):n(t)&&h.test(t))}var u="[object Array]",c="[object Function]",h=/^\[object .+?Constructor\]$/,f=Object.prototype,d=Function.prototype.toString,p=f.hasOwnProperty,g=f.toString,m=RegExp("^"+d.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),y=9007199254740991,_=v||function(t){return n(t)&&o(t.length)&&g.call(t)==u};e.exports=_},{}],30:[function(t,e,i){function n(t,e,i,n){i="function"==typeof i?o(i,n,3):void 0;var s=i?i(t,e):void 0;return void 0===s?r(t,e,i):!!s}var r=t("lodash._baseisequal"),o=t("lodash._bindcallback");e.exports=n},{"lodash._baseisequal":25,"lodash._bindcallback":26}],31:[function(t,e,i){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function r(t){return!!t&&"object"==typeof t}function o(t){return r(t)&&n(t.length)&&!!O[M.call(t)]}var s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",_="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",E="[object Int8Array]",S="[object Int16Array]",T="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",L="[object Uint32Array]",O={};O[w]=O[C]=O[E]=O[S]=O[T]=O[I]=O[k]=O[P]=O[L]=!0,O[a]=O[l]=O[b]=O[u]=O[x]=O[c]=O[h]=O[f]=O[d]=O[p]=O[g]=O[m]=O[v]=O[y]=O[_]=!1;var A=Object.prototype,M=A.toString;e.exports=o},{}],32:[function(t,e,i){function n(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&s(y(t))}function o(t,e){return t="number"==typeof t||d.test(t)?+t:-1,e=null==e?v:e,t>-1&&t%1==0&&t<e}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function a(t){for(var e=u(t),i=e.length,n=i&&t.length,r=!!n&&s(n)&&(f(t)||h(t)),a=-1,l=[];++a<i;){var c=e[a];(r&&o(c,n)||g.call(t,c))&&l.push(c)}return l}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(f(t)||h(t))&&e||0;for(var i=t.constructor,n=-1,r="function"==typeof i&&i.prototype===t,a=Array(e),u=e>0;++n<e;)a[n]=n+"";for(var c in t)u&&o(c,e)||"constructor"==c&&(r||!g.call(t,c))||a.push(c);return a}var c=t("lodash._getnative"),h=t("lodash.isarguments"),f=t("lodash.isarray"),d=/^\d+$/,p=Object.prototype,g=p.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,y=n("length"),_=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?a(t):l(t)?m(t):[]}:a;e.exports=_},{"lodash._getnative":27,"lodash.isarguments":28,"lodash.isarray":29}],33:[function(t,e,i){function n(t){return!!(r()&&o()&&s()&&a()&&l()&&u()&&c()&&h(t&&t.failIfMajorPerformanceCaveat))}function r(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function s(){return Function.prototype&&Function.prototype.bind}function a(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function h(t){return void 0===d[t]&&(d[t]=f(t)),d[t]}function f(t){var e=document.createElement("canvas"),i=Object.create(n.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",i)||e.probablySupportsContext("experimental-webgl",i):e.supportsContext?e.supportsContext("webgl",i)||e.supportsContext("experimental-webgl",i):e.getContext("webgl",i)||e.getContext("experimental-webgl",i)}"undefined"!=typeof e&&e.exports?e.exports=n:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=n);var d={};n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],34:[function(t,e,i){function n(t){var e;t&&t.length&&(e=t,t=e.length);var i=new Uint8Array(t||0);return e&&i.set(e),i.readUInt32LE=o.readUInt32LE,i.writeUInt32LE=o.writeUInt32LE,i.readInt32LE=o.readInt32LE,i.writeInt32LE=o.writeInt32LE,i.readFloatLE=o.readFloatLE,i.writeFloatLE=o.writeFloatLE,i.readDoubleLE=o.readDoubleLE,i.writeDoubleLE=o.writeDoubleLE,i.toString=o.toString,i.write=o.write,i.slice=o.slice,i.copy=o.copy,i._isBuffer=!0,i}function r(t){for(var e,i,n=t.length,r=[],o=0;o<n;o++){if((e=t.charCodeAt(o))>55295&&e<57344){if(!i){e>56319||o+1===n?r.push(239,191,189):i=e;continue}if(e<56320){r.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&(r.push(239,191,189),i=null);e<128?r.push(e):e<2048?r.push(e>>6|192,63&e|128):e<65536?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}e.exports=n;var o,s,a,l=t("ieee754");o={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return l.read(this,t,!0,23,4)},readDoubleLE:function(t){return l.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return l.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return l.write(this,t,e,!0,52,8)},toString:function(t,e,i){var n=this,r="",o="";e=e||0,i=Math.min(this.length,i||this.length);for(var s=e;s<i;s++){var a=n[s];a<=127?(r+=decodeURIComponent(o)+String.fromCharCode(a),o=""):o+="%"+a.toString(16)}return r+=decodeURIComponent(o)},write:function(t,e){for(var i=this,n=t===s?a:r(t),o=0;o<n.length;o++)i[e+o]=n[o]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){var i=this;e=e||0;for(var n=0;n<this.length;n++)t[e+n]=i[n]}},o.writeInt32LE=o.writeUInt32LE,n.byteLength=function(t){return s=t,a=r(t),a.length},n.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:20}],35:[function(t,e,i){(function(i){function n(t){this.buf=m.isBuffer(t)?t:new m(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){var i,n=e.buf;if(i=n[e.pos++],t+=268435456*(127&i),i<128)return t;if(i=n[e.pos++],t+=34359738368*(127&i),i<128)return t;if(i=n[e.pos++],t+=4398046511104*(127&i),i<128)return t;if(i=n[e.pos++],t+=562949953421312*(127&i),i<128)return t;if(i=n[e.pos++],t+=72057594037927940*(127&i),i<128)return t;if(i=n[e.pos++],t+=0x8000000000000000*(127&i),i<128)return t;throw new Error("Expected varint not more than 10 bytes")}function o(t,e){e.realloc(10);for(var i=e.pos+10;t>=1;){if(e.pos>=i)throw new Error("Given varint doesn't fit into 10 bytes");var n=255&t;e.buf[e.pos++]=n|(t>=128?128:0),t/=128}}function s(t,e,i){var n=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));i.realloc(n);for(var r=i.pos-1;r>=t;r--)i.buf[r+n]=i.buf[r]}function a(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function l(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function u(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function c(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function h(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function f(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function d(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function p(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function g(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}e.exports=n;var m=i.Buffer||t("./buffer");n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var v=4294967296,y=1/v,_=Math.pow(2,63);n.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){var n=this;for(i=i||this.length;this.pos<i;){var r=n.readVarint(),o=r>>3,s=n.pos;t(o,e,n),n.pos===s&&n.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);
return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,i=this.buf;return e=i[this.pos++],t=127&e,e<128?t:(e=i[this.pos++],t|=(127&e)<<7,e<128?t:(e=i[this.pos++],t|=(127&e)<<14,e<128?t:(e=i[this.pos++],t|=(127&e)<<21,e<128?t:r(t,this))))},readVarint64:function(){var t=this,e=this.pos,i=this.readVarint();if(i<_)return i;for(var n=this.pos-2;255===this.buf[n];)n--;n<e&&(n=e),i=0;for(var r=0;r<n-e+1;r++){var o=127&~t.buf[e+r];i+=r<4?o<<7*r:o*Math.pow(2,7*r)}return-i-1},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readVarint());return i},readPackedSVarint:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readSVarint());return i},readPackedBoolean:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readBoolean());return i},readPackedFloat:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readFloat());return i},readPackedDouble:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readDouble());return i},readPackedFixed32:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readFixed32());return i},readPackedSFixed32:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readSFixed32());return i},readPackedFixed64:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readFixed64());return i},readPackedSFixed64:function(){for(var t=this,e=this.readVarint()+this.pos,i=[];this.pos<e;)i.push(t.readSFixed64());return i},skip:function(t){var e=7&t;if(e===n.Varint)for(;this.buf[this.pos++]>127;);else if(e===n.Bytes)this.pos=this.readVarint()+this.pos;else if(e===n.Fixed32)this.pos+=4;else{if(e!==n.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new m(e);this.buf.copy(i),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeUInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(-1&t,this.pos),this.buf.writeInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeVarint:function(t){return(t=+t)>268435455?void o(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))),void 0)},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=m.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=this,i=t.length;this.writeVarint(i),this.realloc(i);for(var n=0;n<i;n++)e.buf[e.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var n=this.pos-i;n>=128&&s(i,n,this),this.pos=i-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,i){this.writeTag(t,n.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){this.writeMessage(t,a,e)},writePackedSVarint:function(t,e){this.writeMessage(t,l,e)},writePackedBoolean:function(t,e){this.writeMessage(t,h,e)},writePackedFloat:function(t,e){this.writeMessage(t,u,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,d,e)},writePackedFixed64:function(t,e){this.writeMessage(t,p,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,n.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,n.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,n.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,n.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,n.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,n.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,n.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":34}],36:[function(t,e,i){function n(t,e){this.x=t,this.y=e}e.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),n=e*this.x-i*this.y,r=i*this.x+e*this.y;return this.x=n,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],37:[function(t,e,i){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(h===setTimeout)return setTimeout(t,0);if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function s(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){m&&p&&(m=!1,p.length?g=p.concat(g):v=-1,g.length&&l())}function l(){if(!m){var t=o(a);m=!0;for(var e=g.length;e;){for(p=g,g=[];++v<e;)p&&p[v].run();v=-1,e=g.length}p=null,m=!1,s(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var h,f,d=e.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:n}catch(t){h=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,g=[],m=!1,v=-1;d.nextTick=function(t){var e=arguments,i=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)i[n-1]=e[n];g.push(new u(t,i)),1!==g.length||m||o(l)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],38:[function(t,e,i){function n(t,e,i,s,a){for(i=i||0,s=s||t.length-1,a=a||o;s>i;){if(s-i>600){var l=s-i+1,u=e-i+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);n(t,e,Math.max(i,Math.floor(e-u*h/l+f)),Math.min(s,Math.floor(e+(l-u)*h/l+f)),a)}var d=t[e],p=i,g=s;for(r(t,i,e),a(t[s],d)>0&&r(t,i,s);p<g;){for(r(t,p,g),p++,g--;a(t[p],d)<0;)p++;for(;a(t[g],d)>0;)g--}0===a(t[i],d)?r(t,i,g):(g++,r(t,g,s)),g<=e&&(i=g+1),e<=g&&(s=g-1)}}function r(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function o(t,e){return t<e?-1:t>e?1:0}e.exports=n},{}],39:[function(t,e,i){function n(t){return new r(t)}function r(t){this.options=d(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,i,n,r){return{x:t,y:e,zoom:1/0,id:n,properties:r,parentId:-1,numPoints:i}}function s(t,e){var i=t.geometry.coordinates;return{x:u(i[0]),y:c(i[1]),zoom:1/0,id:e,parentId:-1}}function a(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[h(t.x),f(t.y)]}}}function l(t){var e=t.numPoints,i=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return d(d({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:i})}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i<0?0:i>1?1:i}function h(t){return 360*(t-.5)}function f(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function d(t,e){for(var i in e)t[i]=e[i];return t}function p(t){return t.x}function g(t){return t.y}var m=t("kdbush");e.exports=n,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this,i=this.options.log;i&&void 0;var n="prepare "+t.length+" points";i&&void 0,this.points=t;var r=t.map(s);i&&void 0;for(var o=this.options.maxZoom;o>=this.options.minZoom;o--){var a=+Date.now();e.trees[o+1]=m(r,p,g,e.options.nodeSize,Float32Array),r=e._cluster(r,o),i&&void 0}return this.trees[this.options.minZoom]=m(r,p,g,this.options.nodeSize,Float32Array),i&&void 0,this},getClusters:function(t,e){for(var i=this,n=this.trees[this._limitZoom(e)],r=n.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),o=[],s=0;s<r.length;s++){var l=n.points[r[s]];o.push(l.numPoints?a(l):i.points[l.id])}return o},getChildren:function(t,e){for(var i=this,n=this.trees[e+1].points[t],r=this.options.radius/(this.options.extent*Math.pow(2,e)),o=this.trees[e+1].within(n.x,n.y,r),s=[],l=0;l<o.length;l++){var u=i.trees[e+1].points[o[l]];u.parentId===t&&s.push(u.numPoints?a(u):i.points[u.id])}return s},getLeaves:function(t,e,i,n){i=i||10,n=n||0;var r=[];return this._appendLeaves(r,t,e,i,n,0),r},getTile:function(t,e,i){var n=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options.extent,s=this.options.radius,a=s/o,l=(i-a)/r,u=(i+1+a)/r,c={features:[]};return this._addTileFeatures(n.range((e-a)/r,l,(e+1+a)/r,u),n.points,e,i,r,c),0===e&&this._addTileFeatures(n.range(1-a/r,l,1,u),n.points,r,i,r,c),e===r-1&&this._addTileFeatures(n.range(0,l,a/r,u),n.points,-1,i,r,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(var i=this;e<this.options.maxZoom;){var n=i.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,i,n,r,o){for(var s=this,a=this.getChildren(e,i),l=0;l<a.length;l++){var u=a[l].properties;if(u.cluster?o+u.point_count<=r?o+=u.point_count:o=s._appendLeaves(t,u.cluster_id,i+1,n,r,o):o<r?o++:t.push(a[l]),t.length===n)break}return o},_addTileFeatures:function(t,e,i,n,r,o){for(var s=this,a=0;a<t.length;a++){var u=e[t[a]];o.features.push({type:1,geometry:[[Math.round(s.options.extent*(u.x*r-i)),Math.round(s.options.extent*(u.y*r-n))]],tags:u.numPoints?l(u):s.points[u.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var i=this,n=[],r=this.options.radius/(this.options.extent*Math.pow(2,e)),s=0;s<t.length;s++){var a=t[s];if(!(a.zoom<=e)){a.zoom=e;var l=i.trees[e+1],u=l.within(a.x,a.y,r),c=a.numPoints||1,h=a.x*c,f=a.y*c,d=null;i.options.reduce&&(d=i.options.initial(),i._accumulate(d,a));for(var p=0;p<u.length;p++){var g=l.points[u[p]];if(e<g.zoom){var m=g.numPoints||1;g.zoom=e,h+=g.x*m,f+=g.y*m,c+=m,g.parentId=s,i.options.reduce&&i._accumulate(d,g)}}1===c?n.push(a):(a.parentId=s,n.push(o(h/c,f/c,c,s,d)))}}return n},_accumulate:function(t,e){var i=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,i)}}},{kdbush:21}],40:[function(t,e,i){function n(t,e){var i=this;if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,this.length>0)for(var o=this.length>>1;o>=0;o--)i._down(o)}function r(t,e){return t<e?-1:t>e?1:0}e.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var r=t-1>>1,o=e[r];if(i(n,o)>=0)break;e[t]=o,t=r}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length,r=n>>1,o=e[t];t<r;){var s=1+(t<<1),a=s+1,l=e[s];if(a<n&&i(e[a],l)<0&&(s=a,l=e[a]),i(l,o)>=0)break;e[t]=l,t=s}e[t]=o}}},{}],41:[function(t,e,i){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},{}],42:[function(t,e,i){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],43:[function(t,e,i){(function(e,n){function r(t,e){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&i._extend(n,e),x(n.showHidden)&&(n.showHidden=!1),x(n.depth)&&(n.depth=2),x(n.colors)&&(n.colors=!1),x(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),l(n,t,n.depth)}function o(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function l(t,e,n){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return _(r)||(r=l(t,r,n)),r}var o=u(t,e);if(o)return o;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),S(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(T(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(w(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return c(e)}var v="",y=!1,b=["{","}"];if(p(e)&&(y=!0,b=["[","]"]),T(e)&&(v=" [Function"+(e.name?": "+e.name:"")+"]"),w(e)&&(v=" "+RegExp.prototype.toString.call(e)),E(e)&&(v=" "+Date.prototype.toUTCString.call(e)),S(e)&&(v=" "+c(e)),0===s.length&&(!y||0==e.length))return b[0]+v+b[1];if(n<0)return w(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=y?h(t,e,n,g,s):s.map(function(i){return f(t,e,n,g,i,y)}),t.seen.pop(),d(x,v,b)}function u(t,e){if(x(e))return t.stylize("undefined","undefined");if(_(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,i,n,r){for(var o=[],s=0,a=e.length;s<a;++s)O(e,String(s))?o.push(f(t,e,i,n,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,i,n,r,!0))}),o}function f(t,e,i,n,r,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),O(n,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=m(i)?l(t,u.value,null):l(t,u.value,i-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,i){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function p(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function x(t){return void 0===t}function w(t){return C(t)&&"[object RegExp]"===k(t)}function C(t){return"object"==typeof t&&null!==t}function E(t){return C(t)&&"[object Date]"===k(t)}function S(t){return C(t)&&("[object Error]"===k(t)||t instanceof Error)}function T(t){return"function"==typeof t}function I(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function k(t){return Object.prototype.toString.call(t)}function P(t){return t<10?"0"+t.toString(10):t.toString(10)}function L(){var t=new Date,e=[P(t.getHours()),P(t.getMinutes()),P(t.getSeconds())].join(":");return[t.getDate(),N[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A=/%[sdj%]/g;i.format=function(t){var e=arguments;if(!_(t)){for(var i=[],n=0;n<arguments.length;n++)i.push(r(e[n]));return i.join(" ")}for(var n=1,o=arguments,s=o.length,a=String(t).replace(A,function(t){if("%%"===t)return"%";if(n>=s)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return t}}),l=o[n];n<s;l=o[++n])a+=m(l)||!C(l)?" "+l:" "+r(l);return a},i.deprecate=function(t,r){function o(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?void 0:void 0,s=!0}return t.apply(this,arguments)}if(x(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(!0===e.noDeprecation)return t;var s=!1;return o};var M,R={};i.debuglog=function(t){if(x(M)&&(M=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var n=e.pid;R[t]=function(){var e=i.format.apply(i,arguments);void 0}}else R[t]=function(){};return R[t]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=p,i.isBoolean=g,i.isNull=m,i.isNullOrUndefined=v,i.isNumber=y,i.isString=_,i.isSymbol=b,i.isUndefined=x,i.isRegExp=w,i.isObject=C,i.isDate=E,i.isError=S,i.isFunction=T,i.isPrimitive=I,i.isBuffer=t("./support/isBuffer");var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){void 0},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!C(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(this,t("_process"),"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":42,_process:37,inherits:41}],44:[function(t,e,i){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":45,"./lib/vectortilefeature.js":46,"./lib/vectortilelayer.js":47}],45:[function(t,e,i){function n(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,i){if(3===t){var n=new o(i,i.readVarint()+i.pos);n.length&&(e[n.name]=n)}}var o=t("./vectortilelayer");e.exports=n},{"./vectortilelayer":47}],46:[function(t,e,i){function n(t,e,i,n,o){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=o,t.readFields(r,this,e)}function r(t,e,i){1==t?e.id=i.readVarint():2==t?o(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function o(t,e){for(var i=t.readVarint()+t.pos;t.pos<i;){var n=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[n]=r}}function s(t){var e=t.length;if(e<=1)return[t];for(var i,n,r=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===n&&(n=s<0),n===s<0?(i&&r.push(i),i=[t[o]]):i.push(t[o]))}return i&&r.push(i),r}function a(t){for(var e,i,n=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],i=t[s],n+=(i.x-e.x)*(e.y+i.y);return n}var l=t("point-geometry");e.exports=n,n.types=["Unknown","Point","LineString","Polygon"],n.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,n=1,r=0,o=0,s=0,a=[];t.pos<i;){if(!r){var u=t.readVarint();n=7&u,r=u>>3}if(r--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&&(e&&a.push(e),e=[]),e.push(new l(o,s));else{if(7!==n)throw new Error("unknown command "+n);e&&e.push(e[0].clone())}}return e&&a.push(e),a},n.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,n=0,r=0,o=0,s=1/0,a=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!n){var c=t.readVarint();i=7&c,n=c>>3}if(n--,1===i||2===i)r+=t.readSVarint(),o+=t.readSVarint(),r<s&&(s=r),r>a&&(a=r),o<l&&(l=o),o>u&&(u=o);else if(7!==i)throw new Error("unknown command "+i)}return[s,l,a,u]},n.prototype.toGeoJSON=function(t,e,i){function r(t){for(var e=0;e<t.length;e++){var i=t[e],n=180-360*(i.y+c)/l;t[e]=[360*(i.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90]}}var o,a,l=this.extent*Math.pow(2,i),u=this.extent*t,c=this.extent*e,h=this.loadGeometry(),f=n.types[this.type];switch(this.type){case 1:var d=[];for(o=0;o<h.length;o++)d[o]=h[o][0];h=d,r(h);break;case 2:for(o=0;o<h.length;o++)r(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)r(h[o][a])}1===h.length?h=h[0]:f="Multi"+f;var p={type:"Feature",geometry:{type:f,coordinates:h},properties:this.properties};return"id"in this&&(p.id=this.id),p}},{"point-geometry":36}],47:[function(t,e,i){function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(o(i))}function o(t){for(var e=null,i=t.readVarint()+t.pos;t.pos<i;){var n=t.readVarint()>>3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}var s=t("./vectortilefeature.js");e.exports=n,n.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":46}],48:[function(t,e,i){function n(t){var e=[];for(var i in t.layers)e.push(o(t.layers[i]));var n=new c;return h.tile.write({layers:e},n),n.finish()}function r(t){var e={};for(var i in t)e[i]=new f(t[i].features),e[i].name=i;return n({layers:e})}function o(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},i={},n={},r=0;r<t.length;r++){var o=t.feature(r);o.geometry=l(o.loadGeometry());var s=[];for(var a in o.properties){var c=i[a];void 0===c&&(e.keys.push(a),c=e.keys.length-1,i[a]=c);var h=u(o.properties[a]),f=n[h.key];void 0===f&&(e.values.push(h),f=e.values.length-1,n[h.key]=f),s.push(c),s.push(f)}o.tags=s,e.features.push(o)}return e}function s(t,e){return(e<<3)+(7&t)}function a(t){return t<<1^t>>31}function l(t){for(var e=[],i=0,n=0,r=t.length,o=0;o<r;o++){var l=t[o];e.push(s(1,1));for(var u=0;u<l.length;u++){1===u&&e.push(s(2,l.length-1));var c=l[u].x-i,h=l[u].y-n;e.push(a(c),a(h)),i+=c,n+=h}}return e}function u(t){var e,i=typeof t;return"string"===i?e={string_value:t}:"boolean"===i?e={bool_value:t}:"number"===i?e=t%1!=0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=i+":"+t,e}var c=t("pbf"),h=t("./vector-tile-pb"),f=t("./lib/geojson_wrapper");e.exports=n,e.exports.fromVectorTileJs=n,e.exports.fromGeojsonVt=r,e.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":49,"./vector-tile-pb":50,pbf:35}],49:[function(t,e,i){function n(t){this.features=t,this.length=t.length}function r(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("point-geometry"),s=t("vector-tile").VectorTileFeature;e.exports=n,n.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this,e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var n=e[i],r=[],s=0;s<n.length;s++)r.push(new o(n[s][0],n[s][1]));t.geometry.push(r)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var l=s[a];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},r.prototype.toGeoJSON=s.prototype.toGeoJSON},{"point-geometry":36,"vector-tile":44}],50:[function(t,e,i){function n(t,e){return t.readFields(r,{layers:[]},e)}function r(t,e,i){3===t&&e.layers.push(f(i,i.readVarint()+i.pos))}function o(t,e){var i;if(void 0!==t.layers)for(i=0;i<t.layers.length;i++)e.writeMessage(3,p,t.layers[i])}function s(t,e){return t.readFields(a,{},e)}function a(t,e,i){1===t?e.string_value=i.readString():2===t?e.float_value=i.readFloat():3===t?e.double_value=i.readDouble():4===t?e.int_value=i.readVarint():5===t?e.uint_value=i.readVarint():6===t?e.sint_value=i.readSVarint():7===t&&(e.bool_value=i.readBoolean())}function l(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function u(t,e){var i=t.readFields(c,{},e);return void 0===i.type&&(i.type="Unknown"),i}function c(t,e,i){1===t?e.id=i.readVarint():2===t?e.tags=i.readPackedVarint():3===t?e.type=i.readVarint():4===t&&(e.geometry=i.readPackedVarint())}function h(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function f(t,e){return t.readFields(d,{features:[],keys:[],values:[]},e)}function d(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():2===t?e.features.push(u(i,i.readVarint()+i.pos)):3===t?e.keys.push(i.readString()):4===t?e.values.push(s(i,i.readVarint()+i.pos)):5===t&&(e.extent=i.readVarint())}function p(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var i;if(void 0!==t.features)for(i=0;i<t.features.length;i++)e.writeMessage(2,h,t.features[i]);if(void 0!==t.keys)for(i=0;i<t.keys.length;i++)e.writeStringField(3,t.keys[i]);if(void 0!==t.values)for(i=0;i<t.values.length;i++)e.writeMessage(4,l,t.values[i]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var g=i.tile={read:n,write:o};g.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},g.value={read:s,write:l},g.feature={read:u,write:h},g.layer={read:f,write:p}},{}],51:[function(t,e,i){var n=arguments[3],r=arguments[4],o=arguments[5],s=JSON.stringify;e.exports=function(t,e){function i(t){m[t]=!0;for(var e in r[t][1]){var n=r[t][1][e];m[n]||i(n)}}for(var a,l=Object.keys(o),u=0,c=l.length;u<c;u++){var h=l[u],f=o[h].exports;if(f===t||f&&f["default"]===t){a=h;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},u=0,c=l.length;u<c;u++){var h=l[u];d[h]=h}r[a]=[Function(["require","module","exports"],"("+t+")(self)"),d]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[a]=a,r[p]=[Function(["require"],"var f = require("+s(a)+");(f.default ? f.default : f)(self);"),g];var m={};i(p);var v="("+n+")({"+Object.keys(m).map(function(t){return s(t)+":["+r[t][0]+","+s(r[t][1])+"]"}).join(",")+"},{},["+s(p)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,_=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return _;var b=y.createObjectURL(_),x=new Worker(b);return x.objectURL=b,x}},{}],52:[function(t,e,i){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],53:[function(t,e,i){e.exports={version:"0.39.1"}},{}],54:[function(t,e,i){function n(t,e){var i={};for(var n in t){var r=t[n].paintVertexArray;if(0!==r.length){var o=r.serialize(e),s=r.constructor.serialize();i[n]={array:o,type:s}}}return i}var r=t("./program_configuration"),o=t("./vertex_array_type"),s=function(t,e){this.vertexOffset=t,this.primitiveOffset=e,this.vertexLength=0,this.primitiveLength=0},a=function(t,e,i){var n=this;this.globalProperties={zoom:i};var s=o(t.layoutAttributes);if(this.layoutVertexArray=new s,t.dynamicLayoutAttributes){var a=o(t.dynamicLayoutAttributes);this.dynamicLayoutVertexArray=new a}var l=t.elementArrayType;l&&(this.elementArray=new l);var u=t.elementArrayType2;u&&(this.elementArray2=new u),this.layerData={};for(var c=0,h=e;c<h.length;c+=1){var f=h[c],d=r.createDynamic(t,f,i);
n.layerData[f.id]={layer:f,programConfiguration:d,paintVertexArray:new d.PaintVertexArray,paintPropertyStatistics:d.createPaintPropertyStatistics()}}this.segments=[],this.segments2=[]};a.prototype.prepareSegment=function(t){var e=this.segments[this.segments.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new s(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(e)),e},a.prototype.prepareSegment2=function(t){var e=this.segments2[this.segments2.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new s(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(e)),e},a.prototype.populatePaintArrays=function(t){var e=this;for(var i in e.layerData){var n=e.layerData[i];0!==n.paintVertexArray.bytesPerElement&&n.programConfiguration.populatePaintArray(n.layer,n.paintVertexArray,n.paintPropertyStatistics,e.layoutVertexArray.length,t)}},a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},a.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),dynamicLayoutVertexArray:this.dynamicLayoutVertexArray&&this.dynamicLayoutVertexArray.serialize(t),elementArray:this.elementArray&&this.elementArray.serialize(t),elementArray2:this.elementArray2&&this.elementArray2.serialize(t),paintVertexArrays:n(this.layerData,t),segments:this.segments,segments2:this.segments2}},a.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,e.exports=a},{"./program_configuration":68,"./vertex_array_type":70}],55:[function(t,e,i){var n=t("./array_group"),r=t("./buffer_group"),o=t("../util/util"),s=function(t,e){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,t.arrays?this.buffers=new r(e,t.layers,t.zoom,t.arrays):this.arrays=new n(e,t.layers,t.zoom)};s.deserialize=function(t,e){var i={};if(!e)return i;for(var n=0,r=t;n<r.length;n+=1){var s=r[n],a=s.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length)for(var l=a[0].createBucket(o.extend({layers:a},s)),u=0,c=a;u<c.length;u+=1){var h=c[u];i[h.id]=l}}return i},s.prototype.populate=function(t,e){for(var i=this,n=0,r=t;n<r.length;n+=1){var o=r[n],s=o.feature,a=o.index,l=o.sourceLayerIndex;i.layers[0].filter(s)&&(i.addFeature(s),e.featureIndex.insert(s,a,l,i.index))}},s.prototype.getPaintPropertyStatistics=function(){return o.mapObject(this.arrays.layerData,function(t){return t.paintPropertyStatistics})},s.prototype.isEmpty=function(){return this.arrays.isEmpty()},s.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),arrays:this.arrays.serialize(t)}},s.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},e.exports=s},{"../util/util":218,"./array_group":54,"./buffer_group":62}],56:[function(t,e,i){function n(t,e,i,n,r){t.emplaceBack(2*e+(n+1)/2,2*i+(r+1)/2)}var r=t("../bucket"),o=t("../element_array_type"),s=t("../load_geometry"),a=t("../extent"),l={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:o(),paintAttributes:[{property:"circle-color"},{property:"circle-radius"},{property:"circle-blur"},{property:"circle-opacity"},{property:"circle-stroke-color"},{property:"circle-stroke-width"},{property:"circle-stroke-opacity"}]},u=function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,i=0,r=s(t);i<r.length;i+=1)for(var o=r[i],l=0,u=o;l<u.length;l+=1){var c=u[l],h=c.x,f=c.y;if(!(h<0||h>=a||f<0||f>=a)){var d=e.prepareSegment(4),p=d.vertexLength;n(e.layoutVertexArray,h,f,-1,-1),n(e.layoutVertexArray,h,f,1,-1),n(e.layoutVertexArray,h,f,1,1),n(e.layoutVertexArray,h,f,-1,1),e.elementArray.emplaceBack(p,p+1,p+2),e.elementArray.emplaceBack(p,p+3,p+2),d.vertexLength+=4,d.primitiveLength+=2}}e.populatePaintArrays(t.properties)},e}(r);u.programInterface=l,e.exports=u},{"../bucket":55,"../element_array_type":63,"../extent":64,"../load_geometry":66}],57:[function(t,e,i){var n=t("../bucket"),r=t("../element_array_type"),o=t("../load_geometry"),s=t("earcut"),a=t("../../util/classify_rings"),l=500,u={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:r(3),elementArrayType2:r(2),paintAttributes:[{property:"fill-color"},{property:"fill-outline-color"},{property:"fill-opacity"}]},c=function(t){function e(e){t.call(this,e,u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,i=0,n=a(o(t),l);i<n.length;i+=1){for(var r=n[i],u=0,c=0,h=r;c<h.length;c+=1)u+=h[c].length;for(var f=e.prepareSegment(u),d=f.vertexLength,p=[],g=[],m=0,v=r;m<v.length;m+=1){var y=v[m];if(0!==y.length){y!==r[0]&&g.push(p.length/2);var _=e.prepareSegment2(y.length),b=_.vertexLength;e.layoutVertexArray.emplaceBack(y[0].x,y[0].y),e.elementArray2.emplaceBack(b+y.length-1,b),p.push(y[0].x),p.push(y[0].y);for(var x=1;x<y.length;x++)e.layoutVertexArray.emplaceBack(y[x].x,y[x].y),e.elementArray2.emplaceBack(b+x-1,b+x),p.push(y[x].x),p.push(y[x].y);_.vertexLength+=y.length,_.primitiveLength+=y.length}}for(var w=s(p,g),C=0;C<w.length;C+=3)e.elementArray.emplaceBack(d+w[C],d+w[C+1],d+w[C+2]);f.vertexLength+=u,f.primitiveLength+=w.length/3}e.populatePaintArrays(t.properties)},e}(n);c.programInterface=u,e.exports=c},{"../../util/classify_rings":200,"../bucket":55,"../element_array_type":63,"../load_geometry":66,earcut:7}],58:[function(t,e,i){function n(t,e,i,n,r,o,s,a){t.emplaceBack(e,i,2*Math.floor(n*d)+s,r*d*2,o*d*2,Math.round(a))}function r(t,e){return t.x===e.x&&(t.x<0||t.x>l)||t.y===e.y&&(t.y<0||t.y>l)}var o=t("../bucket"),s=t("../element_array_type"),a=t("../load_geometry"),l=t("../extent"),u=t("earcut"),c=t("../../util/classify_rings"),h=500,f={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],elementArrayType:s(3),paintAttributes:[{property:"fill-extrusion-base"},{property:"fill-extrusion-height"},{property:"fill-extrusion-color"}]},d=Math.pow(2,13),p=function(t){function e(e){t.call(this,e,f)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,i=0,o=c(a(t),h);i<o.length;i+=1){for(var s=o[i],l=0,f=0,d=s;f<d.length;f+=1)l+=d[f].length;for(var p=e.prepareSegment(5*l),g=[],m=[],v=[],y=0,_=s;y<_.length;y+=1){var b=_[y];if(0!==b.length){b!==s[0]&&m.push(g.length/2);for(var x=0,w=0;w<b.length;w++){var C=b[w];if(n(e.layoutVertexArray,C.x,C.y,0,0,1,1,0),v.push(p.vertexLength++),w>=1){var E=b[w-1];if(!r(C,E)){var S=C.sub(E)._perp()._unit();n(e.layoutVertexArray,C.x,C.y,S.x,S.y,0,0,x),n(e.layoutVertexArray,C.x,C.y,S.x,S.y,0,1,x),x+=E.dist(C),n(e.layoutVertexArray,E.x,E.y,S.x,S.y,0,0,x),n(e.layoutVertexArray,E.x,E.y,S.x,S.y,0,1,x);var T=p.vertexLength;e.elementArray.emplaceBack(T,T+1,T+2),e.elementArray.emplaceBack(T+1,T+2,T+3),p.vertexLength+=4,p.primitiveLength+=2}}g.push(C.x),g.push(C.y)}}}for(var I=u(g,m),k=0;k<I.length;k+=3)e.elementArray.emplaceBack(v[I[k]],v[I[k+1]],v[I[k+2]]);p.primitiveLength+=I.length/3}e.populatePaintArrays(t.properties)},e}(o);p.programInterface=f,e.exports=p},{"../../util/classify_rings":200,"../bucket":55,"../element_array_type":63,"../extent":64,"../load_geometry":66,earcut:7}],59:[function(t,e,i){function n(t,e,i,n,r,o,s){t.emplaceBack(e.x<<1|n,e.y<<1|r,Math.round(u*i.x)+128,Math.round(u*i.y)+128,1+(0===o?0:o<0?-1:1)|(s*d&63)<<2,s*d>>6)}var r=t("../bucket"),o=t("../element_array_type"),s=t("../load_geometry"),a=t("../extent"),l=t("vector-tile").VectorTileFeature.types,u=63,c=Math.cos(Math.PI/180*37.5),h=15,f=15,d=.5,p=Math.pow(2,f-1)/d,g={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color"},{property:"line-blur"},{property:"line-opacity"},{property:"line-gap-width",name:"gapwidth"},{property:"line-offset"},{property:"line-width"},{property:"line-width",name:"floorwidth",useIntegerZoom:!0}],elementArrayType:o()},m=function(t){function e(e){t.call(this,e,g)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this,i=this.layers[0].layout,n=i["line-join"],r=i["line-cap"],o=i["line-miter-limit"],a=i["line-round-limit"],l=0,u=s(t,f);l<u.length;l+=1){var c=u[l];e.addLine(c,t,n,r,o,a)}},e.prototype.addLine=function(t,e,i,n,r,o){for(var s=this,u=e.properties,f="Polygon"===l[e.type],d=t.length;d>=2&&t[d-1].equals(t[d-2]);)d--;for(var p=0;p<d-1&&t[p].equals(t[p+1]);)p++;if(!(d<(f?3:2))){"bevel"===i&&(r=1.05);var g=h*(a/(512*this.overscaling)),m=t[p],v=this.arrays,y=v.prepareSegment(10*d);this.distance=0;var _,b,x,w=n,C=f?"butt":n,E=!0,S=void 0,T=void 0,I=void 0,k=void 0;this.e1=this.e2=this.e3=-1,f&&(_=t[d-2],k=m.sub(_)._unit()._perp());for(var P=p;P<d;P++)if(!(T=f&&P===d-1?t[p+1]:t[P+1])||!t[P].equals(T)){k&&(I=k),_&&(S=_),_=t[P],k=T?T.sub(_)._unit()._perp():I,I=I||k;var L=I.add(k);0===L.x&&0===L.y||L._unit();var O=L.x*k.x+L.y*k.y,A=0!==O?1/O:1/0,M=O<c&&S&&T;if(M&&P>p){var R=_.dist(S);if(R>2*g){var N=_.sub(_.sub(S)._mult(g/R)._round());s.distance+=N.dist(S),s.addCurrentVertex(N,s.distance,I.mult(1),0,0,!1,y),S=N}}var j=S&&T,D=j?i:T?w:C;if(j&&"round"===D&&(A<o?D="miter":A<=2&&(D="fakeround")),"miter"===D&&A>r&&(D="bevel"),"bevel"===D&&(A>2&&(D="flipbevel"),A<r&&(D="miter")),S&&(s.distance+=_.dist(S)),"miter"===D)L._mult(A),s.addCurrentVertex(_,s.distance,L,0,0,!1,y);else if("flipbevel"===D){if(A>100)L=k.clone().mult(-1);else{var F=I.x*k.y-I.y*k.x>0?-1:1,z=A*I.add(k).mag()/I.sub(k).mag();L._perp()._mult(z*F)}s.addCurrentVertex(_,s.distance,L,0,0,!1,y),s.addCurrentVertex(_,s.distance,L.mult(-1),0,0,!1,y)}else if("bevel"===D||"fakeround"===D){var B=I.x*k.y-I.y*k.x>0,V=-Math.sqrt(A*A-1);if(B?(x=0,b=V):(b=0,x=V),E||s.addCurrentVertex(_,s.distance,I,b,x,!1,y),"fakeround"===D){for(var q=Math.floor(8*(.5-(O-.5))),U=void 0,G=0;G<q;G++)U=k.mult((G+1)/(q+1))._add(I)._unit(),s.addPieSliceVertex(_,s.distance,U,B,y);s.addPieSliceVertex(_,s.distance,L,B,y);for(var H=q-1;H>=0;H--)U=I.mult((H+1)/(q+1))._add(k)._unit(),s.addPieSliceVertex(_,s.distance,U,B,y)}T&&s.addCurrentVertex(_,s.distance,k,-b,-x,!1,y)}else"butt"===D?(E||s.addCurrentVertex(_,s.distance,I,0,0,!1,y),T&&s.addCurrentVertex(_,s.distance,k,0,0,!1,y)):"square"===D?(E||(s.addCurrentVertex(_,s.distance,I,1,1,!1,y),s.e1=s.e2=-1),T&&s.addCurrentVertex(_,s.distance,k,-1,-1,!1,y)):"round"===D&&(E||(s.addCurrentVertex(_,s.distance,I,0,0,!1,y),s.addCurrentVertex(_,s.distance,I,1,1,!0,y),s.e1=s.e2=-1),T&&(s.addCurrentVertex(_,s.distance,k,-1,-1,!0,y),s.addCurrentVertex(_,s.distance,k,0,0,!1,y)));if(M&&P<d-1){var X=_.dist(T);if(X>2*g){var W=_.add(T.sub(_)._mult(g/X)._round());s.distance+=W.dist(_),s.addCurrentVertex(W,s.distance,k.mult(1),0,0,!1,y),_=W}}E=!1}v.populatePaintArrays(u)}},e.prototype.addCurrentVertex=function(t,e,i,r,o,s,a){var l,u=s?1:0,c=this.arrays,h=c.layoutVertexArray,f=c.elementArray;l=i.clone(),r&&l._sub(i.perp()._mult(r)),n(h,t,l,u,0,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=i.mult(-1),o&&l._sub(i.perp()._mult(o)),n(h,t,l,u,1,-o,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>p/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,i,r,o,s,a))},e.prototype.addPieSliceVertex=function(t,e,i,r,o){var s=r?1:0;i=i.mult(r?-1:1);var a=this.arrays,l=a.layoutVertexArray,u=a.elementArray;n(l,t,i,0,s,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(u.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},e}(r);m.programInterface=g,e.exports=m},{"../bucket":55,"../element_array_type":63,"../extent":64,"../load_geometry":66,"vector-tile":44}],60:[function(t,e,i){function n(t,e,i,n,r,o,s,a){t.emplaceBack(e,i,Math.round(64*n),Math.round(64*r),o,s,a?a[0]:void 0,a?a[1]:void 0)}function r(t,e,i,n){var r=2*Math.PI,o=d((i+r)%r/r*255,10*n);t.emplaceBack(e.x,e.y,o),t.emplaceBack(e.x,e.y,o),t.emplaceBack(e.x,e.y,o),t.emplaceBack(e.x,e.y,o)}function o(t,e,i,n,r,o){return t.emplaceBack(e.x,e.y,i.x,i.y,Math.round(n.x),Math.round(n.y),10*r,10*o)}function s(t,e,i){var n={};if(n.isFeatureConstant=e.isLayoutValueFeatureConstant(i),n.isZoomConstant=e.isLayoutValueZoomConstant(i),n.isFeatureConstant&&(n.layoutSize=e.getLayoutValue(i,{zoom:t+1})),!n.isZoomConstant){for(var r=e.getLayoutValueStopZoomLevels(i),o=0;o<r.length&&r[o]<=t;)o++;o=Math.max(0,o-1);for(var s=o;s<r.length&&r[s]<t+1;)s++;s=Math.min(r.length-1,s),n.coveringZoomRange=[r[o],r[s]],e.isLayoutValueFeatureConstant(i)&&(n.coveringStopValues=[e.getLayoutValue(i,{zoom:r[o]}),e.getLayoutValue(i,{zoom:r[s]})]),n.functionBase=e.getLayoutProperty(i).base,void 0===n.functionBase&&(n.functionBase=1),n.functionType=e.getLayoutProperty(i).type||"exponential"}return n}function a(t,e,i,n,r){return t.isLayoutValueZoomConstant(n)&&!t.isLayoutValueFeatureConstant(n)?[10*t.getLayoutValue(n,{},r)]:t.isLayoutValueZoomConstant(n)||t.isLayoutValueFeatureConstant(n)?null:[10*t.getLayoutValue(n,{zoom:i[0]},r),10*t.getLayoutValue(n,{zoom:i[1]},r)]}var l=t("point-geometry"),u=t("../array_group"),c=t("../buffer_group"),h=t("../element_array_type"),f=t("../extent"),d=t("../../shaders/encode_attribute").packUint8ToFloat,p=t("../../symbol/anchor"),g=t("../../symbol/get_anchors"),m=t("../../util/token"),v=t("../../symbol/quads"),y=t("../../symbol/shaping"),_=t("../../symbol/transform_text"),b=t("../../symbol/mergelines"),x=t("../../symbol/clip_line"),w=t("../../util/util"),C=t("../../util/script_detection"),E=t("../load_geometry"),S=t("../../symbol/collision_feature"),T=t("../../util/find_pole_of_inaccessibility"),I=t("../../util/classify_rings"),k=t("vector-tile").VectorTileFeature.types,P=t("../../util/struct_array"),L=t("../../util/verticalize_punctuation"),O=y.shapeText,A=y.shapeIcon,M=y.WritingMode,R=v.getGlyphQuads,N=v.getIconQuads,j=P({members:[{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Float32",name:"placementZoom"},{type:"Uint8",name:"vertical"}]}),D=P({members:[{type:"Float32",name:"offsetX"}]}),F=P({members:[{type:"Int16",name:"x"},{type:"Int16",name:"y"}]}),z=h(),B=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],V=[{name:"a_projected_pos",components:3,type:"Float32"}],q={glyph:{layoutAttributes:B,dynamicLayoutAttributes:V,elementArrayType:z,paintAttributes:[{property:"text-color",name:"fill_color"},{property:"text-halo-color",name:"halo_color"},{property:"text-halo-width",name:"halo_width"},{property:"text-halo-blur",name:"halo_blur"},{property:"text-opacity",name:"opacity"}]},icon:{layoutAttributes:B,dynamicLayoutAttributes:V,elementArrayType:z,paintAttributes:[{property:"icon-color",name:"fill_color"},{property:"icon-halo-color",name:"halo_color"},{property:"icon-halo-width",name:"halo_width"},{property:"icon-halo-blur",name:"halo_blur"},{property:"icon-opacity",name:"opacity"}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],elementArrayType:h(2)}},U=function(t){var e=this;this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.fontstack=t.fontstack;var i=this.layers[0];if(this.symbolInterfaces=q,t.arrays){this.buffers={};for(var n in t.arrays)t.arrays[n]&&(e.buffers[n]=new c(e.symbolInterfaces[n],t.layers,t.zoom,t.arrays[n]));this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData,this.placedGlyphArray=new j(t.placedGlyphArray),this.placedIconArray=new j(t.placedIconArray),this.glyphOffsetArray=new D(t.glyphOffsetArray),this.lineVertexArray=new F(t.lineVertexArray)}else this.textSizeData=s(this.zoom,i,"text-size"),this.iconSizeData=s(this.zoom,i,"icon-size")};U.prototype.populate=function(t,e){var i=this,n=this.layers[0],r=n.layout,o=r["text-font"],s=(!n.isLayoutValueFeatureConstant("text-field")||r["text-field"])&&o,a=!n.isLayoutValueFeatureConstant("icon-image")||r["icon-image"];if(this.features=[],s||a){for(var l=e.iconDependencies,u=e.glyphDependencies,c=u[o]=u[o]||{},h={zoom:this.zoom},f=0,d=t;f<d.length;f+=1){var p=d[f],g=p.feature,v=p.index,y=p.sourceLayerIndex;if(n.filter(g)){var x=void 0;s&&(x=n.getLayoutValue("text-field",h,g.properties),n.isLayoutValueFeatureConstant("text-field")&&(x=m(g.properties,x)),x=_(x,n,h,g.properties));var w=void 0;if(a&&(w=n.getLayoutValue("icon-image",h,g.properties),n.isLayoutValueFeatureConstant("icon-image")&&(w=m(g.properties,w))),(x||w)&&(i.features.push({text:x,icon:w,index:v,sourceLayerIndex:y,geometry:E(g),properties:g.properties,type:k[g.type]}),w&&(l[w]=!0),x))for(var S="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],T=C.allowsVerticalWritingMode(x),I=0;I<x.length;I++)if(c[x.charCodeAt(I)]=!0,S&&T){var P=L.lookup[x.charAt(I)];P&&(c[P.charCodeAt(0)]=!0)}}}"line"===r["symbol-placement"]&&(this.features=b(this.features))}},U.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},U.prototype.getPaintPropertyStatistics=function(){for(var t=this,e={},i=0,n=t.layers;i<n.length;i+=1){var r=n[i];e[r.id]=w.extend({},t.arrays.icon.layerData[r.id].paintPropertyStatistics,t.arrays.glyph.layerData[r.id].paintPropertyStatistics)}return e},U.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,fontstack:this.fontstack,placedGlyphArray:this.placedGlyphArray.serialize(t),placedIconArray:this.placedIconArray.serialize(t),glyphOffsetArray:this.glyphOffsetArray.serialize(t),lineVertexArray:this.lineVertexArray.serialize(t),arrays:w.mapObject(this.arrays,function(e){return e.isEmpty()?null:e.serialize(t)})}},U.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},U.prototype.createArrays=function(){var t=this;this.arrays=w.mapObject(this.symbolInterfaces,function(e){return new u(e,t.layers,t.zoom)})},U.prototype.prepare=function(t,e){var i=this;this.symbolInstances=[];var n=512*this.overscaling;this.tilePixelRatio=f/n,this.compareText={},this.iconsNeedLinear=!1;for(var r=this.layers[0].layout,o=24*r["text-line-height"],s="line"!==r["symbol-placement"]?24*r["text-max-width"]:0,a=24*r["text-letter-spacing"],l=this.fontstack=r["text-font"].join(","),u="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],c=0,h=i.features;c<h.length;c+=1){var d=h[c],p=void 0;if(d.text){var g=C.allowsVerticalWritingMode(d.text),m=i.layers[0].getLayoutValue("text-offset",{zoom:i.zoom},d.properties).map(function(t){return 24*t}),v=C.allowsLetterSpacing(d.text)?a:0,y=i.layers[0].getLayoutValue("text-anchor",{zoom:i.zoom},d.properties),_=i.layers[0].getLayoutValue("text-justify",{zoom:i.zoom},d.properties);p={},p[M.horizontal]=O(d.text,t[l],s,o,y,_,v,m,24,M.horizontal),p[M.vertical]=g&&u&&O(d.text,t[l],s,o,y,_,v,m,24,M.vertical)}else p={};var b=void 0;if(d.icon){var x=e[d.icon];x&&(b=A(x,i.layers[0].getLayoutValue("icon-offset",{zoom:i.zoom},d.properties)),void 0===i.sdfIcons?i.sdfIcons=x.sdf:i.sdfIcons!==x.sdf&&w.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),x.isNativePixelRatio?0===r["icon-rotate"]&&i.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(i.iconsNeedLinear=!0):i.iconsNeedLinear=!0)}(p[M.horizontal]||b)&&i.addFeature(d,p,b)}},U.prototype.addFeature=function(t,e,i){var n=this,r=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},t.properties),o=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},t.properties),s=this.layers[0].getLayoutValue("text-offset",{zoom:this.zoom},t.properties),a=this.layers[0].getLayoutValue("icon-offset",{zoom:this.zoom},t.properties),l=this.layers[0].getLayoutValue("text-size",{zoom:18},t.properties);void 0===l&&(l=r);var u=this.layers[0].layout,c=r/24,h=this.tilePixelRatio*c,d=this.tilePixelRatio*l/24,m=this.tilePixelRatio*o,v=this.tilePixelRatio*u["symbol-spacing"],y=u["symbol-avoid-edges"],_=u["text-padding"]*this.tilePixelRatio,b=u["icon-padding"]*this.tilePixelRatio,w=u["text-max-angle"]/180*Math.PI,C="map"===u["text-rotation-alignment"]&&"line"===u["symbol-placement"],E="map"===u["icon-rotation-alignment"]&&"line"===u["symbol-placement"],S=u["text-allow-overlap"]||u["icon-allow-overlap"]||u["text-ignore-placement"]||u["icon-ignore-placement"],k=u["symbol-placement"],P=v/2,L=function(r,o){var l=!(o.x<0||o.x>f||o.y<0||o.y>f);if(!y||l){var u=l||S;n.addSymbolInstance(o,r,e,i,n.layers[0],u,n.collisionBoxArray,t.index,t.sourceLayerIndex,n.index,h,_,C,s,m,b,E,a,{zoom:n.zoom},t.properties)}};if("line"===k)for(var O=0,A=x(t.geometry,0,0,f,f);O<A.length;O+=1)for(var R=A[O],N=g(R,v,w,e[M.vertical]||e[M.horizontal],i,24,d,n.overscaling,f),j=0,D=N;j<D.length;j+=1){var F=D[j],z=e[M.horizontal];z&&n.anchorIsTooClose(z.text,P,F)||L(R,F)}else if("Polygon"===t.type)for(var B=0,V=I(t.geometry,0);B<V.length;B+=1){var q=V[B],U=T(q,16);L(q[0],new p(U.x,U.y,0))}else if("LineString"===t.type)for(var G=0,H=t.geometry;G<H.length;G+=1){var X=H[G];L(X,new p(X[0].x,X[0].y,0))}else if("Point"===t.type)for(var W=0,Y=t.geometry;W<Y.length;W+=1)for(var $=Y[W],Z=0,K=$;Z<K.length;Z+=1){var J=K[Z];L([J],new p(J.x,J.y,0))}},U.prototype.anchorIsTooClose=function(t,e,i){var n=this.compareText;if(t in n){for(var r=n[t],o=r.length-1;o>=0;o--)if(i.dist(r[o])<e)return!0}else n[t]=[];return n[t].push(i),!1},U.prototype.place=function(t,e){var i=this;this.createArrays(),this.placedGlyphArray=new j,this.placedIconArray=new j,this.glyphOffsetArray=new D,this.lineVertexArray=new F;var n=this.layers[0],r=n.layout,o=t.maxScale,s="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],l="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"];if(r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"]){var u=t.angle,c=Math.sin(u),h=Math.cos(u);this.symbolInstances.sort(function(t,e){return(c*t.anchor.x+h*t.anchor.y|0)-(c*e.anchor.x+h*e.anchor.y|0)||e.featureIndex-t.featureIndex})}for(var f=0,d=i.symbolInstances;f<d.length;f+=1){var p=d[f],g={boxStartIndex:p.textBoxStartIndex,boxEndIndex:p.textBoxEndIndex},m={boxStartIndex:p.iconBoxStartIndex,boxEndIndex:p.iconBoxEndIndex},v=!(p.textBoxStartIndex===p.textBoxEndIndex),y=!(p.iconBoxStartIndex===p.iconBoxEndIndex),_=r["text-optional"]||!v,b=r["icon-optional"]||!y,x=v?t.placeCollisionFeature(g,r["text-allow-overlap"],r["symbol-avoid-edges"]):t.minScale,w=y?t.placeCollisionFeature(m,r["icon-allow-overlap"],r["symbol-avoid-edges"]):t.minScale;if(_||b?!b&&x?x=Math.max(w,x):!_&&w&&(w=Math.max(w,x)):w=x=Math.max(w,x),v||y){for(var C=p.line,E=i.lineVertexArray.length,S=0;S<C.length;S++)i.lineVertexArray.emplaceBack(C[S].x,C[S].y);var T=i.lineVertexArray.length-E;if(v&&(t.insertCollisionFeature(g,x,r["text-ignore-placement"]),x<=o)){var I=a(n,i.zoom,i.textSizeData.coveringZoomRange,"text-size",p.featureProperties);i.addSymbols(i.arrays.glyph,p.glyphQuads,x,I,r["text-keep-upright"],p.textOffset,s,t.angle,p.featureProperties,p.writingModes,p.anchor,E,T,i.placedGlyphArray)}if(y&&(t.insertCollisionFeature(m,w,r["icon-ignore-placement"]),w<=o)){var k=a(n,i.zoom,i.iconSizeData.coveringZoomRange,"icon-size",p.featureProperties);i.addSymbols(i.arrays.icon,p.iconQuads,w,k,r["icon-keep-upright"],p.iconOffset,l,t.angle,p.featureProperties,null,p.anchor,E,T,i.placedIconArray)}}}e&&this.addToDebugBuffers(t)},U.prototype.addSymbols=function(t,e,i,o,s,a,l,u,c,h,f,d,p,g){for(var m=this,v=t.elementArray,y=t.layoutVertexArray,_=t.dynamicLayoutVertexArray,b=this.zoom,x=Math.max(Math.log(i)/Math.LN2+b,0),w=this.glyphOffsetArray.length,C=(f.angle+u+2*Math.PI)%(2*Math.PI),E=C>1*Math.PI/4&&C<=3*Math.PI/4||C>5*Math.PI/4&&C<=7*Math.PI/4,S=Boolean(h&M.vertical)&&E,T=0,I=e;T<I.length;T+=1){var k=I[T];if(!l||!s||k.writingMode===M.vertical===S){var P=k.tl,L=k.tr,O=k.bl,A=k.br,R=k.tex,N=t.prepareSegment(4),j=N.vertexLength,D=k.glyphOffset[1];n(y,f.x,f.y,P.x,D+P.y,R.x,R.y,o),n(y,f.x,f.y,L.x,D+L.y,R.x+R.w,R.y,o),n(y,f.x,f.y,O.x,D+O.y,R.x,R.y+R.h,o),n(y,f.x,f.y,A.x,D+A.y,R.x+R.w,R.y+R.h,o),r(_,f,0,x),v.emplaceBack(j,j+1,j+2),v.emplaceBack(j+1,j+2,j+3),N.vertexLength+=4,N.primitiveLength+=2,m.glyphOffsetArray.emplaceBack(k.glyphOffset[0])}}g.emplaceBack(f.x,f.y,w,this.glyphOffsetArray.length-w,d,p,f.segment,o?o[0]:0,o?o[1]:0,a[0],a[1],x,S),t.populatePaintArrays(c)},U.prototype.addToDebugBuffers=function(t){for(var e=this,i=this.arrays.collisionBox,n=i.layoutVertexArray,r=i.elementArray,s=-t.angle,a=t.yStretch,u=0,c=e.symbolInstances;u<c.length;u+=1){var h=c[u];h.textCollisionFeature={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},h.iconCollisionFeature={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex};for(var f=0;f<2;f++){var d=h[0===f?"textCollisionFeature":"iconCollisionFeature"];if(d)for(var p=d.boxStartIndex;p<d.boxEndIndex;p++){var g=e.collisionBoxArray.get(p);if(!(1===t.perspectiveRatio&&g.maxScale<1)){var m=g.anchorPoint,v=new l(g.x1,g.y1*a)._rotate(s),y=new l(g.x2,g.y1*a)._rotate(s),_=new l(g.x1,g.y2*a)._rotate(s),b=new l(g.x2,g.y2*a)._rotate(s),x=Math.max(0,Math.min(25,e.zoom+Math.log(g.maxScale)/Math.LN2)),w=Math.max(0,Math.min(25,e.zoom+Math.log(g.placementScale)/Math.LN2)),C=i.prepareSegment(4),E=C.vertexLength;o(n,m,h.anchor,v,x,w),o(n,m,h.anchor,y,x,w),o(n,m,h.anchor,b,x,w),o(n,m,h.anchor,_,x,w),r.emplaceBack(E,E+1),r.emplaceBack(E+1,E+2),r.emplaceBack(E+2,E+3),r.emplaceBack(E+3,E),C.vertexLength+=4,C.primitiveLength+=4}}}}},U.prototype.addSymbolInstance=function(t,e,i,n,r,o,s,a,l,u,c,h,f,d,p,g,m,v,y,_){var b,x,C=[],E=[];for(var T in i){var I=parseInt(T,10);i[I]&&(E=E.concat(o?R(t,i[I],r,f,y,_):[]),b=new S(s,e,t,a,l,u,i[I],c,h,f,(!1)))}var k=b?b.boxStartIndex:this.collisionBoxArray.length,P=b?b.boxEndIndex:this.collisionBoxArray.length;n&&(C=o?N(t,n,r,m,i[M.horizontal],y,_):[],x=new S(s,e,t,a,l,u,n,p,g,m,(!0)));var L=x?x.boxStartIndex:this.collisionBoxArray.length,O=x?x.boxEndIndex:this.collisionBoxArray.length;P>U.MAX_INSTANCES&&w.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),O>U.MAX_INSTANCES&&w.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var A=(i[M.vertical]?M.vertical:0)|(i[M.horizontal]?M.horizontal:0);this.symbolInstances.push({textBoxStartIndex:k,textBoxEndIndex:P,iconBoxStartIndex:L,iconBoxEndIndex:O,glyphQuads:E,iconQuads:C,textOffset:d,iconOffset:v,anchor:t,line:e,featureIndex:a,featureProperties:_,writingModes:A})},U.programInterfaces=q,U.MAX_INSTANCES=65535,U.addDynamicAttributes=r,e.exports=U},{"../../shaders/encode_attribute":90,"../../symbol/anchor":160,"../../symbol/clip_line":162,"../../symbol/collision_feature":164,"../../symbol/get_anchors":166,"../../symbol/mergelines":169,"../../symbol/quads":171,"../../symbol/shaping":172,"../../symbol/transform_text":175,"../../util/classify_rings":200,"../../util/find_pole_of_inaccessibility":206,"../../util/script_detection":213,"../../util/struct_array":215,"../../util/token":217,"../../util/util":218,"../../util/verticalize_punctuation":220,"../array_group":54,"../buffer_group":62,"../element_array_type":63,"../extent":64,"../load_geometry":66,"point-geometry":36,"vector-tile":44}],61:[function(t,e,i){var n={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},r=function(t,e,i,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=i,this.arrayType=e,this.dynamicDraw=n};r.fromStructArray=function(t,e){return new r(t.serialize(),t.constructor.serialize(),e)},r.prototype.bind=function(t){var e=t[this.type];this.buffer?(t.bindBuffer(e,this.buffer),this.dynamicDraw&&this.arrayBuffer&&(t.bufferSubData(e,0,this.arrayBuffer),this.arrayBuffer=null)):(this.gl=t,this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,this.dynamicDraw?t.DYNAMIC_DRAW:t.STATIC_DRAW),this.arrayBuffer=null)},r.prototype.updateData=function(t){this.arrayBuffer=t.arrayBuffer},r.prototype.enableAttributes=function(t,e){for(var i=this,n=0;n<this.attributes.length;n++){var r=i.attributes[n],o=e[r.name];void 0!==o&&t.enableVertexAttribArray(o)}},r.prototype.setVertexAttribPointers=function(t,e,i){for(var r=this,o=0;o<this.attributes.length;o++){var s=r.attributes[o],a=e[s.name];void 0!==a&&t.vertexAttribPointer(a,s.components,t[n[s.type]],!1,r.arrayType.bytesPerElement,s.offset+(r.arrayType.bytesPerElement*i||0))}},r.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},r.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},e.exports=r},{}],62:[function(t,e,i){var n=t("../util/util"),r=t("./buffer"),o=t("./program_configuration"),s=t("./vertex_array_type"),a=t("../render/vertex_array_object"),l=function(t,e,i,l){var u=this,c=s(t.layoutAttributes);if(this.layoutVertexBuffer=new r(l.layoutVertexArray,c.serialize(),r.BufferType.VERTEX),l.dynamicLayoutVertexArray&&t.dynamicLayoutAttributes){var h=s(t.dynamicLayoutAttributes);this.dynamicLayoutVertexArray=new h(l.dynamicLayoutVertexArray),this.dynamicLayoutVertexBuffer=new r(l.dynamicLayoutVertexArray,h.serialize(),r.BufferType.VERTEX,(!0))}l.elementArray&&t.elementArrayType&&(this.elementBuffer=new r(l.elementArray,t.elementArrayType.serialize(),r.BufferType.ELEMENT)),l.elementArray2&&t.elementArrayType2&&(this.elementBuffer2=new r(l.elementArray2,t.elementArrayType2.serialize(),r.BufferType.ELEMENT)),this.layerData={};for(var f=0,d=e;f<d.length;f+=1){var p=d[f],g=l.paintVertexArrays&&l.paintVertexArrays[p.id],m=o.createDynamic(t,p,i),v=g?new r(g.array,g.type,r.BufferType.VERTEX):null;u.layerData[p.id]={programConfiguration:m,paintVertexBuffer:v}}this.segments=l.segments,this.segments2=l.segments2;for(var y=0,_=[u.segments,u.segments2];y<_.length;y+=1)for(var b=_[y],x=0,w=b||[];x<w.length;x+=1){var C=w[x];C.vaos=n.mapObject(u.layerData,function(){return new a})}};l.prototype.destroy=function(){var t=this;this.layoutVertexBuffer.destroy(),this.dynamicLayoutVertexBuffer&&this.dynamicLayoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var e in t.layerData){var i=t.layerData[e].paintVertexBuffer;i&&i.destroy()}for(var n=0,r=[t.segments,t.segments2];n<r.length;n+=1)for(var o=r[n],s=0,a=o||[];s<a.length;s+=1){var l=a[s];for(var u in l.vaos)l.vaos[u].destroy()}},e.exports=l},{"../render/vertex_array_object":89,"../util/util":218,"./buffer":61,"./program_configuration":68,"./vertex_array_type":70}],63:[function(t,e,i){function n(t){return r({members:[{type:"Uint16",name:"vertices",components:t||3}]})}var r=t("../util/struct_array");e.exports=n},{"../util/struct_array":215}],64:[function(t,e,i){e.exports=8192},{}],65:[function(t,e,i){function n(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function r(t,e){
return e-t}function o(t,e){return e>0?e+2*t:t}function s(t,e,i,n,r){if(!e[0]&&!e[1])return t;e=l.convert(e),"viewport"===i&&e._rotate(-n);for(var o=[],s=0;s<t.length;s++){for(var a=t[s],u=[],c=0;c<a.length;c++)u.push(a[c].sub(e._mult(r)));o.push(u)}return o}function a(t,e){for(var i=[],n=new l(0,0),r=0;r<t.length;r++){for(var o=t[r],s=[],a=0;a<o.length;a++){var u=o[a-1],c=o[a],h=o[a+1],f=0===a?n:c.sub(u)._unit()._perp(),d=a===o.length-1?n:h.sub(c)._unit()._perp(),p=f._add(d)._unit(),g=p.x*d.x+p.y*d.y;p._mult(1/g),s.push(p._mult(e)._add(c))}i.push(s)}return i}var l=t("point-geometry"),u=t("./load_geometry"),c=t("./extent"),h=t("../style-spec/feature_filter"),f=t("../util/struct_array"),d=t("grid-index"),p=t("../util/dictionary_coder"),g=t("vector-tile"),m=t("pbf"),v=t("../util/vectortile_to_geojson"),y=t("../util/util").arraysIntersect,_=t("../util/intersection_tests"),b=_.multiPolygonIntersectsBufferedMultiPoint,x=_.multiPolygonIntersectsMultiPolygon,w=_.multiPolygonIntersectsBufferedMultiLine,C=f({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),E=function(t,e,i,n){this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.grid=i||new d(c,16,0),this.featureIndexArray=n||new C};E.deserialize=function(t,e,i){var n=new E(t.coord,t.overscaling,new d(t.grid),new C(t.featureIndexArray));return n.rawTileData=e,n.bucketLayerIDs=t.bucketLayerIDs,n.paintPropertyStatistics=t.paintPropertyStatistics,n.setCollisionTile(i),n},E.prototype.insert=function(t,e,i,n){var r=this,o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(e,i,n);for(var s=u(t),a=0;a<s.length;a++){for(var l=s[a],c=[1/0,1/0,-1/0,-1/0],h=0;h<l.length;h++){var f=l[h];c[0]=Math.min(c[0],f.x),c[1]=Math.min(c[1],f.y),c[2]=Math.max(c[2],f.x),c[3]=Math.max(c[3],f.y)}r.grid.insert(o,c[0],c[1],c[2],c[3])}},E.prototype.setCollisionTile=function(t){this.collisionTile=t},E.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs,paintPropertyStatistics:this.paintPropertyStatistics}},E.prototype.query=function(t,e){var i=this;this.vtLayers||(this.vtLayers=new g.VectorTile(new m(this.rawTileData)).layers,this.sourceLayerCoder=new p(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var s={},a=t.params||{},u=c/t.tileSize/t.scale,f=h(a.filter),d=0;for(var v in e)if(i.hasLayer(v)){var y=e[v],_=0;if("line"===y.type){var b=o(i.getPaintValue("line-width",y),i.getPaintValue("line-gap-width",y)),x=i.getPaintValue("line-offset",y),w=i.getPaintValue("line-translate",y);_=b/2+Math.abs(x)+n(w)}else"fill"===y.type?_=n(i.getPaintValue("fill-translate",y)):"fill-extrusion"===y.type?_=n(i.getPaintValue("fill-extrusion-translate",y)):"circle"===y.type&&(_=i.getPaintValue("circle-radius",y)+n(i.getPaintValue("circle-translate",y)));d=Math.max(d,_*u)}for(var C=t.queryGeometry.map(function(t){return t.map(function(t){return new l(t.x,t.y)})}),E=1/0,S=1/0,T=-1/0,I=-1/0,k=0;k<C.length;k++)for(var P=C[k],L=0;L<P.length;L++){var O=P[L];E=Math.min(E,O.x),S=Math.min(S,O.y),T=Math.max(T,O.x),I=Math.max(I,O.y)}var A=this.grid.query(E-d,S-d,T+d,I+d);A.sort(r),this.filterMatching(s,A,this.featureIndexArray,C,f,a.layers,e,t.bearing,u);var M=this.collisionTile.queryRenderedSymbols(C,t.scale);return M.sort(),this.filterMatching(s,M,this.collisionTile.collisionBoxArray,C,f,a.layers,e,t.bearing,u),s},E.prototype.filterMatching=function(t,e,i,n,r,l,c,h,f){for(var d,p=this,g=0;g<e.length;g++){var m=e[g];if(m!==d){d=m;var _=i.get(m),C=p.bucketLayerIDs[_.bucketIndex];if(!l||y(l,C)){var E=p.sourceLayerCoder.decode(_.sourceLayerIndex),S=p.vtLayers[E],T=S.feature(_.featureIndex);if(r(T))for(var I=null,k=0;k<C.length;k++){var P=C[k];if(!(l&&l.indexOf(P)<0)){var L=c[P];if(L){var O=void 0;if("symbol"!==L.type)if(I||(I=u(T)),"line"===L.type){O=s(n,p.getPaintValue("line-translate",L,T),p.getPaintValue("line-translate-anchor",L,T),h,f);var A=f/2*o(p.getPaintValue("line-width",L,T),p.getPaintValue("line-gap-width",L,T)),M=p.getPaintValue("line-offset",L,T);if(M&&(I=a(I,M*f)),!w(O,I,A))continue}else if("fill"===L.type||"fill-extrusion"===L.type){var R=L.type;if(O=s(n,p.getPaintValue(R+"-translate",L,T),p.getPaintValue(R+"-translate-anchor",L,T),h,f),!x(O,I))continue}else if("circle"===L.type){O=s(n,p.getPaintValue("circle-translate",L,T),p.getPaintValue("circle-translate-anchor",L,T),h,f);var N=p.getPaintValue("circle-radius",L,T)*f;if(!b(O,I,N))continue}var j=new v(T,p.z,p.x,p.y);j.layer=L.serialize();var D=t[P];void 0===D&&(D=t[P]=[]),D.push({featureIndex:m,feature:j})}}}}}}},E.prototype.hasLayer=function(t){for(var e=this,i=0,n=e.bucketLayerIDs;i<n.length;i+=1)for(var r=n[i],o=0,s=r;o<s.length;o+=1){var a=s[o];if(t===a)return!0}return!1},E.prototype.getPaintValue=function(t,e,i){if(e.isPaintValueFeatureConstant(t)||i){var n=i?i.properties:{};return e.getPaintValue(t,{zoom:this.z},n)}return this.paintPropertyStatistics[e.id][t].max},e.exports=E},{"../style-spec/feature_filter":115,"../util/dictionary_coder":202,"../util/intersection_tests":209,"../util/struct_array":215,"../util/util":218,"../util/vectortile_to_geojson":219,"./extent":64,"./load_geometry":66,"grid-index":19,pbf:35,"point-geometry":36,"vector-tile":44}],66:[function(t,e,i){function n(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var r=t("../util/util"),o=t("./extent"),s={15:n(15),16:n(16)};e.exports=function(t,e){for(var i=s[e||16],n=o/t.extent,a=t.loadGeometry(),l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++){var h=u[c];h.x=Math.round(h.x*n),h.y=Math.round(h.y*n),(h.x<i.min||h.x>i.max||h.y<i.min||h.y>i.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return a}},{"../util/util":218,"./extent":64}],67:[function(t,e,i){var n=t("../util/struct_array"),r=n({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=r},{"../util/struct_array":215}],68:[function(t,e,i){function n(t){return[s(255*t[0],255*t[1]),s(255*t[2],255*t[3])]}var r=t("./vertex_array_type"),o=t("../style-spec/function").interpolationFactor,s=t("../shaders/encode_attribute").packUint8ToFloat,a=function(t,e,i,n){this.name=t,this.type=e,this.property=i,this.useIntegerZoom=n};a.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},a.prototype.populatePaintArray=function(){},a.prototype.setUniforms=function(t,e,i,n){var r=n.zoom,o=i.getPaintValue(this.property,{zoom:this.useIntegerZoom?Math.floor(r):r});"color"===this.type?t.uniform4fv(e["u_"+this.name],o):t.uniform1f(e["u_"+this.name],o)};var l=function(t,e,i){this.name=t,this.type=e,this.property=i};l.prototype.defines=function(){return[]},l.prototype.populatePaintArray=function(t,e,i,r,o,s){var a=this,l=t.getPaintValue(this.property,void 0,s);if("color"===this.type)for(var u=n(l),c=r;c<o;c++){var h=e.get(c);h["a_"+a.name+"0"]=u[0],h["a_"+a.name+"1"]=u[1]}else{for(var f=r;f<o;f++)e.get(f)["a_"+a.name]=l;var d=i[this.property];d.max=Math.max(d.max,l)}},l.prototype.setUniforms=function(t,e){t.uniform1f(e["a_"+this.name+"_t"],0)};var u=function(t,e,i,n,r){this.name=t,this.type=e,this.property=i,this.useIntegerZoom=n,this.zoom=r};u.prototype.defines=function(){return[]},u.prototype.populatePaintArray=function(t,e,i,r,o,s){var a=this,l=t.getPaintValue(this.property,{zoom:this.zoom},s),u=t.getPaintValue(this.property,{zoom:this.zoom+1},s);if("color"===this.type)for(var c=n(l),h=n(u),f=r;f<o;f++){var d=e.get(f);d["a_"+a.name+"0"]=c[0],d["a_"+a.name+"1"]=c[1],d["a_"+a.name+"2"]=h[0],d["a_"+a.name+"3"]=h[1]}else{for(var p=r;p<o;p++){var g=e.get(p);g["a_"+a.name+"0"]=l,g["a_"+a.name+"1"]=u}var m=i[this.property];m.max=Math.max(m.max,l,u)}},u.prototype.setUniforms=function(t,e,i,n){var r=n.zoom,s=o(this.useIntegerZoom?Math.floor(r):r,1,this.zoom,this.zoom+1);t.uniform1f(e["a_"+this.name+"_t"],s)};var c=function(){this.binders={},this.cacheKey=""};c.createDynamic=function(t,e,i){for(var n=new c,o=[],s=0,h=t.paintAttributes||[];s<h.length;s+=1){var f=h[s],d=f.property,p=f.useIntegerZoom||!1,g=f.name||d.replace(e.type+"-","").replace(/-/g,"_"),m=e._paintSpecifications[d].type;e.isPaintValueFeatureConstant(d)?(n.binders[g]=new a(g,m,d,p),n.cacheKey+="/u_"+g):e.isPaintValueZoomConstant(d)?(n.binders[g]=new l(g,m,d),n.cacheKey+="/a_"+g,o.push({name:"a_"+g,type:"Float32",components:"color"===m?2:1})):(n.binders[g]=new u(g,m,d,p,i),n.cacheKey+="/z_"+g,o.push({name:"a_"+g,type:"Float32",components:"color"===m?4:2}))}return n.PaintVertexArray=r(o),n["interface"]=t,n},c.createBasicFill=function(){var t=new c;return t.binders.color=new a("color","color","fill-color",(!1)),t.cacheKey+="/u_color",t.binders.opacity=new a("opacity","number","fill-opacity",(!1)),t.cacheKey+="/u_opacity",t},c.prototype.createPaintPropertyStatistics=function(){var t=this,e={};for(var i in t.binders)e[t.binders[i].property]={max:-1/0};return e},c.prototype.populatePaintArray=function(t,e,i,n,r){var o=this,s=e.length;e.resize(n);for(var a in o.binders)o.binders[a].populatePaintArray(t,e,i,s,n,r)},c.prototype.defines=function(){var t=this,e=[];for(var i in t.binders)e.push.apply(e,t.binders[i].defines());return e},c.prototype.setUniforms=function(t,e,i,n){var r=this;for(var o in r.binders)r.binders[o].setUniforms(t,e,i,n)},e.exports=c},{"../shaders/encode_attribute":90,"../style-spec/function":117,"./vertex_array_type":70}],69:[function(t,e,i){var n=t("../util/struct_array"),r=n({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=r},{"../util/struct_array":215}],70:[function(t,e,i){function n(t){return r({members:t,alignment:4})}var r=t("../util/struct_array");e.exports=n},{"../util/struct_array":215}],71:[function(t,e,i){var n=function(t,e,i){this.column=t,this.row=e,this.zoom=i};n.prototype.clone=function(){return new n(this.column,this.row,this.zoom)},n.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},n.prototype.sub=function(t){return this.clone()._sub(t)},n.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},n.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=n},{}],72:[function(t,e,i){var n=t("../util/util").wrap,r=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};r.prototype.wrap=function(){return new r(n(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.prototype.toBounds=function(e){var i=360*e/40075017,n=i/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new r(this.lng-n,this.lat-i),new r(this.lng+n,this.lat+i))},r.convert=function(t){if(t instanceof r)return t;if(Array.isArray(t)&&2===t.length)return new r(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new r(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=r},{"../util/util":218,"./lng_lat_bounds":73}],73:[function(t,e,i){var n=t("./lng_lat"),r=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};r.prototype.setNorthEast=function(t){return this._ne=t instanceof n?new n(t.lng,t.lat):n.convert(t),this},r.prototype.setSouthWest=function(t){return this._sw=t instanceof n?new n(t.lng,t.lat):n.convert(t),this},r.prototype.extend=function(t){var e,i,o=this._sw,s=this._ne;if(t instanceof n)e=t,i=t;else{if(!(t instanceof r))return Array.isArray(t)?t.every(Array.isArray)?this.extend(r.convert(t)):this.extend(n.convert(t)):this;if(e=t._sw,i=t._ne,!e||!i)return this}return o||s?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),s.lng=Math.max(i.lng,s.lng),s.lat=Math.max(i.lat,s.lat)):(this._sw=new n(e.lng,e.lat),this._ne=new n(i.lng,i.lat)),this},r.prototype.getCenter=function(){return new n((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},r.prototype.getSouthWest=function(){return this._sw},r.prototype.getNorthEast=function(){return this._ne},r.prototype.getNorthWest=function(){return new n(this.getWest(),this.getNorth())},r.prototype.getSouthEast=function(){return new n(this.getEast(),this.getSouth())},r.prototype.getWest=function(){return this._sw.lng},r.prototype.getSouth=function(){return this._sw.lat},r.prototype.getEast=function(){return this._ne.lng},r.prototype.getNorth=function(){return this._ne.lat},r.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},r.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},r.convert=function(t){return!t||t instanceof r?t:new r(t)},e.exports=r},{"./lng_lat":72}],74:[function(t,e,i){var n=t("./lng_lat"),r=t("point-geometry"),o=t("./coordinate"),s=t("../util/util"),a=t("../style-spec/util/interpolate"),l=t("../source/tile_coord"),u=t("../data/extent"),c=t("@mapbox/gl-matrix"),h=c.vec4,f=c.mat4,d=c.mat2,p=function(t,e,i){this.tileSize=512,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new n(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},g={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};g.minZoom.get=function(){return this._minZoom},g.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},g.maxZoom.get=function(){return this._maxZoom},g.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},g.renderWorldCopies.get=function(){return this._renderWorldCopies},g.worldSize.get=function(){return this.tileSize*this.scale},g.centerPoint.get=function(){return this.size._div(2)},g.size.get=function(){return new r(this.width,this.height)},g.bearing.get=function(){return-this.angle/Math.PI*180},g.bearing.set=function(t){var e=-s.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=d.create(),d.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},g.pitch.get=function(){return this._pitch/Math.PI*180},g.pitch.set=function(t){var e=s.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},g.fov.get=function(){return this._fov/Math.PI*180},g.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},g.zoom.get=function(){return this._zoom},g.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},g.center.get=function(){return this._center},g.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},p.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},p.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new r(0,0),0),i=this.pointCoordinate(new r(this.width,0),0),n=Math.floor(e.column),o=Math.floor(i.column),s=[t],a=n;a<=o;a++)0!==a&&s.push(new l(t.z,t.x,t.y,a));return s},p.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),i=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var n=this.pointCoordinate(this.centerPoint,e),o=new r(n.column-.5,n.row-.5),s=[this.pointCoordinate(new r(0,0),e),this.pointCoordinate(new r(this.width,0),e),this.pointCoordinate(new r(this.width,this.height),e),this.pointCoordinate(new r(0,this.height),e)];return l.cover(e,s,t.reparseOverscaled?i:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t)-o.dist(e)})},p.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},g.unmodified.get=function(){return this._unmodified},p.prototype.zoomScale=function(t){return Math.pow(2,t)},p.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},p.prototype.project=function(t){return new r(this.lngX(t.lng),this.latY(t.lat))},p.prototype.unproject=function(t){return new n(this.xLng(t.x),this.yLat(t.y))},g.x.get=function(){return this.lngX(this.center.lng)},g.y.get=function(){return this.latY(this.center.lat)},g.point.get=function(){return new r(this.x,this.y)},p.prototype.lngX=function(t){return(180+t)*this.worldSize/360},p.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},p.prototype.xLng=function(t){return 360*t/this.worldSize-180},p.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},p.prototype.setLocationAtPoint=function(t,e){var i=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(i)),this._renderWorldCopies&&(this.center=this.center.wrap())},p.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},p.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},p.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},p.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new n(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},p.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var i=[t.x,t.y,0,1],n=[t.x,t.y,1,1];h.transformMat4(i,i,this.pixelMatrixInverse),h.transformMat4(n,n,this.pixelMatrixInverse);var r=i[3],s=n[3],l=i[0]/r,u=n[0]/s,c=i[1]/r,f=n[1]/s,d=i[2]/r,p=n[2]/s,g=d===p?0:(0-d)/(p-d);return new o(a(l,u,g)/this.tileSize,a(c,f,g)/this.tileSize,this.zoom)._zoomTo(e)},p.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),i=[e.column*this.tileSize,e.row*this.tileSize,0,1];return h.transformMat4(i,i,this.pixelMatrix),new r(i[0]/i[3],i[1]/i[3])},p.prototype.calculatePosMatrix=function(t,e){var i=t.toCoordinate(e),n=this.worldSize/this.zoomScale(i.zoom),r=f.identity(new Float64Array(16));return f.translate(r,r,[i.column*n,i.row*n,0]),f.scale(r,r,[n/u,n/u,1]),f.multiply(r,this.projMatrix,r),new Float32Array(r)},p.prototype.cameraToTileDistance=function(t){var e=this.calculatePosMatrix(t.coord,t.sourceMaxZoom),i=[t.tileSize/2,t.tileSize/2,0,1];return h.transformMat4(i,i,e),i[3]},p.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,i,n,o=-90,s=90,a=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=this.latY(h[1]),s=this.latY(h[0]),t=s-o<u.y?u.y/(s-o):0}if(this.lngRange){var f=this.lngRange;a=this.lngX(f[0]),l=this.lngX(f[1]),e=l-a<u.x?u.x/(l-a):0}var d=Math.max(e||0,t||0);if(d)return this.center=this.unproject(new r(e?(l+a)/2:this.x,t?(s+o)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var p=this.y,g=u.y/2;p-g<o&&(n=o+g),p+g>s&&(n=s-g)}if(this.lngRange){var m=this.x,v=u.x/2;m-v<a&&(i=a+v),m+v>l&&(i=l-v)}void 0===i&&void 0===n||(this.center=this.unproject(new r(void 0!==i?i:this.x,void 0!==n?n:this.y))),this._unmodified=c,this._constraining=!1}},p.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),n=Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance,r=1.01*n,o=new Float64Array(16);f.perspective(o,this._fov,this.width/this.height,1,r),f.scale(o,o,[1,-1,1]),f.translate(o,o,[0,0,-this.cameraToCenterDistance]),f.rotateX(o,o,this._pitch),f.rotateZ(o,o,this.angle),f.translate(o,o,[-this.x,-this.y,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(f.scale(o,o,[1,1,s,1]),this.projMatrix=o,o=f.create(),f.scale(o,o,[this.width/2,-this.height/2,1]),f.translate(o,o,[1,-1,0]),this.pixelMatrix=f.multiply(new Float64Array(16),o,this.projMatrix),!(o=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=o}},Object.defineProperties(p.prototype,g),e.exports=p},{"../data/extent":64,"../source/tile_coord":106,"../style-spec/util/interpolate":123,"../util/util":218,"./coordinate":71,"./lng_lat":72,"@mapbox/gl-matrix":1,"point-geometry":36}],75:[function(t,e,i){var n=t("mapbox-gl-supported"),r=t("./util/browser"),o=t("../package.json").version,s=t("./ui/map"),a=t("./ui/control/navigation_control"),l=t("./ui/control/geolocate_control"),u=t("./ui/control/attribution_control"),c=t("./ui/control/scale_control"),h=t("./ui/control/fullscreen_control"),f=t("./ui/popup"),d=t("./ui/marker"),p=t("./style/style"),g=t("./geo/lng_lat"),m=t("./geo/lng_lat_bounds"),v=t("point-geometry"),y=t("./util/evented"),_=t("./util/config"),b=t("./source/rtl_text_plugin");e.exports={version:o,supported:n,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:b.setRTLTextPlugin,Map:s,NavigationControl:a,GeolocateControl:l,AttributionControl:u,ScaleControl:c,FullscreenControl:h,Popup:f,Marker:d,Style:p,LngLat:g,LngLatBounds:m,Point:v,Evented:y,config:_,get accessToken(){return _.ACCESS_TOKEN},set accessToken(t){_.ACCESS_TOKEN=t}}},{"../package.json":53,"./geo/lng_lat":72,"./geo/lng_lat_bounds":73,"./source/rtl_text_plugin":101,"./style/style":149,"./ui/control/attribution_control":178,"./ui/control/fullscreen_control":179,"./ui/control/geolocate_control":180,"./ui/control/navigation_control":182,"./ui/control/scale_control":183,"./ui/map":192,"./ui/marker":193,"./ui/popup":194,"./util/browser":197,"./util/config":201,"./util/evented":205,"mapbox-gl-supported":33,"point-geometry":36}],76:[function(t,e,i){function n(t,e,i){var n=t.gl,o=t.transform,s=o.tileSize,a=i.paint["background-color"],l=i.paint["background-pattern"],u=i.paint["background-opacity"],c=!l&&1===a[3]&&1===u;if(t.isOpaquePass===c){n.disable(n.STENCIL_TEST),t.setDepthSublayer(0);var h;if(l){if(r.isPatternMissing(l,t))return;h=t.useProgram("fillPattern",t.basicFillProgramConfiguration),r.prepare(l,t,h),t.tileExtentPatternVAO.bind(n,h,t.tileExtentBuffer)}else h=t.useProgram("fill",t.basicFillProgramConfiguration),n.uniform4fv(h.u_color,a),t.tileExtentVAO.bind(n,h,t.tileExtentBuffer);n.uniform1f(h.u_opacity,u);for(var f=o.coveringTiles({tileSize:s}),d=0,p=f;d<p.length;d+=1){var g=p[d];l&&r.setTile({coord:g,tileSize:s},t,h),n.uniformMatrix4fv(h.u_matrix,!1,t.transform.calculatePosMatrix(g)),n.drawArrays(n.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}var r=t("./pattern");e.exports=n},{"./pattern":88}],77:[function(t,e,i){function n(t,e,i,n){if(!t.isOpaquePass){var s=t.gl;t.setDepthSublayer(0),t.depthMask(!1),s.disable(s.STENCIL_TEST);for(var a=0;a<n.length;a++){var l=n[a],u=e.getTile(l),c=u.getBucket(i);if(c){var h=c.buffers,f=h.layerData[i.id],d=f.programConfiguration,p=t.useProgram("circle",d);if(d.setUniforms(s,p,i,{zoom:t.transform.zoom}),s.uniform1f(p.u_camera_to_center_distance,t.transform.cameraToCenterDistance),s.uniform1i(p.u_scale_with_map,"map"===i.paint["circle-pitch-scale"]),"map"===i.paint["circle-pitch-alignment"]){s.uniform1i(p.u_pitch_with_map,!0);var g=o(u,1,t.transform.zoom);s.uniform2f(p.u_extrude_scale,g,g)}else s.uniform1i(p.u_pitch_with_map,!1),s.uniform2fv(p.u_extrude_scale,t.transform.pixelsToGLUnits);s.uniform1f(p.u_devicepixelratio,r.devicePixelRatio),s.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(l.posMatrix,u,i.paint["circle-translate"],i.paint["circle-translate-anchor"]));for(var m=0,v=h.segments;m<v.length;m+=1){var y=v[m];y.vaos[i.id].bind(s,p,h.layoutVertexBuffer,h.elementBuffer,f.paintVertexBuffer,y.vertexOffset),s.drawElements(s.TRIANGLES,3*y.primitiveLength,s.UNSIGNED_SHORT,3*y.primitiveOffset*2)}}}}}var r=t("../util/browser"),o=t("../source/pixels_to_tile_units");e.exports=n},{"../source/pixels_to_tile_units":98,"../util/browser":197}],78:[function(t,e,i){function n(t,e,i,n){var r=t.gl;r.enable(r.STENCIL_TEST);var o=t.useProgram("collisionBox");r.activeTexture(r.TEXTURE1),t.frameHistory.bind(r),r.uniform1i(o.u_fadetexture,1);for(var s=0;s<n.length;s++){var a=n[s],l=e.getTile(a),u=l.getBucket(i);if(u){var c=u.buffers.collisionBox;if(c){r.uniformMatrix4fv(o.u_matrix,!1,a.posMatrix),t.enableTileClippingMask(a),t.lineWidth(1),r.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-l.coord.z)),r.uniform1f(o.u_zoom,10*t.transform.zoom);var h=Math.max(0,Math.min(25,l.coord.z+Math.log(l.collisionTile.maxScale)/Math.LN2));r.uniform1f(o.u_maxzoom,10*h),r.uniform1f(o.u_collision_y_stretch,l.collisionTile.yStretch),r.uniform1f(o.u_pitch,t.transform.pitch/360*2*Math.PI),r.uniform1f(o.u_camera_to_center_distance,t.transform.cameraToCenterDistance);for(var f=0,d=c.segments;f<d.length;f+=1){var p=d[f];p.vaos[i.id].bind(r,o,c.layoutVertexBuffer,c.elementBuffer,null,p.vertexOffset),r.drawElements(r.LINES,2*p.primitiveLength,r.UNSIGNED_SHORT,2*p.primitiveOffset*2)}}}}}e.exports=n},{}],79:[function(t,e,i){function n(t,e,i){for(var n=0;n<i.length;n++)r(t,e,i[n])}function r(t,e,i){var n=t.gl;n.disable(n.STENCIL_TEST),t.lineWidth(1*s.devicePixelRatio);var r=i.posMatrix,f=t.useProgram("debug");n.uniformMatrix4fv(f.u_matrix,!1,r),n.uniform4f(f.u_color,1,0,0,1),t.debugVAO.bind(n,f,t.debugBuffer),n.drawArrays(n.LINE_STRIP,0,t.debugBuffer.length);for(var d=o(i.toString(),50,200,5),p=new h,g=0;g<d.length;g+=2)p.emplaceBack(d[g],d[g+1]);var m=u.fromStructArray(p,u.BufferType.VERTEX);(new c).bind(n,f,m),n.uniform4f(f.u_color,1,1,1,1);for(var v=e.getTile(i).tileSize,y=l/(Math.pow(2,t.transform.zoom-i.z)*v),_=[[-1,-1],[-1,1],[1,-1],[1,1]],b=0;b<_.length;b++){var x=_[b];n.uniformMatrix4fv(f.u_matrix,!1,a.translate([],r,[y*x[0],y*x[1],0])),n.drawArrays(n.LINES,0,m.length)}n.uniform4f(f.u_color,0,0,0,1),n.uniformMatrix4fv(f.u_matrix,!1,r),n.drawArrays(n.LINES,0,m.length)}function o(t,e,i,n){n=n||1;var r,o,s,a,l,u,c,h,d=[];for(r=0,o=t.length;r<o;r++)if(l=f[t[r]]){for(h=null,s=0,a=l[1].length;s<a;s+=2)-1===l[1][s]&&-1===l[1][s+1]?h=null:(u=e+l[1][s]*n,c=i-l[1][s+1]*n,h&&d.push(h.x,h.y,u,c),h={x:u,y:c});e+=l[0]*n}return d}var s=t("../util/browser"),a=t("@mapbox/gl-matrix").mat4,l=t("../data/extent"),u=t("../data/buffer"),c=t("./vertex_array_object"),h=t("../data/pos_array");e.exports=n;var f={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],
d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/buffer":61,"../data/extent":64,"../data/pos_array":67,"../util/browser":197,"./vertex_array_object":89,"@mapbox/gl-matrix":1}],80:[function(t,e,i){function n(t,e,i,n){var a=t.gl;a.enable(a.STENCIL_TEST);var l=!i.paint["fill-pattern"]&&i.isPaintValueFeatureConstant("fill-color")&&i.isPaintValueFeatureConstant("fill-opacity")&&1===i.paint["fill-color"][3]&&1===i.paint["fill-opacity"];t.isOpaquePass===l&&(t.setDepthSublayer(1),r(t,e,i,n,o)),!t.isOpaquePass&&i.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(i.getPaintProperty("fill-outline-color")?2:0),r(t,e,i,n,s))}function r(t,e,i,n,r){if(!l.isPatternMissing(i.paint["fill-pattern"],t))for(var o=!0,s=0,a=n;s<a.length;s+=1){var u=a[s],c=e.getTile(u),h=c.getBucket(i);h&&(t.enableTileClippingMask(u),r(t,e,i,c,u,h.buffers,o),o=!1)}}function o(t,e,i,n,r,o,s){for(var l=t.gl,u=o.layerData[i.id],c=a("fill",i.paint["fill-pattern"],t,u,i,n,r,s),h=0,f=o.segments;h<f.length;h+=1){var d=f[h];d.vaos[i.id].bind(l,c,o.layoutVertexBuffer,o.elementBuffer,u.paintVertexBuffer,d.vertexOffset),l.drawElements(l.TRIANGLES,3*d.primitiveLength,l.UNSIGNED_SHORT,3*d.primitiveOffset*2)}}function s(t,e,i,n,r,o,s){var l=t.gl,u=o.layerData[i.id],c=i.paint["fill-pattern"]&&!i.getPaintProperty("fill-outline-color"),h=a("fillOutline",c,t,u,i,n,r,s);l.uniform2f(h.u_world,l.drawingBufferWidth,l.drawingBufferHeight);for(var f=0,d=o.segments2;f<d.length;f+=1){var p=d[f];p.vaos[i.id].bind(l,h,o.layoutVertexBuffer,o.elementBuffer2,u.paintVertexBuffer,p.vertexOffset),l.drawElements(l.LINES,2*p.primitiveLength,l.UNSIGNED_SHORT,2*p.primitiveOffset*2)}}function a(t,e,i,n,r,o,s,a){var u,c=i.currentProgram;return e?(u=i.useProgram(t+"Pattern",n.programConfiguration),(a||u!==c)&&(n.programConfiguration.setUniforms(i.gl,u,r,{zoom:i.transform.zoom}),l.prepare(r.paint["fill-pattern"],i,u)),l.setTile(o,i,u)):(u=i.useProgram(t,n.programConfiguration),(a||u!==c)&&n.programConfiguration.setUniforms(i.gl,u,r,{zoom:i.transform.zoom})),i.gl.uniformMatrix4fv(u.u_matrix,!1,i.translatePosMatrix(s.posMatrix,o,r.paint["fill-translate"],r.paint["fill-translate-anchor"])),u}var l=t("./pattern");e.exports=n},{"./pattern":88}],81:[function(t,e,i){function n(t,e,i,n){if(!t.isOpaquePass&&0!==i.paint["fill-extrusion-opacity"]){var a=t.gl;a.disable(a.STENCIL_TEST),a.enable(a.DEPTH_TEST),t.depthMask(!0);var l=r(a,t);a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);for(var u=0;u<n.length;u++)s(t,e,i,n[u]);a.bindFramebuffer(a.FRAMEBUFFER,null),o(a,t,i,l)}}function r(t,e){t.activeTexture(t.TEXTURE1);var i=e.viewportTexture;i?t.bindTexture(t.TEXTURE_2D,i):(i=t.createTexture(),t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.width,e.height,0,t.RGBA,t.UNSIGNED_BYTE,null),e.viewportTexture=i);var n=e.viewportFbo;if(n)t.bindFramebuffer(t.FRAMEBUFFER,n);else{n=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,n);var r=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,r),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,r),e.viewportFbo=n}return t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),i}function o(t,e,i,n){var r=e.useProgram("extrusionTexture");t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.uniform1f(r.u_opacity,i.paint["fill-extrusion-opacity"]),t.uniform1i(r.u_image,1);var o=p.create();p.ortho(o,0,e.width,e.height,0,0,1),t.uniformMatrix4fv(r.u_matrix,!1,o),t.disable(t.DEPTH_TEST),t.uniform2f(r.u_world,t.drawingBufferWidth,t.drawingBufferHeight);var s=new h;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1);var a=u.fromStructArray(s,u.BufferType.VERTEX);(new c).bind(t,r,a),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}function s(t,e,i,n){var r=e.getTile(n),o=r.getBucket(i);if(o){var s=o.buffers,l=t.gl,u=i.paint["fill-extrusion-pattern"],c=s.layerData[i.id],h=c.programConfiguration,d=t.useProgram(u?"fillExtrusionPattern":"fillExtrusion",h);if(h.setUniforms(l,d,i,{zoom:t.transform.zoom}),u){if(f.isPatternMissing(u,t))return;f.prepare(u,t,d),f.setTile(r,t,d),l.uniform1f(d.u_height_factor,-Math.pow(2,n.z)/r.tileSize/8)}t.gl.uniformMatrix4fv(d.u_matrix,!1,t.translatePosMatrix(n.posMatrix,r,i.paint["fill-extrusion-translate"],i.paint["fill-extrusion-translate-anchor"])),a(d,t);for(var p=0,g=s.segments;p<g.length;p+=1){var m=g[p];m.vaos[i.id].bind(l,d,s.layoutVertexBuffer,s.elementBuffer,c.paintVertexBuffer,m.vertexOffset),l.drawElements(l.TRIANGLES,3*m.primitiveLength,l.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}function a(t,e){var i=e.gl,n=e.style.light,r=n.calculated.position,o=[r.x,r.y,r.z],s=d.create();"viewport"===n.calculated.anchor&&d.fromRotation(s,-e.transform.angle),g.transformMat3(o,o,s),i.uniform3fv(t.u_lightpos,o),i.uniform1f(t.u_lightintensity,n.calculated.intensity),i.uniform3fv(t.u_lightcolor,n.calculated.color.slice(0,3))}var l=t("@mapbox/gl-matrix"),u=t("../data/buffer"),c=t("./vertex_array_object"),h=t("../data/pos_array"),f=t("./pattern"),d=l.mat3,p=l.mat4,g=l.vec3;e.exports=n},{"../data/buffer":61,"../data/pos_array":67,"./pattern":88,"./vertex_array_object":89,"@mapbox/gl-matrix":1}],82:[function(t,e,i){function n(t,e,i,n,s,a,l,u,c){var h,f,d,p,g=e.gl,m=s.paint["line-dasharray"],v=s.paint["line-pattern"];if(u||c){var y=1/o(i,1,e.transform.tileZoom);if(m){h=e.lineAtlas.getDash(m.from,"round"===s.layout["line-cap"]),f=e.lineAtlas.getDash(m.to,"round"===s.layout["line-cap"]);var _=h.width*m.fromScale,b=f.width*m.toScale;g.uniform2f(t.u_patternscale_a,y/_,-h.height/2),g.uniform2f(t.u_patternscale_b,y/b,-f.height/2),g.uniform1f(t.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*r.devicePixelRatio)/2)}else if(v){if(d=e.spriteAtlas.getPattern(v.from),p=e.spriteAtlas.getPattern(v.to),!d||!p)return;g.uniform2f(t.u_pattern_size_a,d.displaySize[0]*v.fromScale/y,p.displaySize[1]),g.uniform2f(t.u_pattern_size_b,p.displaySize[0]*v.toScale/y,p.displaySize[1]),g.uniform2fv(t.u_texsize,e.spriteAtlas.getPixelSize())}g.uniform2f(t.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}u&&(m?(g.uniform1i(t.u_image,0),g.activeTexture(g.TEXTURE0),e.lineAtlas.bind(g),g.uniform1f(t.u_tex_y_a,h.y),g.uniform1f(t.u_tex_y_b,f.y),g.uniform1f(t.u_mix,m.t)):v&&(g.uniform1i(t.u_image,0),g.activeTexture(g.TEXTURE0),e.spriteAtlas.bind(g,!0),g.uniform2fv(t.u_pattern_tl_a,d.tl),g.uniform2fv(t.u_pattern_br_a,d.br),g.uniform2fv(t.u_pattern_tl_b,p.tl),g.uniform2fv(t.u_pattern_br_b,p.br),g.uniform1f(t.u_fade,v.t))),e.enableTileClippingMask(a);var x=e.translatePosMatrix(a.posMatrix,i,s.paint["line-translate"],s.paint["line-translate-anchor"]);g.uniformMatrix4fv(t.u_matrix,!1,x),g.uniform1f(t.u_ratio,1/o(i,1,e.transform.zoom));for(var w=0,C=n.segments;w<C.length;w+=1){var E=C[w];E.vaos[s.id].bind(g,t,n.layoutVertexBuffer,n.elementBuffer,l.paintVertexBuffer,E.vertexOffset),g.drawElements(g.TRIANGLES,3*E.primitiveLength,g.UNSIGNED_SHORT,3*E.primitiveOffset*2)}}var r=t("../util/browser"),o=t("../source/pixels_to_tile_units");e.exports=function(t,e,i,r){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;if(o.enable(o.STENCIL_TEST),!(i.paint["line-width"]<=0))for(var s,a=i.paint["line-dasharray"]?"lineSDF":i.paint["line-pattern"]?"linePattern":"line",l=!0,u=0,c=r;u<c.length;u+=1){var h=c[u],f=e.getTile(h),d=f.getBucket(i);if(d){var p=d.buffers.layerData[i.id],g=t.currentProgram,m=t.useProgram(a,p.programConfiguration),v=l||m!==g,y=s!==f.coord.z;v&&p.programConfiguration.setUniforms(t.gl,m,i,{zoom:t.transform.zoom}),n(m,t,f,d.buffers,i,h,p,v,y),s=f.coord.z,l=!1}}}}},{"../source/pixels_to_tile_units":98,"../util/browser":197}],83:[function(t,e,i){function n(t,e,i,n){if(!t.isOpaquePass){var o=t.gl;o.enable(o.DEPTH_TEST),t.depthMask(!0),o.depthFunc(o.LESS);for(var s=n.length&&n[0].z,a=0;a<n.length;a++){var l=n[a];t.setDepthSublayer(l.z-s),r(t,e,i,l)}o.depthFunc(o.LEQUAL)}}function r(t,e,i,n){var r=t.gl;r.disable(r.STENCIL_TEST);var u=e.getTile(n),c=t.transform.calculatePosMatrix(n,e.getSource().maxzoom);u.registerFadeDuration(t.style.animationLoop,i.paint["raster-fade-duration"]);var h=t.useProgram("raster");r.uniformMatrix4fv(h.u_matrix,!1,c),r.uniform1f(h.u_brightness_low,i.paint["raster-brightness-min"]),r.uniform1f(h.u_brightness_high,i.paint["raster-brightness-max"]),r.uniform1f(h.u_saturation_factor,a(i.paint["raster-saturation"])),r.uniform1f(h.u_contrast_factor,s(i.paint["raster-contrast"])),r.uniform3fv(h.u_spin_weights,o(i.paint["raster-hue-rotate"]));var f,d,p=u.sourceCache&&u.sourceCache.findLoadedParent(n,0,{}),g=l(u,p,i,t.transform);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,u.texture),r.activeTexture(r.TEXTURE1),p?(r.bindTexture(r.TEXTURE_2D,p.texture),f=Math.pow(2,p.coord.z-u.coord.z),d=[u.coord.x*f%1,u.coord.y*f%1]):r.bindTexture(r.TEXTURE_2D,u.texture),r.uniform2fv(h.u_tl_parent,d||[0,0]),r.uniform1f(h.u_scale_parent,f||1),r.uniform1f(h.u_buffer_scale,1),r.uniform1f(h.u_fade_t,g.mix),r.uniform1f(h.u_opacity,g.opacity*i.paint["raster-opacity"]),r.uniform1i(h.u_image0,0),r.uniform1i(h.u_image1,1);var m=u.boundsBuffer||t.rasterBoundsBuffer;(u.boundsVAO||t.rasterBoundsVAO).bind(r,h,m),r.drawArrays(r.TRIANGLE_STRIP,0,m.length)}function o(t){t*=Math.PI/180;var e=Math.sin(t),i=Math.cos(t);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}function s(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function l(t,e,i,n){var r=i.paint["raster-fade-duration"];if(t.sourceCache&&r>0){var o=Date.now(),s=(o-t.timeAdded)/r,a=e?(o-e.timeAdded)/r:-1,l=t.sourceCache.getSource(),c=n.coveringZoomLevel({tileSize:l.tileSize,roundZoom:l.roundZoom}),h=!e||Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c),f=h&&t.refreshedUponExpiration?1:u.clamp(h?s:1-a,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var u=t("../util/util");e.exports=n},{"../util/util":218}],84:[function(t,e,i){function n(t,e,i,n){if(!t.isOpaquePass){var o=!(i.layout["text-allow-overlap"]||i.layout["icon-allow-overlap"]||i.layout["text-ignore-placement"]||i.layout["icon-ignore-placement"]),s=t.gl;o?s.disable(s.STENCIL_TEST):s.enable(s.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),r(t,e,i,n,!1,i.paint["icon-translate"],i.paint["icon-translate-anchor"],i.layout["icon-rotation-alignment"],i.layout["icon-pitch-alignment"],i.layout["icon-keep-upright"]),r(t,e,i,n,!0,i.paint["text-translate"],i.paint["text-translate-anchor"],i.layout["text-rotation-alignment"],i.layout["text-pitch-alignment"],i.layout["text-keep-upright"]),e.map.showCollisionBoxes&&l(t,e,i,n)}}function r(t,e,i,n,r,a,l,h,f,p){if(r||!t.style.sprite||t.style.sprite.loaded()){var g=t.gl,m="map"===h,v="map"===f,y=m&&"line"===i.layout["symbol-placement"],_=m&&!v&&!y,b=v;b?g.enable(g.DEPTH_TEST):g.disable(g.DEPTH_TEST);for(var x,w,C=0,E=n;C<E.length;C+=1){var S=E[C],T=e.getTile(S),I=T.getBucket(i);if(I){var k=r?I.buffers.glyph:I.buffers.icon;if(k&&k.segments.length){var P=k.layerData[i.id],L=P.programConfiguration,O=r||I.sdfIcons,A=r?I.textSizeData:I.iconSizeData;x&&I.fontstack===w||(x=t.useProgram(O?"symbolSDF":"symbolIcon",L),L.setUniforms(g,x,i,{zoom:t.transform.zoom}),o(x,t,i,S.z,r,O,_,v,I.fontstack,I.iconsNeedLinear,A)),t.enableTileClippingMask(S),g.uniformMatrix4fv(x.u_matrix,!1,t.translatePosMatrix(S.posMatrix,T,a,l));var M=u(T,1,t.transform.zoom),R=c.getLabelPlaneMatrix(S.posMatrix,v,m,t.transform,M),N=c.getGlCoordMatrix(S.posMatrix,v,m,t.transform,M);g.uniformMatrix4fv(x.u_gl_coord_matrix,!1,t.translatePosMatrix(N,T,a,l,!0)),y?(g.uniformMatrix4fv(x.u_label_plane_matrix,!1,d),c.updateLineLabels(I,S.posMatrix,t,r,R,N,v,p,M,i)):g.uniformMatrix4fv(x.u_label_plane_matrix,!1,R),g.uniform1f(x.u_collision_y_stretch,T.collisionTile.yStretch),s(x,L,t,i,T,k,r,O,v),w=I.fontstack}}}b||g.enable(g.DEPTH_TEST)}}function o(t,e,i,n,r,o,s,a,l,u,c){var f=e.gl,d=e.transform;if(f.uniform1i(t.u_pitch_with_map,a),f.activeTexture(f.TEXTURE0),f.uniform1i(t.u_texture,0),f.uniform1f(t.u_is_text,r?1:0),r){var p=l&&e.glyphSource.getGlyphAtlas(l);if(!p)return;p.updateTexture(f),f.uniform2f(t.u_texsize,p.width,p.height)}else{var g=e.options.rotating||e.options.zooming,m=!i.isLayoutValueFeatureConstant("icon-size")||!i.isLayoutValueZoomConstant("icon-size")||1!==i.getLayoutValue("icon-size",{zoom:d.zoom}),v=m||u,y=a||d.pitch;e.spriteAtlas.bind(f,o||g||v||y),f.uniform2fv(t.u_texsize,e.spriteAtlas.getPixelSize())}f.activeTexture(f.TEXTURE1),e.frameHistory.bind(f),f.uniform1i(t.u_fadetexture,1),f.uniform1f(t.u_pitch,d.pitch/360*2*Math.PI),f.uniform1i(t.u_is_size_zoom_constant,c.isZoomConstant?1:0),f.uniform1i(t.u_is_size_feature_constant,c.isFeatureConstant?1:0),f.uniform1f(t.u_camera_to_center_distance,d.cameraToCenterDistance);var _=h.evaluateSizeForZoom(c,d,i,r);void 0!==_.uSizeT&&f.uniform1f(t.u_size_t,_.uSizeT),void 0!==_.uSize&&f.uniform1f(t.u_size,_.uSize),f.uniform1f(t.u_aspect_ratio,d.width/d.height),f.uniform1i(t.u_rotate_symbol,s)}function s(t,e,i,n,r,o,s,l,u){var c=i.gl,h=i.transform;if(l){var f=(s?"text":"icon")+"-halo-width",d=!n.isPaintValueFeatureConstant(f)||n.paint[f],p=u?Math.cos(h._pitch)*h.cameraToCenterDistance:1;c.uniform1f(t.u_gamma_scale,p),d&&(c.uniform1f(t.u_is_halo,1),a(o,n,c,t)),c.uniform1f(t.u_is_halo,0)}a(o,n,c,t)}function a(t,e,i,n){for(var r=t.layerData[e.id],o=r&&r.paintVertexBuffer,s=0,a=t.segments;s<a.length;s+=1){var l=a[s];l.vaos[e.id].bind(i,n,t.layoutVertexBuffer,t.elementBuffer,o,l.vertexOffset,t.dynamicLayoutVertexBuffer),i.drawElements(i.TRIANGLES,3*l.primitiveLength,i.UNSIGNED_SHORT,3*l.primitiveOffset*2)}}var l=t("./draw_collision_debug"),u=t("../source/pixels_to_tile_units"),c=t("../symbol/projection"),h=t("../symbol/symbol_size"),f=t("@mapbox/gl-matrix").mat4,d=f.identity(new Float32Array(16));e.exports=n},{"../source/pixels_to_tile_units":98,"../symbol/projection":170,"../symbol/symbol_size":174,"./draw_collision_debug":78,"@mapbox/gl-matrix":1}],85:[function(t,e,i){var n=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};n.prototype.record=function(t,e,i){var n=this;this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var r;if(e<this.previousZoom)for(r=e+1;r<=this.previousZoom;r++)n.changeTimes[r]=t,n.changeOpacities[r]=n.opacities[r];else for(r=e;r>this.previousZoom;r--)n.changeTimes[r]=t,n.changeOpacities[r]=n.opacities[r];for(r=0;r<256;r++){var o=t-n.changeTimes[r],s=255*(i?o/i:1);n.opacities[r]=r<=e?n.changeOpacities[r]+s:n.changeOpacities[r]-s}this.changed=!0,this.previousZoom=e},n.prototype.isVisible=function(t){return 0!==this.opacities[Math.floor(10*t)]},n.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=n},{}],86:[function(t,e,i){var n=t("../util/util"),r=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};r.prototype.setSprite=function(t){this.sprite=t},r.prototype.getDash=function(t,e){var i=t.join(",")+e;return this.positions[i]||(this.positions[i]=this.addDash(t,e)),this.positions[i]},r.prototype.addDash=function(t,e){var i=this,r=e?7:0,o=2*r+1;if(this.nextRow+o>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var s=0,a=0;a<t.length;a++)s+=t[a];for(var l=this.width/s,u=l/2,c=t.length%2==1,h=-r;h<=r;h++)for(var f=i.nextRow+r+h,d=i.width*f,p=c?-t[t.length-1]:0,g=t[0],m=1,v=0;v<this.width;v++){for(;g<v/l;)p=g,g+=t[m],c&&m===t.length-1&&(g+=t[0]),m++;var y=Math.abs(v-p*l),_=Math.abs(v-g*l),b=Math.min(y,_),x=m%2==1,w=void 0;if(e){var C=r?h/r*(u+1):0;if(x){var E=u-Math.abs(C);w=Math.sqrt(b*b+E*E)}else w=u-Math.sqrt(b*b+C*C)}else w=(x?1:-1)*b;i.data[3+4*(d+v)]=Math.max(0,Math.min(255,w+128))}var S={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:s};return this.nextRow+=o,this.dirty=!0,S},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=r},{"../util/util":218}],87:[function(t,e,i){var n=t("../util/browser"),r=t("@mapbox/gl-matrix").mat4,o=t("./frame_history"),s=t("../source/source_cache"),a=t("../data/extent"),l=t("../source/pixels_to_tile_units"),u=t("../util/util"),c=t("../data/buffer"),h=t("./vertex_array_object"),f=t("../data/raster_bounds_array"),d=t("../data/pos_array"),p=t("../data/program_configuration"),g=t("../shaders"),m={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},v=function(t,e){this.gl=t,this.transform=e,this._tileTextures={},this.frameHistory=new o,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=p.createBasicFill(),this.emptyProgramConfiguration=new p};v.prototype.resize=function(t,e){var i=this.gl;this.width=t*n.devicePixelRatio,this.height=e*n.devicePixelRatio,i.viewport(0,0,this.width,this.height),this.viewportTexture&&(this.gl.deleteTexture(this.viewportTexture),this.viewportTexture=null),this.viewportFbo&&(this.gl.deleteFramebuffer(this.viewportFbo),this.viewportFbo=null)},v.prototype.setup=function(){var t=this.gl;t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new d;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=c.fromStructArray(e,c.BufferType.VERTEX),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var i=new d;i.emplaceBack(0,0),i.emplaceBack(a,0),i.emplaceBack(a,a),i.emplaceBack(0,a),i.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(i,c.BufferType.VERTEX),this.debugVAO=new h;var n=new f;n.emplaceBack(0,0,0,0),n.emplaceBack(a,0,32767,0),n.emplaceBack(0,a,0,32767),n.emplaceBack(a,a,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.rasterBoundsVAO=new h,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))},v.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},v.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},v.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},v.prototype._renderTileClippingMasks=function(t){var e=this,i=this.gl;i.colorMask(!1,!1,!1,!1),this.depthMask(!1),i.disable(i.DEPTH_TEST),i.enable(i.STENCIL_TEST),i.stencilMask(255),i.stencilOp(i.KEEP,i.KEEP,i.REPLACE);var n=1;this._tileClippingMaskIDs={};for(var r=0,o=t;r<o.length;r+=1){var s=o[r],a=e._tileClippingMaskIDs[s.id]=n++;i.stencilFunc(i.ALWAYS,a,255);var l=e.useProgram("fill",e.basicFillProgramConfiguration);i.uniformMatrix4fv(l.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(i,l,e.tileExtentBuffer),i.drawArrays(i.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}i.stencilMask(0),i.colorMask(!0,!0,!0,!0),this.depthMask(!0),i.enable(i.DEPTH_TEST)},v.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],255)},v.prototype.prepareBuffers=function(){},v.prototype.render=function(t,e){if(this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var i=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];i&&m.debug(this,i,i.getVisibleCoordinates())}},v.prototype.renderPass=function(){var t,e=this,i=this.style._order,n=[];this.currentLayer=this.isOpaquePass?i.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var r=0;r<i.length;r++){var o=e.style._layers[i[e.currentLayer]];o.source!==(t&&t.id)&&(t=e.style.sourceCaches[o.source],n=[],t&&(t.prepare&&t.prepare(),e.clearStencil(),n=t.getVisibleCoordinates(),t.getSource().isTileClipped&&e._renderTileClippingMasks(n)),e.isOpaquePass||n.reverse()),e.renderLayer(e,t,o,n),e.currentLayer+=e.isOpaquePass?-1:1}},v.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},v.prototype.renderLayer=function(t,e,i,n){i.isHidden(this.transform.zoom)||("background"===i.type||n.length)&&(this.id=i.id,m[i.type](t,e,i,n))},v.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,i=e-1+this.depthRange;this.gl.depthRange(i,e)},v.prototype.translatePosMatrix=function(t,e,i,n,o){if(!i[0]&&!i[1])return t;var s=o?"map"===n?this.transform.angle:0:"viewport"===n?-this.transform.angle:0;if(s){var a=Math.sin(s),u=Math.cos(s);i=[i[0]*u-i[1]*a,i[0]*a+i[1]*u]}var c=[o?i[0]:l(e,i[0],this.transform.zoom),o?i[1]:l(e,i[1],this.transform.zoom),0],h=new Float32Array(16);return r.translate(h,t,c),h},v.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size];e?e.push(t):this._tileTextures[t.size]=[t]},v.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},v.prototype.lineWidth=function(t){this.gl.lineWidth(u.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},v.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;t?(e.blendFunc(e.CONSTANT_COLOR,e.ONE),e.blendColor(1/8,1/8,1/8,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)):e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},v.prototype.createProgram=function(t,e){var i=this.gl,r=i.createProgram(),o=e.defines().concat("#define DEVICE_PIXEL_RATIO "+n.devicePixelRatio.toFixed(1));this._showOverdrawInspector&&o.push("#define OVERDRAW_INSPECTOR;");var s=o.concat(g.prelude.fragmentSource,g[t].fragmentSource).join("\n"),a=o.concat(g.prelude.vertexSource,g[t].vertexSource).join("\n"),l=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(l,s),i.compileShader(l),i.attachShader(r,l);var u=i.createShader(i.VERTEX_SHADER);i.shaderSource(u,a),i.compileShader(u),i.attachShader(r,u);for(var c=e["interface"]?e["interface"].layoutAttributes:[],h=0;h<c.length;h++)i.bindAttribLocation(r,h,c[h].name);i.linkProgram(r);for(var f=i.getProgramParameter(r,i.ACTIVE_ATTRIBUTES),d={program:r,numAttributes:f},p=0;p<f;p++){var m=i.getActiveAttrib(r,p);m&&(d[m.name]=i.getAttribLocation(r,m.name))}for(var v=i.getProgramParameter(r,i.ACTIVE_UNIFORMS),y=0;y<v;y++){var _=i.getActiveUniform(r,y);_&&(d[_.name]=i.getUniformLocation(r,_.name))}return d},v.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var i=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[i]||(this.cache[i]=this.createProgram(t,e)),this.cache[i]},v.prototype.useProgram=function(t,e){var i=this.gl,n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==n&&(i.useProgram(n.program),this.currentProgram=n),n},e.exports=v},{"../data/buffer":61,"../data/extent":64,"../data/pos_array":67,"../data/program_configuration":68,"../data/raster_bounds_array":69,"../shaders":91,"../source/pixels_to_tile_units":98,"../source/source_cache":103,"../util/browser":197,"../util/util":218,"./draw_background":76,"./draw_circle":77,"./draw_debug":79,"./draw_fill":80,"./draw_fill_extrusion":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./frame_history":85,"./vertex_array_object":89,"@mapbox/gl-matrix":1}],88:[function(t,e,i){var n=t("../source/pixels_to_tile_units");i.isPatternMissing=function(t,e){if(!t)return!1;var i=e.spriteAtlas.getPattern(t.from),n=e.spriteAtlas.getPattern(t.to);return!i||!n},i.prepare=function(t,e,i){var n=e.gl,r=e.spriteAtlas.getPattern(t.from),o=e.spriteAtlas.getPattern(t.to);n.uniform1i(i.u_image,0),n.uniform2fv(i.u_pattern_tl_a,r.tl),n.uniform2fv(i.u_pattern_br_a,r.br),n.uniform2fv(i.u_pattern_tl_b,o.tl),n.uniform2fv(i.u_pattern_br_b,o.br),n.uniform2fv(i.u_texsize,e.spriteAtlas.getPixelSize()),n.uniform1f(i.u_mix,t.t),n.uniform2fv(i.u_pattern_size_a,r.displaySize),n.uniform2fv(i.u_pattern_size_b,o.displaySize),n.uniform1f(i.u_scale_a,t.fromScale),n.uniform1f(i.u_scale_b,t.toScale),n.activeTexture(n.TEXTURE0),e.spriteAtlas.bind(n,!0)},i.setTile=function(t,e,i){var r=e.gl;r.uniform1f(i.u_tile_units_to_pixels,1/n(t,1,e.transform.tileZoom));var o=Math.pow(2,t.coord.z),s=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=s*(t.coord.x+t.coord.w*o),l=s*t.coord.y;r.uniform2f(i.u_pixel_coord_upper,a>>16,l>>16),r.uniform2f(i.u_pixel_coord_lower,65535&a,65535&l)}},{"../source/pixels_to_tile_units":98}],89:[function(t,e,i){var n=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};n.prototype.bind=function(t,e,i,n,r,o,s){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var a=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==i||this.boundVertexBuffer2!==r||this.boundElementBuffer!==n||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==s;!t.extVertexArrayObject||a?(this.freshBind(t,e,i,n,r,o,s),this.gl=t):(t.extVertexArrayObject.bindVertexArrayOES(this.vao),s&&s.bind(t))},n.prototype.freshBind=function(t,e,i,n,r,o,s){var a,l=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),a=0,this.boundProgram=e,this.boundVertexBuffer=i,this.boundVertexBuffer2=r,this.boundElementBuffer=n,this.boundVertexOffset=o,this.boundDynamicVertexBuffer=s;else{a=t.currentNumAttributes||0;for(var u=l;u<a;u++)t.disableVertexAttribArray(u)}i.enableAttributes(t,e),r&&r.enableAttributes(t,e),s&&s.enableAttributes(t,e),i.bind(t),i.setVertexAttribPointers(t,e,o),r&&(r.bind(t),r.setVertexAttribPointers(t,e,o)),s&&(s.bind(t),s.setVertexAttribPointers(t,e,o)),n&&n.bind(t),t.currentNumAttributes=l},n.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=n},{}],90:[function(t,e,i){var n=t("../util/util");i.packUint8ToFloat=function(t,e){return t=n.clamp(Math.floor(t),0,255),e=n.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":218}],91:[function(t,e,i){e.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"
},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\n// u_maxzoom is derived from the maximum scale considered by the CollisionTile\n// Labels with placement zoom greater than this value will not be placed,\n// regardless of perspective effects.\nuniform float u_maxzoom;\nuniform sampler2D u_fadetexture;\n\n// v_max_zoom is a collision-box-specific value that controls when line-following\n// collision boxes are used.\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Green = no collisions, label is showing\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    // Red = collision, label hidden\n    if (texture2D(u_fadetexture, v_fade_tex).a < 1.0) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    // Faded black = this collision box is not used at this zoom (for curved labels)\n    if (u_zoom >= v_max_zoom + v_perspective_zoom_adjust) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    // Faded blue = the placement scale for this label is beyond the CollisionTile\n    // max scale, so it's impossible for this label to show without collision detection\n    // being run again (the label's glyphs haven't even been added to the symbol bucket)\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\nuniform float u_pitch;\nuniform float u_collision_y_stretch;\nuniform float u_camera_to_center_distance;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\nvarying float v_perspective_zoom_adjust;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 1.0 + 0.5 * ((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    gl_Position = u_matrix * vec4(a_pos + a_extrude * collision_perspective_ratio * collision_adjustment / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n\n    v_perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((v_placement_zoom + v_perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"
},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_collision_y_stretch;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    // See comments in symbol_sdf.vertex\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    v_fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    vec2 fade_tex = v_data0.zw;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, fade_tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_collision_y_stretch;\n\nuniform vec2 u_texsize;\n\nvarying vec4 v_data0;\nvarying vec2 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp vec2 angle_labelminzoom = unpack_float(a_projected_pos[2]);\n    highp float segment_angle = -angle_labelminzoom[0] / 255.0 * 2.0 * PI;\n    mediump float a_labelminzoom = angle_labelminzoom[1];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    // incidence_stretch is the ratio of how much y space a label takes up on a tile while drawn perpendicular to the viewport vs\n    //  how much space it would take up if it were drawn flat on the tile\n    // Using law of sines, camera_to_anchor/sin(ground_angle) = camera_to_center/sin(incidence_angle)\n    // sin(incidence_angle) = 1/incidence_stretch\n    // Incidence angle 90 -> head on, sin(incidence_angle) = 1, no incidence stretch\n    // Incidence angle 1 -> very oblique, sin(incidence_angle) =~ 0, lots of incidence stretch\n    // ground_angle = u_pitch + PI/2 -> sin(ground_angle) = cos(u_pitch)\n    // This 2D calculation is only exactly correct when gl_Position.x is in the center of the viewport,\n    //  but it's a close enough approximation for our purposes\n    highp float incidence_stretch  = camera_to_anchor_distance / (u_camera_to_center_distance * cos(u_pitch));\n    // incidence_stretch only applies to the y-axis, but without re-calculating the collision tile, we can't\n    // adjust the size of only one axis. So, we do a crude approximation at placement time to get the aspect ratio\n    // about right, and then do the rest of the adjustment here: there will be some extra padding on the x-axis,\n    // but hopefully not too much.\n    // Never make the adjustment less than 1.0: instead of allowing collisions on the x-axis, be conservative on\n    // the y-axis.\n    highp float collision_adjustment = max(1.0, incidence_stretch / u_collision_y_stretch);\n\n    // Floor to 1/10th zoom to dodge precision issues that can cause partially hidden labels\n    highp float collision_perspective_ratio = 1.0 + 0.5*((camera_to_anchor_distance / u_camera_to_center_distance) - 1.0);\n    highp float perspective_zoom_adjust = floor(log2(collision_perspective_ratio * collision_adjustment) * 10.0);\n    vec2 fade_tex = vec2((a_labelminzoom + perspective_zoom_adjust) / 255.0, 0.0);\n\n    v_data0 = vec4(tex.x, tex.y, fade_tex.x, fade_tex.y);\n    v_data1 = vec2(gamma_scale, size);\n}\n"}};var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=function(t){var i=e.exports[t],r={};i.fragmentSource=i.fragmentSource.replace(n,function(t,e,i,n,o){return r[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n":"initialize"===e?"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n":void 0}),i.vertexSource=i.vertexSource.replace(n,function(t,e,i,n,o){var s="float"===n?"vec2":"vec4";if(r[o]){if("define"===e)return"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+s+" a_"+o+";\nvarying "+i+" "+n+" "+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n";if("initialize"===e)return"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"}else{if("define"===e)return"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+s+" a_"+o+";\n#else\nuniform "+i+" "+n+" u_"+o+";\n#endif\n";if("initialize"===e)return"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+i+" "+n+" "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+n+" "+o+" = u_"+o+";\n#endif\n"}})};for(var o in e.exports)r(o)},{}],92:[function(t,e,i){var n=t("./image_source"),r=t("../util/window"),o=function(t){function e(e,i,n,r){t.call(this,e,i,n,r),this.options=i,this.animate=void 0===i.animate||i.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||r.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var t;this.play=function(){t=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(t)},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.canvas&&this.animate&&this.play())},e.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||0!==Object.keys(this.tiles).length&&this._prepareImage(this.map.painter.gl,this.canvas,t)},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,i=[t.canvas.width,t.canvas.height];e<i.length;e+=1){var n=i[e];if(isNaN(n)||n<=0)return!0}return!1},e}(n);e.exports=o},{"../util/window":199,"./image_source":96}],93:[function(t,e,i){function n(t){var e=s.document.createElement("a");return e.href=t,e.href}var r=t("../util/evented"),o=t("../util/util"),s=t("../util/window"),a=t("../data/extent"),l=function(t){function e(e,i,n,r){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=n,this.setEventedParent(r),this._data=i.data,this._options=o.extend({},i),void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type);var s=a/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*s,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*s,extent:a,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a,radius:(i.clusterRadius||50)*s,log:!1}},i.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?void t.fire("error",{error:e}):void t.fire("data",{dataType:"source",sourceDataType:"metadata"})})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?e.fire("error",{error:t}):void e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},e.prototype._updateWorkerData=function(t){var e=this,i=o.extend({},this.workerOptions),r=this._data;"string"==typeof r?i.url=n(r):i.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",i,function(i){e._loaded=!0,t(i)},this.workerID)},e.prototype.loadTile=function(t,e){var i=this,n=t.workerID&&"expired"!==t.state?"reloadTile":"loadTile",r={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(n,r,function(n,r){if(t.unloadVectorData(),!t.aborted)return n?e(n):(t.loadVectorData(r,i.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(i)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},e}(r);e.exports=l},{"../data/extent":64,"../util/evented":205,"../util/util":218,"../util/window":199}],94:[function(t,e,i){function n(t,e){var i=t.source,n=t.coord;if(!this._geoJSONIndexes[i])return e(null,null);var r=this._geoJSONIndexes[i].getTile(Math.min(n.z,t.maxZoom),n.x,n.y);if(!r)return e(null,null);var o=new s(r.features),l=a(o);0===l.byteOffset&&l.byteLength===l.buffer.byteLength||(l=new Uint8Array(l)),e(null,{vectorTile:o,rawData:l.buffer})}var r=t("../util/ajax"),o=t("geojson-rewind"),s=t("./geojson_wrapper"),a=t("vt-pbf"),l=t("supercluster"),u=t("geojson-vt"),c=t("./vector_tile_worker_source"),h=function(t){function e(e,i,r){t.call(this,e,i,n),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var i=this;this.loadGeoJSON(t,function(n,r){if(n||!r)return e(n);if("object"!=typeof r)return e(new Error("Input data is not a valid GeoJSON object."));o(r,!0);try{i._geoJSONIndexes[t.source]=t.cluster?l(t.superclusterOptions).load(r.features):u(r,t.geojsonVtOptions)}catch(n){return e(n)}i.loaded[t.source]={},e(null)})},e.prototype.reloadTile=function(e,i){var n=this.loaded[e.source],r=e.uid;return n&&n[r]?t.prototype.reloadTile.call(this,e,i):this.loadTile(e,i)},e.prototype.loadGeoJSON=function(t,e){if(t.url)r.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},e}(c);e.exports=h},{"../util/ajax":196,"./geojson_wrapper":95,"./vector_tile_worker_source":108,"geojson-rewind":10,"geojson-vt":14,supercluster:39,"vt-pbf":48}],95:[function(t,e,i){var n=t("point-geometry"),r=t("vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),s=function(t){var e=this;if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var i=0;i<t.geometry.length;i++)e.rawGeometry.push([t.geometry[i]])}else this.rawGeometry=t.geometry;this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10)),this.extent=o};s.prototype.loadGeometry=function(){var t=this,e=this.rawGeometry;this.geometry=[];for(var i=0;i<e.length;i++){for(var r=e[i],o=[],s=0;s<r.length;s++)o.push(new n(r[s][0],r[s][1]));t.geometry.push(o)}return this.geometry},s.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,i=-1/0,n=1/0,r=-1/0,o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var l=s[a];e=Math.min(e,l.x),i=Math.max(i,l.x),n=Math.min(n,l.y),r=Math.max(r,l.y)}return[e,n,i,r]},s.prototype.toGeoJSON=function(){return r.apply(this,arguments)};var a=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};a.prototype.feature=function(t){return new s(this._features[t])},e.exports=a},{"../data/extent":64,"point-geometry":36,"vector-tile":44}],96:[function(t,e,i){var n=t("../util/util"),r=t("../util/window"),o=t("./tile_coord"),s=t("../geo/lng_lat"),a=t("point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../data/extent"),h=t("../data/raster_bounds_array"),f=t("../data/buffer"),d=t("../render/vertex_array_object"),p=function(t){function e(e,i,n,r){t.call(this),this.id=e,this.dispatcher=n,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=i,this.textureLoaded=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,u.getImage(this.options.url,function(e,i){e?t.fire("error",{error:e}):i&&(t.image=i,t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.load(),this.map=t,this.image&&this.setCoordinates(this.coordinates)},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,i=t.map(function(t){return e.transform.locationCoordinate(s.convert(t)).zoomTo(0)}),r=this.centerCoord=n.getCoordinatesCenter(i);return r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.coord=new o(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom,this._tileCoords=i.map(function(t){var e=t.zoomTo(r.zoom);return new a(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype._setTile=function(t){this.tiles[String(t.coord.w)]=t;var e=new h;e.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),e.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,32767,0),e.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,32767),e.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,32767,32767),t.buckets={},t.boundsBuffer=f.fromStructArray(e,f.BufferType.VERTEX),t.boundsVAO=new d},e.prototype.prepare=function(){0===Object.keys(this.tiles).length!==0&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,i){var n=this;this.textureLoaded?i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof r.HTMLVideoElement||e instanceof r.ImageData||e instanceof r.HTMLCanvasElement)&&(t.bindTexture(t.TEXTURE_2D,this.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e)):(this.textureLoaded=!0,this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e));for(var o in n.tiles){var s=n.tiles[o];"loaded"!==s.state&&(s.state="loaded",s.texture=n.texture)}},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},e}(l);e.exports=p},{"../data/buffer":61,"../data/extent":64,"../data/raster_bounds_array":69,"../geo/lng_lat":72,"../render/vertex_array_object":89,"../util/ajax":196,"../util/evented":205,"../util/util":218,"../util/window":199,"./tile_coord":106,"point-geometry":36}],97:[function(t,e,i){var n=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),s=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var i=function(t,i){if(t)return e(t);var r=n.pick(i,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);i.vector_layers&&(r.vectorLayers=i.vector_layers,r.vectorLayerIds=r.vectorLayers.map(function(t){return t.id})),e(null,r)};t.url?r.getJSON(s(t.url),i):o.frame(i.bind(null,null,t))}},{"../util/ajax":196,"../util/browser":197,"../util/mapbox":212,"../util/util":218}],98:[function(t,e,i){var n=t("../data/extent");e.exports=function(t,e,i){return e*(n/(t.tileSize*Math.pow(2,i-t.coord.z)))}},{"../data/extent":64}],99:[function(t,e,i){function n(t,e){var i=t.coord,n=e.coord;return i.z-n.z||i.y-n.y||i.w-n.w||i.x-n.x}function r(t){for(var e={},i={},n=0,r=t;n<r.length;n+=1){var o=r[n],s=o.queryResults,a=o.wrappedTileID,l=i[a]=i[a]||{};for(var u in s)for(var c=s[u],h=l[u]=l[u]||{},f=e[u]=e[u]||[],d=0,p=c;d<p.length;d+=1){var g=p[d];h[g.featureIndex]||(h[g.featureIndex]=!0,f.push(g.feature))}}return e}var o=t("./tile_coord");i.rendered=function(t,e,i,o,s,a){var l=t.tilesIn(i);l.sort(n);for(var u=[],c=0;c<l.length;c++){var h=l[c];h.tile.featureIndex&&u.push({wrappedTileID:h.coord.wrapped().id,queryResults:h.tile.featureIndex.query({queryGeometry:h.queryGeometry,scale:h.scale,tileSize:h.tile.tileSize,bearing:a,params:o},e)})}return r(u)},i.source=function(t,e){for(var i=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),n=[],r={},s=0;s<i.length;s++){var a=i[s],l=new o(Math.min(a.sourceMaxZoom,a.coord.z),a.coord.x,a.coord.y,0).id;r[l]||(r[l]=!0,a.querySourceFeatures(n,e))}return n}},{"./tile_coord":106}],100:[function(t,e,i){var n=t("../util/util"),r=t("../util/ajax"),o=t("../util/evented"),s=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,l=t("./tile_bounds"),u=function(t){function e(e,i,r,o){t.call(this),this.id=e,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({},i),n.extend(this,n.pick(i,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),s(this._options,function(e,i){e?t.fire("error",e):i&&(n.extend(t,i),t.setBounds(i.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new l(t,this.minzoom,this.maxzoom))},e.prototype.serialize=function(){return n.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.loadTile=function(t,e){var i=this,n=a(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=r.getImage(n,function(n,r){if(delete t.request,t.aborted)i.state="unloaded",e(null);else if(n)i.state="errored",e(n);else if(r){i.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=i.map.painter.gl;t.texture=i.map.painter.getTileTexture(r.width),t.texture?(o.bindTexture(o.TEXTURE_2D,t.texture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,r)):(t.texture=o.createTexture(),o.bindTexture(o.TEXTURE_2D,t.texture),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR_MIPMAP_NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i.map.painter.extTextureFilterAnisotropic&&o.texParameterf(o.TEXTURE_2D,i.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,i.map.painter.extTextureFilterAnisotropicMax),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,r),t.texture.size=r.width),o.generateMipmap(o.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},e.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},e}(o);e.exports=u},{"../util/ajax":196,"../util/evented":205,"../util/mapbox":212,"../util/util":218,"./load_tilejson":97,"./tile_bounds":105}],101:[function(t,e,i){var n=t("../util/ajax"),r=t("../util/evented"),o=t("../util/window"),s=!1,a=null;e.exports.evented=new r,e.exports.registerForPluginAvailability=function(t){return a?t({pluginBlobURL:a,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data]),{type:"text/javascript"})},e.exports.clearRTLTextPlugin=function(){s=!1,a=null},e.exports.setRTLTextPlugin=function(t,i){if(s)throw new Error("setRTLTextPlugin cannot be called multiple times.");s=!0,e.exports.errorCallback=i,n.getArrayBuffer(t,function(t,n){t?i(t):n&&(a=e.exports.createBlobURL(n),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:a,errorCallback:i}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null;
},{"../util/ajax":196,"../util/evented":205,"../util/window":199}],102:[function(t,e,i){var n=t("../util/util"),r={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};i.create=function(t,e,i,o){var s=new r[e.type](t,e,i,o);if(s.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+s.id);return n.bindAll(["load","abort","unload","serialize","prepare"],s),s},i.getType=function(t){return r[t]},i.setType=function(t,e){r[t]=e}},{"../source/canvas_source":92,"../source/geojson_source":93,"../source/image_source":96,"../source/raster_tile_source":100,"../source/vector_tile_source":107,"../source/video_source":109,"../util/util":218}],103:[function(t,e,i){function n(t,e,i){var n=i.zoomTo(Math.min(t.z,e));return{x:(n.column-(t.x+t.w*Math.pow(2,t.z)))*d,y:(n.row-t.y)*d}}function r(t,e){return t%32-e%32}function o(t){return"raster"===t||"image"===t||"video"===t}var s=t("./source"),a=t("./tile"),l=t("../util/evented"),u=t("./tile_coord"),c=t("../util/lru_cache"),h=t("../geo/coordinate"),f=t("../util/util"),d=t("../data/extent"),p=function(t){function e(e,i,n){t.call(this),this.id=e,this.dispatcher=n,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("error",function(){this._sourceErrored=!0}),this._source=s.create(e,i,n,this),this._tiles={},this._cache=new c(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var i=t._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},e.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(r)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype._isIdRenderable=function(t){return this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._cache.reset();for(var e in t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var i=this._tiles[t];i&&("loading"!==i.state&&(i.state=e),this._loadTile(i,this._tileLoaded.bind(this,i,t,e)))},e.prototype._tileLoaded=function(t,e,i,n){return n?(t.state="errored",void(404!==n.status&&this._source.fire("error",{tile:t,error:n}))):(t.sourceCache=this,t.timeAdded=(new Date).getTime(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),this.map&&(this.map.painter.tileExtentVAO.vao=null),void 0)},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,i){var n=this,r=!1;for(var o in n._tiles){var s=n._tiles[o];if(!(i[o]||!s.hasData()||s.coord.z<=t.z||s.coord.z>e)){var a=Math.pow(2,Math.min(s.coord.z,n._source.maxzoom)-Math.min(t.z,n._source.maxzoom));if(Math.floor(s.coord.x/a)===t.x&&Math.floor(s.coord.y/a)===t.y)for(i[o]=!0,r=!0;s&&s.coord.z-1>t.z;){var l=s.coord.parent(n._source.maxzoom).id;s=n._tiles[l],s&&s.hasData()&&(delete i[o],i[l]=!0)}}}return r},e.prototype.findLoadedParent=function(t,e,i){for(var n=this,r=t.z-1;r>=e;r--){t=t.parent(n._source.maxzoom);var o=n._tiles[t.id];if(o&&o.hasData())return i[t.id]=!0,o;if(n._cache.has(t.id))return i[t.id]=!0,n._cache.getWithoutRemoving(t.id)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/t.tileSize)+1,i=Math.ceil(t.height/t.tileSize)+1,n=e*i,r=Math.floor(5*n),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)},e.prototype.update=function(t){var i=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var n,r,s,a;this.updateCacheSize(t);var l=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),c=Math.max(l-e.maxOverzooming,this._source.minzoom),h=Math.max(l+e.maxUnderzooming,this._source.minzoom),d={};this._coveredTiles={};var p;for(this.used?this._source.coord?p=t.getVisibleWrappedCoordinates(this._source.coord):(p=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(p=p.filter(function(t){return i._source.hasTile(t)}))):p=[],n=0;n<p.length;n++)r=p[n],s=i._addTile(r),d[r.id]=!0,s.hasData()||i._findLoadedChildren(r,h,d)||(a=i.findLoadedParent(r,c,d))&&i._addTile(a.coord);var g={};if(o(this._source.type))for(var m=Object.keys(d),v=0;v<m.length;v++){var y=m[v];r=u.fromID(y),s=i._tiles[y],s&&(void 0===s.fadeEndTime||s.fadeEndTime>=Date.now())&&(i._findLoadedChildren(r,h,d)&&(d[y]=!0),(a=i.findLoadedParent(r,c,g))&&i._addTile(a.coord))}var _;for(_ in g)d[_]||(i._coveredTiles[_]=!0);for(_ in g)d[_]=!0;var b=f.keysDifference(this._tiles,d);for(n=0;n<b.length;n++)i._removeTile(+b[n])}},e.prototype._addTile=function(t){var e=this._tiles[t.id];if(e)return e;(e=this._cache.get(t.id))&&(e.redoPlacement(this._source),this._cacheTimers[t.id]&&(clearTimeout(this._cacheTimers[t.id]),this._cacheTimers[t.id]=void 0,this._setTileReloadTimer(t.id,e)));var i=Boolean(e);if(!i){var n=t.z,r=n>this._source.maxzoom?Math.pow(2,n-this._source.maxzoom):1;e=new a(t,this._source.tileSize*r,this._source.maxzoom),this._loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e.uses++,this._tiles[t.id]=e,i||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e},e.prototype._setTileReloadTimer=function(t,e){var i=this,n=e.getExpiryTimeout();n&&(this._timers[t]=setTimeout(function(){i._reloadTile(t,"expired"),i._timers[t]=void 0},n))},e.prototype._setCacheInvalidationTimer=function(t,e){var i=this,n=e.getExpiryTimeout();n&&(this._cacheTimers[t]=setTimeout(function(){i._cache.remove(t),i._cacheTimers[t]=void 0},n))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),this._timers[t]=void 0),!(e.uses>0)))if(e.stopPlacementThrottler(),e.hasData()){var i=e.coord.wrapped().id;this._cache.add(i,e),this._setCacheInvalidationTimer(i,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,i=[],r=this.getIds(),o=1/0,s=1/0,a=-1/0,l=-1/0,c=t[0].zoom,f=0;f<t.length;f++){var p=t[f];o=Math.min(o,p.column),s=Math.min(s,p.row),a=Math.max(a,p.column),l=Math.max(l,p.row)}for(var g=0;g<r.length;g++){var m=e._tiles[r[g]],v=u.fromID(r[g]),y=[n(v,m.sourceMaxZoom,new h(o,s,c)),n(v,m.sourceMaxZoom,new h(a,l,c))];if(y[0].x<d&&y[0].y<d&&y[1].x>=0&&y[1].y>=0){for(var _=[],b=0;b<t.length;b++)_.push(n(v,m.sourceMaxZoom,t[b]));i.push({tile:m,coord:v,queryGeometry:[_],scale:Math.pow(2,e.transform.zoom-m.coord.z)})}}return i},e.prototype.redoPlacement=function(){for(var t=this,e=this.getIds(),i=0;i<e.length;i++)t.getTileByID(e[i]).redoPlacement(t._source)},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(u.fromID),i=0,n=e;i<n.length;i+=1){var r=n[i];r.posMatrix=t.transform.calculatePosMatrix(r,t._source.maxzoom)}return e},e}(l);p.maxOverzooming=10,p.maxUnderzooming=3,e.exports=p},{"../data/extent":64,"../geo/coordinate":71,"../util/evented":205,"../util/lru_cache":211,"../util/util":218,"./source":102,"./tile":104,"./tile_coord":106}],104:[function(t,e,i){var n=t("../util/util"),r=t("../data/bucket"),o=t("../data/feature_index"),s=t("vector-tile"),a=t("pbf"),l=t("../util/vectortile_to_geojson"),u=t("../style-spec/feature_filter"),c=t("../symbol/collision_tile"),h=t("../symbol/collision_box"),f=t("../util/throttler"),d=3e4,p=function(t,e,i){this.coord=t,this.uid=n.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=i,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading",this.placementThrottler=new f(300,this._immediateRedoPlacement.bind(this))};p.prototype.registerFadeDuration=function(t,e){var i=e+this.timeAdded;i<Date.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i,t.set(this.fadeEndTime-Date.now()))},p.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new h(t.collisionBoxArray),this.collisionTile=c.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex=o.deserialize(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=r.deserialize(t.buckets,e.style))},p.prototype.reloadSymbolData=function(t,e){var i=this;if("unloaded"!==this.state){this.collisionTile=c.deserialize(t.collisionTile,this.collisionBoxArray),this.featureIndex&&this.featureIndex.setCollisionTile(this.collisionTile);for(var o in i.buckets){var s=i.buckets[o];"symbol"===s.layers[0].type&&(s.destroy(),delete i.buckets[o])}n.extend(this.buckets,r.deserialize(t.buckets,e))}},p.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},p.prototype.redoPlacement=function(t){if("vector"===t.type||"geojson"===t.type){if("loaded"!==this.state)return void(this.redoWhenDone=!0);if(this.collisionTile){var e=t.map.transform.cameraToTileDistance(this);if(this.angle===t.map.transform.angle&&this.pitch===t.map.transform.pitch&&this.cameraToCenterDistance===t.map.transform.cameraToCenterDistance&&this.showCollisionBoxes===t.map.showCollisionBoxes){if(this.cameraToTileDistance===e)return;if(this.pitch<25)return void(this.cameraToTileDistance=e)}this.angle=t.map.transform.angle,this.pitch=t.map.transform.pitch,this.cameraToCenterDistance=t.map.transform.cameraToCenterDistance,this.cameraToTileDistance=e,this.showCollisionBoxes=t.map.showCollisionBoxes,this.placementSource=t,this.state="reloading",this.placementThrottler.invoke()}}},p.prototype._immediateRedoPlacement=function(){var t=this;this.placementSource.dispatcher.send("redoPlacement",{type:this.placementSource.type,uid:this.uid,source:this.placementSource.id,angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,showCollisionBoxes:this.showCollisionBoxes},function(e,i){t.state="loaded",t.reloadSymbolData(i,t.placementSource.map.style),t.placementSource.fire("data",{tile:t,coord:t.coord,dataType:"source"}),t.placementSource.map&&(t.placementSource.map.painter.tileExtentVAO.vao=null),t.redoWhenDone&&(t.redoWhenDone=!1,t._immediateRedoPlacement())},this.workerID)},p.prototype.getBucket=function(t){return this.buckets[t.id]},p.prototype.querySourceFeatures=function(t,e){var i=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new s.VectorTile(new a(this.rawTileData)).layers);var n=e?e.sourceLayer:"",r=this.vtLayers._geojsonTileLayer||this.vtLayers[n];if(r)for(var o=u(e&&e.filter),c={z:this.coord.z,x:this.coord.x,y:this.coord.y},h=0;h<r.length;h++){var f=r.feature(h);if(o(f)){var d=new l(f,i.coord.z,i.coord.x,i.coord.y);d.tile=c,t.push(d)}}}},p.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},p.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var i=n.parseCacheControl(t.cacheControl);i["max-age"]&&(this.expirationTime=Date.now()+1e3*i["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),o=!1;if(this.expirationTime>r)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var s=this.expirationTime-e;s?this.expirationTime=r+Math.max(s,d):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},p.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},p.prototype.stopPlacementThrottler=function(){this.placementThrottler.stop(),"reloading"===this.state&&(this.state="loaded")},e.exports=p},{"../data/bucket":55,"../data/feature_index":65,"../style-spec/feature_filter":115,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/throttler":216,"../util/util":218,"../util/vectortile_to_geojson":219,pbf:35,"vector-tile":44}],105:[function(t,e,i){var n=t("../geo/lng_lat_bounds"),r=t("../util/util").clamp,o=function(t,e,i){this.bounds=n.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=i||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t,e){var i=e?Math.min(t.z,e):t.z,n={minX:Math.floor(this.lngX(this.bounds.getWest(),i)),minY:Math.floor(this.latY(this.bounds.getNorth(),i)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),i)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),i))};return t.x>=n.minX&&t.x<n.maxX&&t.y>=n.minY&&t.y<n.maxY},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var i=r(Math.sin(Math.PI/180*t),-.9999,.9999),n=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+i)/(1-i))*-n},e.exports=o},{"../geo/lng_lat_bounds":73,"../util/util":218}],106:[function(t,e,i){function n(t,e){if(t.row>e.row){var i=t;t=e,e=i}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function r(t,e,i,n,r){var o=Math.max(i,Math.floor(e.y0)),s=Math.min(n,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var a=t;t=e,e=a}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,h=e.dx<0,f=o;f<s;f++){var d=l*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,p=u*Math.max(0,Math.min(e.dy,f+h-e.y0))+e.x0;r(Math.floor(p),Math.ceil(d),f)}}function o(t,e,i,o,s,a){var l,u=n(t,e),c=n(e,i),h=n(i,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>h.dy&&(l=u,u=h,h=l),c.dy>h.dy&&(l=c,c=h,h=l),u.dy&&r(h,u,o,s,a),c.dy&&r(h,c,o,s,a)}function s(t,e,i){for(var n,r="",o=t;o>0;o--)n=1<<o-1,r+=(e&n?1:0)+(i&n?2:0);return r}var a=t("@mapbox/whoots-js"),l=t("../geo/coordinate"),u=function(t,e,i,n){(void 0===n||isNaN(n))&&(n=0),this.z=+t,this.x=+e,this.y=+i,this.w=+n,(n*=2)<0&&(n=-1*n-1);var r=1<<this.z;this.id=32*(r*r*n+r*this.y+this.x)+this.z,this.posMatrix=null};u.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},u.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),i=Math.pow(2,e),n=this.y,r=this.x+i*this.w;return new l(r,n,e)},u.prototype.url=function(t,e,i){var n=a.getTileBBox(this.x,this.y,this.z),r=s(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(Math.min(this.z,e||this.z))).replace("{x}",String(this.x)).replace("{y}",String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",r).replace("{bbox-epsg-3857}",n)},u.prototype.parent=function(t){return 0===this.z?null:this.z>t?new u(this.z-1,this.x,this.y,this.w):new u(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},u.prototype.wrapped=function(){return new u(this.z,this.x,this.y,0)},u.prototype.children=function(t){if(this.z>=t)return[new u(this.z+1,this.x,this.y,this.w)];var e=this.z+1,i=2*this.x,n=2*this.y;return[new u(e,i,n,this.w),new u(e,i+1,n,this.w),new u(e,i,n+1,this.w),new u(e,i+1,n+1,this.w)]},u.cover=function(t,e,i,n){function r(t,e,r){var o,l,c,h;if(r>=0&&r<=s)for(o=t;o<e;o++)l=Math.floor(o/s),c=(o%s+s)%s,0!==l&&!0!==n||(h=new u(i,c,r,l),a[h.id]=h)}void 0===n&&(n=!0);var s=1<<t,a={};return o(e[0],e[1],e[2],0,s,r),o(e[2],e[3],e[0],0,s,r),Object.keys(a).map(function(t){return a[t]})},u.fromID=function(t){var e=t%32,i=1<<e,n=(t-e)/32,r=n%i,o=(n-r)/i%i,s=Math.floor(n/(i*i));return s%2!=0&&(s=-1*s-1),s/=2,new u(e,r,o,s)},e.exports=u},{"../geo/coordinate":71,"@mapbox/whoots-js":5}],107:[function(t,e,i){var n=t("../util/evented"),r=t("../util/util"),o=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,a=t("./tile_bounds"),l=function(t){function e(e,i,n,o){if(t.call(this),this.id=e,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,r.extend(this,r.pick(i,["url","scheme","tileSize"])),this._options=r.extend({type:"vector"},i),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,function(e,i){e?t.fire("error",e):i&&(r.extend(t,i),t.setBounds(i.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new a(t,this.minzoom,this.maxzoom))},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.loadTile=function(t,e){function i(i,n){if(!t.aborted){if(i)return e(i);this.map._refreshExpiredTiles&&t.setExpiryData(n),t.loadVectorData(n,this.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var n=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={url:s(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*n,type:this.type,source:this.id,overscaling:n,angle:this.map.transform.angle,pitch:this.map.transform.pitch,cameraToCenterDistance:this.map.transform.cameraToCenterDistance,cameraToTileDistance:this.map.transform.cameraToTileDistance(t),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",r,i.bind(this),t.workerID):t.workerID=this.dispatcher.send("loadTile",r,i.bind(this))},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e}(n);e.exports=l},{"../util/evented":205,"../util/mapbox":212,"../util/util":218,"./load_tilejson":97,"./tile_bounds":105}],108:[function(t,e,i){function n(t,e){var i=r.getArrayBuffer(t.url,function(t,i){t?e(t):i&&e(null,{vectorTile:new o.VectorTile(new s(i.data)),rawData:i.data,cacheControl:i.cacheControl,expires:i.expires})});return function(){i.abort()}}var r=t("../util/ajax"),o=t("vector-tile"),s=t("pbf"),a=t("./worker_tile"),l=t("../util/util"),u=function(t,e,i){this.actor=t,this.layerIndex=e,this.loadVectorData=i||n,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,e){var i=this,n=t.source,r=t.uid;this.loading[n]||(this.loading[n]={});var o=this.loading[n][r]=new a(t);o.abort=this.loadVectorData(t,function(t,s){if(delete i.loading[n][r],t||!s)return e(t);var a=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile,o.parse(s.vectorTile,i.layerIndex,i.actor,function(t,i,n){return t||!i?e(t):void e(null,l.extend({rawTileData:a},i,u),n)}),i.loaded[n]=i.loaded[n]||{},i.loaded[n][r]=o})},u.prototype.reloadTile=function(t,e){function i(t,i){if(this.reloadCallback){var n=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,n)}e(t,i)}var n=this.loaded[t.source],r=t.uid,o=this;if(n&&n[r]){var s=n[r];"parsing"===s.status?s.reloadCallback=e:"done"===s.status&&s.parse(s.vectorTile,this.layerIndex,this.actor,i.bind(s))}},u.prototype.abortTile=function(t){var e=this.loading[t.source],i=t.uid;e&&e[i]&&e[i].abort&&(e[i].abort(),delete e[i])},u.prototype.removeTile=function(t){var e=this.loaded[t.source],i=t.uid;e&&e[i]&&delete e[i]},u.prototype.redoPlacement=function(t,e){var i=this.loaded[t.source],n=this.loading[t.source],r=t.uid;if(i&&i[r]){var o=i[r],s=o.redoPlacement(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,t.showCollisionBoxes);s.result&&e(null,s.result,s.transferables)}else n&&n[r]&&(n[r].angle=t.angle)},e.exports=u},{"../util/ajax":196,"../util/util":218,"./worker_tile":111,pbf:35,"vector-tile":44}],109:[function(t,e,i){var n=t("../util/ajax"),r=t("./image_source"),o=function(t){function e(e,i,n,r){t.call(this,e,i,n,r),this.roundZoom=!0,this.type="video",this.options=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,n.getVideo(e.urls,function(e,i){if(e)t.fire("error",{error:e});else if(i){t.video=i,t.video.loop=!0;var n;t.video.addEventListener("playing",function(){n=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(n)}),t.map&&t.video.play(),t._finishLoading()}})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.load(),this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){0===Object.keys(this.tiles).length||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e}(r);e.exports=o},{"../util/ajax":196,"./image_source":96}],110:[function(t,e,i){var n=t("../util/actor"),r=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),s=t("./geojson_worker_source"),a=t("./rtl_text_plugin"),l=function(t){var e=this;this.self=t,this.actor=new n(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.self.registerWorkerSource=function(t,i){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=i},this.self.registerRTLTextPlugin=function(t){if(a.applyArabicShaping||a.processBidirectionalText)throw new Error("RTL text plugin already registered.");a.applyArabicShaping=t.applyArabicShaping,a.processBidirectionalText=t.processBidirectionalText}};l.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},l.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},l.prototype.loadTile=function(t,e,i){this.getWorkerSource(t,e.type).loadTile(e,i)},l.prototype.reloadTile=function(t,e,i){this.getWorkerSource(t,e.type).reloadTile(e,i)},l.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},l.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},l.prototype.removeSource=function(t,e){var i=this.getWorkerSource(t,e.type);void 0!==i.removeSource&&i.removeSource(e)},l.prototype.redoPlacement=function(t,e,i){this.getWorkerSource(t,e.type).redoPlacement(e,i)},l.prototype.loadWorkerSource=function(t,e,i){try{this.self.importScripts(e.url),i()}catch(t){i(t)}},l.prototype.loadRTLTextPlugin=function(t,e,i){try{a.applyArabicShaping||a.processBidirectionalText||(this.self.importScripts(e),a.applyArabicShaping&&a.processBidirectionalText||i(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){i(t)}},l.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},l.prototype.getWorkerSource=function(t,e){var i=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var n={send:function(e,n,r,o){i.actor.send(e,n,r,o,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](n,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new l(t)}},{"../style/style_layer_index":157,"../util/actor":195,"./geojson_worker_source":94,"./rtl_text_plugin":101,"./vector_tile_worker_source":108}],111:[function(t,e,i){function n(t,e){for(var i=0,n=t.layers;i<n.length;i+=1)n[i].recalculate(e)}function r(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var o=t("../data/feature_index"),s=t("../symbol/collision_tile"),a=t("../symbol/collision_box"),l=t("../util/dictionary_coder"),u=t("../util/util"),c=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.cameraToCenterDistance=t.cameraToCenterDistance,this.cameraToTileDistance=t.cameraToTileDistance,this.showCollisionBoxes=t.showCollisionBoxes};c.prototype.parse=function(t,e,i,c){var h=this;this.status="parsing",this.data=t,this.collisionBoxArray=new a;var f=new l(Object.keys(t.layers).sort()),d=new o(this.coord,this.overscaling);d.bucketLayerIDs=[];var p={},g={featureIndex:d,iconDependencies:{},glyphDependencies:{}},m=e.familiesBySource[this.source];for(var v in m){var y=t.layers[v];if(y){1===y.version&&u.warnOnce('Vector tile source "'+h.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var _=f.encode(v),b=[],x=0;x<y.length;x++){var w=y.feature(x);b.push({feature:w,index:x,sourceLayerIndex:_})}for(var C=0,E=m[v];C<E.length;C+=1){var S=E[C],T=S[0];if(!(T.minzoom&&h.zoom<T.minzoom||T.maxzoom&&h.zoom>=T.maxzoom||T.layout&&"none"===T.layout.visibility)){for(var I=0,k=S;I<k.length;I+=1)k[I].recalculate(h.zoom);(p[T.id]=T.createBucket({index:d.bucketLayerIDs.length,layers:S,zoom:h.zoom,overscaling:h.overscaling,collisionBoxArray:h.collisionBoxArray})).populate(b,g),d.bucketLayerIDs.push(S.map(function(t){return t.id}))}}}}var P=function(t){h.status="done",d.paintPropertyStatistics={};for(var e in p)u.extend(d.paintPropertyStatistics,p[e].getPaintPropertyStatistics());var i=[];c(null,{buckets:r(u.values(p),i),featureIndex:d.serialize(i),collisionTile:t.serialize(i),collisionBoxArray:h.collisionBoxArray.serialize()},i)};this.symbolBuckets=[];for(var L=e.symbolOrder.length-1;L>=0;L--){var O=p[e.symbolOrder[L]];O&&h.symbolBuckets.push(O)}if(0===this.symbolBuckets.length)return P(new s(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray));var A=0,M=Object.keys(g.iconDependencies),R=u.mapObject(g.glyphDependencies,function(t){return Object.keys(t).map(Number)}),N=function(t){if(t)return c(t);if(2===++A){for(var e=new s(h.angle,h.pitch,h.cameraToCenterDistance,h.cameraToTileDistance,h.collisionBoxArray),i=0,r=h.symbolBuckets;i<r.length;i+=1){var o=r[i];n(o,h.zoom),o.prepare(R,M),o.place(e,h.showCollisionBoxes)}P(e)}};Object.keys(R).length?i.send("getGlyphs",{uid:this.uid,stacks:R},function(t,e){R=e,N(t)}):N(),M.length?i.send("getIcons",{icons:M},function(t,e){M=e,N(t)}):N()},c.prototype.redoPlacement=function(t,e,i,o,a){var l=this;if(this.angle=t,this.pitch=e,this.cameraToCenterDistance=i,this.cameraToTileDistance=o,"done"!==this.status)return{};for(var u=new s(this.angle,this.pitch,this.cameraToCenterDistance,this.cameraToTileDistance,this.collisionBoxArray),c=0,h=l.symbolBuckets;c<h.length;c+=1){var f=h[c];n(f,l.zoom),f.place(u,a)}var d=[];return{result:{buckets:r(this.symbolBuckets,d),collisionTile:u.serialize(d)},transferables:d}},e.exports=c},{"../data/feature_index":65,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/dictionary_coder":202,"../util/util":218}],112:[function(t,e,i){function n(t,e){var i={};for(var n in t)"ref"!==n&&(i[n]=t[n]);return o.forEach(function(t){t in e&&(i[t]=e[t])}),i}function r(t){t=t.slice();for(var e=Object.create(null),i=0;i<t.length;i++)e[t[i].id]=t[i];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=n(t[r],e[t[r].ref]));return t}var o=t("./util/ref_properties");e.exports=r},{"./util/ref_properties":125}],113:[function(t,e,i){function n(t,e,i,n){t=t||{},e=e||{};var r;for(r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)||(i.push({command:c.removeSource,args:[r]}),n[r]=!0));for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?u(t[r],e[r])||(i.push({command:c.removeSource,args:[r]}),i.push({command:c.addSource,args:[r,e[r]]}),n[r]=!0):i.push({command:c.addSource,args:[r,e[r]]}))}function r(t,e,i,n,r,o){t=t||{},e=e||{};var s;for(s in t)t.hasOwnProperty(s)&&(u(t[s],e[s])||i.push({command:o,args:[n,s,e[s],r]}));for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(u(t[s],e[s])||i.push({command:o,args:[n,s,e[s],r]}))}function o(t){return t.id}function s(t,e){return t[e.id]=e,t}function a(t,e,i){t=t||[],e=e||[];var n,a,l,h,f,d,p,g=t.map(o),m=e.map(o),v=t.reduce(s,{}),y=e.reduce(s,{}),_=g.slice(),b=Object.create(null);for(n=0,a=0;n<g.length;n++)l=g[n],y.hasOwnProperty(l)?a++:(i.push({command:c.removeLayer,args:[l]}),_.splice(_.indexOf(l,a),1));for(n=0,a=0;n<m.length;n++)l=m[m.length-1-n],_[_.length-1-n]!==l&&(v.hasOwnProperty(l)?(i.push({command:c.removeLayer,args:[l]}),_.splice(_.lastIndexOf(l,_.length-a),1)):a++,d=_[_.length-n],i.push({command:c.addLayer,args:[y[l],d]}),_.splice(_.length-n,0,l),b[l]=!0);for(n=0;n<m.length;n++)if(l=m[n],h=v[l],f=y[l],!b[l]&&!u(h,f))if(u(h.source,f.source)&&u(h["source-layer"],f["source-layer"])&&u(h.type,f.type)){r(h.layout,f.layout,i,l,null,c.setLayoutProperty),r(h.paint,f.paint,i,l,null,c.setPaintProperty),u(h.filter,f.filter)||i.push({command:c.setFilter,args:[l,f.filter]}),u(h.minzoom,f.minzoom)&&u(h.maxzoom,f.maxzoom)||i.push({command:c.setLayerZoomRange,args:[l,f.minzoom,f.maxzoom]});for(p in h)h.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?r(h[p],f[p],i,l,p.slice(6),c.setPaintProperty):u(h[p],f[p])||i.push({command:c.setLayerProperty,args:[l,p,f[p]]}));for(p in f)f.hasOwnProperty(p)&&!h.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?r(h[p],f[p],i,l,p.slice(6),c.setPaintProperty):u(h[p],f[p])||i.push({command:c.setLayerProperty,args:[l,p,f[p]]}))}else i.push({command:c.removeLayer,args:[l]}),d=_[_.lastIndexOf(l)+1],i.push({command:c.addLayer,args:[f,d]})}function l(t,e){if(!t)return[{
command:c.setStyle,args:[e]}];var i=[];try{if(!u(t.version,e.version))return[{command:c.setStyle,args:[e]}];u(t.center,e.center)||i.push({command:c.setCenter,args:[e.center]}),u(t.zoom,e.zoom)||i.push({command:c.setZoom,args:[e.zoom]}),u(t.bearing,e.bearing)||i.push({command:c.setBearing,args:[e.bearing]}),u(t.pitch,e.pitch)||i.push({command:c.setPitch,args:[e.pitch]}),u(t.sprite,e.sprite)||i.push({command:c.setSprite,args:[e.sprite]}),u(t.glyphs,e.glyphs)||i.push({command:c.setGlyphs,args:[e.glyphs]}),u(t.transition,e.transition)||i.push({command:c.setTransition,args:[e.transition]}),u(t.light,e.light)||i.push({command:c.setLight,args:[e.light]});var r={},o=[];n(t.sources,e.sources,o,r);var s=[];t.layers&&t.layers.forEach(function(t){r[t.source]?i.push({command:c.removeLayer,args:[t.id]}):s.push(t)}),i=i.concat(o),a(s,e.layers,i)}catch(t){void 0,i=[{command:c.setStyle,args:[e]}]}return i}var u=t("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=l,e.exports.operations=c},{"lodash.isequal":30}],114:[function(t,e,i){function n(t,e){for(var i=arguments,n=[],o=arguments.length-2;o-- >0;)n[o]=i[o+2];this.message=(t?t+": ":"")+r.apply(r,n),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var r=t("util").format;e.exports=n},{util:43}],115:[function(t,e,i){function n(t){return new Function("f","var p = (f && f.properties || {}); return "+r(t))}function r(t){if(!t)return"true";var e=t[0];return t.length<=1?"any"===e?"false":"true":"("+("=="===e?s(t[1],t[2],"===",!1):"!="===e?s(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e,!0):"any"===e?a(t.slice(1),"||"):"all"===e?a(t.slice(1),"&&"):"none"===e?c(a(t.slice(1),"||")):"in"===e?l(t[1],t.slice(2)):"!in"===e?c(l(t[1],t.slice(2))):"has"===e?u(t[1]):"!has"===e?c(u(t[1])):"true")+")"}function o(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function s(t,e,i,n){var r=o(t),s="$type"===t?f.indexOf(e):JSON.stringify(e);return(n?"typeof "+r+"=== typeof "+s+"&&":"")+r+i+s}function a(t,e){return t.map(r).join(e)}function l(t,e){"$type"===t&&(e=e.map(function(t){return f.indexOf(t)}));var i=JSON.stringify(e.sort(h)),n=o(t);return e.length<=200?i+".indexOf("+n+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+n+", "+i+",0,"+(e.length-1)+")"}function u(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function h(t,e){return t<e?-1:t>e?1:0}e.exports=n;var f=["Unknown","Point","LineString","Polygon"]},{}],116:[function(t,e,i){function n(t){return t>v?Math.pow(t,1/3):t/m+p}function r(t){return t>g?t*t*t:m*(t-p)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function s(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a(t){var e=s(t[0]),i=s(t[1]),r=s(t[2]),o=n((.4124564*e+.3575761*i+.1804375*r)/h),a=n((.2126729*e+.7151522*i+.072175*r)/f);return[116*a-16,500*(o-a),200*(a-n((.0193339*e+.119192*i+.9503041*r)/d)),t[3]]}function l(t){var e=(t[0]+16)/116,i=isNaN(t[1])?e:e+t[1]/500,n=isNaN(t[2])?e:e-t[2]/200;return e=f*r(e),i=h*r(i),n=d*r(n),[o(3.2404542*i-1.5371385*e-.4985314*n),o(-.969266*i+1.8760108*e+.041556*n),o(.0556434*i-.2040259*e+1.0572252*n),t[3]]}function u(t){var e=a(t),i=e[0],n=e[1],r=e[2],o=Math.atan2(r,n)*_;return[o<0?o+360:o,Math.sqrt(n*n+r*r),i,t[3]]}function c(t){var e=t[0]*y,i=t[1];return l([t[2],Math.cos(e)*i,Math.sin(e)*i,t[3]])}var h=.95047,f=1,d=1.08883,p=4/29,g=6/29,m=3*g*g,v=g*g*g,y=Math.PI/180,_=180/Math.PI;e.exports={lab:{forward:a,reverse:l},hcl:{forward:u,reverse:c}}},{}],117:[function(t,e,i){function n(t){return t}function r(t,e){var i,c="color"===e.type;if(h(t)){var f=t.stops&&"object"==typeof t.stops[0][0],m=f||void 0!==t.property,v=f||!m,y=t.type||("interpolated"===e["function"]?"exponential":"interval");c&&(t=g({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],p(t[1])]})),t["default"]?t["default"]=p(t["default"]):t["default"]=p(e["default"]));var _,b,x;if("exponential"===y)_=l;else if("interval"===y)_=a;else if("categorical"===y){_=s,b=Object.create(null);for(var w=0,C=t.stops;w<C.length;w+=1){var E=C[w];b[E[0]]=E[1]}x=typeof t.stops[0][0]}else{if("identity"!==y)throw new Error('Unknown function type "'+y+'"');_=u}var S;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!d[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var T=d[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var I=0;I<t.stops.length;I++)t.stops[I]=[t.stops[I][0],T.forward(t.stops[I][1])];S=T.reverse}else S=n;if(f){for(var k={},P=[],L=0;L<t.stops.length;L++){var O=t.stops[L],A=O[0].zoom;void 0===k[A]&&(k[A]={zoom:A,type:t.type,property:t.property,"default":t["default"],stops:[]},P.push(A)),k[A].stops.push([O[0].value,O[1]])}for(var M=[],R=0,N=P;R<N.length;R+=1){var j=N[R];M.push([k[j].zoom,r(k[j],e)])}i=function(i,n){return S(l({stops:M,base:t.base},e,i)(i,n))},i.isFeatureConstant=!1,i.isZoomConstant=!1}else v?(i=function(i){return S(_(t,e,i,b,x))},i.isFeatureConstant=!0,i.isZoomConstant=!1):(i=function(i,n){var r=n[t.property];return void 0===r?o(t["default"],e["default"]):S(_(t,e,r,b,x))},i.isFeatureConstant=!1,i.isZoomConstant=!0)}else c&&t&&(t=p(t)),i=function(){return t},i.isFeatureConstant=!0,i.isZoomConstant=!0;return i}function o(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function s(t,e,i,n,r){return o(typeof i===r?n[i]:void 0,t["default"],e["default"])}function a(t,e,i){if("number"!==m(i))return o(t["default"],e["default"]);var n=t.stops.length;if(1===n)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[n-1][0])return t.stops[n-1][1];var r=c(t.stops,i);return t.stops[r][1]}function l(t,e,i){var r=void 0!==t.base?t.base:1;if("number"!==m(i))return o(t["default"],e["default"]);var s=t.stops.length;if(1===s)return t.stops[0][1];if(i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[s-1][0])return t.stops[s-1][1];var a=c(t.stops,i),l=f(i,r,t.stops[a][0],t.stops[a+1][0]),u=t.stops[a][1],h=t.stops[a+1][1],d=v[e.type]||n;return"function"==typeof u?function(){for(var t=arguments,e=[],i=arguments.length;i--;)e[i]=t[i];var n=u.apply(void 0,e),r=h.apply(void 0,e);if(void 0!==n&&void 0!==r)return d(n,r,l)}:d(u,h,l)}function u(t,e,i){return"color"===e.type?i=p(i):m(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),o(i,t["default"],e["default"])}function c(t,e){for(var i,n,r=t.length,o=0,s=r-1,a=0;o<=s;){if(a=Math.floor((o+s)/2),i=t[a][0],n=t[a+1][0],e===i||e>i&&e<n)return a;i<e?o=a+1:i>e&&(s=a-1)}return Math.max(a-1,0)}function h(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}function f(t,e,i,n){var r=n-i,o=t-i;return 1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var d=t("./color_spaces"),p=t("../util/parse_color"),g=t("../util/extend"),m=t("../util/get_type"),v=t("../util/interpolate");e.exports=r,e.exports.isFunctionDefinition=h,e.exports.interpolationFactor=f,e.exports.findStopLessThanOrEqualTo=c},{"../util/extend":121,"../util/get_type":122,"../util/interpolate":123,"../util/parse_color":124,"./color_spaces":116}],118:[function(t,e,i){function n(t){return s(o.map(function(e){return t[e]}))}function r(t){for(var e={},i=0;i<t.length;i++){var r=n(t[i]),o=e[r];o||(o=e[r]=[]),o.push(t[i])}var s=[];for(var a in e)s.push(e[a]);return s}var o=t("./util/ref_properties"),s=t("fast-stable-stringify");e.exports=r},{"./util/ref_properties":125,"fast-stable-stringify":8}],119:[function(t,e,i){e.exports=t("./v8.json")},{"./v8.json":120}],120:[function(t,e,i){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:!0,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},buffer:{type:"number","default":128,maximum:512,minimum:0},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean","default":"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_line:{"line-cap":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},"default":"butt"},"line-join":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{bevel:{},round:{},miter:{}},"default":"miter"},"line-miter-limit":{type:"number","default":2,"function":"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number","default":1.05,"function":"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_symbol:{"symbol-placement":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},"default":"point"},"symbol-spacing":{type:"number","default":250,minimum:1,"function":"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1},"icon-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image"]},"icon-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"]},"icon-size":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels","function":"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number","default":2,minimum:0,"function":"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"]},"text-field":{type:"string","function":"piecewise-constant","zoom-function":!0,"property-function":!0,"default":"",tokens:!0},"text-font":{type:"array",value:"string","function":"piecewise-constant","zoom-function":!0,"default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number","default":16,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number","default":10,minimum:0,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-line-height":{type:"number","default":1.2,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number","default":0,units:"ems","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-justify":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},"default":"center",requires:["text-field"]},"text-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field"]},"text-max-angle":{type:"number","default":45,units:"degrees","function":"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number","default":0,period:360,units:"degrees","function":"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number","default":2,minimum:0,units:"pixels","function":"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum","function":"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems","function":"interpolated","zoom-function":!0,"property-function":!0,length:2,"default":[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field"]},"text-optional":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},"function":{stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,"function":"piecewise-constant"},position:{type:"array","default":[1.15,210,30],length:3,value:"number",transition:!0,"function":"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color","default":"#ffffff","function":"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number","default":.5,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean","function":"piecewise-constant","zoom-function":!0,"default":!0},"fill-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"]},"fill-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!1,"default":1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":0,minimum:0,maximum:65535,units:"meters",transition:!0},"fill-extrusion-base":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":0,minimum:0,maximum:65535,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number","function":"interpolated","zoom-function":!0,"property-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["line-translate"]},"line-width":{type:"number","default":1,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number","function":"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number","default":0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map"},"circle-pitch-alignment":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"viewport"},"circle-stroke-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)","function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number","default":0,minimum:0,"function":"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],"function":"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum","function":"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number","default":0,period:360,"function":"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number","function":"interpolated","zoom-function":!0,"default":0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number","function":"interpolated","zoom-function":!0,"default":1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number","default":300,minimum:0,"function":"interpolated","zoom-function":!0,transition:!0,units:"milliseconds"}},paint_background:{"background-color":{type:"color","default":"#000000","function":"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string","function":"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,"function":"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number","default":300,minimum:0,units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}}}},{}],121:[function(t,e,i){e.exports=function(t){for(var e=arguments,i=[],n=arguments.length-1;n-- >0;)i[n]=e[n+1];for(var r=0,o=i;r<o.length;r+=1){var s=o[r];for(var a in s)t[a]=s[a]}return t}},{}],122:[function(t,e,i){e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],123:[function(t,e,i){function n(t,e,i){return t*(1-i)+e*i}e.exports=n,n.number=n,n.vec2=function(t,e,i){return[n(t[0],e[0],i),n(t[1],e[1],i)]},n.color=function(t,e,i){return[n(t[0],e[0],i),n(t[1],e[1],i),n(t[2],e[2],i),n(t[3],e[3],i)]},n.array=function(t,e,i){return t.map(function(t,r){return n(t,e[r],i)})}},{}],124:[function(t,e,i){var n=t("csscolorparser").parseCSSColor;e.exports=function(t){if("string"==typeof t){var e=n(t);if(!e)return;return[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return Array.isArray(t)?t:void 0}},{csscolorparser:6}],125:[function(t,e,i){e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],126:[function(t,e,i){e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],127:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("../util/extend");e.exports=function(e){var i=t("./validate_function"),s=t("./validate_object"),a={"*":function(){return[]},array:t("./validate_array"),"boolean":t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),"enum":t("./validate_enum"),filter:t("./validate_filter"),"function":t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},l=e.value,u=e.valueSpec,c=e.key,h=e.styleSpec,f=e.style;if("string"===r(l)&&"@"===l[0]){if(h.$version>7)return[new n(c,l,"constants have been deprecated as of v8")];if(!(l in f.constants))return[new n(c,l,'constant "%s" not found',l)];e=o({},e,{value:f.constants[l]})}return u["function"]&&"object"===r(l)?i(e):u.type&&a[u.type]?a[u.type](e):s(o({},e,{valueSpec:u.type?h[u.type]:u}))}},{"../error/validation_error":114,"../util/extend":121,"../util/get_type":122,"./validate_array":128,"./validate_boolean":129,"./validate_color":130,"./validate_constants":131,"./validate_enum":132,"./validate_filter":133,"./validate_function":134,"./validate_layer":136,"./validate_light":138,"./validate_number":139,"./validate_object":140,"./validate_source":143,"./validate_string":144}],128:[function(t,e,i){var n=t("../util/get_type"),r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.valueSpec,s=t.style,a=t.styleSpec,l=t.key,u=t.arrayElementValidator||r;if("array"!==n(e))return[new o(l,e,"array expected, %s found",n(e))];if(i.length&&e.length!==i.length)return[new o(l,e,"array length %d expected, length %d found",i.length,e.length)];if(i["min-length"]&&e.length<i["min-length"])return[new o(l,e,"array length at least %d expected, length %d found",i["min-length"],e.length)];var c={type:i.value};a.$version<7&&(c["function"]=i["function"]),"object"===n(i.value)&&(c=i.value);for(var h=[],f=0;f<e.length;f++)h=h.concat(u({array:e,arrayIndex:f,value:e[f],valueSpec:c,style:s,styleSpec:a,key:l+"["+f+"]"}));return h}},{"../error/validation_error":114,"../util/get_type":122,"./validate":127}],129:[function(t,e,i){var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"boolean"!==o?[new r(i,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":114,"../util/get_type":122}],130:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,i=t.value,s=r(i);return"string"!==s?[new n(e,i,"color expected, %s found",s)]:null===o(i)?[new n(e,i,'color expected, "%s" found',i)]:[]}},{"../error/validation_error":114,"../util/get_type":122,csscolorparser:6}],131:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type");e.exports=function(t){var e=t.key,i=t.value;if(t.styleSpec.$version>7)return i?[new n(e,i,"constants have been deprecated as of v8")]:[];var o=r(i);if("object"!==o)return[new n(e,i,"object expected, %s found",o)];var s=[];for(var a in i)"@"!==a[0]&&s.push(new n(e+"."+a,i[a],'constants must start with "@"'));return s};
},{"../error/validation_error":114,"../util/get_type":122}],132:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,s=[];return Array.isArray(o.values)?-1===o.values.indexOf(r(i))&&s.push(new n(e,i,"expected one of [%s], %s found",o.values.join(", "),i)):-1===Object.keys(o.values).indexOf(r(i))&&s.push(new n(e,i,"expected one of [%s], %s found",Object.keys(o.values).join(", "),i)),s}},{"../error/validation_error":114,"../util/unbundle_jsonlint":126}],133:[function(t,e,i){var n=t("../error/validation_error"),r=t("./validate_enum"),o=t("../util/get_type"),s=t("../util/unbundle_jsonlint");e.exports=function a(t){var e,i=t.value,l=t.key,u=t.styleSpec,c=[];if("array"!==o(i))return[new n(l,i,"array expected, %s found",o(i))];if(i.length<1)return[new n(l,i,"filter array must have at least 1 element")];switch(c=c.concat(r({key:l+"[0]",value:i[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),s(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&"$type"===s(i[1])&&c.push(new n(l,i,'"$type" cannot be use with operator "%s"',i[0]));case"==":case"!=":3!==i.length&&c.push(new n(l,i,'filter array for operator "%s" must have 3 elements',i[0]));case"in":case"!in":i.length>=2&&"string"!==(e=o(i[1]))&&c.push(new n(l+"[1]",i[1],"string expected, %s found",e));for(var h=2;h<i.length;h++)e=o(i[h]),"$type"===s(i[1])?c=c.concat(r({key:l+"["+h+"]",value:i[h],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==e&&"number"!==e&&"boolean"!==e&&c.push(new n(l+"["+h+"]",i[h],"string, number, or boolean expected, %s found",e));break;case"any":case"all":case"none":for(var f=1;f<i.length;f++)c=c.concat(a({key:l+"["+f+"]",value:i[f],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":e=o(i[1]),2!==i.length?c.push(new n(l,i,'filter array for "%s" operator must have 2 elements',i[0])):"string"!==e&&c.push(new n(l+"[1]",i[1],"string expected, %s found",e))}return c}},{"../error/validation_error":114,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate_enum":132}],134:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate"),s=t("./validate_object"),a=t("./validate_array"),l=t("./validate_number"),u=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new n(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(a({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:i})),"array"===r(o)&&0===o.length&&e.push(new n(t.key,o,"array must have at least one stop")),e}function i(t){var e=[],i=t.value,a=t.key;if("array"!==r(i))return[new n(a,i,"array expected, %s found",r(i))];if(2!==i.length)return[new n(a,i,"array length %d expected, length %d found",2,i.length)];if(b){if("object"!==r(i[0]))return[new n(a,i,"object expected, %s found",r(i[0]))];if(void 0===i[0].zoom)return[new n(a,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new n(a,i,"object stop key must have value")];if(p&&p>u(i[0].zoom))return[new n(a,i[0].zoom,"stop zoom values must appear in ascending order")];u(i[0].zoom)!==p&&(p=u(i[0].zoom),d=void 0,v={}),e=e.concat(s({key:a+"[0]",value:i[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:c}}))}else e=e.concat(c({key:a+"[0]",value:i[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e.concat(o({key:a+"[1]",value:i[1],valueSpec:g,style:t.style,styleSpec:t.styleSpec}))}function c(t){var e=r(t.value),i=u(t.value);if(f){if(e!==f)return[new n(t.key,t.value,"%s stop domain type must match previous stop domain type %s",e,f)]}else f=e;if("number"!==e&&"string"!==e&&"boolean"!==e)return[new n(t.key,t.value,"stop domain value must be a number, string, or boolean")];if("number"!==e&&"categorical"!==m){var o="number expected, %s found";return g["property-function"]&&void 0===m&&(o+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new n(t.key,t.value,o,e)]}return"categorical"!==m||"number"!==e||isFinite(i)&&Math.floor(i)===i?"categorical"!==m&&"number"===e&&void 0!==d&&i<d?[new n(t.key,t.value,"stop domain values must appear in ascending order")]:(d=i,"categorical"===m&&i in v?[new n(t.key,t.value,"stop domain values must be unique")]:(v[i]=!0,[])):[new n(t.key,t.value,"integer expected, found %s",i)]}function h(t){return o({key:t.key,value:t.value,valueSpec:g,style:t.style,styleSpec:t.styleSpec})}var f,d,p,g=t.valueSpec,m=u(t.value.type),v={},y="categorical"!==m&&void 0===t.value.property,_=!y,b="array"===r(t.value.stops)&&"array"===r(t.value.stops[0])&&"object"===r(t.value.stops[0][0]),x=s({key:t.key,value:t.value,valueSpec:t.styleSpec["function"],style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,"default":h}});return"identity"===m&&y&&x.push(new n(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||x.push(new n(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec["function"]&&x.push(new n(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(_&&!t.valueSpec["property-function"]?x.push(new n(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&x.push(new n(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!b||void 0!==t.value.property||x.push(new n(t.key,t.value,'"property" property is required')),x}},{"../error/validation_error":114,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate":127,"./validate_array":128,"./validate_number":139,"./validate_object":140}],135:[function(t,e,i){var n=t("../error/validation_error"),r=t("./validate_string");e.exports=function(t){var e=t.value,i=t.key,o=r(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new n(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new n(i,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":114,"./validate_string":144}],136:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),s=t("./validate_filter"),a=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("../util/extend");e.exports=function(t){var e=[],i=t.value,c=t.key,h=t.style,f=t.styleSpec;i.type||i.ref||e.push(new n(c,i,'either "type" or "ref" is required'));var d=r(i.type),p=r(i.ref);if(i.id)for(var g=r(i.id),m=0;m<t.arrayIndex;m++){var v=h.layers[m];r(v.id)===g&&e.push(new n(c,i.id,'duplicate layer id "%s", previously used at line %d',i.id,v.id.__line__))}if("ref"in i){["type","source","source-layer","filter","layout"].forEach(function(t){t in i&&e.push(new n(c,i[t],'"%s" is prohibited for ref layers',t))});var y;h.layers.forEach(function(t){r(t.id)===p&&(y=t)}),y?y.ref?e.push(new n(c,i.ref,"ref cannot reference another ref layer")):d=r(y.type):e.push(new n(c,i.ref,'ref layer "%s" not found',p))}else if("background"!==d)if(i.source){var _=h.sources&&h.sources[i.source],b=_&&r(_.type);_?"vector"===b&&"raster"===d?e.push(new n(c,i.source,'layer "%s" requires a raster source',i.id)):"raster"===b&&"raster"!==d?e.push(new n(c,i.source,'layer "%s" requires a vector source',i.id)):"vector"!==b||i["source-layer"]||e.push(new n(c,i,'layer "%s" must specify a "source-layer"',i.id)):e.push(new n(c,i.source,'source "%s" not found',i.source))}else e.push(new n(c,i,'missing required property "source"'));return e=e.concat(o({key:c,value:i,valueSpec:f.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:s,layout:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(u({layerType:d},t))}}})},paint:function(t){return o({layer:i,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return a(u({layerType:d},t))}}})}}}))}},{"../error/validation_error":114,"../util/extend":121,"../util/unbundle_jsonlint":126,"./validate_filter":133,"./validate_layout_property":137,"./validate_object":140,"./validate_paint_property":141}],137:[function(t,e,i){var n=t("./validate_property");e.exports=function(t){return n(t,"layout")}},{"./validate_property":142}],138:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,i=t.styleSpec,s=i.light,a=t.style,l=[],u=r(e);if(void 0===e)return l;if("object"!==u)return l=l.concat([new n("light",e,"object expected, %s found",u)]);for(var c in e){var h=c.match(/^(.*)-transition$/);l=h&&s[h[1]]&&s[h[1]].transition?l.concat(o({key:c,value:e[c],valueSpec:i.transition,style:a,styleSpec:i})):s[c]?l.concat(o({key:c,value:e[c],valueSpec:s[c],style:a,styleSpec:i})):l.concat([new n(c,e[c],'unknown property "%s"',c)])}return l}},{"../error/validation_error":114,"../util/get_type":122,"./validate":127}],139:[function(t,e,i){var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,i=t.value,o=t.valueSpec,s=n(i);return"number"!==s?[new r(e,i,"number expected, %s found",s)]:"minimum"in o&&i<o.minimum?[new r(e,i,"%s is less than the minimum value %s",i,o.minimum)]:"maximum"in o&&i>o.maximum?[new r(e,i,"%s is greater than the maximum value %s",i,o.maximum)]:[]}},{"../error/validation_error":114,"../util/get_type":122}],140:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,i=t.value,s=t.valueSpec||{},a=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],h=r(i);if("object"!==h)return[new n(e,i,"object expected, %s found",h)];for(var f in i){var d=f.split(".")[0],p=s[d]||s["*"],g=void 0;if(a[d])g=a[d];else if(s[d])g=o;else if(a["*"])g=a["*"];else{if(!s["*"]){c.push(new n(e,i[f],'unknown property "%s"',f));continue}g=o}c=c.concat(g({key:(e?e+".":e)+f,value:i[f],valueSpec:p,style:l,styleSpec:u,object:i,objectKey:f}))}for(var m in s)s[m].required&&void 0===s[m]["default"]&&void 0===i[m]&&c.push(new n(e,i,'missing required property "%s"',m));return c}},{"../error/validation_error":114,"../util/get_type":122,"./validate":127}],141:[function(t,e,i){var n=t("./validate_property");e.exports=function(t){return n(t,"paint")}},{"./validate_property":142}],142:[function(t,e,i){var n=t("./validate"),r=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t,e){var i=t.key,s=t.style,a=t.styleSpec,l=t.value,u=t.objectKey,c=a[e+"_"+t.layerType];if(!c)return[];var h=u.match(/^(.*)-transition$/);if("paint"===e&&h&&c[h[1]]&&c[h[1]].transition)return n({key:i,value:l,valueSpec:a.transition,style:s,styleSpec:a});var f=t.valueSpec||c[u];if(!f)return[new r(i,l,'unknown property "%s"',u)];var d;if("string"===o(l)&&f["property-function"]&&!f.tokens&&(d=/^{([^}]+)}$/.exec(l)))return[new r(i,l,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',u,JSON.stringify(d[1]))];var p=[];return"symbol"===t.layerType&&"text-field"===u&&s&&!s.glyphs&&p.push(new r(i,l,'use of "text-field" requires a style "glyphs" property')),p.concat(n({key:t.key,value:l,valueSpec:f,style:s,styleSpec:a}))}},{"../error/validation_error":114,"../util/get_type":122,"./validate":127}],143:[function(t,e,i){var n=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),s=t("./validate_enum");e.exports=function(t){var e=t.value,i=t.key,a=t.styleSpec,l=t.style;if(!e.type)return[new n(i,e,'"type" is required')];var u=r(e.type),c=[];switch(u){case"vector":case"raster":if(c=c.concat(o({key:i,value:e,valueSpec:a.source_tile,style:t.style,styleSpec:a})),"url"in e)for(var h in e)["type","url","tileSize"].indexOf(h)<0&&c.push(new n(i+"."+h,e[h],'a source with a "url" property may not include a "%s" property',h));return c;case"geojson":return o({key:i,value:e,valueSpec:a.source_geojson,style:l,styleSpec:a});case"video":return o({key:i,value:e,valueSpec:a.source_video,style:l,styleSpec:a});case"image":return o({key:i,value:e,valueSpec:a.source_image,style:l,styleSpec:a});case"canvas":return o({key:i,value:e,valueSpec:a.source_canvas,style:l,styleSpec:a});default:return s({key:i+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:l,styleSpec:a})}}},{"../error/validation_error":114,"../util/unbundle_jsonlint":126,"./validate_enum":132,"./validate_object":140}],144:[function(t,e,i){var n=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,i=t.key,o=n(e);return"string"!==o?[new r(i,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":114,"../util/get_type":122}],145:[function(t,e,i){function n(t,e){e=e||l;var i=[];return i=i.concat(a({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u,"*":function(){return[]}}})),e.$version>7&&t.constants&&(i=i.concat(s({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(i)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var s=t("./validate/validate_constants"),a=t("./validate/validate"),l=t("./reference/latest"),u=t("./validate/validate_glyphs_url");n.source=o(t("./validate/validate_source")),n.light=o(t("./validate/validate_light")),n.layer=o(t("./validate/validate_layer")),n.filter=o(t("./validate/validate_filter")),n.paintProperty=o(t("./validate/validate_paint_property")),n.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=n},{"./reference/latest":119,"./validate/validate":127,"./validate/validate_constants":131,"./validate/validate_filter":133,"./validate/validate_glyphs_url":135,"./validate/validate_layer":136,"./validate/validate_layout_property":137,"./validate/validate_light":138,"./validate/validate_paint_property":141,"./validate/validate_source":143}],146:[function(t,e,i){var n=function(){this.n=0,this.times=[]};n.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},n.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},n.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})},e.exports=n},{}],147:[function(t,e,i){var n=t("../util/evented"),r=t("../util/ajax"),o=t("../util/browser"),s=t("../util/mapbox").normalizeSpriteURL,a=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},l=function(t){function e(e,i){var n=this;t.call(this),this.base=e,this.retina=o.devicePixelRatio>1,this.setEventedParent(i);var a=this.retina?"@2x":"";r.getJSON(s(e,a,".json"),function(t,e){t?n.fire("error",{error:t}):e&&(n.data=e,n.imgData&&n.fire("data",{dataType:"style"}))}),r.getImage(s(e,a,".png"),function(t,e){t?n.fire("error",{error:t}):e&&(n.imgData=o.getImageData(e),n.width=e.width,n.data&&n.fire("data",{dataType:"style"}))})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return this.base},e.prototype.loaded=function(){return!(!this.data||!this.imgData)},e.prototype.resize=function(){var t=this;if(o.devicePixelRatio>1!==this.retina){var i=new e(this.base);i.on("data",function(){t.data=i.data,t.imgData=i.imgData,t.width=i.width,t.retina=i.retina})}},e.prototype.getSpritePosition=function(t){if(!this.loaded())return new a;var e=this.data&&this.data[t];return e&&this.imgData?e:new a},e}(n);e.exports=l},{"../util/ajax":196,"../util/browser":197,"../util/evented":205,"../util/mapbox":212}],148:[function(t,e,i){var n=t("../style-spec/reference/latest"),r=t("../util/util"),o=t("../util/evented"),s=t("./validate_style"),a=t("./style_declaration"),l=t("./style_transition"),u="-transition",c=function(t){function e(e){t.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=n.light,this.set(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){var e=this;if(!this._validate(s.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=r.extend({anchor:this._specifications.anchor["default"],color:this._specifications.color["default"],position:this._specifications.position["default"],intensity:this._specifications.intensity["default"]},t);for(var i=0,n=e.properties;i<n.length;i+=1){var o=n[i];e._declarations[o]=new a(e._specifications[o],t[o])}return this}},e.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},e.prototype.getLightProperty=function(t){return r.endsWith(t,u)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},e.prototype.getLightValue=function(t,e){if("position"===t){var i=this._transitions[t].calculate(e),n=r.sphericalToCartesian(i);return{x:n[0],y:n[1],z:n[2]}}return this._transitions[t].calculate(e)},e.prototype.setLight=function(t){var e=this;if(!this._validate(s.light,t))for(var i in t){var n=t[i];r.endsWith(i,u)?e._transitionOptions[i]=n:null===n||void 0===n?delete e._declarations[i]:e._declarations[i]=new a(e._specifications[i],n)}},e.prototype.recalculate=function(t){var e=this;for(var i in e._declarations)e.calculated[i]=e.getLightValue(i,{zoom:t})},e.prototype._applyLightDeclaration=function(t,e,i,n,o){var s=i.transition?this._transitions[t]:void 0,c=this._specifications[t];if(null!==e&&void 0!==e||(e=new a(c,c["default"])),!s||s.declaration.json!==e.json){var h=r.extend({duration:300,delay:0},n,this.getLightProperty(t+u)),f=this._transitions[t]=new l(c,e,s,h);f.instant()||(f.loopID=o.set(f.endTime-Date.now())),s&&o.cancel(s.loopID)}},e.prototype.updateLightTransitions=function(t,e,i){var n,r=this;for(n in r._declarations)r._applyLightDeclaration(n,r._declarations[n],t,e,i)},e.prototype._validate=function(t,e){return s.emitErrors(this,t.call(s,r.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:n})))},e}(o);e.exports=c},{"../style-spec/reference/latest":119,"../util/evented":205,"../util/util":218,"./style_declaration":150,"./style_transition":158,"./validate_style":159}],149:[function(t,e,i){var n=t("../util/evented"),r=t("./style_layer"),o=t("./image_sprite"),s=t("./light"),a=t("../symbol/glyph_source"),l=t("../symbol/sprite_atlas"),u=t("../render/line_atlas"),c=t("../util/util"),h=t("../util/ajax"),f=t("../util/mapbox"),d=t("../util/browser"),p=t("../util/dispatcher"),g=t("./animation_loop"),m=t("./validate_style"),v=t("../source/source"),y=t("../source/query_features"),_=t("../source/source_cache"),b=t("../style-spec/reference/latest"),x=t("../style-spec/function"),w=t("../util/global_worker_pool"),C=t("../style-spec/deref"),E=t("../style-spec/diff"),S=t("../source/rtl_text_plugin"),T=c.pick(E.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),I=c.pick(E.operations,["setCenter","setZoom","setBearing","setPitch"]),k=function(t){function e(e,i,n){var r=this;t.call(this),this.map=i,this.animationLoop=i&&i.animationLoop||new g,this.dispatcher=new p(w(),this),this.spriteAtlas=new l(1024,1024),this.spriteAtlas.setEventedParent(this),this.lineAtlas=new u(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),n=c.extend({validate:"string"!=typeof e||!f.isMapboxURL(e)},n),this.setEventedParent(i),this.fire("dataloading",{dataType:"style"});var s=this;this._rtlTextPluginCallback=S.registerForPluginAvailability(function(t){s.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in s.sourceCaches)s.sourceCaches[e].reload()});var v=function(t,e){if(t)return void r.fire("error",{error:t});if(!n.validate||!m.emitErrors(r,m(e))){r._loaded=!0,r.stylesheet=e,r.updateClasses();for(var i in e.sources)r.addSource(i,e.sources[i],n);e.sprite&&(r.sprite=new o(e.sprite,r)),r.glyphSource=new a(e.glyphs,n.localIdeographFontFamily,r),r._resolve(),r.fire("data",{dataType:"style"}),r.fire("style.load")}};"string"==typeof e?h.getJSON(f.normalizeStyleURL(e),v):d.frame(v.bind(this,null,e)),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=!!r.sourceCaches[t.sourceId]&&r.sourceCaches[t.sourceId].getSource();if(e&&e.vectorLayerIds)for(var i in r._layers){var n=r._layers[i];n.source===e.id&&r._validateLayer(n)}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(t.sourceLayer&&e){var i=e.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(t.sourceLayer))&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')})}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},e.prototype._resolve=function(){var t=this,e=C(this.stylesheet.layers);this._order=e.map(function(t){return t.id}),this._layers={};for(var i=0,n=e;i<n.length;i+=1){var o=n[i];o=r.create(o),o.setEventedParent(t,{layer:{id:o.id}}),t._layers[o.id]=o}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new s(this.stylesheet.light)},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyClasses=function(t,e){var i=this;if(this._loaded){t=t||[],e=e||{transition:!0};var n=this.stylesheet.transition||{},r=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var o in r){var s=i._layers[o],a=i._updatedPaintProps[o];if(i._updatedAllPaintProps||a.all)s.updatePaintTransitions(t,e,n,i.animationLoop,i.zoomHistory);else for(var l in a)i._layers[o].updatePaintTransition(l,t,e,n,i.animationLoop,i.zoomHistory)}this.light.updateLightTransitions(e,n,this.animationLoop)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var i in e.sourceCaches)e.sourceCaches[i].used=!1;this._updateZoomHistory(t);for(var n=0,r=e._order;n<r.length;n+=1){var o=r[n],s=e._layers[o];s.recalculate(t),!s.isHidden(t)&&s.source&&(e.sourceCaches[s.source].used=!0)}this.light.recalculate(t),Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(300),this.z=t}},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t,e){var i=this;if(this._changed){var n=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(n.length||r.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(n,r);for(var o in i._updatedSources){var s=i._updatedSources[o];"reload"===s?i._reloadSource(o):"clear"===s&&i._clearSource(o)}this._applyClasses(t,e),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){var i=this,n=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===i._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:n})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),m.emitErrors(this,m(t)))return!1;t=c.extend({},t),t.layers=C(t.layers);var i=E(this.serialize(),t).filter(function(t){return!(t.command in I)});if(0===i.length)return!1;var n=i.filter(function(t){return!(t.command in T)});if(n.length>0)throw new Error("Unimplemented: "+n.map(function(t){return t.command}).join(", ")+".");return i.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addSource=function(t,e,i){var n=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(m.source,"sources."+t,e,null,i))){var r=this.sourceCaches[t]=new _(t,e,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:n.loaded(),source:r.serialize(),sourceId:t}}),r.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,i){this._checkLoaded();var n=t.id;if("object"==typeof t.source&&(this.addSource(n,t.source),t=c.extend(t,{source:n})),!this._validate(m.layer,"layers."+n,t,{arrayIndex:-1},i)){var o=r.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:n}});var s=e?this._order.indexOf(e):this._order.length;if(this._order.splice(s,0,n),this._layers[n]=o,this._removedLayers[n]&&o.source){var a=this._removedLayers[n];delete this._removedLayers[n],a.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(n)}},e.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var i=this._layers[t];if(!i)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var n=this._order.indexOf(t);this._order.splice(n,1);var r=e?this._order.indexOf(e):this._order.length;this._order.splice(r,0,t),"symbol"===i.type&&(this._updatedSymbolOrder=!0,i.source&&!this._updatedSources[i.source]&&(this._updatedSources[i.source]="reload",this.sourceCaches[i.source].pause()))},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var i=this._order.indexOf(t);this._order.splice(i,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);return n?void(n.minzoom===e&&n.maxzoom===i||(null!=e&&(n.minzoom=e),null!=i&&(n.maxzoom=i),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},e.prototype.setFilter=function(t,e){this._checkLoaded();var i=this.getLayer(t);return i?void(null!==e&&void 0!==e&&this._validate(m.filter,"layers."+i.id+".filter",e)||c.deepEqual(i.filter,e)||(i.filter=c.clone(e),this._updateLayer(i))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,i){this._checkLoaded();var n=this.getLayer(t);return n?void(c.deepEqual(n.getLayoutProperty(e),i)||(n.setLayoutProperty(e,i),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,i,n){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(r.getPaintProperty(e,n),i)){var o=r.isPaintValueFeatureConstant(e);r.setPaintProperty(e,i,n),!(i&&x.isFunctionDefinition(i)&&"$zoom"!==i.property&&void 0!==i.property)&&o||this._updateLayer(r),this.updateClasses(t,e)}},e.prototype.getPaintProperty=function(t,e,i){return this.getLayer(t).getPaintProperty(e,i)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updateClasses=function(t,e){if(this._changed=!0,t){var i=this._updatedPaintProps;i[t]||(i[t]={}),i[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,i=[],n=this._order.length-1;n>=0;n--)for(var r=e._order[n],o=0,s=t;o<s.length;o+=1){var a=s[o],l=a[r];if(l)for(var u=0,c=l;u<c.length;u+=1){var h=c[u];i.push(h)}}return i},e.prototype.queryRenderedFeatures=function(t,e,i,n){var r=this;e&&e.filter&&this._validate(m.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var s=0,a=e.layers;s<a.length;s+=1){var l=a[s],u=r._layers[l];if(!u)return r.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."}),[];o[u.source]=!0}}var c=[];for(var h in r.sourceCaches)if(!e.layers||o[h]){var f=y.rendered(r.sourceCaches[h],r._layers,t,e,i,n);c.push(f)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(m.filter,"querySourceFeatures.filter",e.filter);var i=this.sourceCaches[t];return i?y.source(i,e):[]},e.prototype.addSourceType=function(t,e,i){return v.getType(t)?i(new Error('A source type called "'+t+'" already exists.')):(v.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var i=this.light.getLight(),n=!1;for(var r in t)if(!c.deepEqual(t[r],i[r])){n=!0;break}if(n){var o=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{
transition:!0},o,this.animationLoop)}},e.prototype._validate=function(t,e,i,n,r){return(!r||!1!==r.validate)&&m.emitErrors(this,t.call(m,c.extend({key:e,style:this.serialize(),value:i,styleSpec:b},n)))},e.prototype._remove=function(){var t=this;S.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var i in e.sourceCaches)e.sourceCaches[i].update(t)},e.prototype._redoPlacement=function(){var t=this;for(var e in t.sourceCaches)t.sourceCaches[e].redoPlacement()},e.prototype.getIcons=function(t,e,i){var n=this,r=function(){n.spriteAtlas.setSprite(n.sprite),n.spriteAtlas.addIcons(e.icons,i)};!this.sprite||this.sprite.loaded()?r():this.sprite.on("data",r)},e.prototype.getGlyphs=function(t,e,i){function n(t,e,n){t&&void 0,a[n]=e,0===--s&&i(null,a)}var r=this,o=e.stacks,s=Object.keys(o).length,a={};for(var l in o)r.glyphSource.getSimpleGlyphs(l,o[l],e.uid,n)},e}(n);e.exports=k},{"../render/line_atlas":86,"../source/query_features":99,"../source/rtl_text_plugin":101,"../source/source":102,"../source/source_cache":103,"../style-spec/deref":112,"../style-spec/diff":113,"../style-spec/function":117,"../style-spec/reference/latest":119,"../symbol/glyph_source":168,"../symbol/sprite_atlas":173,"../util/ajax":196,"../util/browser":197,"../util/dispatcher":203,"../util/evented":205,"../util/global_worker_pool":207,"../util/mapbox":212,"../util/util":218,"./animation_loop":146,"./image_sprite":147,"./light":148,"./style_layer":151,"./validate_style":159}],150:[function(t,e,i){var n=t("../style-spec/function"),r=t("../util/util"),o=function(t,e){var i=this;if(this.value=r.clone(e),this.isFunction=n.isFunctionDefinition(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this["function"]=n(this.value,t),this.isFeatureConstant=this["function"].isFeatureConstant,this.isZoomConstant=this["function"].isZoomConstant,this.isFeatureConstant||this.isZoomConstant){if(!this.isZoomConstant){this.stopZoomLevels=[];for(var o=0,s=i.value.stops;o<s.length;o+=1){var a=s[o];i.stopZoomLevels.indexOf(a[0])<0&&i.stopZoomLevels.push(a[0])}}}else{this.stopZoomLevels=[];for(var l=[],u=0,c=i.value.stops;u<c.length;u+=1){var h=c[u],f=h[0].zoom;i.stopZoomLevels.indexOf(f)<0&&(i.stopZoomLevels.push(f),l.push([f,l.length]))}this._functionInterpolationT=n({type:"exponential",stops:l,base:e.base},{type:"number"})}};o.prototype.calculate=function(t,e){var i=this["function"](t&&t.zoom,e||{});return void 0!==this.minimum&&i<this.minimum?this.minimum:i},o.prototype.calculateInterpolationT=function(t){return this.isFeatureConstant||this.isZoomConstant?0:this._functionInterpolationT(t&&t.zoom,{})},e.exports=o},{"../style-spec/function":117,"../util/util":218}],151:[function(t,e,i){function n(t){return t.value}var r=t("../util/util"),o=t("./style_transition"),s=t("./style_declaration"),a=t("../style-spec/reference/latest"),l=t("./validate_style"),u=t("./../style-spec/util/parse_color"),c=t("../util/evented"),h="-transition",f=function(t){function e(e){var i=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this.paint={},this.layout={},this._paintSpecifications=a["paint_"+this.type],this._layoutSpecifications=a["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var n,r,o={validate:!1};for(var s in e){var l=s.match(/^paint(?:\.(.*))?$/);if(l){var u=l[1]||"";for(n in e[s])i.setPaintProperty(n,e[s][n],u,o)}}for(r in e.layout)i.setLayoutProperty(r,e.layout[r],o);for(n in i._paintSpecifications)i.paint[n]=i.getPaintValue(n);for(r in i._layoutSpecifications)i._updateLayoutValue(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setLayoutProperty=function(t,e,i){if(null==e)delete this._layoutDeclarations[t];else{var n="layers."+this.id+".layout."+t;if(this._validate(l.layoutProperty,n,t,e,i))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},e.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},e.prototype.getLayoutValue=function(t,e,i){var n=this._layoutSpecifications[t],r=this._layoutDeclarations[t];return r?r.calculate(e,i):n["default"]},e.prototype.setPaintProperty=function(t,e,i,n){var o="layers."+this.id+(i?'["paint.'+i+'"].':".paint.")+t;if(r.endsWith(t,h))if(this._paintTransitionOptions[i||""]||(this._paintTransitionOptions[i||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[i||""][t];else{if(this._validate(l.paintProperty,o,t,e,n))return;this._paintTransitionOptions[i||""][t]=e}else if(this._paintDeclarations[i||""]||(this._paintDeclarations[i||""]={}),null===e||void 0===e)delete this._paintDeclarations[i||""][t];else{if(this._validate(l.paintProperty,o,t,e,n))return;this._paintDeclarations[i||""][t]=new s(this._paintSpecifications[t],e)}},e.prototype.getPaintProperty=function(t,e){return e=e||"",r.endsWith(t,h)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},e.prototype.getPaintValue=function(t,e,i){var n=this._paintSpecifications[t],r=this._paintTransitions[t];return r?r.calculate(e,i):"color"===n.type&&n["default"]?u(n["default"]):n["default"]},e.prototype.getPaintValueStopZoomLevels=function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},e.prototype.getLayoutValueStopZoomLevels=function(t){var e=this._layoutDeclarations[t];return e?e.stopZoomLevels:[]},e.prototype.getPaintInterpolationT=function(t,e){return this._paintTransitions[t].declaration.calculateInterpolationT(e)},e.prototype.getLayoutInterpolationT=function(t,e){return this._layoutDeclarations[t].calculateInterpolationT(e)},e.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},e.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},e.prototype.isPaintValueZoomConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},e.prototype.isLayoutValueZoomConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isZoomConstant},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility},e.prototype.updatePaintTransitions=function(t,e,i,n,o){for(var s=this,a=r.extend({},this._paintDeclarations[""]),l=0;l<t.length;l++)r.extend(a,s._paintDeclarations[t[l]]);var u;for(u in a)s._applyPaintDeclaration(u,a[u],e,i,n,o);for(u in s._paintTransitions)u in a||s._applyPaintDeclaration(u,null,e,i,n,o)},e.prototype.updatePaintTransition=function(t,e,i,n,r,o){for(var s=this,a=this._paintDeclarations[""][t],l=0;l<e.length;l++){var u=s._paintDeclarations[e[l]];u&&u[t]&&(a=u[t])}this._applyPaintDeclaration(t,a,i,n,r,o)},e.prototype.recalculate=function(t){var e=this;for(var i in e._paintTransitions)e.paint[i]=e.getPaintValue(i,{zoom:t});for(var n in e._layoutFunctions)e.layout[n]=e.getLayoutValue(n,{zoom:t})},e.prototype.serialize=function(){var t=this,e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:r.mapObject(this._layoutDeclarations,n)};for(var i in t._paintDeclarations)e[""===i?"paint":"paint."+i]=r.mapObject(t._paintDeclarations[i],n);return r.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},e.prototype._applyPaintDeclaration=function(t,e,i,n,a,l){var u=i.transition?this._paintTransitions[t]:void 0,c=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new s(c,c["default"])),!u||u.declaration.json!==e.json){var f=r.extend({duration:300,delay:0},n,this.getPaintProperty(t+h)),d=this._paintTransitions[t]=new o(c,e,u,f,l);d.instant()||(d.loopID=a.set(d.endTime-Date.now())),u&&a.cancel(u.loopID)}},e.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},e.prototype._validate=function(t,e,i,n,r){return(!r||!1!==r.validate)&&l.emitErrors(this,t.call(l,{key:e,layerType:this.type,objectKey:i,value:n,styleSpec:a,style:{glyphs:!0,sprite:!0}}))},e}(c);e.exports=f;var d={circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:f,raster:f};f.create=function(t){return new d[t.type](t)}},{"../style-spec/reference/latest":119,"../util/evented":205,"../util/util":218,"./../style-spec/util/parse_color":124,"./style_declaration":150,"./style_layer/circle_style_layer":152,"./style_layer/fill_extrusion_style_layer":153,"./style_layer/fill_style_layer":154,"./style_layer/line_style_layer":155,"./style_layer/symbol_style_layer":156,"./style_transition":158,"./validate_style":159}],152:[function(t,e,i){var n=t("../style_layer"),r=t("../../data/bucket/circle_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e}(n);e.exports=o},{"../../data/bucket/circle_bucket":56,"../style_layer":151}],153:[function(t,e,i){var n=t("../style_layer"),r=t("../../data/bucket/fill_extrusion_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,i,n){var r=t.prototype.getPaintValue.call(this,e,i,n);return"fill-extrusion-color"===e&&r&&(r[3]=1),r},e.prototype.createBucket=function(t){return new r(t)},e}(n);e.exports=o},{"../../data/bucket/fill_extrusion_bucket":58,"../style_layer":151}],154:[function(t,e,i){var n=t("../style_layer"),r=t("../../data/bucket/fill_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,i,n){var r=this;if("fill-outline-color"===e){if(void 0===this.getPaintProperty("fill-outline-color"))return t.prototype.getPaintValue.call(this,"fill-color",i,n);for(var o=this._paintTransitions["fill-outline-color"];o;){if(!(o&&o.declaration&&o.declaration.value))return t.prototype.getPaintValue.call(r,"fill-color",i,n);o=o.oldTransition}}return t.prototype.getPaintValue.call(this,e,i,n)},e.prototype.getPaintValueStopZoomLevels=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):t.prototype.getPaintValueStopZoomLevels.call(this,e)},e.prototype.getPaintInterpolationT=function(e,i){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintInterpolationT.call(this,"fill-color",i):t.prototype.getPaintInterpolationT.call(this,e,i)},e.prototype.isPaintValueFeatureConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):t.prototype.isPaintValueFeatureConstant.call(this,e)},e.prototype.isPaintValueZoomConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueZoomConstant.call(this,"fill-color"):t.prototype.isPaintValueZoomConstant.call(this,e)},e.prototype.createBucket=function(t){return new r(t)},e}(n);e.exports=o},{"../../data/bucket/fill_bucket":57,"../style_layer":151}],155:[function(t,e,i){var n=t("../style_layer"),r=t("../../data/bucket/line_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e}(n);e.exports=o},{"../../data/bucket/line_bucket":59,"../style_layer":151}],156:[function(t,e,i){var n=t("../style_layer"),r=t("../../data/bucket/symbol_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,i,n){var r=t.prototype.getLayoutValue.call(this,e,i,n);if("auto"!==r)return r;switch(e){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",i,n)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",i,n);case"icon-pitch-alignment":return this.getLayoutValue("icon-rotation-alignment",i,n);default:return r}},e.prototype.createBucket=function(t){return new r(t)},e}(n);e.exports=o},{"../../data/bucket/symbol_bucket":60,"../style_layer":151}],157:[function(t,e,i){var n=t("./style_layer"),r=t("../util/util"),o=t("../style-spec/feature_filter"),s=t("../style-spec/group_by_layout"),a=function(t){t&&this.replace(t)};a.prototype.replace=function(t){var e=this;this.symbolOrder=[];for(var i=0,n=t;i<n.length;i+=1){var r=n[i];"symbol"===r.type&&e.symbolOrder.push(r.id)}this._layerConfigs={},this._layers={},this.update(t,[])},a.prototype.update=function(t,e,i){for(var a=this,l=0,u=t;l<u.length;l+=1){var c=u[l];a._layerConfigs[c.id]=c;var h=a._layers[c.id]=n.create(c);h.updatePaintTransitions({},{transition:!1}),h.filter=o(h.filter)}for(var f=0,d=e;f<d.length;f+=1){var p=d[f];delete a._layerConfigs[p],delete a._layers[p]}i&&(this.symbolOrder=i),this.familiesBySource={};for(var g=s(r.values(this._layerConfigs)),m=0,v=g;m<v.length;m+=1){var y=v[m],_=y.map(function(t){return a._layers[t.id]}),b=_[0];if(!b.layout||"none"!==b.layout.visibility){var x=b.source||"",w=a.familiesBySource[x];w||(w=a.familiesBySource[x]={});var C=b.sourceLayer||"_geojsonTileLayer",E=w[C];E||(E=w[C]=[]),E.push(_)}}},e.exports=a},{"../style-spec/feature_filter":115,"../style-spec/group_by_layout":118,"../util/util":218,"./style_layer":151}],158:[function(t,e,i){function n(t,e,i){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:i}}var r=t("../util/util"),o=t("../style-spec/util/interpolate"),s={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},a=function(t,e,i,r,a){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=i,this.duration=r.duration||0,this.delay=r.delay||0,this.zoomTransitioned="piecewise-constant"===t["function"]&&t.transition,this.interp=this.zoomTransitioned?n:o[t.type],this.zoomHistory=a||s,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),i&&i.endTime<=this.startTime&&delete i.oldTransition};a.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},a.prototype.calculate=function(t,e,i){var n=this._calculateTargetValue(t,e);if(this.instant())return n;if((i=i||Date.now())>=this.endTime)return n;var o=this.oldTransition.calculate(t,e,this.startTime),s=r.easeCubicInOut((i-this.startTime-this.delay)/this.duration);return this.interp(o,n,s)},a.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var i=t.zoom,n=this.zoomHistory.lastIntegerZoom,r=i>n?2:.5,s=this.declaration.calculate({zoom:i>n?i-1:i+1},e),a=this.declaration.calculate({zoom:i},e),l=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),u=Math.abs(i-n),c=o(l,1,u);return void 0!==s&&void 0!==a?{from:s,fromScale:r,to:a,toScale:1,t:c}:void 0},e.exports=a},{"../style-spec/util/interpolate":123,"../util/util":218}],159:[function(t,e,i){e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var i=0;i<e.length;i++)t.fire("error",{error:new Error(e[i].message)});return!0}return!1}},{"../style-spec/validate_style.min":145}],160:[function(t,e,i){var n=t("point-geometry"),r=function(t){function e(e,i,n,r){t.call(this,e,i),this.angle=n,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(n);e.exports=r},{"point-geometry":36}],161:[function(t,e,i){function n(t,e,i,n,r){if(void 0===e.segment)return!0;for(var o=e,s=e.segment+1,a=0;a>-i/2;){if(--s<0)return!1;a-=t[s].dist(o),o=t[s]}a+=t[s].dist(t[s+1]),s++;for(var l=[],u=0;a<i/2;){var c=t[s-1],h=t[s],f=t[s+1];if(!f)return!1;var d=c.angleTo(h)-h.angleTo(f);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:a,angleDelta:d}),u+=d;a-l[0].distance>n;)u-=l.shift().angleDelta;if(u>r)return!1;s++,a+=h.dist(f)}return!0}e.exports=n},{}],162:[function(t,e,i){function n(t,e,i,n,o){for(var s=[],a=0;a<t.length;a++)for(var l=t[a],u=void 0,c=0;c<l.length-1;c++){var h=l[c],f=l[c+1];h.x<e&&f.x<e||(h.x<e?h=new r(e,h.y+(f.y-h.y)*((e-h.x)/(f.x-h.x)))._round():f.x<e&&(f=new r(e,h.y+(f.y-h.y)*((e-h.x)/(f.x-h.x)))._round()),h.y<i&&f.y<i||(h.y<i?h=new r(h.x+(f.x-h.x)*((i-h.y)/(f.y-h.y)),i)._round():f.y<i&&(f=new r(h.x+(f.x-h.x)*((i-h.y)/(f.y-h.y)),i)._round()),h.x>=n&&f.x>=n||(h.x>=n?h=new r(n,h.y+(f.y-h.y)*((n-h.x)/(f.x-h.x)))._round():f.x>=n&&(f=new r(n,h.y+(f.y-h.y)*((n-h.x)/(f.x-h.x)))._round()),h.y>=o&&f.y>=o||(h.y>=o?h=new r(h.x+(f.x-h.x)*((o-h.y)/(f.y-h.y)),o)._round():f.y>=o&&(f=new r(h.x+(f.x-h.x)*((o-h.y)/(f.y-h.y)),o)._round()),u&&h.equals(u[u.length-1])||(u=[h],s.push(u)),u.push(f)))))}return s}var r=t("point-geometry");e.exports=n},{"point-geometry":36}],163:[function(t,e,i){var n=t("../util/struct_array"),r=t("point-geometry"),o=n({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"offsetX"},{type:"Int16",name:"offsetY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"unadjustedMaxScale"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new r(this.anchorPointX,this.anchorPointY)}}),e.exports=o},{"../util/struct_array":215,"point-geometry":36}],164:[function(t,e,i){var n=function(t,e,i,n,r,o,s,a,l,u,c){var h=s.top*a-l,f=s.bottom*a+l,d=s.left*a-l,p=s.right*a+l;if(this.boxStartIndex=t.length,u){var g=f-h,m=p-d;if(g>0)if(g=Math.max(10*a,g),c){var v=e[i.segment+1].sub(e[i.segment])._unit()._mult(m),y=[i.sub(v),i.add(v)];this._addLineCollisionBoxes(t,y,i,0,m,g,n,r,o)}else this._addLineCollisionBoxes(t,e,i,i.segment,m,g,n,r,o)}else t.emplaceBack(i.x,i.y,0,0,d,h,p,f,1/0,1/0,n,r,o,0,0,0,0,0);this.boxEndIndex=t.length};n.prototype._addLineCollisionBoxes=function(t,e,i,n,r,o,s,a,l){var u=o/2,c=Math.floor(r/u),h=Math.floor(c/2),f=-o/2,d=i,p=n+1,g=f,m=-r/2,v=m-r/8;do{if(--p<0){if(g>m)return;p=0;break}g-=e[p].dist(d),d=e[p]}while(g>v);for(var y=e[p].dist(e[p+1]),_=-h;_<c+h;_++){var b=_*u,x=m+b;if(b<0&&(x+=b),b>r&&(x+=b-r),!(x<g)){for(;g+y<x;){if(g+=y,++p+1>=e.length)return;y=e[p].dist(e[p+1])}var w=x-g,C=e[p],E=e[p+1],S=E.sub(C)._unit()._mult(w)._add(C)._round(),T=Math.max(Math.abs(x-f)-u/2,0),I=r/2/T;(_<0||_>=c)&&(I=Math.min(I,.99)),t.emplaceBack(S.x,S.y,S.x-i.x,S.y-i.y,-o/2,-o/2,o/2,o/2,I,I,s,a,l,0,0,0,0,0)}}},e.exports=n},{}],165:[function(t,e,i){var n=t("point-geometry"),r=t("../data/extent"),o=t("grid-index"),s=t("../util/intersection_tests"),a=function(t,e,i,n,s,a,l){void 0===a&&(a=new o(r,12,6)),void 0===l&&(l=new o(r,12,0)),this.angle=t,this.pitch=e,this.cameraToCenterDistance=i,this.cameraToTileDistance=n,this.grid=a,this.ignoredGrid=l,this.perspectiveRatio=1+.5*(n/i-1),this.minScale=.5/this.perspectiveRatio,this.maxScale=2/this.perspectiveRatio;var u=Math.sin(this.angle),c=Math.cos(this.angle);this.rotationMatrix=[c,-u,u,c],this.reverseRotationMatrix=[c,u,-u,c],this.yStretch=Math.max(1,n/(i*Math.cos(e/180*Math.PI))),this.collisionBoxArray=s,0===s.length&&(s.emplaceBack(),s.emplaceBack(0,0,0,0,0,-32767,0,32767,1/0,1/0,0,0,0,0,0,0,0,0,0),s.emplaceBack(r,0,0,0,0,-32767,0,32767,1/0,1/0,0,0,0,0,0,0,0,0,0),s.emplaceBack(0,0,0,0,-32767,0,32767,0,1/0,1/0,0,0,0,0,0,0,0,0,0),s.emplaceBack(0,r,0,0,-32767,0,32767,0,1/0,1/0,0,0,0,0,0,0,0,0,0)),this.tempCollisionBox=s.get(0),this.edges=[s.get(1),s.get(2),s.get(3),s.get(4)]};a.deserialize=function(t,e){return new a(t.angle,t.pitch,t.cameraToCenterDistance,t.cameraToTileDistance,e,new o(t.grid),new o(t.ignoredGrid))},a.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),i=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(i)),{angle:this.angle,pitch:this.pitch,cameraToCenterDistance:this.cameraToCenterDistance,cameraToTileDistance:this.cameraToTileDistance,grid:e,ignoredGrid:i}},a.prototype.placeCollisionFeature=function(t,e,i){for(var r=this,o=this.collisionBoxArray,s=this.minScale,a=this.rotationMatrix,l=this.yStretch,u=t.boxStartIndex;u<t.boxEndIndex;u++){var c=o.get(u),h=c.anchorPoint._matMult(a),f=h.x,d=h.y,p=f+c.x1*r.perspectiveRatio,g=d+c.y1*l*r.perspectiveRatio,m=f+c.x2*r.perspectiveRatio,v=d+c.y2*l*r.perspectiveRatio;c.bbox0=p,c.bbox1=g,c.bbox2=m,c.bbox3=v;var y=new n(c.offsetX,c.offsetY)._matMult(a),_=y.x*y.x,b=y.y*y.y,x=b*l*l,w=Math.sqrt((_+x)/(_+b))||1;if(c.maxScale=c.unadjustedMaxScale*w,!e)for(var C=r.grid.query(p,g,m,v),E=0;E<C.length;E++){var S=o.get(C[E]),T=S.anchorPoint._matMult(a);if((s=r.getPlacementScale(s,h,c,T,S))>=r.maxScale)return s}if(i){var I=void 0;if(r.angle){var k=r.reverseRotationMatrix,P=new n(c.x1,c.y1).matMult(k),L=new n(c.x2,c.y1).matMult(k),O=new n(c.x1,c.y2).matMult(k),A=new n(c.x2,c.y2).matMult(k);I=r.tempCollisionBox,I.anchorPointX=c.anchorPoint.x,I.anchorPointY=c.anchorPoint.y,I.x1=Math.min(P.x,L.x,O.x,A.x),I.y1=Math.min(P.y,L.x,O.x,A.x),I.x2=Math.max(P.x,L.x,O.x,A.x),I.y2=Math.max(P.y,L.x,O.x,A.x),I.maxScale=c.maxScale}else I=c;for(var M=0;M<this.edges.length;M++){var R=r.edges[M];if((s=r.getPlacementScale(s,c.anchorPoint,I,R.anchorPoint,R))>=r.maxScale)return s}}}return s},a.prototype.queryRenderedSymbols=function(t,e){var i={},r=[];if(0===t.length||0===this.grid.keys.length&&0===this.ignoredGrid.keys.length)return r;for(var o=this.collisionBoxArray,a=this.rotationMatrix,l=this.yStretch,u=[],c=1/0,h=1/0,f=-1/0,d=-1/0,p=0;p<t.length;p++)for(var g=t[p],m=0;m<g.length;m++){var v=g[m].matMult(a);c=Math.min(c,v.x),h=Math.min(h,v.y),f=Math.max(f,v.x),d=Math.max(d,v.y),u.push(v)}for(var y=this.grid.query(c,h,f,d),_=this.ignoredGrid.query(c,h,f,d),b=0;b<_.length;b++)y.push(_[b]);for(var x=e/this.perspectiveRatio,w=Math.pow(2,Math.ceil(Math.log(x)/Math.LN2*10)/10),C=0;C<y.length;C++){var E=o.get(y[C]),S=E.sourceLayerIndex,T=E.featureIndex;if(void 0===i[S]&&(i[S]={}),!i[S][T]&&!(w<E.placementScale||w>E.maxScale)){var I=E.anchorPoint.matMult(a),k=I.x+E.x1/x,P=I.y+E.y1/x*l,L=I.x+E.x2/x,O=I.y+E.y2/x*l,A=[new n(k,P),new n(L,P),new n(L,O),new n(k,O)];s.polygonIntersectsPolygon(u,A)&&(i[S][T]=!0,r.push(y[C]))}}return r},a.prototype.getPlacementScale=function(t,e,i,n,r){var o=e.x-n.x,s=e.y-n.y,a=(r.x1-i.x2)/o,l=(r.x2-i.x1)/o,u=(r.y1-i.y2)*this.yStretch/s,c=(r.y2-i.y1)*this.yStretch/s;(isNaN(a)||isNaN(l))&&(a=l=1),(isNaN(u)||isNaN(c))&&(u=c=1);var h=Math.min(Math.max(a,l),Math.max(u,c)),f=r.maxScale,d=i.maxScale;return h>f&&(h=f),h>d&&(h=d),h>t&&h>=r.placementScale&&(t=h),t},a.prototype.insertCollisionFeature=function(t,e,i){for(var n=this,r=i?this.ignoredGrid:this.grid,o=this.collisionBoxArray,s=t.boxStartIndex;s<t.boxEndIndex;s++){var a=o.get(s);a.placementScale=e,e<n.maxScale&&(1===n.perspectiveRatio||a.maxScale>=1)&&r.insert(s,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}},e.exports=a},{"../data/extent":64,"../util/intersection_tests":209,"grid-index":19,"point-geometry":36}],166:[function(t,e,i){function n(t,e,i,n,o,s,a,l,u){var c=n?.6*s*a:0,h=Math.max(n?n.right-n.left:0,o?o.right-o.left:0),f=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-h*a<e/4&&(e=h*a+e/4);var d=2*s;return r(t,f?e/2*l%e:(h/2+d)*a*l%e,e,c,i,h*a,f,!1,u)}function r(t,e,i,n,l,u,c,h,f){for(var d=u/2,p=0,g=0;g<t.length-1;g++)p+=t[g].dist(t[g+1]);for(var m=0,v=e-i,y=[],_=0;_<t.length-1;_++){for(var b=t[_],x=t[_+1],w=b.dist(x),C=x.angleTo(b);v+i<m+w;){v+=i;var E=(v-m)/w,S=o(b.x,x.x,E),T=o(b.y,x.y,E);if(S>=0&&S<f&&T>=0&&T<f&&v-d>=0&&v+d<=p){var I=new s(S,T,C,_)._round();n&&!a(t,I,u,n,l)||y.push(I)}}m+=w}return h||y.length||c||(y=r(t,m/2,i,n,l,u,c,!0,f)),y}var o=t("../style-spec/util/interpolate"),s=t("../symbol/anchor"),a=t("./check_max_angle");e.exports=n},{"../style-spec/util/interpolate":123,"../symbol/anchor":160,"./check_max_angle":161}],167:[function(t,e,i){var n=t("@mapbox/shelf-pack"),r=t("../util/util"),o=4,s=128,a=2048,l=function(){this.width=s,this.height=s,this.atlas=new n(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};l.prototype.getGlyphs=function(){var t,e,i,n=this,r={};for(var o in n.ids)t=o.split("#"),e=t[0],i=t[1],r[e]||(r[e]=[]),r[e].push(i);return r},l.prototype.getRects=function(){var t,e,i,n=this,r={};for(var o in n.ids)t=o.split("#"),e=t[0],i=t[1],r[e]||(r[e]={}),r[e][i]=n.index[o];return r},l.prototype.addGlyph=function(t,e,i,n){var o=this;if(!i)return null;var s=e+"#"+i.id;if(this.index[s])return this.ids[s].indexOf(t)<0&&this.ids[s].push(t),this.index[s];if(!i.bitmap)return null;var a=i.width+2*n,l=i.height+2*n,u=a+2,c=l+2,h=this.atlas.packOne(u,c);if(h||(this.resize(),h=this.atlas.packOne(u,c)),!h)return r.warnOnce("glyph bitmap overflow"),null;this.index[s]=h,this.ids[s]=[t];for(var f=this.data,d=i.bitmap,p=0;p<l;p++)for(var g=o.width*(h.y+p+1)+h.x+1,m=a*p,v=0;v<a;v++)f[g+v]=d[m+v];return this.dirty=!0,h},l.prototype.resize=function(){var t=this,e=this.width,i=this.height;if(!(e>=a||i>=a)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=o,this.height*=o,this.atlas.resize(this.width,this.height);for(var n=new ArrayBuffer(this.width*this.height),r=0;r<i;r++){var s=new Uint8Array(t.data.buffer,i*r,e);new Uint8Array(n,i*r*o,e).set(s)}this.data=new Uint8Array(n)}},l.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},l.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)},e.exports=l},{"../util/util":218,"@mapbox/shelf-pack":2}],168:[function(t,e,i){function n(t,e,i,n){return n=n||"abc",i.replace("{s}",n[t.length%n.length]).replace("{fontstack}",t).replace("{range}",e)}var r=t("../util/mapbox").normalizeGlyphsURL,o=t("../util/ajax"),s=t("../util/glyphs"),a=t("../symbol/glyph_atlas"),l=t("pbf"),u=t("@mapbox/tiny-sdf"),c=t("../util/is_char_in_unicode_block"),h=t("../util/evented"),f=function(t,e,i){this.advance=t.advance,this.left=t.left-i-1,this.top=t.top+i+1,this.rect=e},d=function(t){function e(e,i,n){t.call(this),this.url=e&&r(e),this.atlases={},this.stacks={},this.loading={},this.localIdeographFontFamily=i,this.tinySDFs={},this.setEventedParent(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getSimpleGlyphs=function(t,e,i,n){var r=this;void 0===this.stacks[t]&&(this.stacks[t]={ranges:{},cjkGlyphs:{}}),void 0===this.atlases[t]&&(this.atlases[t]=new a);for(var o={},s=this.stacks[t],l=this.atlases[t],u={},h=0,d=0;d<e.length;d++)!function(e){var n=Math.floor(e/256);if(r.localIdeographFontFamily&&(c["CJK Unified Ideographs"](e)||c["Hangul Syllables"](e))){s.cjkGlyphs[e]||(s.cjkGlyphs[e]=r.loadCJKGlyph(t,e));var a=s.cjkGlyphs[e],d=l.addGlyph(i,t,a,3);a&&(o[e]=new f(a,d,3))}else if(s.ranges[n]){var p=s.ranges[n].glyphs[e],g=l.addGlyph(i,t,p,3);p&&(o[e]=new f(p,g,3))}else void 0===u[n]&&(u[n]=[],h++),u[n].push(e)}(e[d]);h||n(void 0,o,t);var p=function(e,s,a){if(e)return void r.fire("error",{error:e});for(var c=r.stacks[t].ranges[s]=a.stacks[0],d=0;d<u[s].length;d++){var p=u[s][d],g=c.glyphs[p],m=l.addGlyph(i,t,g,3);g&&(o[p]=new f(g,m,3))}--h||n(void 0,o,t)};for(var g in u)r.loadRange(t,g,p)},e.prototype.createTinySDF=function(t,e){return new u(24,3,8,.25,t,e)},e.prototype.loadCJKGlyph=function(t,e){var i=this.tinySDFs[t];if(!i){var n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),i=this.tinySDFs[t]=this.createTinySDF(this.localIdeographFontFamily,n)}return{id:e,bitmap:i.draw(String.fromCharCode(e)),width:24,height:24,left:0,top:-8,advance:24}},e.prototype.loadPBF=function(t,e){o.getArrayBuffer(t,e)},e.prototype.loadRange=function(t,e,i){if(256*e>65535)return i("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var r=this.loading[t];if(r[e])r[e].push(i);else{r[e]=[i];var o=256*e+"-"+(256*e+255),a=n(t,o,this.url);this.loadPBF(a,function(t,i){for(var n=!t&&new s(new l(i.data)),o=0;o<r[e].length;o++)r[e][o](t,e,n);delete r[e]})}},e.prototype.getGlyphAtlas=function(t){return this.atlases[t]},e}(h);e.exports=d},{"../symbol/glyph_atlas":167,"../util/ajax":196,"../util/evented":205,"../util/glyphs":208,"../util/is_char_in_unicode_block":210,"../util/mapbox":212,"@mapbox/tiny-sdf":3,pbf:35}],169:[function(t,e,i){e.exports=function(t){function e(e){a.push(t[e]),l++}function i(t,e,i){var n=s[t];return delete s[t],s[e]=n,a[n].geometry[0].pop(),a[n].geometry[0]=a[n].geometry[0].concat(i[0]),n}function n(t,e,i){var n=o[e];return delete o[e],o[t]=n,a[n].geometry[0].shift(),a[n].geometry[0]=i[0].concat(a[n].geometry[0]),n}function r(t,e,i){var n=i?e[0][e[0].length-1]:e[0][0];return t+":"+n.x+":"+n.y}for(var o={},s={},a=[],l=0,u=0;u<t.length;u++){var c=t[u],h=c.geometry,f=c.text;if(f){var d=r(f,h),p=r(f,h,!0);if(d in s&&p in o&&s[d]!==o[p]){var g=n(d,p,h),m=i(d,p,a[g].geometry);delete o[d],delete s[p],s[r(f,a[m].geometry,!0)]=m,a[g].geometry=null}else d in s?i(d,p,h):p in o?n(d,p,h):(e(u),o[d]=l-1,s[p]=l-1)}else e(u)}return a.filter(function(t){return t.geometry})}},{}],170:[function(t,e,i){function n(t,e,i,n,r){var o=f.identity(new Float32Array(16));return e?(f.identity(o),f.scale(o,o,[1/r,1/r,1]),i||f.rotateZ(o,o,n.angle)):(f.scale(o,o,[n.width/2,-n.height/2,1]),f.translate(o,o,[1,-1,0]),f.multiply(o,o,t)),o}function r(t,e,i,n,r){var o=f.identity(new Float32Array(16));return e?(f.multiply(o,o,t),f.scale(o,o,[r,r,1]),i||f.rotateZ(o,o,-n.angle)):(f.scale(o,o,[1,-1,1]),f.translate(o,o,[-1,-1,0]),f.scale(o,o,[2/n.width,2/n.height,1])),o}function o(t,e){var i=[t.x,t.y,0,1];return d.transformMat4(i,i,e),new h(i[0]/i[3],i[1]/i[3])}function s(t,e,i,n){var r=t[0]/t[3],o=t[1]/t[3];return r>=-i[0]&&r<=i[0]&&o>=-i[1]&&o<=i[1]&&n.frameHistory.isVisible(e)}function a(t,e,i,n,r,a,u,f,g,m){var v=n?t.textSizeData:t.iconSizeData,y=p.evaluateSizeForZoom(v,i.transform,m,n),_=[256/i.width*2+1,256/i.height*2+1],b=n?t.buffers.glyph.dynamicLayoutVertexArray:t.buffers.icon.dynamicLayoutVertexArray;b.clear();
for(var x=t.lineVertexArray,w=n?t.placedGlyphArray:t.placedIconArray,C=0;C<w.length;C++){var E=w.get(C),S=[E.anchorX,E.anchorY,0,1];if(d.transformMat4(S,S,e),s(S,E.placementZoom,_,i)){var T=S[3],I=1+.5*(T/i.transform.cameraToCenterDistance-1),k=p.evaluateSizeForFeature(v,y,E),P=u?k*I:k/I,L=o(new h(E.anchorX,E.anchorY),r),O={},A=l(E,P,!1,f,e,r,a,t.glyphOffsetArray,x,b,L,O);(A.notEnoughRoom||A.needsFlipping&&l(E,P,!0,f,e,r,a,t.glyphOffsetArray,x,b,L,O).notEnoughRoom)&&c(E.numGlyphs,b)}else c(E.numGlyphs,b)}n?t.buffers.glyph.dynamicLayoutVertexBuffer.updateData(b.serialize()):t.buffers.icon.dynamicLayoutVertexBuffer.updateData(b.serialize())}function l(t,e,i,n,r,s,a,l,c,h,f,d){var p,m=e/24,v=t.lineOffsetX*e,y=t.lineOffsetY*e;if(t.numGlyphs>1){var _=t.glyphStartIndex+t.numGlyphs,b=l.get(t.glyphStartIndex).offsetX,x=l.get(_-1).offsetX,w=t.lineStartIndex,C=t.lineStartIndex+t.lineLength,E=u(m*b,v,y,i,f,t.segment,w,C,c,s,d);if(!E)return{notEnoughRoom:!0};var S=u(m*x,v,y,i,f,t.segment,w,C,c,s,d);if(!S)return{notEnoughRoom:!0};var T=o(E.point,a),I=o(S.point,a);if(n&&!i&&(t.vertical?T.y<I.y:T.x>I.x))return{needsFlipping:!0};p=[E];for(var k=t.glyphStartIndex+1;k<_-1;k++){var P=l.get(k);p.push(u(m*P.offsetX,v,y,i,f,t.segment,w,C,c,s,d))}p.push(S)}else{if(n&&!i){var L=o(c.get(t.lineStartIndex+t.segment),r),O=o(c.get(t.lineStartIndex+t.segment+1),r);if(t.vertical?O.y>L.y:O.x<L.x)return{needsFlipping:!0}}var A=l.get(t.glyphStartIndex),M=u(m*A.offsetX,v,y,i,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,s,d);if(!M)return{notEnoughRoom:!0};p=[M]}for(var R=t.placementZoom,N=0,j=p;N<j.length;N+=1){var D=j[N];g(h,D.point,D.angle,R)}return{}}function u(t,e,i,n,r,s,a,l,u,c,h){var f=n?t-e:t+e,d=f>0?1:-1,p=0;n&&(d*=-1,p=Math.PI),d<0&&(p+=Math.PI);for(var g=d>0?a+s:a+s+1,m=r,v=r,y=0,_=0,b=Math.abs(f);y+_<=b;){if((g+=d)<a||g>=l)return null;v=m,m=h[g],void 0===m&&(m=h[g]=o(u.get(g),c)),y+=_,_=v.dist(m)}var x=(b-y)/_,w=m.sub(v),C=w.mult(x)._add(v);return C._add(w._unit()._perp()._mult(i*d)),{point:C,angle:p+Math.atan2(m.y-v.y,m.x-v.x)}}function c(t,e){for(var i=0;i<t;i++)g(e,m,0,25)}var h=t("point-geometry"),f=t("@mapbox/gl-matrix").mat4,d=t("@mapbox/gl-matrix").vec4,p=t("./symbol_size"),g=t("../data/bucket/symbol_bucket").addDynamicAttributes;e.exports={updateLineLabels:a,getLabelPlaneMatrix:n,getGlCoordMatrix:r};var m=new h(-1/0,-1/0)},{"../data/bucket/symbol_bucket":60,"./symbol_size":174,"@mapbox/gl-matrix":1,"point-geometry":36}],171:[function(t,e,i){function n(t,e,i,n,r,o,s){this.tl=t,this.tr=e,this.bl=i,this.br=n,this.tex=r,this.writingMode=o,this.glyphOffset=s}function r(t,e,i,r,o,a,l){var u,c,h,f,d=e.image,p=i.layout,g=e.top-1/d.pixelRatio,m=e.left-1/d.pixelRatio,v=e.bottom+1/d.pixelRatio,y=e.right+1/d.pixelRatio;if("none"!==p["icon-text-fit"]&&o){var _=y-m,b=v-g,x=p["text-size"]/24,w=o.left*x,C=o.right*x,E=o.top*x,S=o.bottom*x,T=C-w,I=S-E,k=p["icon-text-fit-padding"][0],P=p["icon-text-fit-padding"][1],L=p["icon-text-fit-padding"][2],O=p["icon-text-fit-padding"][3],A="width"===p["icon-text-fit"]?.5*(I-b):0,M="height"===p["icon-text-fit"]?.5*(T-_):0,R="width"===p["icon-text-fit"]||"both"===p["icon-text-fit"]?T:_,N="height"===p["icon-text-fit"]||"both"===p["icon-text-fit"]?I:b;u=new s(w+M-O,E+A-k),c=new s(w+M+P+R,E+A-k),h=new s(w+M+P+R,E+A+L+N),f=new s(w+M-O,E+A+L+N)}else u=new s(m,g),c=new s(y,g),h=new s(y,v),f=new s(m,v);var j=i.getLayoutValue("icon-rotate",a,l)*Math.PI/180;if(j){var D=Math.sin(j),F=Math.cos(j),z=[F,-D,D,F];u._matMult(z),c._matMult(z),f._matMult(z),h._matMult(z)}return[new n(u,c,f,h,{x:d.textureRect.x-1,y:d.textureRect.y-1,w:d.textureRect.w+2,h:d.textureRect.h+2},(void 0),[0,0])]}function o(t,e,i,r,o,a){for(var l=i.getLayoutValue("text-rotate",o,a)*Math.PI/180,u=i.getLayoutValue("text-offset",o,a).map(function(t){return 24*t}),c=e.positionedGlyphs,h=[],f=0;f<c.length;f++){var d=c[f],p=d.glyph;if(p){var g=p.rect;if(g){var m=p.advance/2,v=r?[d.x+m,d.y]:[0,0],y=r?[0,0]:[d.x+m+u[0],d.y+u[1]],_=p.left-m+y[0],b=-p.top+y[1],x=_+g.w,w=b+g.h,C=new s(_,b),E=new s(x,b),S=new s(_,w),T=new s(x,w),I=new s(y[0]-m,p.advance/2);if(0!==d.angle&&(C._sub(I)._rotate(d.angle)._add(I),E._sub(I)._rotate(d.angle)._add(I),S._sub(I)._rotate(d.angle)._add(I),T._sub(I)._rotate(d.angle)._add(I)),l){var k=Math.sin(l),P=Math.cos(l),L=[P,-k,k,P];C._matMult(L),E._matMult(L),S._matMult(L),T._matMult(L)}h.push(new n(C,E,S,T,g,e.writingMode,v))}}}return h}var s=t("point-geometry");e.exports={getIconQuads:r,getGlyphQuads:o,SymbolQuad:n}},{"point-geometry":36}],172:[function(t,e,i){function n(t,e,i,n,r){this.codePoint=t,this.x=e,this.y=i,this.glyph=n||null,this.angle=r}function r(t,e,i,n,r,o,s){this.positionedGlyphs=t,this.text=e,this.top=i,this.bottom=n,this.left=r,this.right=o,this.writingMode=s}function o(t,e){for(var i=[],n=0,r=0,o=e;r<o.length;r+=1){var s=o[r];i.push(t.substring(n,s)),n=s}return n<t.length&&i.push(t.substring(n,t.length)),i}function s(t,e,i,n,s,a,l,u,c,h){var d=t.trim();h===w.vertical&&(d=b(d));var g,m=[],v=new r(m,d,u[1],u[1],u[0],u[0],h);return g=x.processBidirectionalText?x.processBidirectionalText(d,f(d,l,i,e)):o(d,f(d,l,i,e)),p(v,e,g,n,s,a,u,h,l,c),!!m.length&&v}function a(t,e,i,n){var r=0;for(var o in t){var s=n[t.charCodeAt(o)];s&&(r+=s.advance+e)}return r/Math.max(1,Math.ceil(r/i))}function l(t,e,i,n){var r=Math.pow(t-e,2);return n?t<e?r/2:2*r:r+Math.abs(i)*i}function u(t,e){var i=0;return 10===t&&(i-=1e4),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function c(t,e,i,n,r,o){for(var s=null,a=l(e,i,r,o),u=0,c=n;u<c.length;u+=1){var h=c[u],f=e-h.x,d=l(f,i,r,o)+h.badness;d<=a&&(s=h,a=d)}return{index:t,x:e,priorBreak:s,badness:a}}function h(t){return t?h(t.priorBreak).concat(t.index):[]}function f(t,e,i,n){if(!i)return[];if(!t)return[];for(var r=[],o=a(t,e,i,n),s=0,l=0;l<t.length;l++){var f=t.charCodeAt(l),d=n[f];d&&!C[f]&&(s+=d.advance+e),l<t.length-1&&(E[f]||_.charAllowsIdeographicBreaking(f))&&r.push(c(l+1,s,o,r,u(f,t.charCodeAt(l+1)),!1))}return h(c(t.length,s,o,r,0,!0))}function d(t){var e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function p(t,e,i,r,o,s,a,l,u,c){var h=0,f=-17,p=0,v=t.positionedGlyphs,y="right"===s?1:"left"===s?0:.5;for(var b in i){var x=i[b].trim();if(x.length){for(var C=v.length,E=0;E<x.length;E++){var S=x.charCodeAt(E),T=e[S];T&&(_.charHasUprightVerticalOrientation(S)&&l!==w.horizontal?(v.push(new n(S,h,0,T,-Math.PI/2)),h+=c+u):(v.push(new n(S,h,f,T,0)),h+=T.advance+u))}if(v.length!==C){var I=h-u;p=Math.max(I,p),g(v,e,C,v.length-1,y)}h=0,f+=r}else f+=r}var k=d(o);m(v,y,k.horizontalAlign,k.verticalAlign,p,r,i.length);var P=i.length*r;t.top+=-k.verticalAlign*P,t.bottom=t.top+P,t.left+=-k.horizontalAlign*p,t.right=t.left+p}function g(t,e,i,n,r){if(r)for(var o=e[t[n].codePoint].advance,s=(t[n].x+o)*r,a=i;a<=n;a++)t[a].x-=s}function m(t,e,i,n,r,o,s){for(var a=(e-i)*r,l=(-n*s+.5)*o,u=0;u<t.length;u++)t[u].x+=a,t[u].y+=l}function v(t,e){var i=e[0],n=e[1],r=i-t.displaySize[0]/2,o=r+t.displaySize[0],s=n-t.displaySize[1]/2;return new y(t,s,s+t.displaySize[1],r,o)}function y(t,e,i,n,r){this.image=t,this.top=e,this.bottom=i,this.left=n,this.right=r}var _=t("../util/script_detection"),b=t("../util/verticalize_punctuation"),x=t("../source/rtl_text_plugin"),w={horizontal:1,vertical:2};e.exports={shapeText:s,shapeIcon:v,WritingMode:w};var C={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},E={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":101,"../util/script_detection":213,"../util/verticalize_punctuation":220}],173:[function(t,e,i){function n(t){var e={x:t.rect.x+c,y:t.rect.y+c,w:t.rect.w-2*c,h:t.rect.h-2*c};return{sdf:t.sdf,pixelRatio:t.pixelRatio,isNativePixelRatio:t.pixelRatio===s.devicePixelRatio,textureRect:e,tl:[e.x,e.y],br:[e.x+e.w,e.y+e.h],displaySize:[e.w/t.pixelRatio,e.h/t.pixelRatio]}}function r(t,e,i,n,r,o,s,a,l,u,c){var h,f,d=n*e+i,p=a*o+s;if(c)for(p-=o,f=-1;f<=u;f++,p+=o)for(d=((f+u)%u+n)*e+i,h=-1;h<=l;h++)r[p+h]=t[d+(h+l)%l];else for(f=0;f<u;f++,d+=e,p+=o)for(h=0;h<l;h++)r[p+h]=t[d+h]}var o=t("@mapbox/shelf-pack"),s=t("../util/browser"),a=t("../util/util"),l=t("../util/window"),u=t("../util/evented"),c=1,h=function(t){function e(e,i){t.call(this),this.images={},this.data=!1,this.texture=0,this.filter=0,this.width=Math.ceil(e*s.devicePixelRatio),this.height=Math.ceil(i*s.devicePixelRatio),this.shelfPack=new o(this.width,this.height),this.dirty=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPixelSize=function(){return[this.width,this.height]},e.prototype.allocateImage=function(t,e){var i=t+2*c,n=e+2*c,r=this.shelfPack.packOne(i,n);return r||(a.warnOnce("SpriteAtlas out of space."),null)},e.prototype.addImage=function(t,e,i){var n,r,o;if(e instanceof l.HTMLImageElement?(n=e.width,r=e.height,e=s.getImageData(e),o=1):(n=i.width,r=i.height,o=i.pixelRatio||1),ArrayBuffer.isView(e)&&(e=new Uint32Array(e.buffer)),!(e instanceof Uint32Array))return this.fire("error",{error:new Error("Image provided in an invalid format. Supported formats are HTMLImageElement and ArrayBufferView.")});if(this.images[t])return this.fire("error",{error:new Error("An image with this name already exists.")});var a=this.allocateImage(n,r);return a?(this.images[t]={rect:a,width:n,height:r,pixelRatio:o,sdf:!1},this.copy(e,n,a,{x:0,y:0,width:n,height:r},!1),this.fire("data",{dataType:"style"}),void 0):this.fire("error",{error:new Error("There is not enough space to add this image.")})},e.prototype.removeImage=function(t){var e=this.images[t];return delete this.images[t],e?(this.shelfPack.unref(e.rect),void this.fire("data",{dataType:"style"})):this.fire("error",{error:new Error("No image with this name exists.")})},e.prototype.getIcon=function(t){return this._getImage(t,!1)},e.prototype.getPattern=function(t){return this._getImage(t,!0)},e.prototype._getImage=function(t,e){if(this.images[t])return n(this.images[t]);if(!this.sprite)return null;var i=this.sprite.getSpritePosition(t);if(!i.width||!i.height)return null;var r=this.allocateImage(i.width,i.height);if(!r)return null;var o={rect:r,width:i.width,height:i.height,sdf:i.sdf,pixelRatio:i.pixelRatio};if(this.images[t]=o,!this.sprite.imgData)return null;var s=new Uint32Array(this.sprite.imgData.buffer);return this.copy(s,this.sprite.width,r,i,e),n(o)},e.prototype.allocate=function(){var t=this;if(!this.data){this.data=new Uint32Array(this.width*this.height);for(var e=0;e<this.data.length;e++)t.data[e]=0}},e.prototype.copy=function(t,e,i,n,o){this.allocate();var s=this.data;r(t,e,n.x,n.y,s,this.getPixelSize()[0],i.x+c,i.y+c,n.width,n.height,o),this.dirty=!0},e.prototype.setSprite=function(t){t&&this.canvas&&(this.canvas.width=this.width,this.canvas.height=this.height),this.sprite=t},e.prototype.addIcons=function(t,e){for(var i=this,n={},r=0,o=t;r<o.length;r+=1){var s=o[r];n[s]=i.getIcon(s)}e(null,n)},e.prototype.bind=function(t,e){var i=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),i=!0);var n=e?t.LINEAR:t.NEAREST;n!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,n),this.filter=n),this.dirty&&(this.allocate(),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},e}(u);e.exports=h},{"../util/browser":197,"../util/evented":205,"../util/util":218,"../util/window":199,"@mapbox/shelf-pack":2}],174:[function(t,e,i){function n(t,e,i){var n=e;return t.isFeatureConstant?n.uSize:t.isZoomConstant?i.lowerSize/10:o.number(i.lowerSize/10,i.upperSize/10,n.uSizeT)}function r(t,e,i,n){var r={};if(t.isZoomConstant||t.isFeatureConstant)if(t.isFeatureConstant&&!t.isZoomConstant){var o;if("interval"===t.functionType)o=i.getLayoutValue(n?"text-size":"icon-size",{zoom:e.zoom});else{var l="interval"===t.functionType?0:a(e.zoom,t.functionBase,t.coveringZoomRange[0],t.coveringZoomRange[1]),u=t.coveringStopValues[0],c=t.coveringStopValues[1];o=u+(c-u)*s.clamp(l,0,1)}r.uSize=o}else t.isFeatureConstant&&t.isZoomConstant&&(r.uSize=t.layoutSize);else{var h=a(e.zoom,t.functionBase,t.coveringZoomRange[0],t.coveringZoomRange[1]);r.uSizeT=s.clamp(h,0,1)}return r}var o=t("../style-spec/util/interpolate"),s=t("../util/util"),a=t("../style-spec/function").interpolationFactor;e.exports={evaluateSizeForFeature:n,evaluateSizeForZoom:r}},{"../style-spec/function":117,"../style-spec/util/interpolate":123,"../util/util":218}],175:[function(t,e,i){var n=t("../source/rtl_text_plugin");e.exports=function(t,e,i,r){var o=e.getLayoutValue("text-transform",i,r);return"uppercase"===o?t=t.toLocaleUpperCase():"lowercase"===o&&(t=t.toLocaleLowerCase()),n.applyArabicShaping&&(t=n.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":101}],176:[function(t,e,i){var n=t("../util/dom"),r=t("point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function i(t){v("mouseout",t)}function s(e){t.stop(),w=n.mousePos(_,e),v("mousedown",e),x=!0}function a(e){var i=t.dragRotate&&t.dragRotate.isActive();b&&!i&&v("contextmenu",b),b=null,x=!1,v("mouseup",e)}function l(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var i=e.toElement||e.target;i&&i!==_;)i=i.parentNode;i===_&&v("mousemove",e)}}function u(e){t.stop(),y("touchstart",e),!e.touches||e.touches.length>1||(C?(clearTimeout(C),C=null,v("dblclick",e)):C=setTimeout(d,300))}function c(t){y("touchmove",t)}function h(t){y("touchend",t)}function f(t){y("touchcancel",t)}function d(){C=null}function p(t){n.mousePos(_,t).equals(w)&&v("click",t)}function g(t){v("dblclick",t),t.preventDefault()}function m(e){var i=t.dragRotate&&t.dragRotate.isActive();x||i?x&&(b=e):v("contextmenu",e),e.preventDefault()}function v(e,i){var r=n.mousePos(_,i);return t.fire(e,{lngLat:t.unproject(r),point:r,originalEvent:i})}function y(e,i){var o=n.touchPos(_,i),s=o.reduce(function(t,e,i,n){return t.add(e.div(n.length))},new r(0,0));return t.fire(e,{lngLat:t.unproject(s),point:s,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:i})}var _=t.getCanvasContainer(),b=null,x=!1,w=null,C=null;for(var E in o)t[E]=new o[E](t,e),e.interactive&&e[E]&&t[E].enable(e[E]);_.addEventListener("mouseout",i,!1),_.addEventListener("mousedown",s,!1),_.addEventListener("mouseup",a,!1),_.addEventListener("mousemove",l,!1),_.addEventListener("touchstart",u,!1),_.addEventListener("touchend",h,!1),_.addEventListener("touchmove",c,!1),_.addEventListener("touchcancel",f,!1),_.addEventListener("click",p,!1),_.addEventListener("dblclick",g,!1),_.addEventListener("contextmenu",m,!1)}},{"../util/dom":204,"./handler/box_zoom":184,"./handler/dblclick_zoom":185,"./handler/drag_pan":186,"./handler/drag_rotate":187,"./handler/keyboard":188,"./handler/scroll_zoom":189,"./handler/touch_zoom_rotate":190,"point-geometry":36}],177:[function(t,e,i){var n=t("../util/util"),r=t("../style-spec/util/interpolate"),o=t("../util/browser"),s=t("../geo/lng_lat"),a=t("../geo/lng_lat_bounds"),l=t("point-geometry"),u=t("../util/evented"),c=function(t){function e(e,i){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=i.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,i){return t=l.convert(t).mult(-1),this.panTo(this.transform.center,n.extend({offset:t},e),i)},e.prototype.panTo=function(t,e,i){return this.easeTo(n.extend({center:t},e),i)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,i){return this.easeTo(n.extend({zoom:t},e),i)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,i){return this.easeTo(n.extend({bearing:t},e),i)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,n.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,i){if(e=n.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var r=e.padding;e.padding={top:r,bottom:r,right:r,left:r}}if(!n.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return void n.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");t=a.convert(t);var o=[e.padding.left-e.padding.right,e.padding.top-e.padding.bottom],s=Math.min(e.padding.right,e.padding.left),u=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=l.convert(e.offset),h=this.transform,f=h.project(t.getNorthWest()),d=h.project(t.getSouthEast()),p=d.sub(f),g=(h.width-2*s-2*Math.abs(c.x))/p.x,m=(h.height-2*u-2*Math.abs(c.y))/p.y;return m<0||g<0?void n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."):(e.center=h.unproject(f.add(d).div(2)),e.zoom=Math.min(h.scaleZoom(h.scale*Math.min(g,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,i):this.flyTo(e,i))},e.prototype.jumpTo=function(t,e){this.stop();var i=this.transform,n=!1,r=!1,o=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(n=!0,i.zoom=+t.zoom),"center"in t&&(i.center=s.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(r=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(o=!0,i.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),n&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var i=this;this.stop(),t=n.extend({offset:[0,0],duration:500,easing:n.ease},t),!1===t.animate&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var o=this.transform,a=this.getZoom(),u=this.getBearing(),c=this.getPitch(),h="zoom"in t?+t.zoom:a,f="bearing"in t?this._normalizeBearing(t.bearing,u):u,d="pitch"in t?+t.pitch:c,p=o.centerPoint.add(l.convert(t.offset)),g=o.pointLocation(p),m=s.convert(t.center||g);this._normalizeCenter(m);var v,y,_=o.project(g),b=o.project(m).sub(_),x=o.zoomScale(h-a);return t.around&&(v=s.convert(t.around),y=o.locationPoint(v)),this.zooming=h!==a,this.rotating=u!==f,this.pitching=d!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(o.zoom=r(a,h,t)),this.rotating&&(o.bearing=r(u,f,t)),this.pitching&&(o.pitch=r(c,d,t)),v)o.setLocationAtPoint(v,y);else{var i=o.zoomScale(o.zoom-a),n=h>a?Math.min(2,x):Math.max(.5,x),s=Math.pow(n,1-t),l=o.unproject(_.add(b.mult(t*s)).mult(i));o.setLocationAtPoint(o.renderWorldCopies?l.wrap():l,p)}this._fireMoveEvents(e)},function(){t.delayEndEvents?i._onEaseEnd=setTimeout(function(){return i._easeToEnd(e)},t.delayEndEvents):i._easeToEnd(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._easeToEnd=function(t){var e=this.zooming,i=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),i&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function i(t){var e=(T*T-S*S+(t?-1:1)*L*L*I*I)/(2*(t?T:S)*L*I);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return o(t)/a(t)}var c=this;this.stop(),t=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},t);var h=this.transform,f=this.getZoom(),d=this.getBearing(),p=this.getPitch(),g="zoom"in t?n.clamp(+t.zoom,h.minZoom,h.maxZoom):f,m="bearing"in t?this._normalizeBearing(t.bearing,d):d,v="pitch"in t?+t.pitch:p,y=h.zoomScale(g-f),_=h.centerPoint.add(l.convert(t.offset)),b=h.pointLocation(_),x=s.convert(t.center||b);this._normalizeCenter(x);var w=h.project(b),C=h.project(x).sub(w),E=t.curve,S=Math.max(h.width,h.height),T=S/y,I=C.mag();if("minZoom"in t){var k=n.clamp(Math.min(t.minZoom,f,g),h.minZoom,h.maxZoom),P=S/h.zoomScale(k-f);E=Math.sqrt(P/I*2)}var L=E*E,O=i(0),A=function(t){return a(O)/a(O+E*t)},M=function(t){return S*((a(O)*u(O+E*t)-o(O))/L)/I},R=(i(1)-O)/E;if(Math.abs(I)<1e-6||isNaN(R)){if(Math.abs(S-T)<1e-6)return this.easeTo(t,e);var N=T<S?-1:1;R=Math.abs(Math.log(T/S))/E,M=function(){return 0},A=function(t){return Math.exp(N*E*t)}}if("duration"in t)t.duration=+t.duration;else{var j="screenSpeed"in t?+t.screenSpeed/E:+t.speed;t.duration=1e3*R/j}return this.zooming=!0,this.rotating=d!==m,this.pitching=v!==p,this._prepareEase(e,!1),this._ease(function(t){var i=t*R,n=1/A(i);h.zoom=f+h.scaleZoom(n),this.rotating&&(h.bearing=r(d,m,t)),this.pitching&&(h.pitch=r(p,v,t));var o=h.unproject(w.add(C.mult(M(i))).mult(n));h.setLocationAtPoint(h.renderWorldCopies?o.wrap():o,_),this._fireMoveEvents(e)},function(){return c._easeToEnd(e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,i){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,i.easing(e)),1===e&&this._finishEase()},!1===i.animate?0:i.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=n.wrap(t,-180,180);var i=Math.abs(t-e);return Math.abs(t-360-e)<i&&(t-=360),Math.abs(t+360-e)<i&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var i=t.lng-e.center.lng;t.lng+=i>180?-360:i<-180?360:0}},e.prototype._smoothOutEasing=function(t){var e=n.ease;if(this._prevEase){var i=this._prevEase,r=(Date.now()-i.start)/i.duration,o=i.easing(r+.01)-i.easing(r),s=.27/Math.sqrt(o*o+1e-4)*.01,a=Math.sqrt(.0729-s*s);e=n.bezier(s,a,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(u);e.exports=c},{"../geo/lng_lat":72,"../geo/lng_lat_bounds":73,"../style-spec/util/interpolate":123,"../util/browser":197,"../util/evented":205,"../util/util":218,"point-geometry":36}],178:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/config"),s=function(t){this.options=t,r.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};s.prototype.getDefaultPosition=function(){return"bottom-right"},s.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},s.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},s.prototype._updateEditLink=function(){this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map"));var t=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(this._editLink){var e=t.reduce(function(e,i,n){return void 0!==i.value&&(e+=i.key+"="+i.value+(n<t.length-1?"&":"")),e},"?");this._editLink.href="https://www.mapbox.com/feedback/"+e+(this._map._hash?this._map._hash.getHashString(!0):"")}},s.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},s.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var i=this._map.style.sourceCaches;for(var n in i){var r=i[n].getSource();r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,i){for(var n=i+1;n<t.length;n++)if(t[n].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},s.prototype._updateCompact=function(){var t=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[t?"add":"remove"]("mapboxgl-compact")},e.exports=s},{"../../util/config":201,"../../util/dom":204,"../../util/util":218}],179:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=function(){this._fullscreen=!1,r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};s.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._container},s.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},s.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullscreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},s.prototype._setupUI=function(){var t=this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},s.prototype._isFullscreen=function(){return this._fullscreen},s.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},s.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=s},{"../../util/dom":204,"../../util/util":218,"../../util/window":199}],180:[function(t,e,i){function n(t){void 0!==r?t(r):void 0!==a.navigator.permissions?a.navigator.permissions.query({name:"geolocation"}).then(function(e){r="denied"!==e.state,t(r)}):(r=!!a.navigator.geolocation,t(r))}var r,o=t("../../util/evented"),s=t("../../util/dom"),a=t("../../util/window"),l=t("../../util/util"),u=t("../../geo/lng_lat"),c=t("../marker"),h={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},f="mapboxgl-ctrl",d=function(t){function e(e){t.call(this),this.options=l.extend({},h,e),l.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div",f+" "+f+"-group"),n(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),this._container.parentNode.removeChild(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new u(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy;this._map.fitBounds(e.toBounds(i),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),
void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=s.create("button",f+"-icon "+f+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed",!1),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=s.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new c(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=a.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else a.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){a.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed",!1),this.options.showUserLocation&&this._updateMarker(null)},e}(o);e.exports=d},{"../../geo/lng_lat":72,"../../util/dom":204,"../../util/evented":205,"../../util/util":218,"../../util/window":199,"../marker":193}],181:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=function(){r.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=o},{"../../util/dom":204,"../../util/util":218}],182:[function(t,e,i){function n(t){return new o.MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var r=t("../../util/dom"),o=t("../../util/window"),s=t("../../util/util"),a="mapboxgl-ctrl",l=function(){s.bindAll(["_rotateCompassArrow"],this)};l.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},l.prototype.onAdd=function(t){return this._map=t,this._container=r.create("div",a+" "+a+"-group",t.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(a+"-icon "+a+"-zoom-in","Zoom In",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(a+"-icon "+a+"-zoom-out","Zoom Out",t.zoomOut.bind(t)),this._compass=this._createButton(a+"-icon "+a+"-compass","Reset North",t.resetNorth.bind(t)),this._compassArrow=r.create("span",a+"-compass-arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},l.prototype._onContextMenu=function(t){t.preventDefault()},l.prototype._onCompassDown=function(t){0===t.button&&(r.disableDrag(),o.document.addEventListener("mousemove",this._onCompassMove),o.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(n(t)),t.stopPropagation())},l.prototype._onCompassMove=function(t){0===t.button&&(this._map.getCanvasContainer().dispatchEvent(n(t)),t.stopPropagation())},l.prototype._onCompassUp=function(t){0===t.button&&(o.document.removeEventListener("mousemove",this._onCompassMove),o.document.removeEventListener("mouseup",this._onCompassUp),r.enableDrag(),this._map.getCanvasContainer().dispatchEvent(n(t)),t.stopPropagation())},l.prototype._createButton=function(t,e,i){var n=r.create("button",t,this._container);return n.type="button",n.setAttribute("aria-label",e),n.addEventListener("click",function(){i()}),n},e.exports=l},{"../../util/dom":204,"../../util/util":218,"../../util/window":199}],183:[function(t,e,i){function n(t,e,i){var n=i&&i.maxWidth||100,s=t._container.clientHeight/2,a=o(t.unproject([0,s]),t.unproject([n,s]));if(i&&"imperial"===i.unit){var l=3.2808*a;l>5280?r(e,n,l/5280,"mi"):r(e,n,l,"ft")}else r(e,n,a,"m")}function r(t,e,i,n){var r=s(i),o=r/i;"m"===n&&r>=1e3&&(r/=1e3,n="km"),t.style.width=e*o+"px",t.innerHTML=r+n}function o(t,e){var i=Math.PI/180,n=t.lat*i,r=e.lat*i,o=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-t.lng)*i);return 6371e3*Math.acos(Math.min(o,1))}function s(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}var a=t("../../util/dom"),l=t("../../util/util"),u=function(t){this.options=t,l.bindAll(["_onMove"],this)};u.prototype.getDefaultPosition=function(){return"bottom-left"},u.prototype._onMove=function(){n(this._map,this._container,this.options)},u.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=u},{"../../util/dom":204,"../../util/util":218}],184:[function(t,e,i){var n=t("../../util/dom"),r=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),s=t("../../util/window"),a=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.isActive=function(){return!!this._active},a.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},a.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(s.document.addEventListener("mousemove",this._onMouseMove,!1),s.document.addEventListener("keydown",this._onKeyDown,!1),s.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=n.mousePos(this._el,t),this._active=!0)},a.prototype._onMouseMove=function(t){var e=this._startPos,i=n.mousePos(this._el,t);this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,i.x),o=Math.max(e.x,i.x),s=Math.min(e.y,i.y),a=Math.max(e.y,i.y);n.setTransform(this._box,"translate("+r+"px,"+s+"px)"),this._box.style.width=o-r+"px",this._box.style.height=a-s+"px"},a.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,i=n.mousePos(this._el,t),o=(new r).extend(this._map.unproject(e)).extend(this._map.unproject(i));this._finish(),e.x===i.x&&e.y===i.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},a.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},a.prototype._finish=function(){this._active=!1,s.document.removeEventListener("mousemove",this._onMouseMove,!1),s.document.removeEventListener("keydown",this._onKeyDown,!1),s.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),n.enableDrag()},a.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=a},{"../../geo/lng_lat_bounds":73,"../../util/dom":204,"../../util/util":218,"../../util/window":199}],185:[function(t,e,i){var n=function(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)};n.prototype.isEnabled=function(){return!!this._enabled},n.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},n.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},n.prototype._onDblClick=function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},e.exports=n},{}],186:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.3,a=r.bezier(0,0,s,1),l=1400,u=2500,c=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=n.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=n.mousePos(this._el,t),i=this._map;i.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),i.transform.setLocationAtPoint(i.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},c.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var i=function(){e._map.moving=!1,e._fireEvent("moveend",t)},n=this._inertia;if(n.length<2)return void i();var r=n[n.length-1],o=n[0],c=r[1].sub(o[1]),h=(r[0]-o[0])/1e3;if(0===h||r[1].equals(o[1]))return void i();var f=c.mult(s/h),d=f.mag();d>l&&(d=l,f._unit()._mult(d));var p=d/(u*s),g=f.mult(-p/2);this._map.panBy(g,{duration:1e3*p,easing:a,noMoveStart:!0},{originalEvent:t})}},c.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||(!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||("mousemove"===t.type?!1&t.buttons:t.button&&0!==t.button)))},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=c},{"../../util/dom":204,"../../util/util":218,"../../util/window":199}],187:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.25,a=r.bezier(0,0,s,1),l=180,u=720,c=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,this._pitchWithRotate=!1!==e.pitchWithRotate,r.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=n.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault())},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var i=this._pos,r=n.mousePos(this._el,t),o=.8*(i.x-r.x),s=-.5*(i.y-r.y),a=e.getBearing()-o,l=e.getPitch()-s,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([Date.now(),e._normalizeBearing(a,c[1])]),e.transform.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=r}},c.prototype._onUp=function(t){var e=this;if(!this._ignoreEvent(t)&&(o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var i=this._map,n=i.getBearing(),r=this._inertia,c=function(){Math.abs(n)<e._bearingSnap?i.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(r.length<2)return void c();var h=r[0],f=r[r.length-1],d=r[r.length-2],p=i._normalizeBearing(n,d[1]),g=f[1]-h[1],m=g<0?-1:1,v=(f[0]-h[0])/1e3;if(0===g||0===v)return void c();var y=Math.abs(g*(s/v));y>l&&(y=l);var _=y/(u*s);p+=m*y*(_/2),Math.abs(i._normalizeBearing(p,0))<this._bearingSnap&&(p=i._normalizeBearing(0,p)),i.rotateTo(p,{duration:1e3*_,easing:a,noMoveStart:!0},{originalEvent:t})}},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var i=t.ctrlKey?1:2,n=t.ctrlKey?0:2,r=t.button;return"undefined"!=typeof InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(r=0),"mousemove"===t.type?t.buttons&0===i:!this.isActive()&&r!==n},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=c},{"../../util/dom":204,"../../util/util":218,"../../util/window":199}],188:[function(t,e,i){function n(t){return t*(2-t)}var r=100,o=15,s=10,a=function(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},a.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,i=0,a=0,l=0,u=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),l=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),l=1);break;case 38:t.shiftKey?a=1:(t.preventDefault(),u=-1);break;case 40:t.shiftKey?a=-1:(u=1,t.preventDefault());break;default:return}var c=this._map,h=c.getZoom(),f={duration:300,delayEndEvents:500,easing:n,zoom:e?Math.round(h)+e*(t.shiftKey?2:1):h,bearing:c.getBearing()+i*o,pitch:c.getPitch()+a*s,offset:[-l*r,-u*r],center:c.getCenter()};c.easeTo(f,{originalEvent:t})}},e.exports=a},{}],189:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/browser"),s=t("../../util/window"),a=s.navigator.userAgent.toLowerCase(),l=-1!==a.indexOf("firefox"),u=-1!==a.indexOf("safari")&&-1===a.indexOf("chrom"),c=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(t){var e;"wheel"===t.type?(e=t.deltaY,l&&t.deltaMode===s.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===s.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,u&&(e/=3));var i=o.now(),r=i-(this._time||0);this._pos=n.mousePos(this._el,t),this._time=i,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(t,e){if(0!==t){var i=this._map,n=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==n&&(n=1/n);var r=i.ease?i.ease.to:i.transform.scale,o=i.transform.scaleZoom(r*n);i.zoomTo(o,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?i.getCenter():i.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=c},{"../../util/browser":197,"../../util/dom":204,"../../util/util":218,"../../util/window":199}],190:[function(t,e,i){var n=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.15,a=r.bezier(0,0,s,1),l=12,u=2.5,c=.15,h=10,f=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onStart","_onMove","_onEnd"],this)};f.prototype.isEnabled=function(){return!!this._enabled},f.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},f.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},f.prototype.disableRotation=function(){this._rotationDisabled=!0},f.prototype.enableRotation=function(){this._rotationDisabled=!1},f.prototype._onStart=function(t){if(2===t.touches.length){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]);this._startVec=e.sub(i),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},f.prototype._onMove=function(t){if(2===t.touches.length){var e=n.mousePos(this._el,t.touches[0]),i=n.mousePos(this._el,t.touches[1]),r=e.add(i).div(2),o=e.sub(i),s=o.mag()/this._startVec.mag(),a=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,l=this._map;if(this._gestureIntent){var u={duration:0,around:l.unproject(r)};"rotate"===this._gestureIntent&&(u.bearing=this._startBearing+a),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(u.zoom=l.transform.scaleZoom(this._startScale*s)),l.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),s,r]),l.easeTo(u,{originalEvent:t})}else{var f=Math.abs(1-s)>c;Math.abs(a)>h?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=l.transform.scale,this._startBearing=l.transform.bearing)}t.preventDefault()}},f.prototype._onEnd=function(t){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,i=this._map;if(e.length<2)return void i.snapToNorth({},{originalEvent:t});var n=e[e.length-1],r=e[0],c=i.transform.scaleZoom(this._startScale*n[1]),h=i.transform.scaleZoom(this._startScale*r[1]),f=c-h,d=(n[0]-r[0])/1e3,p=n[2];if(0===d||c===h)return void i.snapToNorth({},{originalEvent:t});var g=f*s/d;Math.abs(g)>u&&(g=g>0?u:-u);var m=1e3*Math.abs(g/(l*s)),v=c+g*m/2e3;v<0&&(v=0),i.easeTo({zoom:v,duration:m,easing:a,around:this._aroundCenter?i.getCenter():i.unproject(p)},{originalEvent:t})},f.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=f},{"../../util/dom":204,"../../util/util":218,"../../util/window":199}],191:[function(t,e,i){var n=t("../util/util"),r=t("../util/window"),o=function(){n.bindAll(["_onHashChange","_updateHash"],this)};o.prototype.addTo=function(t){return this._map=t,r.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},o.prototype.remove=function(){return r.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},o.prototype.getHashString=function(t){var e=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,n=Math.max(0,Math.ceil(Math.log(i)/Math.LN2)),r=Math.round(e.lng*Math.pow(10,n))/Math.pow(10,n),o=Math.round(e.lat*Math.pow(10,n))/Math.pow(10,n),s=this._map.getBearing(),a=this._map.getPitch(),l="";return l+=t?"#/"+r+"/"+o+"/"+i:"#"+i+"/"+o+"/"+r,(s||a)&&(l+="/"+Math.round(10*s)/10),a&&(l+="/"+Math.round(a)),l},o.prototype._onHashChange=function(){var t=r.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},o.prototype._updateHash=function(){var t=this.getHashString();r.history.replaceState("","",t)},e.exports=o},{"../util/util":218,"../util/window":199}],192:[function(t,e,i){function n(t){t.parentNode&&t.parentNode.removeChild(t)}var r=t("../util/util"),o=t("../util/browser"),s=t("../util/window"),a=t("../util/dom"),l=t("../util/ajax"),u=t("../style/style"),c=t("../style/animation_loop"),h=t("../render/painter"),f=t("../geo/transform"),d=t("./hash"),p=t("./bind_handlers"),g=t("./camera"),m=t("../geo/lng_lat"),v=t("../geo/lng_lat_bounds"),y=t("point-geometry"),_=t("./control/attribution_control"),b=t("./control/logo_control"),x=t("mapbox-gl-supported"),w=0,C=22,E={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:w,maxZoom:C,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null},S=function(t){function e(e){var i=this;if(e=r.extend({},E,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new f(e.minZoom,e.maxZoom,e.renderWorldCopies);if(t.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,"string"==typeof e.container){if(this._container=s.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else this._container=e.container;this.animationLoop=new c,e.maxBounds&&this.setMaxBounds(e.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){i.animationLoop.set(300),i._rerender()}),void 0!==s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),p(this,e),this._hash=e.hash&&(new d).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _),this.addControl(new b,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var i=t.onAdd(this),n=this._controlPositions[e];return-1!==e.indexOf("bottom")?n.insertBefore(i,n.firstChild):n.appendChild(i),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var i=this._classes.indexOf(t);return i<0||""===t?this:(this._classes.splice(i,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var i={},n=0;n<t.length;n++)""!==t[n]&&(i[t[n]]=!0);return this._classes=Object.keys(i),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],i=t[1];return this._resizeCanvas(e,i),this.transform.resize(e,i),this.painter.resize(e,i),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new v(this.transform.pointLocation(new y(0,this.transform.height)),this.transform.pointLocation(new y(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new y(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new y(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new v([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null;
},e.prototype.setMaxBounds=function(t){if(t){var e=v.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?w:t)>=w&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+w+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?C:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(m.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(y.convert(t))},e.prototype.on=function(e,i,n){var o=this;if(void 0===n)return t.prototype.on.call(this,e,i);var s=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:i,listener:n,delegates:{mousemove:function(s){var a=o.queryRenderedFeatures(s.point,{layers:[i]});a.length?t||(t=!0,n.call(o,r.extend({features:a},s,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var s=!1;return{layer:i,listener:n,delegates:{mousemove:function(t){o.queryRenderedFeatures(t.point,{layers:[i]}).length?s=!0:s&&(s=!1,n.call(o,r.extend({},t,{type:e})))},mouseout:function(t){s&&(s=!1,n.call(o,r.extend({},t,{type:e})))}}}}var a=function(t){var e=o.queryRenderedFeatures(t.point,{layers:[i]});e.length&&n.call(o,r.extend({features:e},t))};return{layer:i,listener:n,delegates:(l={},l[e]=a,l)};var l}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(s);for(var a in s.delegates)o.on(a,s.delegates[a]);return this},e.prototype.off=function(e,i,n){var r=this;if(void 0===n)return t.prototype.off.call(this,e,i);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],s=0;s<o.length;s++){var a=o[s];if(a.layer===i&&a.listener===n){for(var l in a.delegates)r.off(l,a.delegates[l]);return o.splice(s,1),r}}},e.prototype.queryRenderedFeatures=function(){for(var t=arguments,e=[],i=arguments.length;i--;)e[i]=t[i];var n,r={};return 2===e.length?(n=arguments[0],r=arguments[1]):1===e.length&&function(t){return t instanceof y||Array.isArray(t)}(e[0])?n=e[0]:1===e.length&&(r=e[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(n),r,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[y.convert([0,0]),y.convert([this.transform.width,this.transform.height])]);var i;if(t instanceof y||"number"==typeof t[0])i=[y.convert(t)];else{var n=[y.convert(t[0]),y.convert(t[1])];i=[n[0],new y(n[1].x,n[0].y),n[1],new y(n[0].x,n[1].y),n[0]]}return i=i.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&!(t instanceof u)&&"string"!=typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){r.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement),this.off("move",this.style._redoPlacement)),t?(this.style=t instanceof u?t:new u(t,this,e),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this.on("move",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var i=t[e],n=i._tiles;for(var r in n){var o=n[r];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,i){return this.style.addSourceType(t,e,i)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,i){this.style.spriteAtlas.addImage(t,e,i)},e.prototype.removeImage=function(t){this.style.spriteAtlas.removeImage(t)},e.prototype.loadImage=function(t,e){l.getImage(t,e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,i){return this.style.setLayerZoomRange(t,e,i),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,i,n){return this.style.setPaintProperty(t,e,i,n),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,i){return this.style.getPaintProperty(t,e,i)},e.prototype.setLayoutProperty=function(t,e,i){return this.style.setLayoutProperty(t,e,i),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=a.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=a.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var n=this._controlContainer=a.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=a.create("div","mapboxgl-ctrl-"+t,n)})},e.prototype._resizeCanvas=function(t,e){var i=s.devicePixelRatio||1;this._canvas.width=i*t,this._canvas.height=i*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=r.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},x.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);return e?void(this.painter=new h(e,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==s&&(s.removeEventListener("resize",this._onWindowResize,!1),s.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),n(this._canvasContainer),n(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},i.showTileBoundaries.get=function(){return!!this._showTileBoundaries},i.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},i.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},i.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},i.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},i.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},i.repaint.get=function(){return!!this._repaint},i.repaint.set=function(t){this._repaint=t,this._update()},i.vertices.get=function(){return!!this._vertices},i.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,i),e}(g);e.exports=S},{"../geo/lng_lat":72,"../geo/lng_lat_bounds":73,"../geo/transform":74,"../render/painter":87,"../style/animation_loop":146,"../style/style":149,"../util/ajax":196,"../util/browser":197,"../util/dom":204,"../util/util":218,"../util/window":199,"./bind_handlers":176,"./camera":177,"./control/attribution_control":178,"./control/logo_control":181,"./hash":191,"mapbox-gl-supported":33,"point-geometry":36}],193:[function(t,e,i){var n=t("../util/dom"),r=t("../geo/lng_lat"),o=t("point-geometry"),s=t("../util/smart_wrap"),a=function(t,e){this._offset=o.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),t||(t=n.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};a.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},a.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),n.remove(this._element),this._popup&&this._popup.remove(),this},a.prototype.getLngLat=function(){return this._lngLat},a.prototype.setLngLat=function(t){return this._lngLat=r.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},a.prototype.getElement=function(){return this._element},a.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._popup.setLngLat(this._lngLat)),this},a.prototype._onMapClick=function(t){var e=t.originalEvent.target,i=this._element;this._popup&&(e===i||i.contains(e))&&this.togglePopup()},a.prototype.getPopup=function(){return this._popup},a.prototype.togglePopup=function(){var t=this._popup;t&&(t.isOpen()?t.remove():t.addTo(this._map))},a.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=s(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset)._add({x:-this._element.offsetWidth/2,y:-this._element.offsetHeight/2}),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,"translate("+this._pos.x+"px, "+this._pos.y+"px)"))},e.exports=a},{"../geo/lng_lat":72,"../util/dom":204,"../util/smart_wrap":214,"point-geometry":36}],194:[function(t,e,i){function n(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new u(0,t),"top-left":new u(e,e),"top-right":new u((-e),e),bottom:new u(0,(-t)),"bottom-left":new u(e,(-e)),"bottom-right":new u((-e),(-e)),left:new u(t,0),right:new u((-t),0)}}if(r(t)){var i=u.convert(t);return{top:i,"top-left":i,"top-right":i,bottom:i,"bottom-left":i,"bottom-right":i,left:i,right:i}}return{top:u.convert(t.top||[0,0]),"top-left":u.convert(t["top-left"]||[0,0]),"top-right":u.convert(t["top-right"]||[0,0]),bottom:u.convert(t.bottom||[0,0]),"bottom-left":u.convert(t["bottom-left"]||[0,0]),"bottom-right":u.convert(t["bottom-right"]||[0,0]),left:u.convert(t.left||[0,0]),right:u.convert(t.right||[0,0])}}return n(new u(0,0))}function r(t){return t instanceof u||Array.isArray(t)}var o=t("../util/util"),s=t("../util/evented"),a=t("../util/dom"),l=t("../geo/lng_lat"),u=t("point-geometry"),c=t("../util/window"),h=t("../util/smart_wrap"),f={closeButton:!0,closeOnClick:!0},d=function(t){function e(e){t.call(this),this.options=o.extend(Object.create(f),e),o.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=l.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(c.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,i=c.document.createDocumentFragment(),n=c.document.createElement("body");for(n.innerHTML=t;e=n.firstChild;)i.appendChild(e);return this.setDOMContent(i)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=h(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat);var t=this.options.anchor,e=n(this.options.offset);if(!t){var i=this._container.offsetWidth,r=this._container.offsetHeight;t=this._pos.y+e.bottom.y<r?["top"]:this._pos.y>this._map.transform.height-r?["bottom"]:[],this._pos.x<i/2?t.push("left"):this._pos.x>this._map.transform.width-i/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var o=this._pos.add(e[t]).round(),s={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var u in s)l.remove("mapboxgl-popup-anchor-"+u);l.add("mapboxgl-popup-anchor-"+t),a.setTransform(this._container,s[t]+" translate("+o.x+"px,"+o.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(s);e.exports=d},{"../geo/lng_lat":72,"../util/dom":204,"../util/evented":205,"../util/smart_wrap":214,"../util/util":218,"../util/window":199,"point-geometry":36}],195:[function(t,e,i){var n=function(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};n.prototype.send=function(t,e,i,n,r){var o=i?this.mapId+":"+this.callbackID++:null;i&&(this.callbacks[o]=i),this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(o),data:e},n)},n.prototype.receive=function(t){var e,i=this,n=t.data,r=n.id;if(!n.targetMapId||this.mapId===n.targetMapId){var o=function(t,e,n){i.target.postMessage({sourceMapId:i.mapId,type:"<response>",id:String(r),error:t?String(t):null,data:e},n)};if("<response>"===n.type)e=this.callbacks[n.id],delete this.callbacks[n.id],e&&n.error?e(new Error(n.error)):e&&e(null,n.data);else if(void 0!==n.id&&this.parent[n.type])this.parent[n.type](n.sourceMapId,n.data,o);else if(void 0!==n.id&&this.parent.getWorkerSource){var s=n.type.split("."),a=this.parent.getWorkerSource(n.sourceMapId,s[0]);a[s[1]](n.data,o)}else this.parent[n.type](n.data)}},n.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=n},{}],196:[function(t,e,i){function n(t){var e=r.document.createElement("a");return e.href=t,e.protocol===r.document.location.protocol&&e.host===r.document.location.host}var r=t("./window"),o=function(t){function e(e,i){t.call(this,e),this.status=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);i.getJSON=function(t,e){var i=new r.XMLHttpRequest;return i.open("GET",t,!0),i.setRequestHeader("Accept","application/json"),i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){if(i.status>=200&&i.status<300&&i.response){var t;try{t=JSON.parse(i.response)}catch(t){return e(t)}e(null,t)}else e(new o(i.statusText,i.status))},i.send(),i},i.getArrayBuffer=function(t,e){var i=new r.XMLHttpRequest;return i.open("GET",t,!0),i.responseType="arraybuffer",i.onerror=function(){e(new Error(i.statusText))},i.onload=function(){var t=i.response;return 0===t.byteLength&&200===i.status?e(new Error("http status 200 returned without content.")):void(i.status>=200&&i.status<300&&i.response?e(null,{data:t,cacheControl:i.getResponseHeader("Cache-Control"),expires:i.getResponseHeader("Expires")}):e(new o(i.statusText,i.status)))},i.send(),i};var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";i.getImage=function(t,e){return i.getArrayBuffer(t,function(t,i){if(t)e(t);else if(i){var n=new r.Image,o=r.URL||r.webkitURL;n.onload=function(){e(null,n),o.revokeObjectURL(n.src)};var a=new r.Blob([new Uint8Array(i.data)],{type:"image/png"});n.cacheControl=i.cacheControl,n.expires=i.expires,n.src=i.data.byteLength?o.createObjectURL(a):s}})},i.getVideo=function(t,e){var i=r.document.createElement("video");i.onloadstart=function(){e(null,i)};for(var o=0;o<t.length;o++){var s=r.document.createElement("source");n(t[o])||(i.crossOrigin="Anonymous"),s.src=t[o],i.appendChild(s)}return i}},{"./window":199}],197:[function(t,e,i){var n=t("./window"),r=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now.bind(Date),o=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame,s=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||n.msCancelAnimationFrame;e.exports={now:r,frame:function(t){return o(t)},cancelFrame:function(t){return s(t)},timed:function(t,e,i){function n(){if(!s){var l=r();l>=a+e?t.call(i,1):(t.call(i,(l-a)/e),o(n))}}if(!e)return t.call(i,1),null;var s=!1,a=r();return o(n),function(){s=!0}},getImageData:function(t){var e=n.document.createElement("canvas"),i=e.getContext("2d");return e.width=t.width,e.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(0,0,t.width,t.height).data},hardwareConcurrency:n.navigator.hardwareConcurrency||4,get devicePixelRatio(){return n.devicePixelRatio},supportsWebp:!1};var a=n.document.createElement("img");a.onload=function(){e.exports.supportsWebp=!0},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":199}],198:[function(t,e,i){var n=t("webworkify"),r=t("../window"),o=r.URL.createObjectURL(new n(t("../../source/worker"),{bare:!0}));e.exports=function(){return new r.Worker(o)}},{"../../source/worker":110,"../window":199,webworkify:51}],199:[function(t,e,i){e.exports=self},{}],200:[function(t,e,i){function n(t,e){return e.area-t.area}var r=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var i=t.length;if(i<=1)return[t];for(var s,a,l=[],u=0;u<i;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===a&&(a=c<0),a===c<0?(s&&l.push(s),s=[t[u]]):s.push(t[u]))}if(s&&l.push(s),e>1)for(var h=0;h<l.length;h++)l[h].length<=e||(r(l[h],e,1,l[h].length-1,n),l[h]=l[h].slice(0,e));return l}},{"./util":218,quickselect:38}],201:[function(t,e,i){var n={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=n},{}],202:[function(t,e,i){var n=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var i=0;i<t.length;i++){var n=t[i];e._stringToNumber[n]=i,e._numberToString[i]=n}};n.prototype.encode=function(t){return this._stringToNumber[t]},n.prototype.decode=function(t){return this._numberToString[t]},e.exports=n},{}],203:[function(t,e,i){var n=t("./util"),r=t("./actor"),o=function(t,e){var i=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var o=this.workerPool.acquire(this.id),s=0;s<o.length;s++){var a=o[s],l=new r(a,e,i.id);l.name="Worker "+s,i.actors.push(l)}};o.prototype.broadcast=function(t,e,i){i=i||function(){},n.asyncAll(this.actors,function(i,n){i.send(t,e,n)},i)},o.prototype.send=function(t,e,i,n,r){return("number"!=typeof n||isNaN(n))&&(n=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[n].send(t,e,i,r),n},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":195,"./util":218}],204:[function(t,e,i){function n(t){for(var e=0;e<t.length;e++)if(t[e]in l)return t[e];return t[0]}function r(t){t.preventDefault(),t.stopPropagation(),s.removeEventListener("click",r,!0)}var o=t("point-geometry"),s=t("./window");i.create=function(t,e,i){var n=s.document.createElement(t);return e&&(n.className=e),i&&i.appendChild(n),n};var a,l=s.document.documentElement.style,u=n(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);i.disableDrag=function(){u&&(a=l[u],l[u]="none")},i.enableDrag=function(){u&&(l[u]=a)};var c=n(["transform","WebkitTransform"]);i.setTransform=function(t,e){t.style[c]=e},i.suppressClick=function(){s.addEventListener("click",r,!0),s.setTimeout(function(){s.removeEventListener("click",r,!0)},0)},i.mousePos=function(t,e){var i=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop)},i.touchPos=function(t,e){for(var i=t.getBoundingClientRect(),n=[],r="touchend"===e.type?e.changedTouches:e.touches,s=0;s<r.length;s++)n.push(new o(r[s].clientX-i.left-t.clientLeft,r[s].clientY-i.top-t.clientTop));return n},i.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":199,"point-geometry":36}],205:[function(t,e,i){function n(t,e,i){i[t]=i[t]||[],i[t].push(e)}function r(t,e,i){if(i&&i[t]){var n=i[t].indexOf(e);-1!==n&&i[t].splice(n,1)}}var o=t("./util"),s=function(){};s.prototype.on=function(t,e){return this._listeners=this._listeners||{},n(t,e,this._listeners),this},s.prototype.off=function(t,e){return r(t,e,this._listeners),r(t,e,this._oneTimeListeners),this},s.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},n(t,e,this._oneTimeListeners),this},s.prototype.fire=function(t,e){var i=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var n=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],s=0;s<n.length;s++)n[s].call(i,e);for(var a=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],l=0;l<a.length;l++)a[l].call(i,e),r(t,a[l],i._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&void 0;return this},s.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},s.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=s},{"./util":218}],206:[function(t,e,i){function n(t,e){return e.max-t.max}function r(t,e,i,n){this.p=new l(t,e),this.h=i,this.d=o(this.p,n),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var i=!1,n=1/0,r=0;r<e.length;r++)for(var o=e[r],s=0,a=o.length,l=a-1;s<a;l=s++){var c=o[s],h=o[l];c.y>t.y!=h.y>t.y&&t.x<(h.x-c.x)*(t.y-c.y)/(h.y-c.y)+c.x&&(i=!i),n=Math.min(n,u(t,c,h))}return(i?1:-1)*Math.sqrt(n)}function s(t){for(var e=0,i=0,n=0,o=t[0],s=0,a=o.length,l=a-1;s<a;l=s++){var u=o[s],c=o[l],h=u.x*c.y-c.x*u.y;i+=(u.x+c.x)*h,n+=(u.y+c.y)*h,e+=3*h}return new r(i/e,n/e,0,t)}var a=t("tinyqueue"),l=t("point-geometry"),u=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,i){e=e||1;for(var o,l,u,c,h=t[0],f=0;f<h.length;f++){var d=h[f];(!f||d.x<o)&&(o=d.x),(!f||d.y<l)&&(l=d.y),(!f||d.x>u)&&(u=d.x),(!f||d.y>c)&&(c=d.y)}var p=u-o,g=c-l,m=Math.min(p,g),v=m/2,y=new a(null,n);if(0===m)return[o,l];for(var _=o;_<u;_+=m)for(var b=l;b<c;b+=m)y.push(new r(_+v,b+v,v,t));for(var x=s(t),w=y.length;y.length;){var C=y.pop();(C.d>x.d||!x.d)&&(x=C,i&&void 0),C.max-x.d<=e||(v=C.h/2,y.push(new r(C.p.x-v,C.p.y-v,v,t)),y.push(new r(C.p.x+v,C.p.y-v,v,t)),y.push(new r(C.p.x-v,C.p.y+v,v,t)),y.push(new r(C.p.x+v,C.p.y+v,v,t)),w+=4)}return i&&(void 0,void 0),x.p}},{"./intersection_tests":209,"point-geometry":36,tinyqueue:40}],207:[function(t,e,i){var n,r=t("./worker_pool");e.exports=function(){return n||(n=new r),n}},{"./worker_pool":221}],208:[function(t,e,i){function n(t,e){this.stacks=t.readFields(r,[],e)}function r(t,e,i){if(1===t){var n=i.readMessage(o,{glyphs:{}});e.push(n)}}function o(t,e,i){if(1===t)e.name=i.readString();else if(2===t)e.range=i.readString();else if(3===t){var n=i.readMessage(s,{});e.glyphs[n.id]=n}}function s(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}e.exports=n},{}],209:[function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++)if(d(e,t[i]))return!0;for(var n=0;n<e.length;n++)if(d(t,e[n]))return!0;return!!l(t,e)}function r(t,e,i){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var l=s[a];if(d(r,l))return!0;if(c(l,r,i))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return f(e,t[0][0]);for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++)if(f(t,n[r]))return!0;for(var o=0;o<t.length;o++){for(var s=t[o],a=0;a<s.length;a++)if(f(e,s[a]))return!0;for(var u=0;u<e.length;u++)if(l(s,e[u]))return!0}return!1}function s(t,e,i){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<t.length;o++){var s=t[o];if(s.length>=3)for(var l=0;l<r.length;l++)if(d(s,r[l]))return!0;if(a(s,r,i))return!0}return!1}function a(t,e,i){if(t.length>1){if(l(t,e))return!0;for(var n=0;n<e.length;n++)if(c(e[n],t,i))return!0}for(var r=0;r<t.length;r++)if(c(t[r],e,i))return!0;return!1}function l(t,e){if(0===t.length||0===e.length)return!1;for(var i=0;i<t.length-1;i++)for(var n=t[i],r=t[i+1],o=0;o<e.length-1;o++){var s=e[o],a=e[o+1];if(u(n,r,s,a))return!0}return!1}function u(t,e,i,n){return p(t,i,n)!==p(e,i,n)&&p(t,e,i)!==p(t,e,n)}function c(t,e,i){var n=i*i;if(1===e.length)return t.distSqr(e[0])<n;for(var r=1;r<e.length;r++)if(h(t,e[r-1],e[r])<n)return!0;return!1}function h(t,e,i){var n=e.distSqr(i);if(0===n)return t.distSqr(e);var r=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/n;return r<0?t.distSqr(e):r>1?t.distSqr(i):t.distSqr(i.sub(e)._mult(r)._add(e))}function f(t,e){for(var i,n,r,o=!1,s=0;s<t.length;s++){i=t[s];for(var a=0,l=i.length-1;a<i.length;l=a++)n=i[a],r=i[l],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(o=!o)}return o}function d(t,e){for(var i=!1,n=0,r=t.length-1;n<t.length;r=n++){var o=t[n],s=t[r];o.y>e.y!=s.y>e.y&&e.x<(s.x-o.x)*(e.y-o.y)/(s.y-o.y)+o.x&&(i=!i)}return i}var p=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:s,polygonIntersectsPolygon:n,distToSegmentSquared:h}},{"./util":218}],210:[function(t,e,i){var n={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727;
},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=n},{}],211:[function(t,e,i){var n=function(t,e){this.max=t,this.onRemove=e,this.reset()};n.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},n.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var i=this.get(this.order[0]);i&&this.onRemove(i)}return this},n.prototype.has=function(t){return t in this.data},n.prototype.keys=function(){return this.order},n.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},n.prototype.getWithoutRemoving=function(t){return this.has(t)?this.data[t]:null},n.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},n.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var i=e.get(e.order[0]);i&&e.onRemove(i)}return this},e.exports=n},{}],212:[function(t,e,i){function n(t,e){var i=s(l.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"/"!==i.path&&(t.path=""+i.path+t.path),!l.REQUIRE_ACCESS_TOKEN)return a(t);if(!(e=e||l.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),a(t)}function r(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(l.ACCESS_TOKEN||""))}function s(t){var e=t.match(f);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function a(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var l=t("./config"),u=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";i.isMapboxURL=r,i.normalizeStyleURL=function(t,e){if(!r(t))return t;var i=s(t);return i.path="/styles/v1"+i.path,n(i,e)},i.normalizeGlyphsURL=function(t,e){if(!r(t))return t;var i=s(t);return i.path="/fonts/v1"+i.path,n(i,e)},i.normalizeSourceURL=function(t,e){if(!r(t))return t;var i=s(t);return i.path="/v4/"+i.authority+".json",i.params.push("secure"),n(i,e)},i.normalizeSpriteURL=function(t,e,i,o){var l=s(t);return r(t)?(l.path="/styles/v1"+l.path+"/sprite"+e+i,n(l,o)):(l.path+=""+e+i,a(l))};var h=/(\.(png|jpg)\d*)(?=$)/;i.normalizeTileURL=function(t,e,i){if(!e||!r(e))return t;var n=s(t),l=u.devicePixelRatio>=2||512===i?"@2x":"",c=u.supportsWebp?".webp":"$1";return n.path=n.path.replace(h,""+l+c),o(n.params),a(n)};var f=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":197,"./config":201}],213:[function(t,e,i){var n=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!i.charAllowsIdeographicBreaking(r.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(i.charHasUprightVerticalOrientation(r.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,n=t;e<n.length;e+=1){var r=n[e];if(!i.charAllowsLetterSpacing(r.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!(n.Arabic(t)||n["Arabic Supplement"](t)||n["Arabic Extended-A"](t)||n["Arabic Presentation Forms-A"](t)||n["Arabic Presentation Forms-B"](t))},e.exports.charAllowsIdeographicBreaking=function(t){return!!(!(t<11904)&&(n["Bopomofo Extended"](t)||n.Bopomofo(t)||n["CJK Compatibility Forms"](t)||n["CJK Compatibility Ideographs"](t)||n["CJK Compatibility"](t)||n["CJK Radicals Supplement"](t)||n["CJK Strokes"](t)||n["CJK Symbols and Punctuation"](t)||n["CJK Unified Ideographs Extension A"](t)||n["CJK Unified Ideographs"](t)||n["Enclosed CJK Letters and Months"](t)||n["Halfwidth and Fullwidth Forms"](t)||n.Hiragana(t)||n["Ideographic Description Characters"](t)||n["Kangxi Radicals"](t)||n["Katakana Phonetic Extensions"](t)||n.Katakana(t)||n["Vertical Forms"](t)||n["Yi Radicals"](t)||n["Yi Syllables"](t)))},i.charHasUprightVerticalOrientation=function(t){return!!(746===t||747===t||!(t<4352)&&(n["Bopomofo Extended"](t)||n.Bopomofo(t)||n["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||n["CJK Compatibility Ideographs"](t)||n["CJK Compatibility"](t)||n["CJK Radicals Supplement"](t)||n["CJK Strokes"](t)||!(!n["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||n["CJK Unified Ideographs Extension A"](t)||n["CJK Unified Ideographs"](t)||n["Enclosed CJK Letters and Months"](t)||n["Hangul Compatibility Jamo"](t)||n["Hangul Jamo Extended-A"](t)||n["Hangul Jamo Extended-B"](t)||n["Hangul Jamo"](t)||n["Hangul Syllables"](t)||n.Hiragana(t)||n["Ideographic Description Characters"](t)||n.Kanbun(t)||n["Kangxi Radicals"](t)||n["Katakana Phonetic Extensions"](t)||n.Katakana(t)&&12540!==t||!(!n["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!n["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||n["Unified Canadian Aboriginal Syllabics"](t)||n["Unified Canadian Aboriginal Syllabics Extended"](t)||n["Vertical Forms"](t)||n["Yijing Hexagram Symbols"](t)||n["Yi Syllables"](t)||n["Yi Radicals"](t)))},i.charHasNeutralVerticalOrientation=function(t){return!!(n["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||n["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||n["Letterlike Symbols"](t)||n["Number Forms"](t)||n["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||n["Control Pictures"](t)&&9251!==t||n["Optical Character Recognition"](t)||n["Enclosed Alphanumerics"](t)||n["Geometric Shapes"](t)||n["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||n["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||n["CJK Symbols and Punctuation"](t)||n.Katakana(t)||n["Private Use Area"](t)||n["CJK Compatibility Forms"](t)||n["Small Form Variants"](t)||n["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)},i.charHasRotatedVerticalOrientation=function(t){return!(i.charHasUprightVerticalOrientation(t)||i.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":210}],214:[function(t,e,i){var n=t("../geo/lng_lat");e.exports=function(t,e,i){if(t=new n(t.lng,t.lat),e){var r=new n(t.lng-360,t.lat),o=new n(t.lng+360,t.lat),s=i.locationPoint(t).distSqr(e);i.locationPoint(r).distSqr(e)<s?t=r:i.locationPoint(o).distSqr(e)<s&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var a=i.locationPoint(t);if(a.x>=0&&a.y>=0&&a.x<=i.width&&a.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":72}],215:[function(t,e,i){function n(t){var e=JSON.stringify(t);if(m[e])return m[e];var i=void 0===t.alignment?1:t.alignment,n=0,s=0,l=["Uint8"],h=t.members.map(function(t){l.indexOf(t.type)<0&&l.push(t.type);var e=o(t.type),a=n=r(n,Math.max(i,e)),u=t.components||1;return s=Math.max(s,e),n+=e*u,{name:t.name,type:t.type,components:u,offset:a}}),d=r(n,Math.max(s,i)),p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f);p.prototype.alignment=i,p.prototype.size=d;for(var v=0,y=h;v<y.length;v+=1)for(var _=y[v],b=0;b<_.components;b++){var x=_.name+(1===_.components?"":b);if(x in p.prototype)throw new Error(x+" is a reserved name and cannot be used as a member name.");Object.defineProperty(p.prototype,x,{get:u(_,b),set:c(_,b)})}var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g);return w.prototype.members=h,w.prototype.StructType=p,w.prototype.bytesPerElement=d,w.prototype.emplaceBack=a(h,d),w.prototype._usedTypes=l,m[e]=w,w}function r(t,e){return Math.ceil(t/e)*e}function o(t){return h[t].BYTES_PER_ELEMENT}function s(t){return t.toLowerCase()}function a(t,e){for(var i=[],n=[],r="var i = this.length;\nthis.resize(this.length + 1);\n",a=0,l=t;a<l.length;a+=1){var u=l[a],c=o(u.type);i.indexOf(c)<0&&(i.push(c),r+="var o"+c.toFixed(0)+" = i * "+(e/c).toFixed(0)+";\n");for(var h=0;h<u.components;h++){var f="v"+n.length,d="o"+c.toFixed(0)+" + "+(u.offset/c+h).toFixed(0);r+="this."+s(u.type)+"["+d+"] = "+f+";\n",n.push(f)}}return r+="return i;",new Function(n.toString(),r)}function l(t,e){var i="this._pos"+o(t.type).toFixed(0),n=(t.offset/o(t.type)+e).toFixed(0),r=i+" + "+n;return"this._structArray."+s(t.type)+"["+r+"]"}function u(t,e){return new Function("return "+l(t,e)+";")}function c(t,e){return new Function("x",l(t,e)+" = x;")}e.exports=n;var h={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},f=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},d=128,p=5,g=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};g.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},g.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},g.prototype.get=function(t){return new this.StructType(this,t)},g.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},g.prototype.clear=function(){this.length=0},g.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*p),d),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},g.prototype._refreshViews=function(){for(var t=this,e=0,i=t._usedTypes;e<i.length;e+=1){var n=i[e];t[s(n)]=new h[n](t.arrayBuffer)}},g.prototype.toArray=function(t,e){for(var i=this,n=[],r=t;r<e;r++){var o=i.get(r);n.push(o)}return n};var m={}},{}],216:[function(t,e,i){var n=t("./browser"),r=function(t,e){this.frequency=t,this.throttledFunction=e,this.lastInvocation=0};r.prototype.invoke=function(){var t=this;if(!this.pendingInvocation){var e=0===this.lastInvocation?0:this.lastInvocation+this.frequency-n.now();e<=0?(this.lastInvocation=n.now(),this.throttledFunction()):this.pendingInvocation=setTimeout(function(){t.pendingInvocation=void 0,t.lastInvocation=n.now(),t.throttledFunction()},e)}},r.prototype.stop=function(){this.pendingInvocation&&(clearTimeout(this.pendingInvocation),this.pendingInvocation=void 0)},e.exports=r},{"./browser":197}],217:[function(t,e,i){function n(t,e){return e.replace(/{([^{}]+)}/g,function(e,i){return i in t?t[i]:""})}e.exports=n},{}],218:[function(t,e,i){var n=t("@mapbox/unitbezier"),r=t("../geo/coordinate");t("point-geometry");i.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},i.bezier=function(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}},i.ease=i.bezier(.25,.1,.25,1),i.clamp=function(t,e,i){return Math.min(i,Math.max(e,t))},i.wrap=function(t,e,i){var n=i-e,r=((t-e)%n+n)%n+e;return r===e?i:r},i.asyncAll=function(t,e,i){if(!t.length)return i(null,[]);var n=t.length,r=new Array(t.length),o=null;t.forEach(function(t,s){e(t,function(t,e){t&&(o=t),r[s]=e,0==--n&&i(o,r)})})},i.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},i.keysDifference=function(t,e){var i=[];for(var n in t)n in e||i.push(n);return i},i.extend=function(t){for(var e=arguments,i=[],n=arguments.length-1;n-- >0;)i[n]=e[n+1];for(var r=0,o=i;r<o.length;r+=1){var s=o[r];for(var a in s)t[a]=s[a]}return t},i.pick=function(t,e){for(var i={},n=0;n<e.length;n++){var r=e[n];r in t&&(i[r]=t[r])}return i};var o=1;i.uniqueId=function(){return o++},i.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},i.getCoordinatesCenter=function(t){for(var e=1/0,i=1/0,n=-1/0,o=-1/0,s=0;s<t.length;s++)e=Math.min(e,t[s].column),i=Math.min(i,t[s].row),n=Math.max(n,t[s].column),o=Math.max(o,t[s].row);var a=n-e,l=o-i,u=Math.max(a,l),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new r((e+n)/2,(i+o)/2,0).zoomTo(c)},i.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},i.mapObject=function(t,e,i){var n=this,r={};for(var o in t)r[o]=e.call(i||n,t[o],o,t);return r},i.filterObject=function(t,e,i){var n=this,r={};for(var o in t)e.call(i||n,t[o],o,t)&&(r[o]=t[o]);return r},i.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!i.deepEqual(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!i.deepEqual(t[r],e[r]))return!1;return!0}return t===e},i.clone=function(t){return Array.isArray(t)?t.map(i.clone):"object"==typeof t&&t?i.mapObject(t,i.clone):t},i.arraysIntersect=function(t,e){for(var i=0;i<t.length;i++)if(e.indexOf(t[i])>=0)return!0;return!1};var s={};i.warnOnce=function(t){s[t]||("undefined"!=typeof console&&void 0,s[t]=!0)},i.isCounterClockwise=function(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)},i.calculateSignedArea=function(t){for(var e=0,i=0,n=t.length,r=n-1,o=void 0,s=void 0;i<n;r=i++)o=t[i],s=t[r],e+=(s.x-o.x)*(o.y+s.y);return e},i.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],n=t[t.length-1];return!(Math.abs(e.x-n.x)>0||Math.abs(e.y-n.y)>0)&&Math.abs(i.calculateSignedArea(t))>.01},i.sphericalToCartesian=function(t){var e=t[0],i=t[1],n=t[2];return i+=90,i*=Math.PI/180,n*=Math.PI/180,[e*Math.cos(i)*Math.sin(n),e*Math.sin(i)*Math.sin(n),e*Math.cos(n)]},i.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,i={};if(t.replace(e,function(t,e,n,r){var o=n||r;return i[e]=!o||o.toLowerCase(),""}),i["max-age"]){var n=parseInt(i["max-age"],10);isNaN(n)?delete i["max-age"]:i["max-age"]=n}return i}},{"../geo/coordinate":71,"@mapbox/unitbezier":4,"point-geometry":36}],219:[function(t,e,i){var n=function(t,e,i,n){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=i,t._y=n,this.properties=t.properties,null!=t.id&&(this.id=t.id)},r={geometry:{}};r.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},r.geometry.set=function(t){this._geometry=t},n.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var i in t)"_geometry"!==i&&"_vectorTileFeature"!==i&&(e[i]=t[i]);return e},Object.defineProperties(n.prototype,r),e.exports=n},{}],220:[function(t,e,i){var n=t("./script_detection");e.exports=function(t){for(var i="",r=0;r<t.length;r++){var o=t.charCodeAt(r+1)||null,s=t.charCodeAt(r-1)||null;i+=o&&n.charHasRotatedVerticalOrientation(o)&&!e.exports.lookup[t[r+1]]||s&&n.charHasRotatedVerticalOrientation(s)&&!e.exports.lookup[t[r-1]]||!e.exports.lookup[t[r]]?t[r]:e.exports.lookup[t[r]]}return i},e.exports.lookup={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}},{"./script_detection":213}],221:[function(t,e,i){var n=t("./web_worker"),r=function(){this.active={}};r.prototype.acquire=function(e){var i=this;if(!this.workers){var r=t("../").workerCount;for(this.workers=[];this.workers.length<r;)i.workers.push(new n)}return this.active[e]=!0,this.workers.slice()},r.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=r},{"../":75,"./web_worker":198}]},{},[75])(75)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],600:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof i?e.exports=n():t.MicroPlugin=n()}(this,function(){var t={};t.mixin=function(t){t.plugins={},t.prototype.initializePlugins=function(t){var i,n,r,o=this,s=[];if(o.plugins={names:[],settings:{},requested:{},loaded:{}},e.isArray(t))for(i=0,n=t.length;i<n;i++)"string"==typeof t[i]?s.push(t[i]):(o.plugins.settings[t[i].name]=t[i].options,s.push(t[i].name));else if(t)for(r in t)t.hasOwnProperty(r)&&(o.plugins.settings[r]=t[r],s.push(r));for(;s.length;)o.require(s.shift())},t.prototype.loadPlugin=function(e){var i=this,n=i.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');n.requested[e]=!0,n.loaded[e]=r.fn.apply(i,[i.plugins.settings[e]||{}]),n.names.push(e)},t.prototype.require=function(t){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(t)){if(i.requested[t])throw new Error('Plugin has circular dependency ("'+t+'")');e.loadPlugin(t)}return i.loaded[t]},t.define=function(e,i){t.plugins[e]={name:e,fn:i}}};var e={isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}};return t})},{}],601:[function(t,e,i){"use strict";function n(t){var e=t.length;if(e<3){for(var i=new Array(e),n=0;n<e;++n)i[n]=n;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:i}for(var o=new Array(e),n=0;n<e;++n)o[n]=n;o.sort(function(e,i){var n=t[e][0]-t[i][0];return n?n:t[e][1]-t[i][1]});for(var s=[o[0],o[1]],a=[o[0],o[1]],n=2;n<e;++n){for(var l=o[n],u=t[l],c=s.length;c>1&&r(t[s[c-2]],t[s[c-1]],u)<=0;)c-=1,s.pop();for(s.push(l),c=a.length;c>1&&r(t[a[c-2]],t[a[c-1]],u)>=0;)c-=1,a.pop();a.push(l)}for(var i=new Array(a.length+s.length-2),h=0,n=0,f=s.length;n<f;++n)i[h++]=s[n];for(var d=a.length-2;d>0;--d)i[h++]=a[d];return i}e.exports=n;var r=t("robust-orientation")[3]},{"robust-orientation":608}],602:[function(t,e,i){var n=function(i,r){i=i||t("./node/self.js");var o=i.window,s=i.document,a=new function(){function t(t,n,r,o,s){function u(i,u){u=u||(u=a(n,i))&&(u.get?u:u.value),"string"==typeof u&&"#"===u[0]&&(u=t[u.substring(1)]||u);var h,f="function"==typeof u,d=u,p=s||f&&!u.base?u&&u.get?i in t:t[i]:null;s&&p||(f&&p&&(u.base=p),f&&o!==!1&&(h=i.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(c[h[3].toLowerCase()+h[4]]=h[2]),d&&!f&&d.get&&"function"==typeof d.get&&e.isPlainObject(d)||(d={value:d,writable:!0}),(a(t,i)||{configurable:!0}).configurable&&(d.configurable=!0,d.enumerable=null!=r?r:!h),l(t,i,d))}var c={};if(n){for(var h in n)n.hasOwnProperty(h)&&!i.test(h)&&u(h);for(var h in c){var f=c[h],d=t["set"+f],p=t["get"+f]||d&&t["is"+f];!p||o!==!0&&0!==p.length||u(h,{get:p,set:d})}}return t}function e(){for(var t=0,e=arguments.length;t<e;t++){var i=arguments[t];i&&h(this,i)}return this}var i=/^(statics|enumerable|beans|preserve)$/,n=[],o=n.slice,s=Object.create,a=Object.getOwnPropertyDescriptor,l=Object.defineProperty,u=n.forEach||function(t,e){for(var i=0,n=this.length;i<n;i++)t.call(e,this[i],i,this)},c=function(t,e){for(var i in this)this.hasOwnProperty(i)&&t.call(e,this[i],i,this)},h=Object.assign||function(t){for(var e=1,i=arguments.length;e<i;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t},f=function(t,e,i){if(t){var n=a(t,"length");(n&&"number"==typeof n.value?u:c).call(t,e,i=i||t)}return i};return t(e,{inject:function(e){if(e){var i=e.statics===!0?e:e.statics,n=e.beans,r=e.preserve;i!==e&&t(this.prototype,e,e.enumerable,n,r),t(this,i,null,n,r)}for(var o=1,s=arguments.length;o<s;o++)this.inject(arguments[o]);return this},extend:function(){for(var e,i,n,r=this,o=0,a=arguments.length;o<a&&(!e||!i);o++)n=arguments[o],e=e||n.initialize,i=i||n.prototype;return e=e||function(){r.apply(this,arguments)},i=e.prototype=i||s(this.prototype),l(i,"constructor",{value:e,writable:!0,configurable:!0}),t(e,this),arguments.length&&this.inject.apply(e,arguments),e.base=r,e}}).inject({enumerable:!1,initialize:e,set:e,inject:function(){for(var e=0,i=arguments.length;e<i;e++){var n=arguments[e];n&&t(this,n,n.enumerable,n.beans,n.preserve)}return this},extend:function(){var t=s(this);return t.inject.apply(t,arguments)},each:function(t,e){return f(this,t,e)},clone:function(){return new this.constructor(this)},statics:{set:h,each:f,create:s,define:l,describe:a,clone:function(t){return h(new t.constructor,t)},isPlainObject:function(t){var i=null!=t&&t.constructor;return i&&(i===Object||i===e||"Object"===i.name)},pick:function(t,e){return t!==r?t:e},slice:function(t,e,i){return o.call(t,e,i)}}})};"undefined"!=typeof e&&(e.exports=a),a.inject({enumerable:!1,toString:function(){return null!=this._id?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+a.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+("number"===i?h.instance.number(t):"string"===i?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return a.importJSON(t,this)},exportJSON:function(t){return a.exportJSON(this,t)},toJSON:function(){return a.serialize(this)},set:function(t,e){return t&&a.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function at(){var t=at.base.apply(this,arguments),e=t.prototype._class;return e&&!a.exports[e]&&(a.exports[e]=t),t},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&"object"==typeof t&&"object"==typeof e){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!a.equals(t[i],e[i]))return!1}else{var n=Object.keys(t),i=n.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var r=n[i];if(!e.hasOwnProperty(r)||!a.equals(t[r],e[r]))return!1}}return!0}return!1},read:function(t,e,i,n){if(this===a){var o=this.peek(t,e);return t.__index++,o}var s=this.prototype,l=s._readIndex,u=e||l&&t.__index||0,c=t.length,h=t[u];if(n=n||c-u,h instanceof this||i&&i.readNull&&null==h&&n<=1)return l&&(t.__index=u+1),h&&i&&i.clone?h.clone():h;if(h=a.create(s),l&&(h.__read=!0),h=h.initialize.apply(h,u>0||u+n<c?a.slice(t,u,u+n):t)||h,l){t.__index=u+h.__read;var f=h.__filtered;f&&(t.__filtered=f,h.__filtered=r),h.__read=r}return h},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,n){for(var r,o=[],s=e||0,a=n?s+n:t.length,l=s;l<a;l++)o.push(Array.isArray(r=t[l])?this.read(r,0,i):this.read(t,l,i,1));return o},readNamed:function(t,e,i,n,o){var s=this.getNamed(t,e),l=s!==r;if(l){var u=t.__filtered;u||(u=t.__filtered=a.create(t[0]),u.__unfiltered=t[0]),u[e]=r}var c=l?[s]:t,h=this.read(c,i,n,o);return h},getNamed:function(t,e){var i=t[0];if(t._hasObject===r&&(t._hasObject=1===t.length&&a.isPlainObject(i)),t._hasObject)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,n){function o(n){if(!(i&&n in i||s&&n in s)){var o=e[n];o!==r&&(t[n]=o)}}var s;if(n){for(var a,l={},u=0,c=n.length;u<c;u++)(a=n[u])in e&&(o(a),l[a]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(o),t},isPlainValue:function(t,e){return a.isPlainObject(t)||Array.isArray(t)||e&&"string"==typeof t},serialize:function(t,e,i,n){e=e||{};var r,o=!n;if(o&&(e.formatter=new h(e.precision),n={length:0,definitions:{},references:{},add:function(t,e){var i="#"+t._id,n=this.references[i];if(!n){this.length++;var r=e.call(t),o=t._class;o&&r[0]!==o&&r.unshift(o),this.definitions[i]=r,n=this.references[i]=[i]}return n}}),t&&t._serialize){r=t._serialize(e,n);var s=t._class;!s||t._compactSerialize||!o&&i||r[0]===s||r.unshift(s)}else if(Array.isArray(t)){r=[];for(var l=0,u=t.length;l<u;l++)r[l]=a.serialize(t[l],e,i,n)}else if(a.isPlainObject(t)){r={};for(var c=Object.keys(t),l=0,u=c.length;l<u;l++){var f=c[l];r[f]=a.serialize(t[f],e,i,n)}}else r="number"==typeof t?e.formatter.number(t,e.precision):t;return o&&n.length>0?[["dictionary",n.definitions],r]:r},deserialize:function(t,e,i,n,r){var o=t,s=!i,l=s&&t&&t.length&&"dictionary"===t[0][0];if(i=i||{},Array.isArray(t)){var u=t[0],c="dictionary"===u;if(1==t.length&&/^#/.test(u))return i.dictionary[u];u=a.exports[u],o=[];for(var h=u?1:0,f=t.length;h<f;h++)o.push(a.deserialize(t[h],e,i,c,l));if(u){var d=o;e?o=e(u,d,s||r):(o=a.create(u.prototype),u.apply(o,d))}}else if(a.isPlainObject(t)){o={},n&&(i.dictionary=o);for(var p in t)o[p]=a.deserialize(t[p],e,i)}return l?o[1]:o},exportJSON:function(t,e){var i=a.serialize(t,e);return e&&0==e.asString?i:JSON.stringify(i)},importJSON:function(t,e){return a.deserialize("string"==typeof t?JSON.parse(t):t,function(t,i,n){var r=n&&e&&e.constructor===t,o=r?e:a.create(t.prototype);if(1===i.length&&o instanceof C&&(r||!(o instanceof S))){var s=i[0];a.isPlainObject(s)&&(s.insert=!1)}return(r?o.set:t).apply(o,i),r&&(e=null),o})},splice:function(t,e,i,n){var o=e&&e.length,s=i===r;i=s?t.length:i,i>t.length&&(i=t.length);for(var a=0;a<o;a++)e[a]._index=i+a;if(s)return t.push.apply(t,e),[];var l=[i,n];e&&l.push.apply(l,e);for(var u=t.splice.apply(t,l),a=0,c=u.length;a<c;a++)u[a]._index=r;for(var a=i+o,c=t.length;a<c;a++)t[a]._index=a;return u},capitalize:function(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var l={on:function(t,e){if("string"!=typeof t)a.each(t,function(t,e){this.on(e,t)},this);else{var i=this._eventTypes,n=i&&i[t],r=this._callbacks=this._callbacks||{};r=r[t]=r[t]||[],r.indexOf(e)===-1&&(r.push(e),n&&n.install&&1===r.length&&n.install.call(this,t))}return this},off:function(t,e){if("string"!=typeof t)return void a.each(t,function(t,e){this.off(e,t)},this);var i,n=this._eventTypes,r=n&&n[t],o=this._callbacks&&this._callbacks[t];return o&&(!e||(i=o.indexOf(e))!==-1&&1===o.length?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):i!==-1&&o.splice(i,1)),this},once:function(t,e){return this.on(t,function(){e.apply(this,arguments),this.off(t,e)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var n=a.slice(arguments,1),r=e&&e.target&&!e.currentTarget;i=i.slice(),r&&(e.currentTarget=this);for(var o=0,s=i.length;o<s;o++)if(0==i[o].apply(this,n)){e&&e.stop&&e.stop();break}return r&&delete e.currentTarget,!0},responds:function(t){return!(!this._callbacks||!this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,n=t?"install":"uninstall";if(e)for(var r in i)if(i[r].length>0){var o=e[r],s=o&&o[n];s&&s.call(this,r)}},statics:{inject:function lt(t){var e=t._events;if(e){var i={};a.each(e,function(e,n){var r="string"==typeof e,o=r?e:n,s=a.capitalize(o),l=o.substring(2).toLowerCase();i[l]=r?{}:e,o="_"+o,t["get"+s]=function(){return this[o]},t["set"+s]=function(t){var e=this[o];e&&this.off(l,e),t&&this.on(l,t),this[o]=t}}),t._eventTypes=i}return lt.base.apply(this,arguments)}}},u=a.extend({_class:"PaperScope",initialize:function ut(){n=this,this.settings=new a({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=ut._id++,ut._scopes[this._id]=this;var t=ut.prototype;if(!this.support){var e=nt.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:rt.nativeModes},nt.release(e)}if(!this.agent){var r=i.navigator.userAgent.toLowerCase(),o=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],s="darwin"===o?"mac":o,l=t.agent=t.browser={platform:s};s&&(l[s]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(t,e,i,n,r){if(!l.chrome){var o="opera"===e?n:/^(node|trident)$/.test(e)?r:i;l.version=o,l.versionNumber=parseFloat(o),e="trident"===e?"msie":e,l.name=e,l[e]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.11.5",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){n.PaperScript.execute(t,this,e),Y.updateFocus()},install:function(t){var e=this;a.each(["project","view","tool"],function(i){a.define(t,i,{configurable:!0,get:function(){return e[i]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return n=this,this.project=new w(t),this},createCanvas:function(t,e){return nt.getCanvas(t,e)},activate:function(){n=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove();
},remove:function(){this.clear(),delete u._scopes[this._id]},statics:new function(){function t(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),c=a.extend(l,{initialize:function(t){this._scope=n,this._index=this._scope[this._list].push(this)-1,!t&&this._scope[this._reference]||this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return null!=this._index&&(a.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),h=a.extend({initialize:function(t){this.precision=a.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});h.instance=new h;var f=new function(){function t(t,e,i){return t<e?e:t>i?i:t}function e(t,e,i){function n(t){var e=134217729*t,i=t-e,n=i+e,r=t-n;return[n,r]}var r=e*e-t*i,s=e*e+t*i;if(3*o(r)<s){var a=n(t),l=n(e),u=n(i),c=e*e,h=l[0]*l[0]-c+2*l[0]*l[1]+l[1]*l[1],f=t*i,d=a[0]*u[0]-f+a[0]*u[1]+a[1]*u[0]+a[1]*u[1];r=c-f+(h-d)}return r}function i(){var t=Math.max.apply(Math,arguments);return t&&(t<1e-8||t>1e8)?a(2,-Math.round(l(t))):0}var n=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],r=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],o=Math.abs,s=Math.sqrt,a=Math.pow,l=Math.log2||function(t){return Math.log(t)*Math.LOG2E},u=1e-12,c=1.12e-16;return{EPSILON:u,MACHINE_EPSILON:c,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,KAPPA:4*(s(2)-1)/3,isZero:function(t){return t>=-u&&t<=u},clamp:t,integrate:function(t,e,i,o){for(var s=n[o-2],a=r[o-2],l=.5*(i-e),u=l+e,c=0,h=o+1>>1,f=1&o?a[c++]*t(u):0;c<h;){var d=l*s[c];f+=a[c++]*(t(u+d)+t(u-d))}return l*f},findRoot:function(e,i,n,r,s,a,l){for(var u=0;u<a;u++){var c=e(n),h=c/i(n),f=n-h;if(o(h)<l){n=f;break}c>0?(s=n,n=f<=r?.5*(r+s):f):(r=n,n=f>=s?.5*(r+s):f)}return t(n,r,s)},solveQuadratic:function(n,r,a,l,h,f){var d,p=1/0;if(o(n)<u){if(o(r)<u)return o(a)<u?-1:0;d=-a/r}else{r*=-.5;var g=e(n,r,a);if(g&&o(g)<c){var m=i(o(n),o(r),o(a));m&&(n*=m,r*=m,a*=m,g=e(n,r,a))}if(g>=-c){var v=g<0?0:s(g),y=r+(r<0?-v:v);0===y?(d=a/n,p=-d):(d=y/n,p=a/y)}}var _=0,b=null==h,x=h-u,w=f+u;return isFinite(d)&&(b||d>x&&d<w)&&(l[_++]=b?d:t(d,h,f)),p!==d&&isFinite(p)&&(b||p>x&&p<w)&&(l[_++]=b?p:t(p,h,f)),_},solveCubic:function(e,n,r,l,h,d,p){function g(t){m=t;var i=e*m;v=i+n,y=v*m+r,_=(i+v)*m+y,b=y*m+l}var m,v,y,_,b,x=i(o(e),o(n),o(r),o(l));if(x&&(e*=x,n*=x,r*=x,l*=x),o(e)<u)e=n,v=r,y=l,m=1/0;else if(o(l)<u)v=n,y=r,m=0;else{g(-(n/e)/3);var w=b/e,C=a(o(w),1/3),E=w<0?-1:1,S=-_/e,T=S>0?1.324717957244746*Math.max(C,s(S)):C,I=m-E*T;if(I!==m){do g(I),I=0===_?m:m-b/_/(1+c);while(E*I>E*m);o(e)*m*m>o(l/m)&&(y=-l/m,v=(y-r)/m)}}var k=f.solveQuadratic(e,v,y,h,d,p),P=null==d;return isFinite(m)&&(0===k||k>0&&m!==h[0]&&m!==h[1])&&(P||m>d-u&&m<p+u)&&(h[k++]=P?m:t(m,d,p)),k}}},d={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}return this._id++}},p=a.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var o="number"==typeof e;this._set(t,o?e:t),n&&(r=o?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var s="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"x"in s?this._set(s.x||0,s.y||0):"width"in s?this._set(s.width||0,s.height||0):"angle"in s?(this._set(s.length||0,0),this.setAngle(s.angle||0)):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new p(this.x,this.y)},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();f.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return 180*this.getAngleInRadians.apply(this,arguments)/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=p.read(arguments),e=this.getLength()*t.getLength();if(f.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=p.read(arguments);return 180*Math.atan2(this.cross(t),this.dot(t))/Math.PI},getDistance:function(){var t=p.read(arguments),e=t.x-this.x,i=t.y-this.y,n=e*e+i*i,r=a.read(arguments);return r?n:Math.sqrt(n)},normalize:function(t){t===r&&(t=1);var e=this.getLength(),i=0!==e?t/e:0,n=new p(this.x*i,this.y*i);return i>=0&&(n._angle=this._angle),n},rotate:function(t,e){if(0===t)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,n=Math.sin(t),r=Math.cos(t);return i=new p(i.x*r-i.y*n,i.x*n+i.y*r),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=p.read(arguments);return new p(this.x+t.x,this.y+t.y)},subtract:function(){var t=p.read(arguments);return new p(this.x-t.x,this.y-t.y)},multiply:function(){var t=p.read(arguments);return new p(this.x*t.x,this.y*t.y)},divide:function(){var t=p.read(arguments);return new p(this.x/t.x,this.y/t.y)},modulo:function(){var t=p.read(arguments);return new p(this.x%t.x,this.y%t.y)},negate:function(){return new p((-this.x),(-this.y))},isInside:function(){return y.read(arguments).contains(this)},isClose:function(){var t=p.read(arguments),e=a.read(arguments);return this.getDistance(t)<=e},isCollinear:function(){var t=p.read(arguments);return p.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=p.read(arguments);return p.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=f.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=p.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=p.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=p.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new p(t.x*e,t.y*e)},statics:{min:function(){var t=p.read(arguments),e=p.read(arguments);return new p(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var t=p.read(arguments),e=p.read(arguments);return new p(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new p(Math.random(),Math.random())},isCollinear:function(t,e,i,n){return Math.abs(t*n-e*i)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))},isOrthogonal:function(t,e,i,n){return Math.abs(t*i+e*n)<=1e-8*Math.sqrt((t*t+e*e)*(i*i+n*n))}}},a.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new p(e(this.x),e(this.y))}},{})),g=p.extend({initialize:function(t,e,i,n){this._x=t,this._y=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return"setPosition"===this._setter?4:0}}),m=a.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t,n=this.__read,r=0;if("number"===i){var o="number"==typeof e;this._set(t,o?e:t),n&&(r=o?2:1)}else if("undefined"===i||null===t)this._set(0,0),n&&(r=null===t?1:0);else{var s="string"===i?t.split(/[\s,]+/)||[]:t;r=1,Array.isArray(s)?this._set(+s[0],+(s.length>1?s[1]:s[0])):"width"in s?this._set(s.width||0,s.height||0):"x"in s?this._set(s.x||0,s.y||0):(this._set(0,0),r=0)}return n&&(this.__read=r),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new m(this.width,this.height)},toString:function(){var t=h.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=m.read(arguments);return new m(this.width+t.width,this.height+t.height)},subtract:function(){var t=m.read(arguments);return new m(this.width-t.width,this.height-t.height)},multiply:function(){var t=m.read(arguments);return new m(this.width*t.width,this.height*t.height)},divide:function(){var t=m.read(arguments);return new m(this.width/t.width,this.height/t.height)},modulo:function(){var t=m.read(arguments);return new m(this.width%t.width,this.height%t.height)},negate:function(){return new m((-this.width),(-this.height))},isZero:function(){var t=f.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new m(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new m(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new m(Math.random(),Math.random())}}},a.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new m(e(this.width),e(this.height))}},{})),v=m.extend({initialize:function(t,e,i,n){this._width=t,this._height=e,this._owner=i,this._setter=n},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),y=a.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,n){var o,s=typeof t;if("number"===s?(this._set(t,e,i,n),o=4):"undefined"===s||null===t?(this._set(0,0,0,0),o=null===t?1:0):1===arguments.length&&(Array.isArray(t)?(this._set.apply(this,t),o=1):t.x!==r||t.width!==r?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),o=1):t.from===r&&t.to===r&&(this._set(0,0,0,0),a.filter(this,t),o=1)),o===r){var l,u,c=p.readNamed(arguments,"from"),h=a.peek(arguments),f=c.x,d=c.y;if(h&&h.x!==r||a.hasNamed(arguments,"to")){var g=p.readNamed(arguments,"to");l=g.x-f,u=g.y-d,l<0&&(f=g.x,l=-l),u<0&&(d=g.y,u=-u)}else{var v=m.read(arguments);l=v.width,u=v.height}this._set(f,d,l,u),o=arguments.__index;var y=arguments.__filtered;y&&(this.__filtered=y)}return this.__read&&(this.__read=o),this},set:"#initialize",_set:function(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this},clone:function(){return new y(this.x,this.y,this.width,this.height)},equals:function(t){var e=a.isPlainValue(t)?y.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=h.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?p:g;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=p.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?m:v;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=m.read(arguments),e=this._sx,i=this._sy,n=t.width,r=t.height;e&&(this.x+=(this.width-n)*e),i&&(this.y+=(this.height-r)*i),this.width=n,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=.5===this._sx?2*e:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=.5===this._sy?2*e:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=.5===this._sx?2*e:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=.5===this._sy?2*e:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||.5===this._sx?this.x=t-this.width/2:(this._sx&&(this.x+=2*(t-this.x)*this._sx),this.width=2*(t-this.x)),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||.5===this._sy?this.y=t-this.height/2:(this._sy&&(this.y+=2*(t-this.y)*this._sy),this.height=2*(t-this.y)),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?p:g;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=p.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return 0===this.width||0===this.height},contains:function(t){return t&&t.width!==r||4===(Array.isArray(t)?t:arguments).length?this._containsRectangle(y.read(arguments)):this._containsPoint(p.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=y.read(arguments),e=a.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=y.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),n=Math.min(this.x+this.width,t.x+t.width),r=Math.min(this.y+this.height,t.y+t.height);return new y(e,i,n-e,r-i)},unite:function(){var t=y.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x+t.width),r=Math.max(this.y+this.height,t.y+t.height);return new y(e,i,n-e,r-i)},include:function(){var t=p.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),n=Math.max(this.x+this.width,t.x),r=Math.max(this.y+this.height,t.y);return new y(e,i,n-e,r-i)},expand:function(){var t=m.read(arguments),e=t.width,i=t.height;return new y(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===r?t:e)-this.height)}},a.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),n=/^[RL]/.test(i);e>=4&&(t[1]+=n?"Y":"X");var r=t[n?0:1],o=t[n?1:0],s="get"+r,a="get"+o,l="set"+r,u="set"+o,c="get"+i,h="set"+i;this[c]=function(t){var e=t?p:g;return new e(this[s](),this[a](),this,h)},this[h]=function(){var t=p.read(arguments);this[l](t.x),this[u](t.y)}},{beans:!0})),_=y.extend({initialize:function(t,e,i,n,r,o){this._set(t,e,i,n,!0),this._owner=r,this._setter=o},_set:function(t,e,i,n,r){return this._x=t,this._y=e,this._width=i,this._height=n,r||this._owner[this._setter](this),this}},new function(){var t=y.prototype;return a.each(["x","y","width","height"],function(t){var e=a.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._dontNotify||this._owner[this._setter](this)}},a.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(2&this._owner._selection)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),b=a.extend({_class:"Matrix",initialize:function ct(t,e){var i=arguments.length,n=!0;if(i>=6?this._set.apply(this,arguments):1===i||2===i?t instanceof ct?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):n=!1:i?n=!1:this.reset(),!n)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,n,r,o,s){return this._a=t,this._b=e,this._c=i,this._d=n,this._tx=r,this._ty=o,s||this._changed(),this},_serialize:function(t,e){return a.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(9))},clone:function(){return new b(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=h.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return!!i&&(i.transform(null,!0,a.pick(t,!0),e),this.isIdentity())},translate:function(){var t=p.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=p.read(arguments),e=p.read(arguments,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=p.read(arguments,1),i=e.x,n=e.y,r=Math.cos(t),o=Math.sin(t),s=i-i*r+n*o,a=n-i*o-n*r,l=this._a,u=this._b,c=this._c,h=this._d;return this._a=r*l+o*c,this._b=r*u+o*h,this._c=-o*l+r*c,this._d=-o*u+r*h,this._tx+=s*l+a*c,this._ty+=s*u+a*h,this._changed(),this},shear:function(){var t=p.read(arguments),e=p.read(arguments,0,{readNull:!0});e&&this.translate(e);var i=this._a,n=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*n,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var t=p.read(arguments),e=p.read(arguments,0,{readNull:!0}),i=Math.PI/180,n=new p(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(n,e)},append:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,o=this._d,s=t._a,a=t._c,l=t._b,u=t._d,c=t._tx,h=t._ty;this._a=s*i+l*r,this._c=a*i+u*r,this._b=s*n+l*o,this._d=a*n+u*o,this._tx+=c*i+h*r,this._ty+=c*n+h*o,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,n=this._b,r=this._c,o=this._d,s=this._tx,a=this._ty,l=t._a,u=t._c,c=t._b,h=t._d,f=t._tx,d=t._ty;this._a=l*i+u*n,this._c=l*r+u*o,this._b=c*i+h*n,this._d=c*r+h*o,this._tx=l*s+u*a+f,this._ty=c*s+h*a+d,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,n=this._d,r=this._tx,o=this._ty,s=t*n-e*i,a=null;return s&&!isNaN(s)&&isFinite(r)&&isFinite(o)&&(this._a=n/s,this._b=-e/s,this._c=-i/s,this._d=t/s,this._tx=(i*o-n*r)/s,this._ty=(e*r-t*o)/s,a=this),a},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new b(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return 1===this._a&&0===this._b&&0===this._c&&1===this._d&&0===this._tx&&0===this._ty},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(p.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var n=t.x,r=t.y;return e||(e=new p),e._set(n*this._a+r*this._c+this._tx,n*this._b+r*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var n=0,r=2*i;n<r;n+=2){var o=t[n],s=t[n+1];e[n]=o*this._a+s*this._c+this._tx,e[n+1]=o*this._b+s*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,n=e+t.width,r=i+t.height,o=[e,i,n,i,n,r,e,r];return this._transformCoordinates(o,o,4)},_transformBounds:function(t,e,i){for(var n=this._transformCorners(t),r=n.slice(0,2),o=r.slice(),s=2;s<8;s++){var a=n[s],l=1&s;a<r[l]?r[l]=a:a>o[l]&&(o[l]=a)}return e||(e=new y),e._set(r[0],r[1],o[0]-r[0],o[1]-r[1],i)},inverseTransform:function(){return this._inverseTransform(p.read(arguments))},_inverseTransform:function(t,e,i){var n=this._a,r=this._b,o=this._c,s=this._d,a=this._tx,l=this._ty,u=n*s-r*o,c=null;if(u&&!isNaN(u)&&isFinite(a)&&isFinite(l)){var h=t.x-this._tx,f=t.y-this._ty;e||(e=new p),c=e._set((h*s-f*o)/u,(f*n-h*r)/u,i)}return c},decompose:function(){var t,e,i,n=this._a,r=this._b,o=this._c,s=this._d,a=n*s-r*o,l=Math.sqrt,u=Math.atan2,c=180/Math.PI;if(0!==n||0!==r){var h=l(n*n+r*r);t=Math.acos(n/h)*(r>0?1:-1),e=[h,a/h],i=[u(n*o+r*s,h*h),0]}else if(0!==o||0!==s){var f=l(o*o+s*s);t=Math.asin(o/f)*(s>0?1:-1),e=[a/f,f],i=[0,u(n*o+r*s,f*f)]}else t=0,i=e=[0,0];return{translation:this.getTranslation(),rotation:t*c,scaling:new p(e),skewing:new p(i[0]*c,i[1]*c)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new p(this._tx,this._ty)},getScaling:function(){return(this.decompose()||{}).scaling},getRotation:function(){return(this.decompose()||{}).rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},a.each(["a","b","c","d","tx","ty"],function(t){var e=a.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(t){this[i]=t,this._changed()}},{})),x=a.extend({_class:"Line",initialize:function(t,e,i,n,r){var o=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=n,o=r):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,o=i),o||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new p(this._px,this._py)},getVector:function(){return new p(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return x.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return x.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return x.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return p.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return p.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,n,r,o,s,a,l,u){l||(i-=t,n-=e,s-=r,a-=o);var c=i*a-n*s;if(!f.isZero(c)){var h=t-r,d=e-o,g=(s*d-a*h)/c,m=(i*d-n*h)/c,v=1e-12,y=-v,_=1+v;if(u||y<g&&g<_&&y<m&&m<_)return u||(g=g<=0?0:g>=1?1:g),new p(t+g*i,e+g*n)}},getSide:function(t,e,i,n,r,o,s,a){s||(i-=t,n-=e);var l=r-t,u=o-e,c=l*n-u*i;return!a&&f.isZero(c)&&(c=(l*i+l*i)/(i*i+n*n),c>=0&&c<=1&&(c=0)),c<0?-1:c>0?1:0},getSignedDistance:function(t,e,i,n,r,o,s){return s||(i-=t,n-=e),0===i?n>0?r-t:t-r:0===n?i<0?o-e:e-o:((r-t)*n-(o-e)*i)/Math.sqrt(i*i+n*n)},getDistance:function(t,e,i,n,r,o,s){return Math.abs(x.getSignedDistance(t,e,i,n,r,o,s))}}}),w=c.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){c.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new H(null,null,this),this._view=Y.create(this,t||nt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return a.serialize(this._children,t,!0,e)},_changed:function(t,e){if(1&t){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var n=this._changes;if(n&&e){var r=this._changesById,o=e._id,s=r[o];s?s.flags|=t:n.push(r[o]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function ht(){return!!ht.base.call(this)&&(this._view&&this._view.remove(),!0)},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new S({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({"class":k,match:function(i){var n=i._definition,r=n._id;return e[r]||(e[r]=!0,t.push(n)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var n=t[i],r=n._selection;1&r&&n.isInserted()?e.push(n):r||this._updateSelection(n)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(r,t)},insertLayer:function(t,e){if(e instanceof S){e._remove(!1,!0),a.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(r,new S(C.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return C._getItems(this,t)},getItem:function(t){return C._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return a.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){"mouseup"===t&&(e.mousedrag=null);var i=e[t];if(i){for(var n in i){var r=i[n];for(var o in e){var s=e[o];s&&s!=i&&delete s[r._id]}r.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var n=this._children,r=new a({offset:new p(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new b],updateMatrix:!0}),o=0,s=n.length;o<s;o++)n[o].draw(t,r);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var l=this._selectionItems,u=this._scope.settings.handleSize,c=this._updateVersion;for(var h in l)l[h]._drawSelection(t,e,u,l,c);t.restore()}}}),C=a.extend(l,{statics:{extend:function ft(t){return t._serializeFields&&(t._serializeFields=a.set({},this.prototype._serializeFields,t._serializeFields)),ft.base.apply(this,arguments)},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new b,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return a.each(t,function(t){this._events[t]={install:function(t){this.getView()._countItemEvent(t,1)},uninstall:function(t){this.getView()._countItemEvent(t,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&a.isPlainObject(t),o=i&&t.internal===!0,s=this._matrix=new b,l=i&&t.project||n.project,u=n.settings;return this._id=o?null:d.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&u.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new H(l._currentStyle,this,l),o||i&&0==t.insert||!u.insertItems&&(!i||t.insert!==!0)?this._setProject(l):(i&&t.parent||l)._insertItem(r,this,!0),i&&t!==C.NO_INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){function i(i){for(var o in i){
var s=r[o];a.equals(s,"leading"===o?1.2*i.fontSize:i[o])||(n[o]=a.serialize(s,t,"data"!==o,e))}}var n={},r=this;return i(this._serializeFields),this instanceof E||i(this._style._defaults),[this._class,n]},_changed:function(t){var e=this._symbol,i=this._parent||e,n=this._project;8&t&&(this._bounds=this._position=this._decomposed=this._globalMatrix=r),i&&40&t&&C._clearBoundsCache(i),2&t&&C._clearBoundsCache(this),n&&n._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,n=e._namedChildren;(n[t]=n[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||r,this._changed(128)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},a.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=a.capitalize(t),i="_"+t,n={locked:128,visible:137};this["get"+e]=function(){return this[i]},this["set"+e]=function(e){e!=this[i]&&(this[i]=e,this._changed(n[t]||129))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(129))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0;return!!(1&this._selection)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(1&this._selection);if(t&&e){for(var i=0,n=t.length;i<n;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,n=e.length;i<n;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(129),this._parent&&this._parent._changed(1024))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=this._position,i=t?p:g;if(!e){var n=this._pivot;e=this._position=n?this._matrix._transformPoint(n):this.getBounds().getCenter(!0)}return new i(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(p.read(arguments).subtract(this.getPosition(!0)))},getPivot:function(){var t=this._pivot;return t?new g(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=p.read(arguments,0,{clone:!0,readNull:!0}),this._position=r}},a.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(e){return this.getBounds(e,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof b,n=a.set({},i?e:t,this._boundsOptions);n.stroke&&!this.getStrokeScaling()||(n.cacheItem=this);var r=this._getCachedBounds(i&&t,n).rect;return arguments.length?r:new _(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var t=y.read(arguments),e=this.getBounds(),i=this._matrix,n=new b,r=t.getCenter();n.translate(r),t.width==e.width&&t.height==e.height||(i.isInvertible()||(i.set(i._backup||(new b).translate(i.getTranslation())),e=this.getBounds()),n.scale(0!==e.width?t.width/e.width:0,0!==e.height?t.height/e.height:0)),r=e.getCenter(),n.translate(-r.x,-r.y),this.transform(n)},_getBounds:function(t,e){var i=this._children;return i&&i.length?(C._updateBoundsCache(this,e.cacheItem),C._getBounds(i,t,e)):new y},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var n=e.internal&&!i,r=e.cacheItem,o=n?null:this._matrix._orNullIfIdentity(),s=r&&(!t||t.equals(o))&&this._getBoundsCacheKey(e,n),a=this._bounds;if(C._updateBoundsCache(this._parent||this._symbol,r),s&&a&&s in a){var l=a[s];return{rect:l.rect.clone(),nonscaling:l.nonscaling}}var u=this._getBounds(t||o,e),c=u.rect||u,h=this._style,f=u.nonscaling||h.hasStroke()&&!h.getStrokeScaling();if(s){a||(this._bounds=a={});var l=a[s]={rect:c.clone(),nonscaling:f,internal:n}}return{rect:c,nonscaling:f}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,n=i?i.getViewMatrix().invert():t;return n&&n._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,n=t._boundsCache=t._boundsCache||{ids:{},list:[]};n.ids[i]||(n.list.push(e),n.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=r;for(var i=0,n=e.list,o=n.length;i<o;i++){var s=n[i];s!==t&&(s._bounds=s._position=r,s._boundsCache&&C._clearBoundsCache(s))}}},_getBounds:function(t,e,i){var n=1/0,r=-n,o=n,s=r,a=!1;i=i||{};for(var l=0,u=t.length;l<u;l++){var c=t[l];if(c._visible&&!c.isEmpty()){var h=c._getCachedBounds(e&&e.appended(c._matrix),i,!0),f=h.rect;n=Math.min(f.x,n),o=Math.min(f.y,o),r=Math.max(f.x+f.width,r),s=Math.max(f.y+f.height,s),h.nonscaling&&(a=!0)}}return{rect:isFinite(n)?new y(n,o,r-n,s-o):new y,nonscaling:a}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(null!=e&&null!=t){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new g(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=p.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),n=this._decomposed,r=new b,o=this.getPosition(!0);r.translate(o),i&&r.rotate(i),r.scale(e.x/t.x,e.y/t.y),i&&r.rotate(-i),r.translate(o.negate()),this.transform(r),n&&(n.scaling=e,this._decomposed=n)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix,i=this._project._updateVersion;if(e&&e._updateVersion!==i&&(e=null),!e){e=this._globalMatrix=this._matrix.clone();var n=this._parent;n&&e.prepend(n.getGlobalMatrix(!0)),e._updateVersion=i}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,n=0,r=i&&i.length;n<r;n++)i[n]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function dt(t){dt.base.call(this,t);for(var e=this._children,i=0,n=e&&e.length;i<n;i++)e[i]._installEvents(t)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof S)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return a.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(C.NO_INSERT),i=this._children,n=a.pick(t?t.insert:r,t===r||t===!0),o=a.pick(t?t.deep:r,!0);i&&e.copyAttributes(this),i&&!o||e.copyContent(this),i||e.copyAttributes(this),n&&e.insertAbove(this);var s=this._name,l=this._parent;if(s&&l){for(var i=l._children,u=s,c=1;i[s];)s=u+" "+c++;s!==u&&e.setName(s)}return e},copyContent:function(t){for(var e=t._children,i=0,n=e&&e.length;i<n;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],n=0,r=i.length;n<r;n++){var o=i[n];t.hasOwnProperty(o)&&(this[o]=t[o])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var s=t._data,l=t._name;this._data=s?a.clone(s):null,l&&this.setName(l)},rasterize:function(t,e){var i=this.getStrokeBounds(),n=(t||this.getView().getResolution())/72,o=i.getTopLeft().floor(),s=i.getBottomRight().ceil(),l=new m(s.subtract(o)),u=new I(C.NO_INSERT);if(!l.isZero()){var c=nt.getCanvas(l.multiply(n)),h=c.getContext("2d"),f=(new b).scale(n).translate(o.negate());h.save(),f.applyToContext(h),this.draw(h,new a({matrices:[f]})),h.restore(),u.setCanvas(c)}return u.transform((new b).translate(o.add(l.divide(2))).scale(1/n)),(e===r||e)&&u.insertAbove(this),u},contains:function(){return!!this._contains(this._matrix._inverseTransform(p.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return y.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new j.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof C&&this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0}},new function(){function t(){return this._hitTest(p.read(arguments),L.getOptions(arguments))}function e(){var t=p.read(arguments),e=L.getOptions(arguments),i=[];return this._hitTest(t,a.set({all:i},e)),i}function i(t,e,i,n){var r=this._children;if(r)for(var o=r.length-1;o>=0;o--){var s=r[o],a=s!==n&&s._hitTest(t,e,i);if(a&&!e.all)return a}return null}return w.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){function n(t){return t&&d&&!d(t)&&(t=null),t&&e.all&&e.all.push(t),t}function r(e,i){var n=i?c["get"+i]():p.getPosition();if(t.subtract(n).divide(u).length<=1)return new L(e,p,{name:i?a.hyphenate(i):e,point:n})}if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var o=this._matrix,s=i?i.appended(o):this.getGlobalMatrix().prepend(this.getView()._matrix),l=Math.max(e.tolerance,1e-12),u=e._tolerancePadding=new m(j._getStrokePadding(l,o._shiftless().invert()));if(t=o._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(u.multiply(2))._containsPoint(t))return null;var c,h,f=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==a.hyphenate(this._class)||e["class"]&&!(this instanceof e["class"])),d=e.match,p=this,g=e.position,v=e.center,y=e.bounds;if(f&&this._parent&&(g||v||y)){if((v||y)&&(c=this.getInternalBounds()),h=g&&r("position")||v&&r("center","Center"),!h&&y)for(var _=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],b=0;b<8&&!h;b++)h=r("bounds",_[b]);h=n(h)}return h||(h=this._hitTestChildren(t,e,s)||f&&n(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),h&&h.point&&(h.point=o.transform(h.point)),h},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new L("fill",this)},matches:function(t,e){function i(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],o=e[n];if(a.isPlainObject(r)&&a.isPlainObject(o)){if(!i(r,o))return!1}else if(!a.equals(r,o))return!1}return!0}var n=typeof t;if("object"===n){for(var r in t)if(t.hasOwnProperty(r)&&!this.matches(r,t[r]))return!1;return!0}if("function"===n)return t(this);if("match"===t)return e(this);var o=/^(empty|editable)$/.test(t)?this["is"+a.capitalize(t)]():"type"===t?a.hyphenate(this._class):this[t];if("class"===t){if("function"==typeof e)return this instanceof e;o=this._class}if("function"==typeof e)return!!e(o);if(e){if(e.test)return e.test(o);if(a.isPlainObject(e))return i(e,o)}return a.equals(o,e)},getItems:function(t){return C._getItems(this,t,this._matrix)},getItem:function(t){return C._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function pt(t,e,i,n,r){if(!n){var o="object"==typeof e&&e,s=o&&o.overlapping,l=o&&o.inside,u=s||l,c=u&&y.read([u]);n={items:[],recursive:o&&o.recursive!==!1,inside:!!l,overlapping:!!s,rect:c,path:s&&new j.Rectangle({rectangle:c,insert:!1})},o&&(e=a.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var h=t._children,f=n.items,c=n.rect;i=c&&(i||new b);for(var d=0,p=h&&h.length;d<p;d++){var g=h[d],m=i&&i.appended(g._matrix),v=!0;if(c){var u=g.getBounds(m);if(!c.intersects(u))continue;c.contains(u)||n.overlapping&&(u.contains(c)||n.path.intersects(g,m))||(v=!1)}if(v&&g.matches(e)&&(f.push(g),r))break;if(n.recursive!==!1&&pt(g,e,m,n,r),r&&f.length>0)break}return f}}},{importJSON:function(t){var e=a.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(r,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=a.slice(e);for(var n={},r=e.length-1;r>=0;r--){var o=e[r],s=o&&o._id;!o||n[s]?e.splice(r,1):(o._remove(!1,!0),n[s]=!0)}a.splice(i,e,t,0);for(var l=this._project,u=l._changes,r=0,c=e.length;r<c;r++){var o=e[r],h=o._name;o._parent=this,o._setProject(l,!0),h&&o.setName(h),u&&o._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),n=t!==this&&i?this:null;return n&&(n._remove(!1,!0),i._insertItem(t._index+e,n)),n},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(r,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(r,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&1===e.length){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,n=this._name,r=i[n],o=r?r.indexOf(this):-1;o!==-1&&(e[n]==this&&delete e[n],r.splice(o,1),r.length?e[n]=r[0]:delete i[n])}},_remove:function(t,e){var i=this._getOwner(),n=this._project,r=this._index;return!!i&&(this._name&&this._removeNamed(),null!=r&&(n._activeLayer===this&&(n._activeLayer=this.getNextSibling()||this.getPreviousSibling()),a.splice(i._children,null,r,1)),this._installEvents(!1),t&&n._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0)},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=a.pick(e,this._children.length);for(var i=a.splice(this._children,null,t,e-t),n=i.length-1;n>=0;n--)i[n]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(){var t=this._children;return!t||!t.length},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(t){var e=[];do e.unshift(t);while(t=t._parent);return e}for(var i=e(this),n=e(t),r=0,o=Math.min(i.length,n.length);r<o;r++)if(i[r]!=n[r])return i[r]._index<n[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return!!this._parent&&this._parent.isInserted()},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return 1===this._getOrder(t)},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return!!t&&t.isDescendant(this)},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},a.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?a:p).read(arguments),n=p.read(arguments,0,{readNull:!0});return this.transform((new b)[t](i,n||this.getPosition(!0)))}},{translate:function(){var t=new b;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i,n){var r=this._matrix,o=t&&!t.isIdentity(),s=(e||this._applyMatrix)&&(!r.isIdentity()||o||e&&i&&this._children);if(!o&&!s)return this;if(o){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var a=this._style,l=a.getFillColor(!0),u=a.getStrokeColor(!0);l&&l.transform(t),u&&u.transform(t)}if(s&&(s=this._transformContent(r,i,n))){var c=this._pivot;c&&r._transformPoint(c,c,!0),r.reset(!0),n&&this._canApplyMatrix&&(this._applyMatrix=!0)}var h=this._bounds,f=this._position;(o||s)&&this._changed(9);var d=o&&h&&t.decompose();if(d&&d.skewing.isZero()&&d.rotation%90===0){for(var p in h){var g=h[p];if(g.nonscaling)delete h[p];else if(s||!g.internal){var m=g.rect;t._transformBounds(m,m)}}this._bounds=h;var v=h[this._getBoundsCacheKey(this._boundsOptions||{})];v&&(this._position=v.rect.getCenter(!0))}else o&&f&&this._pivot&&(this._position=t._transformPoint(f,f));return this},_transformContent:function(t,e,i){var n=this._children;if(n){for(var r=0,o=n.length;r<o;r++)n[r].transform(t,!0,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(p.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(p.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(p.read(arguments))},localToParent:function(){return this._matrix._transformPoint(p.read(arguments))},fitBounds:function(t,e){t=y.read(arguments);var i=this.getBounds(),n=i.height/i.width,r=t.height/t.width,o=(e?n>r:n<r)?t.width/i.width:t.height/i.height,s=new y(new p,new m(i.width*o,i.height*o));s.setCenter(t.getCenter()),this.setBounds(s)}}),{_setStyles:function(t,e,i){var r=this._style,o=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,o)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,o),t.lineWidth=r.getStrokeWidth();var s=r.getStrokeJoin(),a=r.getStrokeCap(),l=r.getMiterLimit();if(s&&(t.lineJoin=s),a&&(t.lineCap=a),l&&(t.miterLimit=l),n.support.nativeDash){var u=r.getDashArray(),c=r.getDashOffset();u&&u.length&&("setLineDash"in t?(t.setLineDash(u),t.lineDashOffset=c):(t.mozDash=u,t.mozDashOffset=c))}}if(r.hasShadow()){var h=e.pixelRatio||1,f=i._shiftless().prepend((new b).scale(h,h)),d=f.transform(new p(r.getShadowBlur(),0)),g=f.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=d.getLength(),t.shadowOffsetX=g.x,t.shadowOffsetY=g.y}},draw:function(t,e,i){var n=this._updateVersion=this._project._updateVersion;if(this._visible&&0!==this._opacity){var r=e.matrices,o=e.viewMatrix,s=this._matrix,a=r[r.length-1].appended(s);if(a.isInvertible()){o=o?o.appended(a):a,r.push(a),e.updateMatrix&&(a._updateVersion=n,this._globalMatrix=a);var l,u,c,h=this._blendMode,f=this._opacity,d="normal"===h,p=rt.nativeModes[h],g=d&&1===f||e.dontStart||e.clip||(p||d&&f<1)&&this._canComposite(),m=e.pixelRatio||1;if(!g){var v=this.getStrokeBounds(o);if(!v.width||!v.height)return;c=e.offset,u=e.offset=v.getTopLeft().floor(),l=t,t=nt.getContext(v.getSize().ceil().add(1).multiply(m)),1!==m&&t.scale(m,m)}t.save();var y=i?i.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&o,_=!g&&e.clipItem,b=!y||_;if(g?(t.globalAlpha=f,p&&(t.globalCompositeOperation=h)):b&&t.translate(-u.x,-u.y),b&&(g?s:o).applyToContext(t),_&&e.clipItem.draw(t,e.extend({clip:!0})),y){t.setTransform(m,0,0,m,0,0);var x=e.offset;x&&t.translate(-x.x,-x.y)}this._draw(t,e,o,y),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(),g||(rt.process(h,t,l,f,u.subtract(c).multiply(m)),nt.release(t),e.offset=c)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof D)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,n,r){var o=this._selection,s=1&o,a=2&o||s&&this._selectBounds,l=4&o;if(this._drawSelected||(s=!1),(s||a||l)&&this._isUpdated(r)){var u,c=this.getSelectedColor(!0)||(u=this.getLayer())&&u.getSelectedColor(!0),h=e.appended(this.getGlobalMatrix(!0)),f=i/2;if(t.strokeStyle=t.fillStyle=c?c.toCanvasStyle(t):"#009dec",s&&this._drawSelected(t,h,n),l){var d=this.getPosition(!0),p=d.x,g=d.y;t.beginPath(),t.arc(p,g,f,0,2*Math.PI,!0),t.stroke();for(var m=[[0,-1],[1,0],[0,1],[-1,0]],v=f,y=i+1,_=0;_<4;_++){var b=m[_],x=b[0],w=b[1];t.moveTo(p+x*v,g+w*v),t.lineTo(p+x*y,g+w*y),t.stroke()}}if(a){var C=h._transformCorners(this.getInternalBounds());t.beginPath();for(var _=0;_<8;_++)t[_?"lineTo":"moveTo"](C[_],C[++_]);t.closePath(),t.stroke();for(var _=0;_<8;_++)t.fillRect(C[_]-f,C[++_]-f,i,i)}}},_canComposite:function(){return!1}},a.each(["down","drag","up","move"],function(t){this["removeOn"+a.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,n=this._project,r=n._removeSets=n._removeSets||{};r[i]=r[i]||{},r[i][this._id]=this}return this}})),E=C.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function gt(t){gt.base.call(this,t),1026&t&&(this._clipItem=r)},_getClipItem:function(){var t=this._clipItem;if(t===r){t=null;for(var e=this._children,i=0,n=e.length;i<n;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function mt(t,e){var i=this._getClipItem();return i?i._getCachedBounds(t&&t.appended(i._matrix),a.set({},e,{stroke:!1})):mt.base.call(this,t,e)},_hitTestChildren:function vt(t,e,i){var n=this._getClipItem();return(!n||n.contains(t))&&vt.base.call(this,t,e,i,n)},_draw:function(t,e){var i=e.clip,n=!i&&this._getClipItem();e=e.extend({clipItem:n,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):n&&n.draw(t,e.extend({clip:!0}));for(var r=this._children,o=0,s=r.length;o<s;o++){var a=r[o];a!==n&&a.draw(t,e)}}}),S=E.extend({_class:"Layer",initialize:function(){E.apply(this,arguments)},_getOwner:function(){return this._parent||null!=this._index&&this._project},isInserted:function yt(){return this._parent?yt.base.call(this):null!=this._index},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),T=C.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&a.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new v(t.width,t.height,this,"setSize")},setSize:function(){var t=m.read(arguments);if(this._size){if(!this._size.equals(t)){var e=this._type,i=t.width,n=t.height;"rectangle"===e?this._radius.set(m.min(this._radius,t.divide(2))):"circle"===e?(i=n=(i+n)/2,this._radius=i/2):"ellipse"===e&&this._radius._set(i/2,n/2),this._size._set(i,n),this._changed(9)}}else this._size=t.clone()},getRadius:function(){var t=this._radius;return"circle"===this._type?t:new v(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if("circle"===e){if(t===this._radius)return;var i=2*t;this._radius=t,this._size._set(i,i)}else if(t=m.read(arguments),this._radius){if(this._radius.equals(t))return;if(this._radius.set(t),"rectangle"===e){var i=m.max(this._size,t.multiply(2));this._size.set(i)}else"ellipse"===e&&this._size._set(2*t.width,2*t.height)}else this._radius=t.clone();this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new(j[a.capitalize(this._type)])({center:new p,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),n.settings.applyMatrix&&e.setApplyMatrix(!0),(t===r||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,n){var r=this._style,o=r.hasFill(),s=r.hasStroke(),a=e.dontFinish||e.clip,l=!n;if(o||s||a){var u=this._type,c=this._radius,h="circle"===u;if(e.dontStart||t.beginPath(),l&&h)t.arc(0,0,c,0,2*Math.PI,!0);else{var f=h?c:c.width,d=h?c:c.height,p=this._size,g=p.width,m=p.height;if(l&&"rectangle"===u&&0===f&&0===d)t.rect(-g/2,-m/2,g,m);else{var v=g/2,y=m/2,_=.44771525016920644,b=f*_,x=d*_,w=[-v,-y+d,-v,-y+x,-v+b,-y,-v+f,-y,v-f,-y,v-b,-y,v,-y+x,v,-y+d,v,y-d,v,y-x,v-b,y,v-f,y,-v+f,y,-v+b,y,-v,y-x,-v,y-d];n&&n.transform(w,w,32),t.moveTo(w[0],w[1]),t.bezierCurveTo(w[2],w[3],w[4],w[5],w[6],w[7]),v!==f&&t.lineTo(w[8],w[9]),t.bezierCurveTo(w[10],w[11],w[12],w[13],w[14],w[15]),y!==d&&t.lineTo(w[16],w[17]),t.bezierCurveTo(w[18],w[19],w[20],w[21],w[22],w[23]),v!==f&&t.lineTo(w[24],w[25]),t.bezierCurveTo(w[26],w[27],w[28],w[29],w[30],w[31])}}t.closePath()}a||!o&&!s||(this._setStyles(t,e,i),o&&(t.fill(r.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),s&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new y(this._size).setCenter(0,0),n=this._style,r=e.stroke&&n.hasStroke()&&n.getStrokeWidth();return t&&(i=t._transformBounds(i)),r?i.expand(j._getStrokePadding(r,this._getStrokeMatrix(t,e))):i}},new function(){function t(t,e,i){var n=t._radius;if(!n.isZero())for(var r=t._size.divide(2),o=1;o<=4;o++){var s=new p(o>1&&o<4?-1:1,o>2?-1:1),a=s.multiply(r),l=a.subtract(s.multiply(n)),u=new y(i?a.add(s.multiply(i)):a,l);if(u.contains(e))return{point:l,quadrant:o}}}function e(t,e,i,n){var r=t.divide(e);return(!n||r.isInQuadrant(n))&&r.subtract(r.normalize()).multiply(e).divide(i).length<=1}return{_contains:function i(e){if("rectangle"===this._type){var n=t(this,e);return n?e.subtract(n.point).divide(this._radius).getLength()<=1:i.base.call(this,e)}return e.divide(this.size).getLength()<=.5},_hitTestSelf:function n(i,r,o,s){var a=!1,l=this._style,u=r.stroke&&l.hasStroke(),c=r.fill&&l.hasFill();if(u||c){var h=this._type,f=this._radius,d=u?l.getStrokeWidth()/2:0,p=r._tolerancePadding.add(j._getStrokePadding(d,!l.getStrokeScaling()&&s));if("rectangle"===h){var g=p.multiply(2),m=t(this,i,g);if(m)a=e(i.subtract(m.point),f,p,m.quadrant);else{var v=new y(this._size).setCenter(0,0),_=v.expand(g),b=v.expand(g.negate());a=_._containsPoint(i)&&!b._containsPoint(i)}}else a=e(i,f,p)}return a?new L(u?"stroke":"fill",this):n.base.apply(this,arguments)}}},{statics:new function(){function t(t,e,i,n,r){var o=new T(a.getNamed(r),e);return o._type=t,o._size=i,o._radius=n,o}return{Circle:function(){var e=p.readNamed(arguments,"center"),i=a.readNamed(arguments,"radius");return t("circle",e,new m(2*i),i,arguments)},Rectangle:function(){var e=y.readNamed(arguments,"rectangle"),i=m.min(m.readNamed(arguments,"radius"),e.getSize(!0).divide(2));return t("rectangle",e.getCenter(!0),e.getSize(!0),i,arguments)},Ellipse:function(){var e=T._readEllipse(arguments),i=e.radius;return t("ellipse",e.center,i.multiply(2),i,arguments)},_readEllipse:function(t){var e,i;if(a.hasNamed(t,"radius"))e=p.readNamed(t,"center"),i=m.readNamed(t,"radius");else{var n=y.readNamed(t,"rectangle");e=n.getCenter(!0),i=n.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),I=C.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],initialize:function(t,e){if(!this._initialize(t,e!==r&&p.read(arguments,1))){var i="string"==typeof t?s.getElementById(t):t;i?this.setImage(i):this.setSource(t)}this._size||(this._size=new m,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var n=nt.getCanvas(t._size);n.getContext("2d").drawImage(i,0,0),this._setImage(n)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new v(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(){var t=m.read(arguments);if(!t.equals(this._size))if(t.width>0&&t.height>0){var e=this.getElement();this._setImage(nt.getCanvas(t)),e&&this.getContext(!0).drawImage(e,0,0,t.width,t.height)}else this._canvas&&nt.release(this._canvas),this._size=t.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||0===t.width&&0===t.height},getResolution:function(){var t=this._matrix,e=new p(0,0).transform(t),i=new p(1,0).transform(t).subtract(e),n=new p(0,1).transform(t).subtract(e);return new m(72/i.getLength(),72/n.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){function e(t){var e=i.getView(),r=t&&t.type||"load";e&&i.responds(r)&&(n=e._scope,i.emit(r,new Z(t)))}var i=this;this._setImage(t),this._loaded?setTimeout(e,0):t&&W.add(t,{load:function(n){i._setImage(t),e(n)},error:e})},_setImage:function(t){this._canvas&&nt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new m(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(521)},getCanvas:function(){if(!this._canvas){var t=nt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch(e){nt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(513)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new i.Image,n=this._crossOrigin;n&&(e.crossOrigin=n),e.src=t,this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||"";
},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=y.read(arguments),e=nt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=y.read(arguments),e=new I(C.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=p.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof N?(i=t,e=t.getBounds()):"object"==typeof t&&("width"in t?e=new y(t):"x"in t&&(e=new y(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var n=32,r=Math.min(e.width,n),o=Math.min(e.height,n),s=I._sampleContext;s?s.clearRect(0,0,n+1,n+1):s=I._sampleContext=nt.getContext(new m(n)),s.save();var l=(new b).scale(r/e.width,o/e.height).translate(-e.x,-e.y);l.applyToContext(s),i&&i.draw(s,new a({clip:!0,matrices:[l]})),this._matrix.applyToContext(s);var u=this.getElement(),c=this._size;u&&s.drawImage(u,-c.width/2,-c.height/2),s.restore();for(var h=s.getImageData(.5,.5,Math.ceil(r),Math.ceil(o)).data,f=[0,0,0],d=0,p=0,g=h.length;p<g;p+=4){var v=h[p+3];d+=v,v/=255,f[0]+=h[p]*v,f[1]+=h[p+1]*v,f[2]+=h[p+2]*v}for(var p=0;p<3;p++)f[p]/=d;return d?q.read(f):null},getPixel:function(){var t=p.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new q("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=p.read(arguments),e=q.read(arguments),i=e._convert("rgb"),n=e._alpha,r=this.getContext(!0),o=r.createImageData(1,1),s=o.data;s[0]=255*i[0],s[1]=255*i[1],s[2]=255*i[2],s[3]=null!=n?255*n:255,r.putImageData(o,t.x,t.y)},createImageData:function(){var t=m.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=y.read(arguments);return t.isEmpty()&&(t=new y(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},setImageData:function(t){var e=p.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},_getBounds:function(t,e){var i=new y(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new L("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t){var e=this.getElement();e&&(t.globalAlpha=this._opacity,t.drawImage(e,-this._size.width/2,-this._size.height/2))},_canComposite:function(){return!0}}),k=C.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==r&&p.read(arguments,1))||this.setDefinition(t instanceof P?t:new P(t))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var n=this._definition._item._hitTest(t,e,i);return n&&(n.item=this),n},_draw:function(t,e){this._definition._item.draw(t,e)}}),P=a.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=d.get(),this.project=n.project,t&&this.setItem(t,e)},_serialize:function(t,e){return e.add(this,function(){return a.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){8&t&&C._clearBoundsCache(this),1&t&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new p),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new k(this,t)},clone:function(){return new P(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),L=a.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(t){var e=t&&a.read(t);return a.set({type:null,tolerance:n.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),O=a.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,n,o,s){var a,l,u,c,h=arguments.length;h>0&&(null==t||"object"==typeof t?1===h&&t&&"point"in t?(a=t.point,l=t.handleIn,u=t.handleOut,c=t.selection):(a=t,l=e,u=i,c=n):(a=[t,e],l=i!==r?[i,n]:null,u=o!==r?[o,s]:null)),new A(a,this,"_point"),new A(l,this,"_handleIn"),new A(u,this,"_handleOut"),c&&this.setSelection(c)},_serialize:function(t,e){var i=this._point,n=this._selection,r=n||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return n&&r.push(n),a.serialize(r,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i,n=e._curves,r=this._index;n&&(t&&t!==this._point&&t!==this._handleIn||!(i=r>0?n[r-1]:e._closed?n[n.length-1]:null)||i._changed(),t&&t!==this._point&&t!==this._handleOut||!(i=n[r])||i._changed()),e._changed(25)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(p.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(p.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(p.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(129))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(7&this._selection)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==r?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new R(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var n=t||{},o=n.type,s=n.factor,a=this.getPrevious(),l=this.getNext(),u=(a||this)._point,c=this._point,h=(l||this)._point,f=u.getDistance(c),d=c.getDistance(h);if(o&&"catmull-rom"!==o){if("geometric"!==o)throw new Error("Smoothing method '"+o+"' not supported.");if(a&&l){var g=u.subtract(h),m=s===r?.4:s,v=m*f/(f+d);e||this.setHandleIn(g.multiply(v)),i||this.setHandleOut(g.multiply(v-m))}}else{var y=s===r?.5:s,_=Math.pow(f,y),b=_*_,x=Math.pow(d,y),w=x*x;if(!e&&a){var C=2*w+3*x*_+b,E=3*x*(x+_);this.setHandleIn(0!==E?new p((w*u._x+C*c._x-b*h._x)/E-c._x,(w*u._y+C*c._y-b*h._y)/E-c._y):new p)}if(!i&&l){var C=2*b+3*_*x+w,E=3*_*(_+x);this.setHandleOut(0!==E?new p((b*h._x+C*c._x-w*u._x)/E-c._x,(b*h._y+C*c._y-w*u._y)/E-c._y):new p)}}},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new O(this._point,this._handleOut,this._handleIn)},remove:function(){return!!this._path&&!!this._path.removeSegment(this._index)},clone:function(){return new O(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var n=1-i,r=i,o=t._point,s=e._point,a=t._handleIn,l=e._handleIn,u=e._handleOut,c=t._handleOut;this._point._set(n*o._x+r*s._x,n*o._y+r*s._y,!0),this._handleIn._set(n*a._x+r*l._x,n*a._y+r*l._y,!0),this._handleOut._set(n*c._x+r*u._x,n*c._y+r*u._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var n=this._point,r=i&&this._handleIn.isZero()?null:this._handleIn,o=i&&this._handleOut.isZero()?null:this._handleOut,s=n._x,a=n._y,l=2;return e[0]=s,e[1]=a,r&&(e[l++]=r._x+s,e[l++]=r._y+a),o&&(e[l++]=o._x+s,e[l++]=o._y+a),t&&(t._transformCoordinates(e,e,l/2),s=e[0],a=e[1],i?(n._x=s,n._y=a,l=2,r&&(r._x=e[l++]-s,r._y=e[l++]-a),o&&(o._x=e[l++]-s,o._y=e[l++]-a)):(r||(e[l++]=s,e[l++]=a),o||(e[l++]=s,e[l++]=a))),e}}),A=p.extend({initialize:function(t,e,i){var n,o,s;if(t)if((n=t[0])!==r)o=t[1];else{var a=t;(n=a.x)===r&&(a=p.read(arguments),n=a.x),o=a.y,s=a.selected}else n=o=0;this._x=n,this._y=o,this._owner=e,e[i]=this,s&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=f.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),M=a.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,n,r,o,s,a){var l,u,c,h,f,d,p=arguments.length;3===p?(this._path=t,l=e,u=i):p?1===p?"segment1"in t?(l=new O(t.segment1),u=new O(t.segment2)):"point1"in t?(c=t.point1,f=t.handle1,d=t.handle2,h=t.point2):Array.isArray(t)&&(c=[t[0],t[1]],h=[t[6],t[7]],f=[t[2]-t[0],t[3]-t[1]],d=[t[4]-t[6],t[5]-t[7]]):2===p?(l=new O(t),u=new O(e)):4===p?(c=t,f=e,d=i,h=n):8===p&&(c=[t,e],h=[s,a],f=[i-t,n-e],d=[r-s,o-a]):(l=new O,u=new O),this._segment1=l||new O(c,null,f),this._segment2=u||new O(h,d,null)},_serialize:function(t,e){return a.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=r},clone:function(){return new M(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return M.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(p.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(p.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(p.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(p.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return M.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new p(t[i],t[i+1]));return e}},{getLength:function(){return null==this._length&&(this._length=M.getLength(this.getValues(),0,1)),this._length},getArea:function(){return M.getArea(this.getValues())},getLine:function(){return new x(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new M(M.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return M.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,n=1-i,r=null;if(t>=i&&t<=n){var o=M.subdivide(this.getValues(),t),s=o[0],a=o[1],l=e||this.hasHandles(),u=this._segment1,c=this._segment2,h=this._path;l&&(u._handleOut._set(s[2]-s[0],s[3]-s[1]),c._handleIn._set(a[4]-a[6],a[5]-a[7]));var f=s[6],d=s[7],g=new O(new p(f,d),l&&new p(s[4]-f,s[5]-d),l&&new p(a[2]-f,a[3]-d));h?(h.insert(u._index+1,g),r=this.getNext()):(this._segment2=g,this._changed(),r=new M(g,c))}return r},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===r?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===r?.5:e?t:this.getTimeAt(t))},reversed:function(){return new M(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,n){var r=t._point,o=t._handleOut,s=e._handleIn,a=e._point,l=r.x,u=r.y,c=a.x,h=a.y,f=n?[l,u,l,u,c,h,c,h]:[l,u,l+o._x,u+o._y,c+s._x,h+s._y,c,h];return i&&i._transformCoordinates(f,f,4),f},subdivide:function(t,e){var i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7];e===r&&(e=.5);var h=1-e,f=h*i+e*o,d=h*n+e*s,p=h*o+e*a,g=h*s+e*l,m=h*a+e*u,v=h*l+e*c,y=h*f+e*p,_=h*d+e*g,b=h*p+e*m,x=h*g+e*v,w=h*y+e*b,C=h*_+e*x;return[[i,n,f,d,y,_,w,C],[w,C,b,x,m,v,u,c]]},getMonoCurves:function(t,e){var i=[],n=e?0:1,r=t[n+0],o=t[n+2],s=t[n+4],a=t[n+6];if(r>=o==o>=s&&o>=s==s>=a||M.isStraight(t))i.push(t);else{var l=3*(o-s)-r+a,u=2*(r+s)-4*o,c=o-r,h=1e-8,d=1-h,p=[],g=f.solveQuadratic(l,u,c,p,h,d);if(g){p.sort();var m=p[0],v=M.subdivide(t,m);i.push(v[0]),g>1&&(m=(p[1]-m)/(1-m),v=M.subdivide(v[1],m),i.push(v[0])),i.push(v[1])}else i.push(t)}return i},solveCubic:function(t,e,i,n,r,o){var s=t[e],a=t[e+2],l=t[e+4],u=t[e+6],c=0;if(!(s<i&&u<i&&a<i&&l<i||s>i&&u>i&&a>i&&l>i)){var h=3*(a-s),d=3*(l-a)-h,p=u-s-h-d;c=f.solveCubic(p,d,h,s-i,n,r,o)}return c},getTimeOf:function(t,e){var i=new p(t[0],t[1]),n=new p(t[6],t[7]),r=1e-12,o=1e-7,s=e.isClose(i,r)?0:e.isClose(n,r)?1:null;if(null===s)for(var a=[e.x,e.y],l=[],u=0;u<2;u++)for(var c=M.solveCubic(t,u,a[u],l,0,1),h=0;h<c;h++){var f=l[h];if(e.isClose(M.getPoint(t,f),o))return f}return e.isClose(i,o)?0:e.isClose(n,o)?1:null},getNearestTime:function(t,e){function i(i){if(i>=0&&i<=1){var n=e.getDistance(M.getPoint(t,i),!0);if(n<f)return f=n,d=i,!0}}if(M.isStraight(t)){var n=t[0],r=t[1],o=t[6],s=t[7],a=o-n,l=s-r,u=a*a+l*l;if(0===u)return 0;var c=((e.x-n)*a+(e.y-r)*l)/u;return c<1e-12?0:c>.999999999999?1:M.getTimeOf(t,new p(n+c*a,r+c*l))}for(var h=100,f=1/0,d=0,g=0;g<=h;g++)i(g/h);for(var m=1/(2*h);m>1e-8;)i(d-m)||i(d+m)||(m/=2);return d},getPart:function(t,e,i){var n=e>i;if(n){var r=e;e=i,i=r}return e>0&&(t=M.subdivide(t,e)[1]),i<1&&(t=M.subdivide(t,(i-e)/(1-e))[0]),n?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=t[6],u=t[7],c=3*r-2*i-l,h=3*o-2*n-u,f=3*s-2*l-i,d=3*a-2*u-n;return Math.max(c*c,f*f)+Math.max(h*h,d*d)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7];return 3*((l-i)*(n+o)-(a-e)*(r+s)+r*(e-o)-n*(i-s)+l*(o+e/3)-a*(s+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),n=[0,0],r=0;r<2;r++)M._addBounds(t[r],t[r+2],t[r+4],t[r+6],r,0,e,i,n);return new y(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,n,r,o,s,a,l){function u(t,e){var i=t-e,n=t+e;i<s[r]&&(s[r]=i),n>a[r]&&(a[r]=n)}o/=2;var c=s[r]-o,h=a[r]+o;if(t<c||e<c||i<c||n<c||t>h||e>h||i>h||n>h)if(e<t!=e<n&&i<t!=i<n)u(t,o),u(n,o);else{var d=3*(e-i)-t+n,p=2*(t+i)-4*e,g=e-t,m=f.solveQuadratic(d,p,g,l),v=1e-8,y=1-v;u(n,0);for(var _=0;_<m;_++){var b=l[_],x=1-b;v<=b&&b<=y&&u(x*x*x*t+3*x*x*b*e+3*x*b*b*i+b*b*b*n,o)}}}}},a.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=j[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),a.each({isStraight:function(t,e,i,n){if(e.isZero()&&i.isZero())return!0;var r=n.subtract(t);if(r.isZero())return!1;if(r.isCollinear(e)&&r.isCollinear(i)){var o=new x(t,n),s=1e-7;if(o.getDistance(t.add(e))<s&&o.getDistance(n.add(i))<s){var a=r.dot(r),l=r.dot(e)/a,u=r.dot(i)/a;return l>=0&&l<=1&&u<=0&&u>=-1}}return!1},isLinear:function(t,e,i,n){var r=n.subtract(t).divide(3);return e.equals(r)&&i.negate().equals(r)}},function(t,e){this[e]=function(e){var i=this._segment1,n=this._segment2;return t(i._point,i._handleOut,n._handleIn,n._point,e)},this.statics[e]=function(e,i){var n=e[0],r=e[1],o=e[6],s=e[7];return t(new p(n,r),new p(e[2]-n,e[3]-r),new p(e[4]-o,e[5]-s),new p(o,s),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return null!=t&&t>=0&&t<=1?new R(this,t):null},getTimeAt:function(t,e){return M.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(p.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return M.getTimeOf(this.getValues(),p.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=p.read(arguments),e=this.getValues(),i=M.getNearestTime(e,t),n=M.getPoint(e,i);return new R(this,i,n,null,t.getDistance(n))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return a.each(t,function(t){this[t+"At"]=function(e,i){var n=this.getValues();return M[t](n,i?e:M.getTimeAt(n,e))},this[t+"AtTime"]=function(e){return M[t](this.getValues(),e)}},{statics:{_evaluateMethods:t}})},new function(){function t(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=9*(n-o)+3*(a-e),c=6*(e+o)-12*n,h=3*(n-e),f=9*(r-s)+3*(l-i),d=6*(i+s)-12*r,p=3*(r-i);return function(t){var e=(u*t+c)*t+h,i=(f*t+d)*t+p;return Math.sqrt(e*e+i*i)}}function e(t,e){return Math.max(2,Math.min(16,Math.ceil(32*Math.abs(e-t))))}function i(t,e,i,n){if(null==e||e<0||e>1)return null;var r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5],c=t[6],h=t[7],d=f.isZero;d(s-r)&&d(a-o)&&(s=r,a=o),d(l-c)&&d(u-h)&&(l=c,u=h);var g,m,v=3*(s-r),y=3*(l-s)-v,_=c-r-v-y,b=3*(a-o),x=3*(u-a)-b,w=h-o-b-x;if(0===i)g=0===e?r:1===e?c:((_*e+y)*e+v)*e+r,m=0===e?o:1===e?h:((w*e+x)*e+b)*e+o;else{var C=1e-8,E=1-C;if(e<C?(g=v,m=b):e>E?(g=3*(c-l),m=3*(h-u)):(g=(3*_*e+2*y)*e+v,m=(3*w*e+2*x)*e+b),n){0===g&&0===m&&(e<C||e>E)&&(g=l-s,m=u-a);var S=Math.sqrt(g*g+m*m);S&&(g/=S,m/=S)}if(3===i){var l=6*_*e+2*y,u=6*w*e+2*x,T=Math.pow(g*g+m*m,1.5);g=0!==T?(g*u-m*l)/T:0,m=0}}return 2===i?new p(m,(-g)):new p(g,m)}return{statics:{classify:function(t){function e(t,e,i){var n=e!==r,o=n&&e>0&&e<1,s=n&&i>0&&i<1;return!n||(o||s)&&("loop"!==t||o&&s)||(t="arch",o=s=!1),{type:t,roots:o||s?o&&s?e<i?[e,i]:[i,e]:[o?e:i]:null}}var i=t[0],n=t[1],o=t[2],s=t[3],a=t[4],l=t[5],u=t[6],c=t[7],h=i*(c-l)+n*(a-u)+u*l-c*a,d=o*(n-c)+s*(u-i)+i*c-n*u,p=a*(s-n)+l*(i-o)+o*n-s*i,g=3*p,m=g-d,v=m-d+h,y=Math.sqrt(v*v+m*m+g*g),_=0!==y?1/y:0,b=f.isZero,x="serpentine";if(v*=_,m*=_,g*=_,b(v))return b(m)?e(b(g)?"line":"quadratic"):e(x,g/(3*m));var w=3*m*m-4*v*g;if(b(w))return e("cusp",m/(2*v));var C=w>0?Math.sqrt(w/3):Math.sqrt(-w),E=2*v;return e(w>0?x:"loop",(m+C)/E,(m-C)/E)},getLength:function(i,n,o,s){if(n===r&&(n=0),o===r&&(o=1),M.isStraight(i)){var a=i;o<1&&(a=M.subdivide(a,o)[0],n/=o),n>0&&(a=M.subdivide(a,n)[1]);var l=a[6]-a[0],u=a[7]-a[1];return Math.sqrt(l*l+u*u)}return f.integrate(s||t(i),n,o,e(n,o))},getTimeAt:function(i,n,o){function s(t){return v+=f.integrate(d,o,t,e(o,t)),o=t,v-n}if(o===r&&(o=n<0?1:0),0===n)return o;var a=Math.abs,l=1e-12,u=n>0,c=u?o:0,h=u?1:o,d=t(i),p=M.getLength(i,c,h,d),g=a(n)-p;if(a(g)<l)return u?h:c;if(g>l)return null;var m=n/p,v=0;return f.findRoot(s,d,o+m,c,h,32,1e-12)},getPoint:function(t,e){return i(t,e,0,!1)},getTangent:function(t,e){return i(t,e,1,!0)},getWeightedTangent:function(t,e){return i(t,e,1,!1)},getNormal:function(t,e){return i(t,e,2,!0)},getWeightedNormal:function(t,e){return i(t,e,2,!1)},getCurvature:function(t,e){return i(t,e,3,!1).x},getPeaks:function(t){var e=t[0],i=t[1],n=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],u=-e+3*n-3*o+a,c=3*e-6*n+3*o,h=-3*e+3*n,d=-i+3*r-3*s+l,p=3*i-6*r+3*s,g=-3*i+3*r,m=1e-8,v=1-m,y=[];return f.solveCubic(9*(u*u+d*d),9*(u*c+p*d),2*(c*c+p*p)+3*(h*u+g*d),h*c+p*g,y,m,v),y.sort()}}}},new function(){function t(t,e,i,n,r,o,s){var a=!s&&i.getPrevious()===r,l=!s&&i!==r&&i.getNext()===r,u=1e-8,c=1-u;if(null!==n&&n>=(a?u:0)&&n<=(l?c:1)&&null!==o&&o>=(l?u:0)&&o<=(a?c:1)){var h=new R(i,n,null,s),f=new R(r,o,null,s);h._intersection=f,f._intersection=h,e&&!e(h)||R.insert(t,h,!0)}}function e(r,o,s,a,l,u,c,h,f,d,p,g,m){if(++f>=4096||++h>=40)return f;var v,y,_=1e-9,b=o[0],w=o[1],C=o[6],E=o[7],S=x.getSignedDistance,T=S(b,w,C,E,o[2],o[3]),I=S(b,w,C,E,o[4],o[5]),k=T*I>0?.75:4/9,P=k*Math.min(0,T,I),L=k*Math.max(0,T,I),O=S(b,w,C,E,r[0],r[1]),A=S(b,w,C,E,r[2],r[3]),R=S(b,w,C,E,r[4],r[5]),N=S(b,w,C,E,r[6],r[7]),j=i(O,A,R,N),D=j[0],F=j[1];if(0===T&&0===I&&0===O&&0===A&&0===R&&0===N||null==(v=n(D,F,P,L))||null==(y=n(D.reverse(),F.reverse(),P,L)))return f;var z=d+(p-d)*v,B=d+(p-d)*y;if(Math.max(m-g,B-z)<_){var V=(z+B)/2,q=(g+m)/2;t(l,u,c?a:s,c?q:V,c?s:a,c?V:q)}else if(r=M.getPart(r,v,y),y-v>.8)if(B-z>m-g){var U=M.subdivide(r,.5),V=(z+B)/2;f=e(o,U[0],a,s,l,u,!c,h,f,g,m,z,V),f=e(o,U[1],a,s,l,u,!c,h,f,g,m,V,B)}else{var U=M.subdivide(o,.5),q=(g+m)/2;f=e(U[0],r,a,s,l,u,!c,h,f,g,q,z,B),f=e(U[1],r,a,s,l,u,!c,h,f,q,m,z,B)}else f=m-g>=_?e(o,r,a,s,l,u,!c,h,f,g,m,z,B):e(r,o,s,a,l,u,c,h,f,z,B,g,m);return f}function i(t,e,i,n){var r,o=[0,t],s=[1/3,e],a=[2/3,i],l=[1,n],u=e-(2*t+n)/3,c=i-(t+2*n)/3;if(u*c<0)r=[[o,s,l],[o,a,l]];else{var h=u/c;r=[h>=2?[o,s,l]:h<=.5?[o,a,l]:[o,s,a,l],[o,l]]}return(u||c)<0?r.reverse():r}function n(t,e,i,n){return t[0][1]<i?r(t,!0,i):e[0][1]>n?r(e,!1,n):t[0][0]}function r(t,e,i){for(var n=t[0][0],r=t[0][1],o=1,s=t.length;o<s;o++){var a=t[o][0],l=t[o][1];if(e?l>=i:l<=i)return l===i?a:n+(i-r)*(a-n)/(l-r);n=a,r=l}return null}function o(t,e,i,n,r){var o=f.isZero;if(o(n)&&o(r)){var s=M.getTimeOf(t,new p(e,i));return null===s?[]:[s]}for(var a=Math.atan2(-r,n),l=Math.sin(a),u=Math.cos(a),c=[],h=[],d=0;d<8;d+=2){var g=t[d]-e,m=t[d+1]-i;c.push(g*u-m*l,g*l+m*u)}return M.solveCubic(c,1,0,h,0,1),h}function s(e,i,n,r,s,a,l){for(var u=i[0],c=i[1],h=i[6],f=i[7],d=o(e,u,c,h-u,f-c),p=0,g=d.length;p<g;p++){var m=d[p],v=M.getPoint(e,m),y=M.getTimeOf(i,v);null!==y&&t(s,a,l?r:n,l?y:m,l?n:r,l?m:y)}}function a(e,i,n,r,o,s){var a=x.intersect(e[0],e[1],e[6],e[7],i[0],i[1],i[6],i[7]);a&&t(o,s,n,M.getTimeOf(e,a),r,M.getTimeOf(i,a))}function l(i,n,r,o,l,u){var c=1e-12,f=Math.min,d=Math.max;if(d(i[0],i[2],i[4],i[6])+c>f(n[0],n[2],n[4],n[6])&&f(i[0],i[2],i[4],i[6])-c<d(n[0],n[2],n[4],n[6])&&d(i[1],i[3],i[5],i[7])+c>f(n[1],n[3],n[5],n[7])&&f(i[1],i[3],i[5],i[7])-c<d(n[1],n[3],n[5],n[7])){var g=h(i,n);if(g)for(var m=0;m<2;m++){var v=g[m];t(l,u,r,v[0],o,v[1],!0)}else{var y=M.isStraight(i),_=M.isStraight(n),b=y&&_,x=y&&!_,w=l.length;if((b?a:y||_?s:e)(x?n:i,x?i:n,x?o:r,x?r:o,l,u,x,0,0,0,1,0,1),!b||l.length===w)for(var m=0;m<4;m++){var C=m>>1,E=1&m,S=6*C,T=6*E,I=new p(i[S],i[S+1]),k=new p(n[T],n[T+1]);I.isClose(k,c)&&t(l,u,r,C,o,E)}}}return l}function u(e,i,n,r){var o=M.classify(e);if("loop"===o.type){var s=o.roots;t(n,r,i,s[0],i,s[1])}return n}function c(t,e,i,n,r,o){var s=!e;s&&(e=t);for(var a,c,h=t.length,f=e.length,d=[],p=[],g=0;g<f;g++)d[g]=e[g].getValues(r);for(var g=0;g<h;g++){var m=t[g],v=s?d[g]:m.getValues(n),y=m.getPath();y!==c&&(c=y,a=[],p.push(a)),s&&u(v,m,a,i);for(var _=s?g+1:0;_<f;_++){if(o&&a.length)return a;l(v,d[_],m,e[_],a,i)}}a=[];for(var g=0,b=p.length;g<b;g++)a.push.apply(a,p[g]);return a}function h(t,e){function i(t){var e=t[6]-t[0],i=t[7]-t[1];return e*e+i*i}var n=Math.abs,r=x.getDistance,o=1e-8,s=1e-7,a=M.isStraight(t),l=M.isStraight(e),u=a&&l,c=i(t)<i(e),h=c?e:t,f=c?t:e,d=h[0],g=h[1],m=h[6]-d,v=h[7]-g;if(r(d,g,m,v,f[0],f[1],!0)<s&&r(d,g,m,v,f[6],f[7],!0)<s)!u&&r(d,g,m,v,h[2],h[3],!0)<s&&r(d,g,m,v,h[4],h[5],!0)<s&&r(d,g,m,v,f[2],f[3],!0)<s&&r(d,g,m,v,f[4],f[5],!0)<s&&(a=l=u=!0);else if(u)return null;if(a^l)return null;for(var y=[t,e],_=[],b=0;b<4&&_.length<2;b++){var w=1&b,C=1^w,E=b>>1,S=M.getTimeOf(y[w],new p(y[C][E?6:0],y[C][E?7:1]));if(null!=S){var T=w?[E,S]:[S,E];(!_.length||n(T[0]-_[0][0])>o&&n(T[1]-_[0][1])>o)&&_.push(T)}if(b>2&&!_.length)break}if(2!==_.length)_=null;else if(!u){var I=M.getPart(t,_[0][0],_[1][0]),k=M.getPart(e,_[0][1],_[1][1]);(n(k[2]-I[2])>s||n(k[3]-I[3])>s||n(k[4]-I[4])>s||n(k[5]-I[5])>s)&&(_=null)}return _}return{getIntersections:function(t){var e=this.getValues(),i=t&&t!==this&&t.getValues();return i?l(e,i,this,t,[]):u(e,this,[])},statics:{getOverlaps:h,getIntersections:c,getCurveLineIntersections:o}}}),R=a.extend({_class:"CurveLocation",initialize:function(t,e,i,n,r){if(e>=.99999999){var o=t.getNext();o&&(e=0,t=o)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=n,this._distance=r,this._intersection=this._next=this._previous=null},_setCurve:function(t){var e=t._path;this._path=e,this._version=e?e._version:0,this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){this._setCurve(t.getCurve()),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();0===i?t=e._segment1:1===i?t=e._segment2:null!=i&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){function t(t){var e=t&&t.getCurve();if(e&&null!=(i._time=e.getTimeOf(i._point)))return i._setCurve(e),e}var e=this._path,i=this;return e&&e._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null),this._curve||t(this._segment)||t(this._segment1)||t(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&null==e?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(null==t){t=0;var e=this.getPath(),i=this.getIndex();if(e&&null!=i)for(var n=e.getCurves(),r=0;r<i;r++)t+=n[r].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(null==t){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=null!=i&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof R){var n=this.getCurve(),r=t.getCurve(),o=n._path,s=r._path;if(o===s){var a=Math.abs,l=1e-7,u=a(this.getOffset()-t.getOffset()),c=!e&&this._intersection,h=!e&&t._intersection;i=(u<l||o&&a(o.getLength()-u)<l)&&(!c&&!h||c&&h&&c.equals(h,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=h.instance;e&&t.push("point: "+e);var n=this.getIndex();null!=n&&t.push("index: "+n);var r=this.getTime();return null!=r&&t.push("time: "+i.number(r)),null!=this._distance&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){function t(t,e){var i=t.getValues(),n=M.classify(i).roots||M.getPeaks(i),r=n.length,o=e&&r>1?n[r-1]:r>0?n[0]:.5;d.push(M.getLength(i,e?o:0,e?1:o)/2)}function e(t,e,i){return e<i?t>e&&t<i:t>e||t<i}var i=this._intersection;if(!i)return!1;var n=this.getTime(),r=i.getTime(),o=1e-8,s=1-o,a=n>=o&&n<=s,l=r>=o&&r<=s;if(a&&l)return!this.isTouching();var u=this.getCurve(),c=n<o?u.getPrevious():u,h=i.getCurve(),f=r<o?h.getPrevious():h;if(n>s&&(u=u.getNext()),r>s&&(h=h.getNext()),!(c&&u&&f&&h))return!1;var d=[];a||(t(c,!0),t(u,!1)),l||(t(f,!0),t(h,!1));var p=this.getPoint(),g=Math.min.apply(Math,d),m=a?u.getTangentAtTime(n):u.getPointAt(g).subtract(p),v=a?m.negate():c.getPointAt(-g).subtract(p),y=l?h.getTangentAtTime(r):h.getPointAt(g).subtract(p),_=l?y.negate():f.getPointAt(-g).subtract(p),b=v.getAngle(),x=m.getAngle(),w=_.getAngle(),C=y.getAngle();return!!(a?e(b,w,C)^e(x,w,C)&&e(b,C,w)^e(x,C,w):e(w,b,x)^e(C,b,x)&&e(w,x,b)^e(C,x,b))},hasOverlap:function(){return!!this._overlap}},a.each(M._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var t=this.getCurve(),i=this.getTime();return null!=i&&t&&t[e](i,!0)}},{preserve:!0}),new function(){function t(t,e,i){function n(i,n){for(var o=i+n;o>=-1&&o<=r;o+=n){var s=t[(o%r+r)%r];if(!e.getPoint().isClose(s.getPoint(),1e-7))break;if(e.equals(s))return s}return null}for(var r=t.length,o=0,s=r-1;o<=s;){var a,l=o+s>>>1,u=t[l];if(i&&(a=e.equals(u)?u:n(l,-1)||n(l,1)))return e._overlap&&(a._overlap=a._intersection._overlap=!0),a;var c=e.getPath(),h=u.getPath(),f=c!==h?c._id-h._id:e.getIndex()+e.getTime()-(u.getIndex()+u.getTime());f<0?s=l-1:o=l+1}return t.splice(o,0,e),e}return{statics:{insert:t,
expand:function(e){for(var i=e.slice(),n=e.length-1;n>=0;n--)t(i,e[n]._intersection,!1);return i}}}}),N=C.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,n;if(a.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:"string"==typeof t&&(e=t),i){var r=i[0];n=r&&Array.isArray(r[0])}else e&&(n=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var o=n?D:j;return new o(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){function e(t,e){var i=+n[t];return a&&(i+=l[e]),i}function i(t){return new p(e(t,"x"),e(t+1,"y"))}var n,r,o,s=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/gi),a=!1,l=new p,u=new p;this.clear();for(var c=0,h=s&&s.length;c<h;c++){var f=s[c],d=f[0],g=d.toLowerCase();n=f.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var v=n&&n.length;switch(a=d===g,"z"!==r||/[mz]/.test(g)||this.moveTo(l),g){case"m":case"l":for(var y="m"===g,_=0;_<v;_+=2)this[y?"moveTo":"lineTo"](l=i(_)),y&&(u=l,y=!1);o=l;break;case"h":case"v":var b="h"===g?"x":"y";l=l.clone();for(var _=0;_<v;_++)l[b]=e(_,b),this.lineTo(l);o=l;break;case"c":for(var _=0;_<v;_+=6)this.cubicCurveTo(i(_),o=i(_+2),l=i(_+4));break;case"s":for(var _=0;_<v;_+=4)this.cubicCurveTo(/[cs]/.test(r)?l.multiply(2).subtract(o):l,o=i(_),l=i(_+2)),r=g;break;case"q":for(var _=0;_<v;_+=4)this.quadraticCurveTo(o=i(_),l=i(_+2));break;case"t":for(var _=0;_<v;_+=2)this.quadraticCurveTo(o=/[qt]/.test(r)?l.multiply(2).subtract(o):l,l=i(_)),r=g;break;case"a":for(var _=0;_<v;_+=7)this.arcTo(l=i(_+5),new m((+n[_]),(+n[_+1])),+n[_+2],+n[_+4],+n[_+3]);break;case"z":this.closePath(1e-12),l=u}r=g}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!("evenodd"===this.getFillRule()?1&e.windingL||1&e.windingR:e.winding)},getIntersections:function(t,e,i,n){var r=this===t||!t,o=this._matrix._orNullIfIdentity(),s=r?o:(i||t._matrix)._orNullIfIdentity();return r||this.getBounds(o).intersects(t.getBounds(s),1e-12)?M.getIntersections(this.getCurves(),!r&&t.getCurves(),e,o,s,n):[]},getCrossings:function(t){return this.getIntersections(t,function(t){return t.hasOverlap()||t.isCrossing()})},getNearestLocation:function(){for(var t=p.read(arguments),e=this.getCurves(),i=1/0,n=null,r=0,o=e.length;r<o;r++){var s=e[r].getNearestLocation(t);s._distance<i&&(i=s._distance,n=s)}return n},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t?t.getPoint():t},interpolate:function(t,e,i){var n=!this._children,r=n?"_segments":"_children",o=t[r],s=e[r],a=this[r];if(!o||!s||o.length!==s.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var l=a.length,u=s.length;if(l<u)for(var c=n?O:j,h=l;h<u;h++)this.add(new c);else l>u&&this[n?"removeSegments":"removeChildren"](u,l);for(var h=0;h<u;h++)a[h].interpolate(o[h],s[h],i);n&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],n=t._children?t._children.slice():[t],r=i.length,o=n.length,s=[],a=0;e=!0;for(var l=r-1;l>=0&&e;l--){var u=i[l];e=!1;for(var c=o-1;c>=0&&!e;c--)u.compare(n[c])&&(s[c]||(s[c]=!0,a++),e=!0)}e=e&&a===o}return e}}),j=N.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=Array.isArray(t)?"object"==typeof t[0]?t:arguments:!t||t.size!==r||t.x===r&&t.point===r?null:arguments;e&&e.length>0?this.setSegments(e):(this._curves=r,this._segmentSelection=0,e||"string"!=typeof t||(this.setPathData(t),t=null)),this._initialize(!e&&t)},_equals:function(t){return this._closed===t._closed&&a.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function _t(t){if(_t.base.call(this,t),8&t){if(this._length=this._area=r,16&t)this._version++;else if(this._curves)for(var e=0,i=this._curves.length;e<i;e++)this._curves[e]._changed()}else 32&t&&(this._bounds=r)},getStyle:function(){var t=this._parent;return(t instanceof D?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=r,i){var n=t[i-1];"boolean"==typeof n&&(this.setClosed(n),i--),this._add(O.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var n=0;n<i;n++)t[n]=new M(this,e[n],e[n+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new M(this,this._segments[e-1],this._segments[0]))}this._changed(25)}}},{beans:!0,getPathData:function(t,e){function i(e,i){if(e._transformCoordinates(t,g),n=g[0],r=g[1],m)v.push("M"+p.pair(n,r)),m=!1;else if(a=g[2],l=g[3],a===n&&l===r&&u===o&&c===s){if(!i){var h=n-o,f=r-s;v.push(0===h?"v"+p.number(f):0===f?"h"+p.number(h):"l"+p.pair(h,f))}}else v.push("c"+p.pair(u-o,c-s)+" "+p.pair(a-o,l-s)+" "+p.pair(n-o,r-s));o=n,s=r,u=g[4],c=g[5]}var n,r,o,s,a,l,u,c,f=this._segments,d=f.length,p=new h(e),g=new Array(6),m=!0,v=[];if(!d)return"";for(var y=0;y<d;y++)i(f[y]);return this._closed&&d>0&&(i(f[0],!0),v.push("z")),v.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),n=0,r=e.length;n<r;n++)e[n]._transformCoordinates(t,i,!0);return!0},_add:function(t,e){for(var i=this._segments,n=this._curves,r=t.length,o=null==e,e=o?i.length:e,s=0;s<r;s++){var a=t[s];a._path&&(a=t[s]=a.clone()),a._path=this,a._index=e+s,a._selection&&this._updateSelection(a,0,a._selection)}if(o)i.push.apply(i,t);else{i.splice.apply(i,[e,0].concat(t));for(var s=e+r,l=i.length;s<l;s++)i[s]._index=s}if(n){var u=this._countCurves(),c=e>0&&e+r-1===u?e-1:e,h=c,f=Math.min(c+r,u);t._curves&&(n.splice.apply(n,[c,0].concat(t._curves)),h+=t._curves.length);for(var s=h;s<f;s++)n.splice(s,0,new M(this,null,null));this._adjustCurves(c,f)}return this._changed(25),t},_adjustCurves:function(t,e){for(var i,n=this._segments,r=this._curves,o=t;o<e;o++)i=r[o],i._path=this,i._segment1=n[o],i._segment2=n[o+1]||n[0],i._changed();(i=r[this._closed&&!t?n.length-1:t-1])&&(i._segment2=n[t]||n[0],i._changed()),(i=r[e])&&(i._segment1=n[e],i._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){return arguments.length>1&&"number"!=typeof t?this._add(O.readList(arguments)):this._add([O.read(arguments)])[0]},insert:function(t,e){return arguments.length>2&&"number"!=typeof e?this._add(O.readList(arguments,1),t):this._add([O.read(arguments,1)],t)[0]},addSegment:function(){return this._add([O.read(arguments)])[0]},insertSegment:function(t){return this._add([O.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(O.readList(t))},insertSegments:function(t,e){return this._add(O.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=a.pick(e,this._segments.length);var n=this._segments,r=this._curves,o=n.length,s=n.splice(t,e-t),l=s.length;if(!l)return s;for(var u=0;u<l;u++){var c=s[u];c._selection&&this._updateSelection(c,c._selection,0),c._index=c._path=null}for(var u=t,h=n.length;u<h;u++)n[u]._index=u;if(r){for(var f=t>0&&e===o+(this._closed?1:0)?t-1:t,r=r.splice(f,l),u=r.length-1;u>=0;u--)r[u]._path=null;i&&(s._curves=r.slice(1)),this._adjustCurves(f,f)}return this._changed(25),s},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(null==this._length){for(var t=this.getCurves(),e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(null==t){var e=this._segments,i=this._closed;t=0;for(var n=0,r=e.length;n<r;n++){var o=n+1===r;t+=M.getArea(M.getValues(e[n],e[o?0:n+1],null,o&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===7*t},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function bt(t){1&t||this._selectSegments(!1),bt.base.call(this,t)},_selectSegments:function(t){var e=this._segments,i=e.length,n=t?7:0;this._segmentSelection=n*i;for(var r=0;r<i;r++)e[r]._selection=n},_updateSelection:function(t,e,i){t._selection=i;var n=this._segmentSelection+=i-e;n>0&&this.setSelected(!0)},divideAt:function(t){var e,i=this.getLocationAt(t);return i&&(e=i.getCurve().divideAt(i.getCurveOffset()))?e._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,n=e&&e.time,r=1e-8,o=1-r;n>o&&(i++,n=0);var s=this.getCurves();if(i>=0&&i<s.length){n>=r&&s[i++].divideAtTime(n);var a,l=this.removeSegments(i,this._segments.length,!0);return this._closed?(this.setClosed(!1),a=this):(a=new j(C.NO_INSERT),a.insertAbove(this),a.copyAttributes(this)),a._add(l,0),this.addSegment(l[0]),a}return null},split:function(t,e){var i,n=e===r?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return null!=n?this.splitAt(n):null},join:function(t,e){var i=e||0;if(t&&t!==this){var n=t._segments,r=this.getLastSegment(),o=t.getLastSegment();if(!o)return this;r&&r._point.isClose(o._point,i)&&t.reverse();var s=t.getFirstSegment();if(r&&r._point.isClose(s._point,i))r.setHandleOut(s._handleOut),this._add(n.slice(1));else{var a=this.getFirstSegment();a&&a._point.isClose(s._point,i)&&t.reverse(),o=t.getLastSegment(),a&&a._point.isClose(o._point,i)?(a.setHandleIn(o._handleIn),this._add(n.slice(0,n.length-1),0)):this._add(n.slice())}t._closed&&this._add([n[0]]),t.remove()}var l=this.getFirstSegment(),u=this.getLastSegment();return l!==u&&l._point.isClose(u._point,i)&&(l.setHandleIn(u._handleIn),u.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,n=i?1e-7:0,r=e.length-1;r>=0;r--){var o=e[r];!o.hasHandles()&&(!o.hasLength(n)||i&&o.isCollinear(o.getNext()))&&o.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],n=i._handleIn;i._handleIn=i._handleOut,i._handleOut=n,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new F(this,t||.25,256,(!0)),i=e.parts,n=i.length,r=[],o=0;o<n;o++)r.push(new O(i[o].curve.slice(0,2)));!this._closed&&n>0&&r.push(new O(i[n-1].curve.slice(6))),this.setSegments(r)},simplify:function(t){var e=new z(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){function e(t,e){var n=t&&t.index;if(null!=n){var r=t.path;if(r&&r!==i)throw new Error(t._class+" "+n+" of "+r+" is not part of "+i);e&&t instanceof M&&n++}else n="number"==typeof t?t:e;return Math.min(n<0&&l?n%a:n<0?n+a:n,a-1)}var i=this,n=t||{},o=n.type||"asymmetric",s=this._segments,a=s.length,l=this._closed,u=l&&n.from===r&&n.to===r,c=e(n.from,0),h=e(n.to,a-1);if(c>h)if(l)c-=a;else{var f=c;c=h,h=f}if(/^(?:asymmetric|continuous)$/.test(o)){var d="asymmetric"===o,p=Math.min,g=h-c+1,m=g-1,v=u?p(g,4):1,y=v,_=v,b=[];if(l||(y=p(1,c),_=p(1,a-h-1)),m+=y+_,m<=1)return;for(var x=0,w=c-y;x<=m;x++,w++)b[x]=s[(w<0?w+a:w)%a]._point;for(var C=b[0]._x+2*b[1]._x,E=b[0]._y+2*b[1]._y,S=2,T=m-1,I=[C],k=[E],P=[S],L=[],O=[],x=1;x<m;x++){var A=x<T,R=A?1:d?1:2,N=A?4:d?2:7,j=A?4:d?3:8,D=A?2:d?0:1,F=R/S;S=P[x]=N-F,C=I[x]=j*b[x]._x+D*b[x+1]._x-F*C,E=k[x]=j*b[x]._y+D*b[x+1]._y-F*E}L[T]=I[T]/P[T],O[T]=k[T]/P[T];for(var x=m-2;x>=0;x--)L[x]=(I[x]-L[x+1])/P[x],O[x]=(k[x]-O[x+1])/P[x];L[m]=(3*b[m]._x-L[T])/2,O[m]=(3*b[m]._y-O[T])/2;for(var x=y,z=m-_,w=c;x<=z;x++,w++){var B=s[w<0?w+a:w],V=B._point,q=L[x]-V._x,U=O[x]-V._y;(u||x<z)&&B.setHandleOut(q,U),(u||x>y)&&B.setHandleIn(-q,-U)}}else for(var x=c;x<=h;x++)s[x<0?x+a:x].smooth(n,!u&&x===c,!u&&x===h)},toShape:function(t){function e(t,e){var i=c[t],n=i.getNext(),r=c[e],o=r.getNext();return i._handleOut.isZero()&&n._handleIn.isZero()&&r._handleOut.isZero()&&o._handleIn.isZero()&&n._point.subtract(i._point).isCollinear(o._point.subtract(r._point))}function i(t){var e=c[t],i=e.getPrevious(),n=e.getNext();return i._handleOut.isZero()&&e._handleIn.isZero()&&e._handleOut.isZero()&&n._handleIn.isZero()&&e._point.subtract(i._point).isOrthogonal(n._point.subtract(e._point))}function n(t){var e=c[t],i=e.getNext(),n=e._handleOut,r=i._handleIn,o=.5522847498307936;if(n.isOrthogonal(r)){var s=e._point,a=i._point,l=new x(s,n,(!0)).intersect(new x(a,r,(!0)),!0);return l&&f.isZero(n.getLength()/l.subtract(s).getLength()-o)&&f.isZero(r.getLength()/l.subtract(a).getLength()-o)}return!1}function o(t,e){return c[t]._point.getDistance(c[e]._point)}if(!this._closed)return null;var s,a,l,u,c=this._segments;if(!this.hasHandles()&&4===c.length&&e(0,2)&&e(1,3)&&i(1)?(s=T.Rectangle,a=new m(o(0,3),o(0,1)),u=c[1]._point.add(c[2]._point).divide(2)):8===c.length&&n(0)&&n(2)&&n(4)&&n(6)&&e(1,5)&&e(3,7)?(s=T.Rectangle,a=new m(o(1,6),o(0,3)),l=a.subtract(new m(o(0,7),o(1,2))).divide(2),u=c[3]._point.add(c[4]._point).divide(2)):4===c.length&&n(0)&&n(1)&&n(2)&&n(3)&&(f.isZero(o(0,2)-o(1,3))?(s=T.Circle,l=o(0,2)/2):(s=T.Ellipse,l=new m(o(2,0)/2,o(3,1)/2)),u=c[1]._point),s){var h=this.getPosition(!0),d=new s({center:h,size:a,radius:l,insert:!1});return d.copyAttributes(this,!0),d._matrix.prepend(this._matrix),d.rotate(u.subtract(h).getAngle()+90),(t===r||t)&&d.insertAbove(this),d}return null},toPath:"#clone",compare:function xt(t){if(!t||t instanceof D)return xt.base.call(this,t);var e=this.getCurves(),i=t.getCurves(),n=e.length,r=i.length;if(!n||!r)return n==r;for(var o,s,a=e[0].getValues(),l=[],u=0,c=0,h=0;h<r;h++){var f=i[h].getValues();l.push(f);var d=M.getOverlaps(a,f);if(d){o=!h&&d[0][0]>0?r-1:h,s=d[0][1];break}}for(var p,g=Math.abs,m=1e-8,f=l[o];a&&f;){var d=M.getOverlaps(a,f);if(d){var v=d[0][0];if(g(v-c)<m){c=d[1][0],1===c&&(a=++u<n?e[u].getValues():null,c=0);var y=d[0][1];if(g(y-s)<m){if(p||(p=[o,y]),s=d[1][1],1===s&&(++o>=r&&(o=0),f=l[o]||i[o].getValues(),s=0),!a)return p[0]===o&&p[1]===s;continue}}}break}return!1},_hitTestSelf:function(t,e,i,n){function r(e,i){return t.subtract(e).divide(i).length<=1}function o(t,i,n){if(!e.selected||i.isSelected()){var o=t._point;if(i!==o&&(i=i.add(o)),r(i,x))return new L(n,g,{segment:t,point:i})}}function s(t,i){return(i||e.segments)&&o(t,t._point,"segment")||!i&&e.handles&&(o(t,t._handleIn,"handle-in")||o(t,t._handleOut,"handle-out"))}function a(t){f.add(t)}function l(e){var i=_||e._index>0&&e._index<y-1;if("round"===(i?u:c))return r(e._point,x);if(f=new j({internal:!0,closed:!0}),i?e.isSmooth()||j._addBevelJoin(e,u,S,h,null,n,a,!0):"square"===c&&j._addSquareCap(e,c,S,null,n,a,!0),!f.isEmpty()){var o;return f.contains(t)||(o=f.getNearestLocation(t))&&r(o.getPoint(),b)}}var u,c,h,f,d,p,g=this,m=this.getStyle(),v=this._segments,y=v.length,_=this._closed,b=e._tolerancePadding,x=b,w=e.stroke&&m.hasStroke(),C=e.fill&&m.hasFill(),E=e.curves,S=w?m.getStrokeWidth()/2:C&&e.tolerance>0||E?0:null;if(null!==S&&(S>0?(u=m.getStrokeJoin(),c=m.getStrokeCap(),h=m.getMiterLimit(),x=x.add(j._getStrokePadding(S,n))):u=c="round"),!e.ends||e.segments||_){if(e.segments||e.handles)for(var T=0;T<y;T++)if(p=s(v[T]))return p}else if(p=s(v[0],!0)||s(v[y-1],!0))return p;if(null!==S){if(d=this.getNearestLocation(t)){var I=d.getTime();0===I||1===I&&y>1?l(d.getSegment())||(d=null):r(d.getPoint(),x)||(d=null)}if(!d&&"miter"===u&&y>1)for(var T=0;T<y;T++){var k=v[T];if(t.getDistance(k._point)<=h*S&&l(k)){d=k.getLocation();break}}}return!d&&C&&this._contains(t)||d&&!w&&!E?new L("fill",this):d?new L(w?"stroke":"curve",this,{location:d,point:d.getPoint()}):null}},a.each(M._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=p.read(arguments),e=this.getCurves(),i=0,n=e.length;i<n;i++){var r=e[i].getLocationOf(t);if(r)return r}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if("number"==typeof t){for(var e=this.getCurves(),i=0,n=0,r=e.length;n<r;n++){var o=i,s=e[n];if(i+=s.getLength(),i>t)return s.getLocationAt(t-o)}if(e.length>0&&t<=this.getLength())return new R(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null}}),new function(){function t(t,e,i,n){function r(e){var i=l[e],n=l[e+1];o==i&&s==n||(t.beginPath(),t.moveTo(o,s),t.lineTo(i,n),t.stroke(),t.beginPath(),t.arc(i,n,a,0,2*Math.PI,!0),t.fill())}for(var o,s,a=n/2,l=new Array(6),u=0,c=e.length;u<c;u++){var h=e[u],f=h._selection;if(h._transformCoordinates(i,l),o=l[0],s=l[1],2&f&&r(2),4&f&&r(4),t.fillRect(o-a,s-a,n,n),!(1&f)){var d=t.fillStyle;t.fillStyle="#ffffff",t.fillRect(o-a+1,s-a+1,n-2,n-2),t.fillStyle=d}}}function e(t,e,i){function n(e){if(i)e._transformCoordinates(i,p),r=p[0],o=p[1];else{var n=e._point;r=n._x,o=n._y}if(g)t.moveTo(r,o),g=!1;else{if(i)l=p[2],u=p[3];else{var f=e._handleIn;l=r+f._x,u=o+f._y}l===r&&u===o&&c===s&&h===a?t.lineTo(r,o):t.bezierCurveTo(c,h,l,u,r,o)}if(s=r,a=o,i)c=p[4],h=p[5];else{var f=e._handleOut;c=s+f._x,h=a+f._y}}for(var r,o,s,a,l,u,c,h,f=e._segments,d=f.length,p=new Array(6),g=!0,m=0;m<d;m++)n(f[m]);e._closed&&d>0&&n(f[0])}return{_draw:function(t,i,r,o){function s(t){return f[(t%d+d)%d]}var a=i.dontStart,l=i.dontFinish||i.clip,u=this.getStyle(),c=u.hasFill(),h=u.hasStroke(),f=u.getDashArray(),d=!n.support.nativeDash&&h&&f&&f.length;if(a||t.beginPath(),(c||h&&!d||l)&&(e(t,this,o),this._closed&&t.closePath()),!l&&(c||h)&&(this._setStyles(t,i,r),c&&(t.fill(u.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h)){if(d){a||t.beginPath();var p,g=new F(this,.25,32,(!1),o),m=g.length,v=-u.getDashOffset(),y=0;for(v%=m;v>0;)v-=s(y--)+s(y--);for(;v<m;)p=v+s(y++),(v>0||p>0)&&g.drawPart(t,Math.max(v,0),Math.max(p,0)),v=p+s(y++)}t.stroke()}},_drawSelected:function(i,r){i.beginPath(),e(i,this,r),i.stroke(),t(i,this._segments,r,n.settings.handleSize)}}},new function(){function t(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;1===t.length&&this.removeSegment(0),t.length||this._add([new O(p.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new O(p.read(arguments))])},cubicCurveTo:function(){var e=p.read(arguments),i=p.read(arguments),n=p.read(arguments),r=t(this);r.setHandleOut(e.subtract(r._point)),this._add([new O(n,i.subtract(n))])},quadraticCurveTo:function(){var e=p.read(arguments),i=p.read(arguments),n=t(this)._point;this.cubicCurveTo(e.add(n.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var e=p.read(arguments),i=p.read(arguments),n=a.pick(a.read(arguments),.5),r=1-n,o=t(this)._point,s=e.subtract(o.multiply(r*r)).subtract(i.multiply(n*n)).divide(2*n*r);if(s.isNaN())throw new Error("Cannot put a curve through points with parameter = "+n);this.quadraticCurveTo(s,i)},arcTo:function(){var e,i,n,r,o,s=Math.abs,l=Math.sqrt,u=t(this),c=u._point,h=p.read(arguments),d=a.peek(arguments),g=a.pick(d,!0);if("boolean"==typeof g)var v=c.add(h).divide(2),e=v.add(v.subtract(c).rotate(g?-90:90));else if(a.remain(arguments)<=2)e=h,h=p.read(arguments);else{var y=m.read(arguments),_=f.isZero;if(_(y.width)||_(y.height))return this.lineTo(h);var w=a.read(arguments),g=!!a.read(arguments),C=!!a.read(arguments),v=c.add(h).divide(2),E=c.subtract(v).rotate(-w),S=E.x,T=E.y,I=s(y.width),k=s(y.height),P=I*I,L=k*k,A=S*S,M=T*T,R=l(A/P+M/L);if(R>1&&(I*=R,k*=R,P=I*I,L=k*k),R=(P*L-P*M-L*A)/(P*M+L*A),s(R)<1e-12&&(R=0),R<0)throw new Error("Cannot create an arc with the given arguments");i=new p(I*T/k,-k*S/I).multiply((C===g?-1:1)*l(R)).rotate(w).add(v),o=(new b).translate(i).rotate(w).scale(I,k),r=o._inverseTransform(c),n=r.getDirectedAngle(o._inverseTransform(h)),!g&&n>0?n-=360:g&&n<0&&(n+=360)}if(e){var N=new x(c.add(e).divide(2),e.subtract(c).rotate(90),(!0)),j=new x(e.add(h).divide(2),h.subtract(e).rotate(90),(!0)),D=new x(c,h),F=D.getSide(e);if(i=N.intersect(j,!0),!i){if(!F)return this.lineTo(h);throw new Error("Cannot create an arc with the given arguments")}r=c.subtract(i),n=r.getDirectedAngle(h.subtract(i));var z=D.getSide(i);0===z?n=F*s(n):F===z&&(n+=n<0?360:-360)}for(var B=1e-7,V=s(n),q=V>=360?4:Math.ceil((V-B)/90),U=n/q,G=U*Math.PI/360,H=4/3*Math.sin(G)/(1+Math.cos(G)),X=[],W=0;W<=q;W++){var E=h,Y=null;if(W<q&&(Y=r.rotate(90).multiply(H),o?(E=o._transformPoint(r),Y=o._transformPoint(r.add(Y)).subtract(E)):E=i.add(r)),W){var $=r.rotate(-90).multiply(H);o&&($=o._transformPoint(r.add($)).subtract(E)),X.push(new O(E,$,Y))}else u.setHandleOut(Y);r=r.rotate(U)}this._add(X)},lineBy:function(){var e=p.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=p.read(arguments),i=p.read(arguments),n=a.read(arguments),r=t(this)._point;this.curveTo(r.add(e),r.add(i),n)},cubicCurveBy:function(){var e=p.read(arguments),i=p.read(arguments),n=p.read(arguments),r=t(this)._point;this.cubicCurveTo(r.add(e),r.add(i),r.add(n))},quadraticCurveBy:function(){var e=p.read(arguments),i=p.read(arguments),n=t(this)._point;this.quadraticCurveTo(n.add(e),n.add(i))},arcBy:function(){var e=t(this)._point,i=e.add(p.read(arguments)),n=a.pick(a.peek(arguments),!0);"boolean"==typeof n?this.arcTo(i,n):this.arcTo(i,e.add(p.read(arguments)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return j[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,n,r,o){function s(t){t._transformCoordinates(n,l);for(var e=0;e<2;e++)M._addBounds(u[e],u[e+4],l[e+2],l[e],e,o?o[e]:0,c,h,f);var i=u;u=l,l=i}var a=t[0];if(!a)return new y;for(var l=new Array(6),u=a._transformCoordinates(n,new Array(6)),c=u.slice(0,2),h=c.slice(),f=new Array(2),d=1,p=t.length;d<p;d++)s(t[d]);return e&&s(a),new y(c[0],c[1],h[0]-c[0],h[1]-c[1])},getStrokeBounds:function(t,e,i,n,r){function o(t){p=p.include(t)}function s(t){p=p.unite(x.setCenter(t._point.transform(n)))}function a(t,e){"round"===e||t.isSmooth()?s(t):j._addBevelJoin(t,e,g,b,n,f,o)}function l(t,e){"round"===e?s(t):j._addSquareCap(t,e,g,n,f,o)}var u=i.getStyle(),c=u.hasStroke(),h=u.getStrokeWidth(),f=c&&i._getStrokeMatrix(n,r),d=c&&j._getStrokePadding(h,f),p=j.getBounds(t,e,i,n,r,d);if(!c)return p;for(var g=h/2,v=u.getStrokeJoin(),_=u.getStrokeCap(),b=u.getMiterLimit(),x=new y(new m(d)),w=t.length-(e?0:1),C=1;C<w;C++)a(t[C],v);return e?a(t[0],v):w>0&&(l(t[0],_),l(t[t.length-1],_)),p},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new p(t,0).transform(e),n=new p(0,t).transform(e),r=i.getAngleInRadians(),o=i.getLength(),s=n.getLength(),a=Math.sin(r),l=Math.cos(r),u=Math.tan(r),c=Math.atan2(s*u,o),h=Math.atan2(s,u*o);return[Math.abs(o*Math.cos(c)*l+s*Math.sin(c)*a),Math.abs(s*Math.sin(h)*l+o*Math.cos(h)*a)]},_addBevelJoin:function(t,e,i,n,r,o,s,a){var l=t.getCurve(),u=l.getPrevious(),c=l.getPoint1().transform(r),h=u.getNormalAtTime(1).multiply(i).transform(o),f=l.getNormalAtTime(0).multiply(i).transform(o);if(h.getDirectedAngle(f)<0&&(h=h.negate(),f=f.negate()),a&&s(c),s(c.add(h)),"miter"===e){var d=new x(c.add(h),new p((-h.y),h.x),(!0)).intersect(new x(c.add(f),new p((-f.y),f.x),(!0)),!0);d&&c.getDistance(d)<=n*i&&s(d)}s(c.add(f))},_addSquareCap:function(t,e,i,n,r,o,s){var a=t._point.transform(n),l=t.getLocation(),u=l.getNormal().multiply(0===l.getTime()?i:-i).transform(r);"square"===e&&(s&&(o(a.subtract(u)),o(a.add(u))),a=a.add(u.rotate(-90))),o(a.add(u)),o(a.subtract(u))},getHandleBounds:function(t,e,i,n,r){var o,s,a=i.getStyle(),l=r.stroke&&a.hasStroke();if(l){var u=i._getStrokeMatrix(n,r),c=a.getStrokeWidth()/2,h=c;"miter"===a.getStrokeJoin()&&(h=c*a.getMiterLimit()),"square"===a.getStrokeCap()&&(h=Math.max(h,c*Math.SQRT2)),o=j._getStrokePadding(c,u),s=j._getStrokePadding(h,u)}for(var f=new Array(6),d=1/0,p=-d,g=d,m=p,v=0,_=t.length;v<_;v++){var b=t[v];b._transformCoordinates(n,f);for(var x=0;x<6;x+=2){var w=x?o:s,C=w?w[0]:0,E=w?w[1]:0,S=f[x],T=f[x+1],I=S-C,k=S+C,P=T-E,L=T+E;I<d&&(d=I),k>p&&(p=k),P<g&&(g=P),L>m&&(m=L)}}return new y(d,g,p-d,m-g)}}});j.inject({statics:new function(){function t(t,e,i){var n=a.getNamed(i),r=new j(n&&0==n.insert&&C.NO_INSERT);return r._add(t),r._closed=e,r.set(n,{insert:!0})}function e(e,i,r){for(var o=new Array(4),s=0;s<4;s++){var a=n[s];o[s]=new O(a._point.multiply(i).add(e),a._handleIn.multiply(i),a._handleOut.multiply(i))}return t(o,!0,r)}var i=.5522847498307936,n=[new O([-1,0],[0,i],[0,-i]),new O([0,-1],[-i,0],[i,0]),new O([1,0],[0,-i],[0,i]),new O([0,1],[i,0],[-i,0])];return{Line:function(){return t([new O(p.readNamed(arguments,"from")),new O(p.readNamed(arguments,"to"))],!1,arguments)},Circle:function(){var t=p.readNamed(arguments,"center"),i=a.readNamed(arguments,"radius");return e(t,new m(i),arguments)},Rectangle:function(){var e,n=y.readNamed(arguments,"rectangle"),r=m.readNamed(arguments,"radius",0,{readNull:!0}),o=n.getBottomLeft(!0),s=n.getTopLeft(!0),a=n.getTopRight(!0),l=n.getBottomRight(!0);if(!r||r.isZero())e=[new O(o),new O(s),new O(a),new O(l)];else{r=m.min(r,n.getSize(!0).divide(2));var u=r.width,c=r.height,h=u*i,f=c*i;e=[new O(o.add(u,0),null,[-h,0]),new O(o.subtract(0,c),[0,f]),new O(s.add(0,c),null,[0,-f]),new O(s.add(u,0),[-h,0],null),new O(a.subtract(u,0),null,[h,0]),new O(a.add(0,c),[0,-f],null),new O(l.subtract(0,c),null,[0,f]),new O(l.subtract(u,0),[h,0])]}return t(e,!0,arguments)},RoundRectangle:"#Rectangle",Ellipse:function(){var t=T._readEllipse(arguments);return e(t.center,t.radius,arguments)},Oval:"#Ellipse",Arc:function(){var t=p.readNamed(arguments,"from"),e=p.readNamed(arguments,"through"),i=p.readNamed(arguments,"to"),n=a.getNamed(arguments),r=new j(n&&0==n.insert&&C.NO_INSERT);return r.moveTo(t),r.arcTo(e,i),r.set(n)},RegularPolygon:function(){for(var e=p.readNamed(arguments,"center"),i=a.readNamed(arguments,"sides"),n=a.readNamed(arguments,"radius"),r=360/i,o=i%3===0,s=new p(0,o?-n:n),l=o?-1:.5,u=new Array(i),c=0;c<i;c++)u[c]=new O(e.add(s.rotate((c+l)*r)));return t(u,!0,arguments)},Star:function(){for(var e=p.readNamed(arguments,"center"),i=2*a.readNamed(arguments,"points"),n=a.readNamed(arguments,"radius1"),r=a.readNamed(arguments,"radius2"),o=360/i,s=new p(0,(-1)),l=new Array(i),u=0;u<i;u++)l[u]=new O(e.add(s.rotate(o*u).multiply(u%2?r:n)));return t(l,!0,arguments)}}}});var D=N.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||("string"==typeof t?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function wt(t,e){var i=e,n=i[0];n&&"number"==typeof n[0]&&(i=[i]);for(var r=e.length-1;r>=0;r--){var o=i[r];i!==e||o instanceof j||(i=a.slice(i)),Array.isArray(o)?i[r]=new j({segments:o,insert:!1}):o instanceof D&&(i.splice.apply(i,[r,1].concat(o.removeChildren())),o.remove())}return wt.base.call(this,t,i)},reduce:function Ct(t){for(var e=this._children,i=e.length-1;i>=0;i--){var n=e[i].reduce(t);n.isEmpty()&&n.remove()}if(!e.length){var n=new j(C.NO_INSERT);return n.copyAttributes(this),n.insertAbove(this),this.remove(),n}return Ct.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,n=e.length;i<n;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,n=t.length;i<n;i++)e.push.apply(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,n=t.length;i<n;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,n=[],r=0,o=i.length;r<o;r++){var s=i[r],a=s._matrix;n.push(s.getPathData(t&&!a.isIdentity()?t.appended(a):t,e))}return n.join("")},_hitTestChildren:function Et(t,e,i){return Et.base.call(this,t,e["class"]===j||"path"===e.type?e:a.set({},e,{fill:!1}),i)},_draw:function(t,e,i,n){var r=this._children;if(r.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var o=0,s=r.length;o<s;o++)r[o].draw(t,e,n);if(!e.clip){this._setStyles(t,e,i);var a=this._style;a.hasFill()&&(t.fill(a.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),a.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var n=this._children,r=0,o=n.length;r<o;r++){var s=n[r],a=s._matrix;i[s._id]||s._drawSelected(t,a.isIdentity()?e:e.appended(a))}}},new function(){function t(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return a.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new j(C.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),n=p.read(arguments);this.moveTo(i?n.add(i._point):n)},closePath:function(e){t(this,!0).closePath(e)}})},a.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i,n=this._children,r=0,o=n.length;r<o;r++)i=n[r][t](e)||i;return i}},{}));N.inject(new function(){function t(t,e){var i=t.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);return e?i.resolveCrossings().reorient("nonzero"===i.getFillRule(),!0):i}function e(t,e,i,n,r){var o=new D(C.NO_INSERT);return o.addChildren(t,!0),o=o.reduce({simplify:e}),r&&0==r.insert||o.insertAbove(n&&i.isSibling(n)&&i.getIndex()<n.getIndex()?n:i),o.copyAttributes(i,!0),o}function i(i,r,o,s){function a(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];b.push.apply(b,n._segments),x.push.apply(x,n.getCurves()),n._overlapsOnly=!0}}if(s&&(0==s.trace||s.stroke)&&/^(subtract|intersect)$/.test(o))return n(i,r,o);var c=t(i,!0),f=r&&i!==r&&t(r,!0),p=v[o];p[o]=!0,f&&(p.subtract||p.exclude)^(f.isClockwise()^c.isClockwise())&&f.reverse();var g,m=u(R.expand(c.getCrossings(f))),y=c._children||[c],_=f&&(f._children||[f]),b=[],x=[];if(m.length){a(y),_&&a(_);for(var w=0,C=m.length;w<C;w++)h(m[w]._segment,c,f,x,p);for(var w=0,C=b.length;w<C;w++){var E=b[w],S=E._intersection;E._winding||h(E,c,f,x,p),S&&S._overlap||(E._path._overlapsOnly=!1)}g=d(b,p)}else g=l(_?y.concat(_):y.slice(),function(t){return!!p[t]});return e(g,!0,i,r,s)}function n(i,n,r){function o(t){if(!h[t._id]&&(c||a.contains(t.getPointAt(t.getLength()/2))^u))return f.unshift(t),h[t._id]=!0}for(var s=t(i),a=t(n),l=s.getCrossings(a),u="subtract"===r,c="divide"===r,h={},f=[],d=l.length-1;d>=0;d--){var p=l[d].split();p&&(o(p)&&p.getFirstSegment().setHandleIn(0,0),s.getLastSegment().setHandleOut(0,0))}return o(s),e(f,!1,i,n)}function o(t,e){for(var i=t;i;){if(i===e)return;i=i._previous}for(;t._next&&t._next!==e;)t=t._next;if(!t._next){for(;e._previous;)e=e._previous;t._next=e,e._previous=t}}function s(t){
for(var e=t.length-1;e>=0;e--)t[e].clearHandles()}function l(t,e,i){var n=t&&t.length;if(n){var r=a.each(t,function(t,e){this[t._id]={container:null,winding:t.isClockwise()?1:-1,index:e}},{}),o=t.slice().sort(function(t,e){return m(e.getArea())-m(t.getArea())}),s=o[0];null==i&&(i=s.isClockwise());for(var l=0;l<n;l++){for(var u=o[l],c=r[u._id],h=u.getInteriorPoint(),f=0,d=l-1;d>=0;d--){var p=o[d];if(p.contains(h)){var g=r[p._id];f=g.winding,c.winding+=f,c.container=g.exclude?g.container:p;break}}if(e(c.winding)===e(f))c.exclude=!0,t[c.index]=null;else{var v=c.container;u.setClockwise(v?!v.isClockwise():i)}}}return t}function u(t,e,i){function n(t){return t._path._id+"."+t._segment1._index}for(var r,a,l,u=e&&[],c=1e-8,h=1-c,f=!1,d=i||[],p=i&&{},g=(i&&i.length)-1;g>=0;g--){var m=i[g];m._path&&(p[n(m)]=!0)}for(var g=t.length-1;g>=0;g--){var v,y=t[g],_=y._time,b=_,x=e&&!e(y),m=y._curve;if(m&&(m!==a?(f=!m.hasHandles()||p&&p[n(m)],r=[],l=null,a=m):l>=c&&(_/=l)),x)r&&r.push(y);else{if(e&&u.unshift(y),l=b,_<c)v=m._segment1;else if(_>h)v=m._segment2;else{var w=m.divideAtTime(_,!0);f&&d.push(m,w),v=w._segment1;for(var C=r.length-1;C>=0;C--){var E=r[C];E._time=(E._time-_)/(1-_)}}y._setSegment(v);var S=v._intersection,T=y._intersection;if(S){o(S,T);for(var I=S;I;)o(I._intersection,S),I=I._next}else v._intersection=T}}return i||s(d),u||t}function c(t,e,i,n,r){function o(o){var s=o[h+0],l=o[h+6];if(!(v<p(s,l)||v>g(s,l))){var f=o[u+0],m=o[u+2],y=o[u+4],w=o[u+6];if(s===l)return void((f<x&&w>b||w<x&&f>b)&&(T=!0));var C=v===s?0:v===l?1:b>g(f,m,y,w)||x<p(f,m,y,w)?1:M.solveCubic(o,h,v,P,0,1)>0?P[0]:1,I=0===C?f:1===C?w:M.getPoint(o,C)[i?"y":"x"],L=s>l?1:-1,O=a[h]>a[h+6]?1:-1,A=a[u+6];return v!==s?(I<b?E+=L:I>x?S+=L:T=!0,I>d-_&&I<d+_&&(k/=2)):(L!==O?f<b?E+=L:f>x&&(S+=L):f!=A&&(A<x&&I>x?(S+=L,T=!0):A>b&&I<b&&(E+=L,T=!0)),k=0),a=o,!r&&I>b&&I<x&&0===M.getTangent(o,C)[i?"x":"y"]&&c(t,e,!i,n,!0)}}function s(t){var e=t[h+0],n=t[h+2],r=t[h+4],s=t[h+6];if(v<=g(e,n,r,s)&&v>=p(e,n,r,s))for(var a,l=t[u+0],c=t[u+2],f=t[u+4],d=t[u+6],m=b>g(l,c,f,d)||x<p(l,c,f,d)?[t]:M.getMonoCurves(t,i),y=0,_=m.length;y<_;y++)if(a=o(m[y]))return a}for(var a,l,u=i?1:0,h=1^u,f=[t.x,t.y],d=f[u],v=f[h],y=1e-9,_=1e-6,b=d-y,x=d+y,w=0,C=0,E=0,S=0,T=!1,I=!1,k=1,P=[],L=0,O=e.length;L<O;L++){var A,R=e[L],N=R._path,j=R.getValues();if(!(L&&e[L-1]._path===N||(a=null,N._closed||(l=M.getValues(N.getLastCurve().getSegment2(),R.getSegment1(),null,!n),l[h]!==l[h+6]&&(a=l)),a))){a=j;for(var D=N.getLastCurve();D&&D!==R;){var F=D.getValues();if(F[h]!==F[h+6]){a=F;break}D=D.getPrevious()}}if(A=s(j))return A;if(L+1===O||e[L+1]._path!==N){if(l&&(A=s(l)))return A;!T||E||S||(E=S=N.isClockwise(n)^i?1:-1),w+=E,C+=S,E=S=0,T&&(I=!0,T=!1),l=null}}return w=m(w),C=m(C),{winding:g(w,C),windingL:w,windingR:C,quality:k,onPath:I}}function h(t,e,i,n,r){var o,s=[],a=t,l=0;do{var u=t.getCurve(),h=u.getLength();s.push({segment:t,curve:u,length:h}),l+=h,t=t.getNext()}while(t&&!t._intersection&&t!==a);for(var d=[.5,.25,.75],o={winding:0,quality:-1},p=1e-8,g=1-p,v=0;v<d.length&&o.quality<.5;v++)for(var h=l*d[v],y=0,_=s.length;y<_;y++){var b=s[y],x=b.length;if(h<=x){var u=b.curve,w=u._path,C=w._parent,E=C instanceof D?C:w,S=f.clamp(u.getTimeAt(h),p,g),T=u.getPointAtTime(S),I=m(u.getTangentAtTime(S).y)<Math.SQRT1_2,k=r.subtract&&i&&(E===e&&i._getWinding(T,I,!0).winding||E===i&&!e._getWinding(T,I,!0).winding)?{winding:0,quality:1}:c(T,n,I,!0);k.quality>o.quality&&(o=k);break}h-=x}for(var y=s.length-1;y>=0;y--)s[y].segment._winding=o}function d(t,e){function i(t){var i;return!(!t||t._visited||e&&(!e[(i=t._winding||{}).winding]||e.unite&&2===i.winding&&i.windingL&&i.windingR))}function n(t){if(t)for(var e=0,i=s.length;e<i;e++)if(t===s[e])return!0;return!1}function r(t){for(var e=t._segments,i=0,n=e.length;i<n;i++)e[i]._visited=!0}function o(t,e){function r(r,o){for(;r&&r!==o;){var a=r._segment,u=a&&a._path;if(u){var c=a.getNext()||u.getFirstSegment(),h=c._intersection;a!==t&&(n(a)||n(c)||c&&i(a)&&(i(c)||h&&i(h._segment)))&&l.push(a),e&&s.push(a)}r=r._next}}var o=t._intersection,a=o,l=[];if(e&&(s=[t]),o){for(r(o);o&&o._prev;)o=o._prev;r(o,a)}return l}var s,a=[];t.sort(function(t,e){var i=t._intersection,n=e._intersection,r=!(!i||!i._overlap),o=!(!n||!n._overlap),s=t._path,a=e._path;return r^o?r?1:-1:!i^!n?i?1:-1:s!==a?s._id-a._id:t._index-e._index});for(var l=0,u=t.length;l<u;l++){var c,h,f,d=t[l],p=i(d),g=null,m=!1,v=!0,y=[];if(p&&d._path._overlapsOnly){var _=d._path,b=d._intersection._segment._path;_.compare(b)&&(_.getArea()&&a.push(_.clone(!1)),r(_),r(b),p=!1)}for(;p;){var x=!g,w=o(d,x),E=w.shift(),m=!x&&(n(d)||n(E)),S=!m&&E;if(x&&(g=new j(C.NO_INSERT),c=null),m){(d.isFirst()||d.isLast())&&(v=d._path._closed),d._visited=!0;break}if(S&&c&&(y.push(c),c=null),c||(S&&w.push(d),c={start:g._segments.length,crossings:w,visited:h=[],handleIn:f}),S&&(d=E),!i(d)){g.removeSegments(c.start);for(var T=0,I=h.length;T<I;T++)h[T]._visited=!1;h.length=0;do d=c&&c.crossings.shift(),d&&d._path||(d=null,c=y.pop(),c&&(h=c.visited,f=c.handleIn));while(c&&!i(d));if(!d)break}var k=d.getNext();g.add(new O(d._point,f,k&&d._handleOut)),d._visited=!0,h.push(d),d=k||d._path.getFirstSegment(),f=k&&k._handleIn}m&&(v&&(g.getFirstSegment().setHandleIn(f),g.setClosed(v)),0!==g.getArea()&&a.push(g))}return a}var p=Math.min,g=Math.max,m=Math.abs,v={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};return{_getWinding:function(t,e,i){return c(t,this.getCurves(),e,i)},unite:function(t,e){return i(this,t,"unite",e)},intersect:function(t,e){return i(this,t,"intersect",e)},subtract:function(t,e){return i(this,t,"subtract",e)},exclude:function(t,e){return i(this,t,"exclude",e)},divide:function(t,i){return i&&(0==i.trace||i.stroke)?n(this,t,"divide"):e([this.subtract(t,i),this.intersect(t,i)],!0,this,t,i)},resolveCrossings:function(){function t(t,e){var i=t&&t._intersection;return i&&i._overlap&&i._path===e}var e=this._children,i=e||[this],n=!1,r=!1,o=this.getIntersections(null,function(t){return t.hasOverlap()&&(n=!0)||t.isCrossing()&&(r=!0)}),l=n&&r&&[];if(o=R.expand(o),n)for(var c=u(o,function(t){return t.hasOverlap()},l),h=c.length-1;h>=0;h--){var f=c[h],p=f._path,g=f._segment,m=g.getPrevious(),v=g.getNext();t(m,p)&&t(v,p)&&(g.remove(),m._handleOut._set(0,0),v._handleIn._set(0,0),m===g||m.getCurve().hasLength()||(v._handleIn.set(m._handleIn),m.remove()))}r&&(u(o,n&&function(t){var e=t.getCurve(),i=t.getSegment(),n=t._intersection,r=n._curve,o=n._segment;return!!(e&&r&&e._path&&r._path)||(i&&(i._intersection=null),void(o&&(o._intersection=null)))},l),l&&s(l),i=d(a.each(i,function(t){this.push.apply(this,t._segments)},[])));var y,_=i.length;return _>1&&e?(i!==e&&this.setChildren(i),y=this):1!==_||e||(i[0]!==this&&this.setSegments(i[0].removeSegments()),y=this),y||(y=new D(C.NO_INSERT),y.addChildren(i),y=y.reduce(),y.copyAttributes(this),this.replaceWith(y)),y},reorient:function(t,e){var i=this._children;return i&&i.length?this.setChildren(l(this.removeChildren(),function(e){return!!(t?e:1&e)},e)):e!==r&&this.setClockwise(e),this},getInteriorPoint:function(){var t=this.getBounds(),e=t.getCenter(!0);if(!this.contains(e)){for(var i=this.getCurves(),n=e.y,r=[],o=[],s=0,a=i.length;s<a;s++){var l=i[s].getValues(),u=l[1],c=l[3],h=l[5],f=l[7];if(n>=p(u,c,h,f)&&n<=g(u,c,h,f))for(var d=M.getMonoCurves(l),m=0,v=d.length;m<v;m++){var y=d[m],_=y[1],b=y[7];if(_!==b&&(n>=_&&n<=b||n>=b&&n<=_)){var x=n===_?y[0]:n===b?y[6]:1===M.solveCubic(y,1,n,o,0,1)?M.getPoint(y,o[0]).x:(y[0]+y[6])/2;r.push(x)}}}r.length>1&&(r.sort(function(t,e){return t-e}),e.x=(r[0]+r[1])/2)}return e}}});var F=a.extend({_class:"PathFlattener",initialize:function(t,e,i,n,r){function o(t,e){var i=M.getValues(t,e,r);l.push(i),s(i,t._index,0,1)}function s(t,i,r,o){if(!(o-r>h)||n&&M.isStraight(t)||M.isFlatEnough(t,e||.25)){var a=t[6]-t[0],l=t[7]-t[1],f=Math.sqrt(a*a+l*l);f>0&&(c+=f,u.push({offset:c,curve:t,index:i,time:o}))}else{var d=M.subdivide(t,.5),p=(r+o)/2;s(d[0],i,r,p),s(d[1],i,p,o)}}for(var a,l=[],u=[],c=0,h=1/(i||32),f=t._segments,d=f[0],p=1,g=f.length;p<g;p++)a=f[p],o(d,a),d=a;t._closed&&o(a,f[0]),this.curves=l,this.parts=u,this.length=c,this.index=0},_get:function(t){for(var e,i=this.parts,n=i.length,r=this.index;e=r,r&&!(i[--r].offset<t););for(;e<n;e++){var o=i[e];if(o.offset>=t){this.index=e;var s=i[e-1],a=s&&s.index===o.index?s.time:0,l=s?s.offset:0;return{index:o.index,time:a+(o.time-a)*(t-l)/(o.offset-l)}}}return{index:i[n-1].index,time:1}},drawPart:function(t,e,i){for(var n=this._get(e),r=this._get(i),o=n.index,s=r.index;o<=s;o++){var a=M.getPart(this.curves[o],o===n.index?n.time:0,o===r.index?r.time:1);o===n.index&&t.moveTo(a[0],a[1]),t.bezierCurveTo.apply(t,a.slice(2))}}},a.each(M._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return M[t](this.curves[i.index],i.time)}},{})),z=a.extend({initialize:function(t){for(var e,i=this.points=[],n=t._segments,r=t._closed,o=0,s=n.length;o<s;o++){var a=n[o].point;e&&e.equals(a)||i.push(e=a.clone())}r&&(i.unshift(i[i.length-1]),i.push(i[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,n=null;return i>0&&(n=[new O(e[0])],i>1&&(this.fitCubic(n,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(n.shift(),n.pop()))),n},fitCubic:function(t,e,i,n,r,o){var s=this.points;if(n-i===1){var a=s[i],l=s[n],u=a.getDistance(l)/3;return void this.addCurve(t,[a,a.add(r.normalize(u)),l.add(o.normalize(u)),l])}for(var c,h=this.chordLengthParameterize(i,n),f=Math.max(e,e*e),d=!0,p=0;p<=4;p++){var g=this.generateBezier(i,n,h,r,o),m=this.findMaxError(i,n,g,h);if(m.error<e&&d)return void this.addCurve(t,g);if(c=m.index,m.error>=f)break;d=this.reparameterize(i,n,h,g),f=m.error}var v=s[c-1].subtract(s[c+1]);this.fitCubic(t,e,i,c,r,v),this.fitCubic(t,e,c,n,v.negate(),o)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new O(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,n,r){for(var o=1e-12,s=Math.abs,a=this.points,l=a[t],u=a[e],c=[[0,0],[0,0]],h=[0,0],f=0,d=e-t+1;f<d;f++){var p=i[f],g=1-p,m=3*p*g,v=g*g*g,y=m*g,_=m*p,b=p*p*p,x=n.normalize(y),w=r.normalize(_),C=a[t+f].subtract(l.multiply(v+y)).subtract(u.multiply(_+b));c[0][0]+=x.dot(x),c[0][1]+=x.dot(w),c[1][0]=c[0][1],c[1][1]+=w.dot(w),h[0]+=x.dot(C),h[1]+=w.dot(C)}var E,S,T=c[0][0]*c[1][1]-c[1][0]*c[0][1];if(s(T)>o){var I=c[0][0]*h[1]-c[1][0]*h[0],k=h[0]*c[1][1]-h[1]*c[0][1];E=k/T,S=I/T}else{var P=c[0][0]+c[0][1],L=c[1][0]+c[1][1];E=S=s(P)>o?h[0]/P:s(L)>o?h[1]/L:0}var O,A,M=u.getDistance(l),R=o*M;if(E<R||S<R)E=S=M/3;else{var N=u.subtract(l);O=n.normalize(E),A=r.normalize(S),O.dot(N)-A.dot(N)>M*M&&(E=S=M/3,O=A=null)}return[l,l.add(O||n.normalize(E)),u.add(A||r.normalize(S)),u]},reparameterize:function(t,e,i,n){for(var r=t;r<=e;r++)i[r-t]=this.findRoot(n,this.points[r],i[r-t]);for(var r=1,o=i.length;r<o;r++)if(i[r]<=i[r-1])return!1;return!0},findRoot:function(t,e,i){for(var n=[],r=[],o=0;o<=2;o++)n[o]=t[o+1].subtract(t[o]).multiply(3);for(var o=0;o<=1;o++)r[o]=n[o+1].subtract(n[o]).multiply(2);var s=this.evaluate(3,t,i),a=this.evaluate(2,n,i),l=this.evaluate(1,r,i),u=s.subtract(e),c=a.dot(a)+u.dot(l);return f.isZero(c)?i:i-u.dot(a)/c},evaluate:function(t,e,i){for(var n=e.slice(),r=1;r<=t;r++)for(var o=0;o<=t-r;o++)n[o]=n[o].multiply(1-i).add(n[o+1].multiply(i));return n[0]},chordLengthParameterize:function(t,e){for(var i=[0],n=t+1;n<=e;n++)i[n-t]=i[n-t-1]+this.points[n].getDistance(this.points[n-1]);for(var n=1,r=e-t;n<=r;n++)i[n]/=i[r];return i},findMaxError:function(t,e,i,n){for(var r=Math.floor((e-t+1)/2),o=0,s=t+1;s<e;s++){var a=this.evaluate(3,i,n[s-t]),l=a.subtract(this.points[s]),u=l.x*l.x+l.y*l.y;u>=o&&(o=u,r=s)}return{error:o,index:r}}}),B=C.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&a.isPlainObject(t)&&t.x===r&&t.y===r;this._initialize(e&&t,!e&&p.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/gm),this._changed(265)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),V=B.extend({_class:"PointText",initialize:function(){B.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new g(t.x,t.y,this,"setPoint")},setPoint:function(){var t=p.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var n=this._lines,r=this._style,o=r.hasFill(),s=r.hasStroke(),a=r.getLeading(),l=t.shadowColor;t.font=r.getFontStyle(),t.textAlign=r.getJustification();for(var u=0,c=n.length;u<c;u++){t.shadowColor=l;var h=n[u];o&&(t.fillText(h,0,0),t.shadowColor="rgba(0,0,0,0)"),s&&t.strokeText(h,0,0),t.translate(0,a)}}},_getBounds:function(t,e){var i=this._style,n=this._lines,r=n.length,o=i.getJustification(),s=i.getLeading(),a=this.getView().getTextWidth(i.getFontStyle(),n),l=0;"left"!==o&&(l-=a/("center"===o?2:1));var u=new y(l,r?-.75*s:0,a,r*s);return t?t._transformBounds(u,u):u}}),q=a.extend(new function(){function t(t){var i,n=t.match(/^#(\w{1,2})(\w{1,2})(\w{1,2})$/);if(n){i=[0,0,0];for(var s=0;s<3;s++){var a=n[s+1];i[s]=parseInt(1==a.length?a+a:a,16)/255}}else if(n=t.match(/^rgba?\((.*)\)$/)){i=n[1].split(",");for(var s=0,l=i.length;s<l;s++){var a=+i[s];i[s]=s<3?a/255:a}}else if(o){var u=r[t];if(!u){e||(e=nt.getContext(1,1),e.globalCompositeOperation="copy"),e.fillStyle="rgba(0,0,0,0)",e.fillStyle=t,e.fillRect(0,0,1,1);var c=e.getImageData(0,0,1,1).data;u=r[t]=[c[0]/255,c[1]/255,c[2]/255]}i=u.slice()}else i=[0,0,0];return i}var e,i={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},n={},r={},s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),o=n-r,s=0===o?0:60*(n==t?(e-i)/o+(e<i?6:0):n==e?(i-t)/o+2:(t-e)/o+4);return[s,0===n?0:o/n,n]},"hsb-rgb":function(t,e,i){t=(t/60%6+6)%6;var n=Math.floor(t),r=t-n,n=s[n],o=[i,i*(1-e),i*(1-e*r),i*(1-e*(1-r))];return[o[n[0]],o[n[1]],o[n[2]]]},"rgb-hsl":function(t,e,i){var n=Math.max(t,e,i),r=Math.min(t,e,i),o=n-r,s=0===o,a=s?0:60*(n==t?(e-i)/o+(e<i?6:0):n==e?(i-t)/o+2:(t-e)/o+4),l=(n+r)/2,u=s?0:l<.5?o/(n+r):o/(2-n-r);return[a,u,l]},"hsl-rgb":function(t,e,i){if(t=(t/360%1+1)%1,0===e)return[i,i,i];for(var n=[t+1/3,t,t-1/3],r=i<.5?i*(1+e):i+e-i*e,o=2*i-r,s=[],a=0;a<3;a++){var l=n[a];l<0&&(l+=1),l>1&&(l-=1),s[a]=6*l<1?o+6*(r-o)*l:2*l<1?r:3*l<2?o+(r-o)*(2/3-l)*6:o}return s},"rgb-gray":function(t,e,i){return[.2989*t+.587*e+.114*i]},"gray-rgb":function(t){return[t,t,t]},"gray-hsb":function(t){return[0,0,t]},"gray-hsl":function(t){return[0,0,t]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return a.each(i,function(t,e){n[e]=[],a.each(t,function(t,r){var o=a.capitalize(t),s=/^(hue|saturation)$/.test(t),l=n[e][r]="gradient"===t?function(t){var e=this._components[0];return t=U.read(Array.isArray(t)?t:arguments,0,{readNull:!0}),e!==t&&(e&&e._removeOwner(this),t&&t._addOwner(this)),t}:"gradient"===e?function(){return p.read(arguments,0,{readNull:"highlight"===t,clone:!0})}:function(t){return null==t||isNaN(t)?0:t};this["get"+o]=function(){return this._type===e||s&&/^hs[bl]$/.test(this._type)?this._components[r]:this._convert(e)[r]},this["set"+o]=function(t){this._type===e||s&&/^hs[bl]$/.test(this._type)||(this._components=this._convert(e),this._properties=i[e],this._type=e),this._components[r]=l.call(this,t),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function u(e){var r,o,s,l,c=arguments,h=this.__read,f=0;Array.isArray(e)&&(c=e,e=c[0]);var d=null!=e&&typeof e;if("string"===d&&e in i&&(r=e,e=c[1],Array.isArray(e)?(o=e,s=c[2]):(h&&(f=1),c=a.slice(c,1),d=typeof e)),!o){if(l="number"===d?c:"object"===d&&null!=e.length?e:null){r||(r=l.length>=3?"rgb":"gray");var p=i[r].length;s=l[p],h&&(f+=l===arguments?p+(null!=s?1:0):1),l.length>p&&(l=a.slice(l,0,p))}else if("string"===d)r="rgb",o=t(e),4===o.length&&(s=o[3],o.length--);else if("object"===d)if(e.constructor===u){if(r=e._type,o=e._components.slice(),s=e._alpha,"gradient"===r)for(var g=1,m=o.length;g<m;g++){var v=o[g];v&&(o[g]=v.clone())}}else if(e.constructor===U)r="gradient",l=c;else{r="hue"in e?"lightness"in e?"hsl":"hsb":"gradient"in e||"stops"in e||"radial"in e?"gradient":"gray"in e?"gray":"rgb";var y=i[r],_=n[r];this._components=o=[];for(var g=0,m=y.length;g<m;g++){var b=e[y[g]];null==b&&!g&&"gradient"===r&&"stops"in e&&(b={stops:e.stops,radial:e.radial}),b=_[g].call(this,b),null!=b&&(o[g]=b)}s=e.alpha}h&&r&&(f=1)}if(this._type=r||"rgb",!o){this._components=o=[];for(var _=n[this._type],g=0,m=_.length;g<m;g++){var b=_[g].call(this,l&&l[g]);null!=b&&(o[g]=b)}}return this._components=o,this._properties=i[this._type],this._alpha=s,h&&(this.__read=f),this},set:"#initialize",_serialize:function(t,e){var i=this.getComponents();return a.serialize(/^(gray|rgb)$/.test(this._type)?i:[this._type].concat(i),t,!0,e)},_changed:function(){this._canvasStyle=null,this._owner&&this._owner._changed(65)},_convert:function(t){var e;return this._type===t?this._components.slice():(e=l[this._type+"-"+t])?e.apply(this,this._components):l["rgb-"+t].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(t){return new q(t,this._convert(t),this._alpha)},getType:function(){return this._type},setType:function(t){this._components=this._convert(t),this._properties=i[t],this._type=t},getComponents:function(){var t=this._components.slice();return null!=this._alpha&&t.push(this._alpha),t},getAlpha:function(){return null!=this._alpha?this._alpha:1},setAlpha:function(t){this._alpha=null==t?null:Math.min(Math.max(t,0),1),this._changed()},hasAlpha:function(){return null!=this._alpha},equals:function(t){var e=a.isPlainValue(t,!0)?q.read(arguments):t;return e===this||e&&this._class===e._class&&this._type===e._type&&this.getAlpha()===e.getAlpha()&&a.equals(this._components,e._components)||!1},toString:function(){for(var t=this._properties,e=[],i="gradient"===this._type,n=h.instance,r=0,o=t.length;r<o;r++){var s=this._components[r];null!=s&&e.push(t[r]+": "+(i?s:n.number(s)))}return null!=this._alpha&&e.push("alpha: "+n.number(this._alpha)),"{ "+e.join(", ")+" }"},toCSS:function(t){function e(t){return Math.round(255*(t<0?0:t>1?1:t))}var i=this._convert("rgb"),n=t||null==this._alpha?1:this._alpha;return i=[e(i[0]),e(i[1]),e(i[2])],n<1&&i.push(n<0?0:n),t?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).slice(1):(4==i.length?"rgba(":"rgb(")+i.join(",")+")"},toCanvasStyle:function(t,e){if(this._canvasStyle)return this._canvasStyle;if("gradient"!==this._type)return this._canvasStyle=this.toCSS();var i,n=this._components,r=n[0],o=r._stops,s=n[1],a=n[2],l=n[3],u=e&&e.inverted();if(u&&(s=u._transformPoint(s),a=u._transformPoint(a),l&&(l=u._transformPoint(l))),r._radial){var c=a.getDistance(s);if(l){var h=l.subtract(s);h.getLength()>c&&(l=s.add(h.normalize(c-.1)))}var f=l||s;i=t.createRadialGradient(f.x,f.y,0,s.x,s.y,c)}else i=t.createLinearGradient(s.x,s.y,a.x,a.y);for(var d=0,p=o.length;d<p;d++){var g=o[d],m=g._offset;i.addColorStop(null==m?d/(p-1):m,g._color.toCanvasStyle())}return this._canvasStyle=i},transform:function(t){if("gradient"===this._type){for(var e=this._components,i=1,n=e.length;i<n;i++){var r=e[i];t._transformPoint(r,r,!0)}this._changed()}},statics:{_types:i,random:function(){var t=Math.random;return new q(t(),t(),t())}}})},new function(){var t={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return a.each(t,function(t,e){this[e]=function(e){e=q.read(arguments);for(var i=this._type,n=this._components,r=e._convert(i),o=0,s=n.length;o<s;o++)r[o]=t(n[o],r[o]);return new q(i,r,null!=this._alpha?t(this._alpha,e.getAlpha()):null)}},{})}),U=a.extend({_class:"Gradient",initialize:function(t,e){this._id=d.get(),t&&a.isPlainObject(t)&&(this.set(t),t=e=null),null==this._stops&&this.setStops(t||["white","black"]),null==this._radial&&this.setRadial("string"==typeof e&&"radial"===e||e||!1)},_serialize:function(t,e){return e.add(this,function(){return a.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=r))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new U(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,n=e.length;i<n;i++)e[i]._owner=r;e=this._stops=G.readList(t,0,{clone:!0});for(var i=0,n=e.length;i<n;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,n=e.length;if(n===i.length){for(var r=0;r<n;r++)if(!e[r].equals(i[r]))return!1;return!0}}return!1}}),G=a.extend({_class:"GradientStop",initialize:function(t,e){var i=t,n=e;"object"==typeof t&&e===r&&(Array.isArray(t)&&"number"!=typeof t[0]?(i=t[0],n=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,n=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(n)},clone:function(){return new G(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,n=this._offset;return a.serialize(null==n?[i]:[i,n],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(65)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){var t=q.read(arguments,0,{clone:!0});t&&(t._owner=this),this._color=t,this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),H=a.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new p,selectedColor:null},e=a.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=a.set({},e,{fillColor:new q}),o={strokeWidth:97,strokeCap:97,strokeJoin:97,strokeScaling:105,miterLimit:97,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},l={_class:"Style",beans:!0,initialize:function(r,o,s){this._values={},this._owner=o,this._project=o&&o._project||s||n.project,this._defaults=!o||o instanceof E?e:o instanceof B?i:t,r&&this.set(r)}};return a.each(e,function(t,e){var i=/Color$/.test(e),n="shadowOffset"===e,u=a.capitalize(e),c=o[e],h="set"+u,f="get"+u;l[h]=function(t){var n=this._owner,o=n&&n._children;if(o&&o.length>0&&!(n instanceof D))for(var s=0,a=o.length;s<a;s++)o[s]._style[h](t);else if(e in this._defaults){var l=this._values[e];l!==t&&(i&&(l&&l._owner!==r&&(l._owner=r),t&&t.constructor===q&&(t._owner&&(t=t.clone()),t._owner=n)),this._values[e]=t,n&&n._changed(c||65))}},l[f]=function(t){var o,s=this._owner,l=s&&s._children;if(e in this._defaults&&(!l||!l.length||t||s instanceof D)){var o=this._values[e];if(o===r)o=this._defaults[e],o&&o.clone&&(o=o.clone());else{var u=i?q:n?p:null;!u||o&&o.constructor===u||(this._values[e]=o=u.read([o],0,{readNull:!0,clone:!0}),o&&i&&(o._owner=s))}}else if(l)for(var c=0,h=l.length;c<h;c++){var d=l[c]._style[f]();if(c){if(!a.equals(o,d))return r}else o=d}return o},s[f]=function(t){return this._style[f](t)},s[h]=function(t){this._style[h](t)}}),a.each({Font:"FontFamily",WindingRule:"FillRule"},function(t,e){var i="get"+e,n="set"+e;l[i]=s[i]="#get"+t,l[n]=s[n]="#set"+t}),C.inject(s),l},{set:function(t){var e=t instanceof H,i=e?t._values:t;if(i)for(var n in i)if(n in this._defaults){var r=i[n];this[n]=r&&e&&r.clone?r.clone():r}},equals:function(t){function e(t,e,i){var n=t._values,o=e._values,s=e._defaults;for(var l in n){var u=n[l],c=o[l];if(!(i&&l in o||a.equals(u,c===r?s[l]:c)))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function St(){var t=St.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),null!=t?t:1.2*e}}),X=new function(){function t(t,e,i,n){for(var r=["","webkit","moz","Moz","ms","o"],o=e[0].toUpperCase()+e.substring(1),s=0;s<6;s++){var a=r[s],l=a?a+o:e;if(l in t){if(!i)return t[l];t[l]=n;break}}}return{getStyles:function(t){var e=t&&9!==t.nodeType?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i,n=t.ownerDocument,r=n.body,o=n.documentElement;try{i=t.getBoundingClientRect()}catch(s){i={left:0,top:0,width:0,height:0}}var a=i.left-(o.clientLeft||r.clientLeft||0),l=i.top-(o.clientTop||r.clientTop||0);if(!e){var u=n.defaultView;a+=u.pageXOffset||o.scrollLeft||r.scrollLeft,l+=u.pageYOffset||o.scrollTop||r.scrollTop}return new y(a,l,i.width,i.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,n=e.documentElement;return new y(0,0,i.innerWidth||n.clientWidth,i.innerHeight||n.clientHeight)},getOffset:function(t,e){return X.getBounds(t,e).getPoint()},getSize:function(t){return X.getBounds(t,!0).getSize()},isInvisible:function(t){return X.getSize(t).equals(new m(0,0))},isInView:function(t){return!X.isInvisible(t)&&X.getViewportBounds(t).intersects(X.getBounds(t,!0))},isInserted:function(t){return s.body.contains(t)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,n){if("object"==typeof i)for(var r in i)t(e,r,!0,i[r]);else t(e,i,!0,n)}}},W={add:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),o=0,s=r.length;o<s;o++)t.addEventListener(r[o],n,!1)},remove:function(t,e){if(t)for(var i in e)for(var n=e[i],r=i.split(/[\s,]+/g),o=0,s=r.length;o<s;o++)t.removeEventListener(r[o],n,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new p(e.pageX||e.clientX+s.documentElement.scrollLeft,e.pageY||e.clientY+s.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return W.getPoint(t).subtract(X.getOffset(e||W.getTarget(t)))}};W.requestAnimationFrame=new function(){function t(){var e=r;r=[];for(var o=0,s=e.length;o<s;o++)e[o]();n=i&&r.length,n&&i(t)}var e,i=X.getPrefixed(o,"requestAnimationFrame"),n=!1,r=[];return function(o){r.push(o),i?n||(i(t),n=!0):e||(e=setInterval(t,1e3/60))}};var Y=a.extend(l,{_class:"View",initialize:function Tt(t,e){function i(t){return e[t]||parseInt(e.getAttribute(t),10)}function r(){var t=X.getSize(e);return t.isNaN()||t.isZero()?new m(i("width"),i("height")):t}var a;if(o&&e){this._id=e.getAttribute("id"),null==this._id&&e.setAttribute("id",this._id="view-"+Tt._id++),W.add(e,this._viewEvents);var l="none";if(X.setPrefixed(e.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),u.hasAttribute(e,"resize")){var c=this;W.add(o,this._windowEvents={resize:function(){c.setViewSize(r())}})}if(a=r(),u.hasAttribute(e,"stats")&&"undefined"!=typeof Stats){this._stats=new Stats;var h=this._stats.domElement,f=h.style,d=X.getOffset(e);f.position="absolute",f.left=d.x+"px",f.top=d.y+"px",s.body.appendChild(h)}}else a=new m(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=o&&o.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,Tt._views.push(this),Tt._viewsById[this._id]=this,(this._matrix=new b)._owner=this,Tt._focused||(Tt._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={"native":{},virtual:{}},this._autoUpdate=!n.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Y._focused===this&&(Y._focused=null),Y._views.splice(Y._views.indexOf(this),1),delete Y._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),W.remove(this._element,this._viewEvents),W.remove(o,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:a.each(C._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;W.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;X.getPrefixed(s,"hidden")&&"true"!==u.getAttribute(e,"keepalive")||!X.isInView(e)||t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){n=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new a({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},1===++this._frameItemCount&&this.on("frame",this._handleFrameItems)):(delete i[t._id],0===--this._frameItemCount&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new a(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(2049),this._bounds=this._decomposed=r},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return 72*this._pixelRatio},getViewSize:function(){var t=this._viewSize;return new v(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=m.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new y(new p,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return X.isInView(this._element)},isInserted:function(){return X.isInserted(this._element)},getPixelSize:function(t){var e,i=this._element;if(i){var n=i.parentNode,r=s.createElement("div");r.style.fontSize=t,n.appendChild(r),e=parseFloat(X.getStyles(r).fontSize),n.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(t,e){
return 0}},a.each(["rotate","scale","shear","skew"],function(t){var e="rotate"===t;this[t]=function(){var i=(e?a:p).read(arguments),n=p.read(arguments,0,{readNull:!0});return this.transform((new b)[t](i,n||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new b;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=p.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose(),e=t&&t.scaling;return e?(e.x+e.y)/2:0},setZoom:function(t){this.transform((new b).scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){var t=this._decompose();return t&&t.rotation},setRotation:function(t){var e=this.getRotation();null!=e&&null!=t&&this.rotate(t-e)},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return e?new g(e.x,e.y,this,"setScaling"):r},setScaling:function(){var t=this.getScaling(),e=p.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.initialize.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(p.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(p.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(p.read(arguments))},getEventPoint:function(t){return this.viewToProject(W.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){s&&"string"==typeof e&&(e=s.getElementById(e));var i=o?$:Y;return new i(t,e)}}},new function(){function t(t){var e=W.getTarget(t);return e.getAttribute&&Y._viewsById[e.getAttribute("id")]}function e(){var t=Y._focused;if(!t||!t.isVisible())for(var e=0,i=Y._views.length;e<i;e++)if((t=Y._views[e]).isVisible()){Y._focused=u=t;break}}function i(t,e,i){t._handleMouseEvent("mousemove",e,i)}function r(t,e,i,n,r,o,s){function a(t,i){if(t.responds(i)){if(l||(l=new Q(i,n,r,e||t,o?r.subtract(o):null)),t.emit(i,l)&&(I=!0,l.prevented&&(k=!0),l.stopped))return u=!0}else{var s=P[i];if(s)return a(t,s)}}for(var l,u=!1;t&&t!==s&&!a(t,i);)t=t._parent;return u}function a(t,e,i,n,o,s){return t._project.removeOn(i),k=I=!1,C&&r(C,null,i,n,o,s)||e&&e!==C&&!e.isDescendant(C)&&r(e,null,i,n,o,s,C)||r(t,C||e||t,i,n,o,s)}if(o){var l,u,c,h,f,d=!1,p=!1,g=o.navigator;g.pointerEnabled||g.msPointerEnabled?(c="pointerdown MSPointerDown",h="pointermove MSPointerMove",f="pointerup pointercancel MSPointerUp MSPointerCancel"):(c="touchstart",h="touchmove",f="touchend touchcancel","ontouchstart"in o&&g.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(c+=" mousedown",h+=" mousemove",f+=" mouseup"));var m={},v={mouseout:function(t){var e=Y._focused,n=W.getRelatedTarget(t);if(e&&(!n||"HTML"===n.nodeName)){var r=W.getOffset(t,e._element),o=r.x,s=Math.abs,a=s(o),l=1<<25,u=a-l;r.x=s(u)<a?u*(o<0?-1:1):o,i(e,t,e.viewToProject(r))}},scroll:e};m[c]=function(e){var i=Y._focused=t(e);d||(d=!0,i._handleMouseEvent("mousedown",e))},v[h]=function(n){var r=Y._focused;if(!p){var o=t(n);o?r!==o&&(r&&i(r,n),l||(l=r),r=Y._focused=u=o):u&&u===r&&(l&&!l.isInserted()&&(l=null),r=Y._focused=l,l=null,e())}r&&i(r,n)},v[c]=function(){p=!0},v[f]=function(t){var e=Y._focused;e&&d&&e._handleMouseEvent("mouseup",t),p=d=!1},W.add(s,v),W.add(o,{load:e});var y,_,b,x,w,C,E,S,T,I=!1,k=!1,P={doubleclick:"click",mousedrag:"mousemove"},L=!1,O={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:m,_handleMouseEvent:function(t,e,i){function n(t){return o.virtual[t]||c.responds(t)||u&&u.responds(t)}var o=this._itemEvents,s=o["native"][t],l="mousemove"===t,u=this._scope.tool,c=this;l&&d&&n("mousedrag")&&(t="mousedrag"),i||(i=this.getEventPoint(e));var h=this.getBounds().contains(i),f=s&&h&&c._project.hitTest(i,{tolerance:0,fill:!0,stroke:!0}),p=f&&f.item||null,g=!1,m={};if(m[t.substr(5)]=!0,s&&p!==w&&(w&&r(w,null,"mouseleave",e,i),p&&r(p,null,"mouseenter",e,i),w=p),L^h&&(r(this,null,h?"mouseenter":"mouseleave",e,i),y=h?this:null,g=!0),!h&&!m.drag||i.equals(b)||(a(this,p,l?t:"mousemove",e,i,b),g=!0),L=h,m.down&&h||m.up&&_){if(a(this,p,t,e,i,_),m.down){if(T=p===E&&Date.now()-S<300,x=E=p,!k&&p){for(var v=p;v&&!v.responds("mousedrag");)v=v._parent;v&&(C=p)}_=i}else m.up&&(k||p!==x||(S=Date.now(),a(this,p,T?"doubleclick":"click",e,i,_),T=!1),x=C=null);L=!1,g=!0}b=i,g&&u&&(I=u._handleMouseEvent(t,e,i,m)||I),(I&&!m.move||m.down&&n("mouseup"))&&e.preventDefault()},_handleKeyEvent:function(t,e,i,r){function o(o){o.responds(t)&&(n=a,o.emit(t,s=s||new K(t,e,i,r)))}var s,a=this._scope,l=a.tool;this.isVisible()&&(o(this),l&&l.responds(t)&&o(l))},_countItemEvent:function(t,e){var i=this._itemEvents,n=i["native"],r=i.virtual;for(var o in O)n[o]=(n[o]||0)+(O[o][t]||0)*e;r[t]=(r[t]||0)+e},statics:{updateFocus:e}}}}),$=Y.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof o.HTMLCanvasElement)){var i=m.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+a.slice(arguments,1));e=nt.getCanvas(i)}var n=this._context=e.getContext("2d");if(n.save(),this._pixelRatio=1,!/^off|false$/.test(u.getAttribute(e,"hidpi"))){var r=o.devicePixelRatio||1,s=X.getPrefixed(n,"backingStorePixelRatio")||1;this._pixelRatio=r/s}Y.call(this,t,e),this._needsUpdate=!0},remove:function It(){return this._context.restore(),It.base.call(this)},_setElementSize:function kt(t,e){var i=this._pixelRatio;if(kt.base.call(this,t*i,e*i),1!==i){var n=this._element,r=this._context;if(!u.hasAttribute(n,"resize")){var o=n.style;o.width=t+"px",o.height=e+"px"}r.restore(),r.save(),r.scale(i,i)}},getPixelSize:function Pt(t){var e,i=n.agent;if(i&&i.firefox)e=Pt.base.call(this,t);else{var r=this._context,o=r.font;r.font=t+" serif",e=parseFloat(r.font),r.font=o}return e},getTextWidth:function(t,e){var i=this._context,n=i.font,r=0;i.font=t;for(var o=0,s=e.length;o<s;o++)r=Math.max(r,i.measureText(e[o]).width);return i.font=n,r},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),Z=a.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return J.modifiers}}),K=Z.extend({_class:"KeyEvent",initialize:function(t,e,i,n){this.type=t,this.event=e,this.key=i,this.character=n},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),J=new function(){function t(t){var e=t.key||t.keyIdentifier;return e=/^U\+/.test(e)?String.fromCharCode(parseInt(e.substr(2),16)):/^Arrow[A-Z]/.test(e)?e.substr(5):"Unidentified"===e||e===r?String.fromCharCode(t.keyCode):e,u[e]||(e.length>1?a.hyphenate(e):e.toLowerCase())}function e(t,r,o,s){var l,u=Y._focused;if(h[r]=t,t?f[r]=o:delete f[r],r.length>1&&(l=a.camelize(r))in d){d[l]=t;var c=n&&n.agent;if("meta"===l&&c&&c.mac)if(t)i={};else{for(var p in i)p in f&&e(!1,p,i[p],s);i=null}}else t&&i&&(i[r]=o);u&&u._handleKeyEvent(t?"keydown":"keyup",s,r,o)}var i,l,u={"\t":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},c={tab:"\t",space:" ",enter:"\r"},h={},f={},d=new a({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var t=n&&n.agent;return t&&t.mac?this.meta:this.control}}});return W.add(s,{keydown:function(i){var r=t(i),o=n&&n.agent;r.length>1||o&&o.chrome&&(i.altKey||o.mac&&i.metaKey||!o.mac&&i.ctrlKey)?e(!0,r,c[r]||(r.length>1?"":r),i):l=r},keypress:function(i){if(l){var n=t(i),r=i.charCode,o=r>=32?String.fromCharCode(r):n.length>1?"":n;n!==l&&(n=o.toLowerCase()),e(!0,n,o,i),l=null}},keyup:function(i){var n=t(i);n in f&&e(!1,n,f[n],i)}}),W.add(o,{blur:function(t){for(var i in f)e(!1,i,f[i],t)}}),{modifiers:d,isDown:function(t){return!!h[t]}}},Q=Z.extend({_class:"MouseEvent",initialize:function(t,e,i,n,r){this.type=t,this.event=e,this.point=i,this.target=n,this.delta=r},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),tt=Z.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(t,e){return t?t:e?e.clone():null},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),et=c.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){c.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,null!=t&&null!=this._maxDistance&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,null!=this._minDistance&&null!=t&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,r){function o(t,e){var n=i,o=a?f._point:f._downPoint||n;if(a){if(f._moveCount&&n.equals(o))return!1;if(o&&(null!=t||null!=e)){var s=n.subtract(o),l=s.getLength();if(l<(t||0))return!1;e&&(n=o.add(s.normalize(Math.min(l,e))))}f._moveCount++}return f._point=n,f._lastPoint=o||n,r.down&&(f._moveCount=-1,f._downPoint=n,f._downCount++),!0}function s(){l&&(h=f.emit(t,new tt(f,t,e))||h)}n=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var a=r.move||r.drag,l=this.responds(t),u=this.minDistance,c=this.maxDistance,h=!1,f=this;if(r.down)o(),s();else if(r.up)o(null,c),s();else if(l)for(;o(u,c);)s();return h}}),it={request:function(t){var e=new i.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,a.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;0===i||200===i?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,n='Could not load "'+t.url+'" (Status: '+i+")";if(!t.onError)throw new Error(n);t.onError(n,i)},e.send(null)}},nt={canvases:[],getCanvas:function(t,e){if(!o)return null;var i,n=!0;"object"==typeof t&&(e=t.height,t=t.width),this.canvases.length?i=this.canvases.pop():(i=s.createElement("canvas"),n=!1);var r=i.getContext("2d");if(!r)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===t&&i.height===e?n&&r.clearRect(0,0,t+1,e+1):(i.width=t,i.height=e),r.save(),i},getContext:function(t,e){var i=this.getCanvas(t,e);return i?i.getContext("2d"):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},rt=new function(){function t(t,e,i){return.2989*t+.587*e+.114*i}function e(e,i,n,r){var o=r-t(e,i,n);d=e+o,p=i+o,g=n+o;var r=t(d,p,g),s=m(d,p,g),a=v(d,p,g);if(s<0){var l=r-s;d=r+(d-r)*r/l,p=r+(p-r)*r/l,g=r+(g-r)*r/l}if(a>255){var u=255-r,c=a-r;d=r+(d-r)*u/c,p=r+(p-r)*u/c,g=r+(g-r)*u/c}}function i(t,e,i){return v(t,e,i)-m(t,e,i)}function n(t,e,i,n){var r,o=[t,e,i],s=v(t,e,i),a=m(t,e,i);a=a===t?0:a===e?1:2,s=s===t?0:s===e?1:2,r=0===m(a,s)?1===v(a,s)?2:1:0,o[s]>o[a]?(o[r]=(o[r]-o[a])*n/(o[s]-o[a]),o[s]=n):o[r]=o[s]=0,o[a]=0,d=o[0],p=o[1],g=o[2]}var r,o,s,l,u,c,h,f,d,p,g,m=Math.min,v=Math.max,y=Math.abs,_={multiply:function(){d=u*r/255,p=c*o/255,g=h*s/255},screen:function(){d=u+r-u*r/255,p=c+o-c*o/255,g=h+s-h*s/255},overlay:function(){d=u<128?2*u*r/255:255-2*(255-u)*(255-r)/255,p=c<128?2*c*o/255:255-2*(255-c)*(255-o)/255,g=h<128?2*h*s/255:255-2*(255-h)*(255-s)/255},"soft-light":function(){var t=r*u/255;d=t+u*(255-(255-u)*(255-r)/255-t)/255,t=o*c/255,p=t+c*(255-(255-c)*(255-o)/255-t)/255,t=s*h/255,g=t+h*(255-(255-h)*(255-s)/255-t)/255},"hard-light":function(){d=r<128?2*r*u/255:255-2*(255-r)*(255-u)/255,p=o<128?2*o*c/255:255-2*(255-o)*(255-c)/255,g=s<128?2*s*h/255:255-2*(255-s)*(255-h)/255},"color-dodge":function(){d=0===u?0:255===r?255:m(255,255*u/(255-r)),p=0===c?0:255===o?255:m(255,255*c/(255-o)),g=0===h?0:255===s?255:m(255,255*h/(255-s))},"color-burn":function(){d=255===u?255:0===r?0:v(0,255-255*(255-u)/r),p=255===c?255:0===o?0:v(0,255-255*(255-c)/o),g=255===h?255:0===s?0:v(0,255-255*(255-h)/s)},darken:function(){d=u<r?u:r,p=c<o?c:o,g=h<s?h:s},lighten:function(){d=u>r?u:r,p=c>o?c:o,g=h>s?h:s},difference:function(){d=u-r,d<0&&(d=-d),p=c-o,p<0&&(p=-p),g=h-s,g<0&&(g=-g)},exclusion:function(){d=u+r*(255-u-u)/255,p=c+o*(255-c-c)/255,g=h+s*(255-h-h)/255},hue:function(){n(r,o,s,i(u,c,h)),e(d,p,g,t(u,c,h))},saturation:function(){n(u,c,h,i(r,o,s)),e(d,p,g,t(u,c,h))},luminosity:function(){e(u,c,h,t(r,o,s))},color:function(){e(r,o,s,t(u,c,h))},add:function(){d=m(u+r,255),p=m(c+o,255),g=m(h+s,255)},subtract:function(){d=v(u-r,0),p=v(c-o,0),g=v(h-s,0)},average:function(){d=(u+r)/2,p=(c+o)/2,g=(h+s)/2},negation:function(){d=255-y(255-r-u),p=255-y(255-o-c),g=255-y(255-s-h)}},b=this.nativeModes=a.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(t){this[t]=!0},{}),x=nt.getContext(1,1);x&&(a.each(_,function(t,e){var i="darken"===e,n=!1;x.save();try{x.fillStyle=i?"#300":"#a00",x.fillRect(0,0,1,1),x.globalCompositeOperation=e,x.globalCompositeOperation===e&&(x.fillStyle=i?"#a00":"#300",x.fillRect(0,0,1,1),n=x.getImageData(0,0,1,1).data[0]!==i?170:51)}catch(r){}x.restore(),b[e]=n}),nt.release(x)),this.process=function(t,e,i,n,a){var m=e.canvas,v="normal"===t;if(v||b[t])i.save(),i.setTransform(1,0,0,1,0,0),i.globalAlpha=n,v||(i.globalCompositeOperation=t),i.drawImage(m,a.x,a.y),i.restore();else{var y=_[t];if(!y)return;for(var x=i.getImageData(a.x,a.y,m.width,m.height),w=x.data,C=e.getImageData(0,0,m.width,m.height).data,E=0,S=w.length;E<S;E+=4){r=C[E],u=w[E],o=C[E+1],c=w[E+1],s=C[E+2],h=w[E+2],l=C[E+3],f=w[E+3],y();var T=l*n/255,I=1-T;w[E]=T*d+I*u,w[E+1]=T*p+I*c,w[E+2]=T*g+I*h,w[E+3]=l*n+I*f}i.putImageData(x,a.x,a.y)}}},ot=new function(){function t(t,e,r){return i(s.createElementNS(n,t),e,r)}function e(t,e){var i=a[e],n=i?t.getAttributeNS(i,e):t.getAttribute(e);return"null"===n?null:n}function i(t,e,i){for(var n in e){var r=e[n],o=a[n];"number"==typeof r&&i&&(r=i.number(r)),o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}return t}var n="http://www.w3.org/2000/svg",r="http://www.w3.org/2000/xmlns",o="http://www.w3.org/1999/xlink",a={href:o,xlink:r,xmlns:r+"/","xmlns:xlink":r+"/"};return{svg:n,xmlns:r,xlink:o,create:t,get:e,set:i}},st=a.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{"true":"none","false":"non-scaling-stroke"},function(t,e){return!e&&(t instanceof N||t instanceof T||t instanceof B)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=a.capitalize(e),n=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:n,fromSVG:n&&a.each(n,function(t,e){this[t]=e},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});return new function(){function t(t,e,i){var n=new a,r=t.getTranslation();if(e){t=t._shiftless();var o=t._inverseTransform(r);n[i?"cx":"x"]=o.x,n[i?"cy":"y"]=o.y,r=null}if(!t.isIdentity()){var s=t.decompose();if(s){var l=[],u=s.rotation,c=s.scaling,h=s.skewing;r&&!r.isZero()&&l.push("translate("+E.point(r)+")"),u&&l.push("rotate("+E.number(u)+")"),f.isZero(c.x-1)&&f.isZero(c.y-1)||l.push("scale("+E.point(c)+")"),h.x&&l.push("skewX("+E.number(h.x)+")"),h.y&&l.push("skewY("+E.number(h.y)+")"),n.transform=l.join(" ")}else n.transform="matrix("+t.getValues().join(",")+")"}return n}function e(e,i){for(var n=t(e._matrix),r=e._children,o=ot.create("g",n,E),s=0,a=r.length;s<a;s++){var l=r[s],u=_(l,i);if(u)if(l.isClipMask()){var c=ot.create("clipPath");c.appendChild(u),m(l,c,"clip"),ot.set(o,{"clip-path":"url(#"+c.id+")"})}else o.appendChild(u)}return o}function n(e,i){var n=t(e._matrix,!0),r=e.getSize(),o=e.getImage();return n.x-=r.width/2,n.y-=r.height/2,n.width=r.width,n.height=r.height,n.href=0==i.embedImages&&o&&o.src||e.toDataURL(),ot.create("image",n,E)}function r(e,i){var n=i.matchShapes;if(n){var r=e.toShape(!1);if(r)return o(r,i)}var s,a=e._segments,l=a.length,u=t(e._matrix);if(n&&l>=2&&!e.hasHandles())if(l>2){s=e._closed?"polygon":"polyline";for(var c=[],h=0;h<l;h++)c.push(E.point(a[h]._point));u.points=c.join(" ")}else{s="line";var f=a[0]._point,d=a[1]._point;u.set({x1:f.x,y1:f.y,x2:d.x,y2:d.y})}else s="path",u.d=e.getPathData(null,i.precision);return ot.create(s,u,E)}function o(e){var i=e._type,n=e._radius,r=t(e._matrix,!0,"rectangle"!==i);if("rectangle"===i){i="rect";var o=e._size,s=o.width,a=o.height;r.x-=s/2,r.y-=a/2,r.width=s,r.height=a,n.isZero()&&(n=null)}return n&&("circle"===i?r.r=n:(r.rx=n.width,r.ry=n.height)),ot.create(i,r,E)}function s(e,i){var n=t(e._matrix),r=e.getPathData(null,i.precision);return r&&(n.d=r),ot.create("path",n,E)}function l(e,i){var n=t(e._matrix,!0),r=e._definition,o=g(r,"symbol"),s=r._item,a=s.getBounds();return o||(o=ot.create("symbol",{viewBox:E.rectangle(a)}),o.appendChild(_(s,i)),m(r,o,"symbol")),n.href="#"+o.id,n.x+=a.x,n.y+=a.y,n.width=a.width,n.height=a.height,n.overflow="visible",ot.create("use",n,E)}function u(t){var e=g(t,"color");if(!e){var i,n=t.getGradient(),r=n._radial,o=t.getOrigin(),s=t.getDestination();if(r){i={cx:o.x,cy:o.y,r:o.getDistance(s)};var a=t.getHighlight();a&&(i.fx=a.x,i.fy=a.y)}else i={x1:o.x,y1:o.y,x2:s.x,y2:s.y};i.gradientUnits="userSpaceOnUse",e=ot.create((r?"radial":"linear")+"Gradient",i,E);for(var l=n._stops,u=0,c=l.length;u<c;u++){var h=l[u],f=h._color,d=f.getAlpha(),p=h._offset;i={offset:null==p?u/(c-1):p},f&&(i["stop-color"]=f.toCSS(!0)),d<1&&(i["stop-opacity"]=d),e.appendChild(ot.create("stop",i,E))}m(t,e,"color")}return"url(#"+e.id+")"}function c(e){var i=ot.create("text",t(e._matrix,!0),E);return i.textContent=e._content,i}function p(t,e,i){var n={},r=!i&&t.getParent(),o=[];return null!=t._name&&(n.id=t._name),a.each(st,function(e){var i=e.get,s=e.type,l=t[i]();if(e.exportFilter?e.exportFilter(t,l):!r||!a.equals(r[i](),l)){if("color"===s&&null!=l){var c=l.getAlpha();c<1&&(n[e.attribute+"-opacity"]=c)}"style"===s?o.push(e.attribute+": "+l):n[e.attribute]=null==l?"none":"color"===s?l.gradient?u(l,t):l.toCSS(!0):"array"===s?l.join(","):"lookup"===s?e.toSVG[l]:l}}),o.length&&(n.style=o.join(";")),1===n.opacity&&delete n.opacity,t._visible||(n.visibility="hidden"),ot.set(e,n,E)}function g(t,e){return S||(S={ids:{},svgs:{}}),t&&S.svgs[e+"-"+(t._id||t.__id||(t.__id=d.get("svg")))]}function m(t,e,i){S||g();var n=S.ids[i]=(S.ids[i]||0)+1;e.id=i+"-"+n,S.svgs[i+"-"+(t._id||t.__id)]=e}function v(t,e){var n=t,r=null;if(S){n="svg"===t.nodeName.toLowerCase()&&t;for(var o in S.svgs)r||(n||(n=ot.create("svg"),n.appendChild(t)),r=n.insertBefore(ot.create("defs"),n.firstChild)),r.appendChild(S.svgs[o]);S=null}return e.asString?(new i.XMLSerializer).serializeToString(n):n}function _(t,e,i){var n=T[t._class],r=n&&n(t,e);if(r){var o=e.onExport;o&&(r=o(t,r,e)||r);var s=JSON.stringify(t._data);s&&"{}"!==s&&"null"!==s&&r.setAttribute("data-paper-data",s)}return r&&p(t,r,i)}function x(t){return t||(t={}),E=new h(t.precision),t}var E,S,T={Group:e,Layer:e,Raster:n,Path:r,Shape:o,CompoundPath:s,SymbolItem:l,PointText:c};C.inject({exportSVG:function(t){return t=x(t),v(_(this,t,!0),t)}}),w.inject({exportSVG:function(e){e=x(e);var i=this._children,n=this.getView(),r=a.pick(e.bounds,"view"),o=e.matrix||"view"===r&&n._matrix,s=o&&b.read([o]),l="view"===r?new y([0,0],n.getViewSize()):"content"===r?C._getBounds(i,s,{stroke:!0}).rect:y.read([r],0,{readNull:!0}),u={version:"1.1",xmlns:ot.svg,"xmlns:xlink":ot.xlink};l&&(u.width=l.width,u.height=l.height,(l.x||l.y)&&(u.viewBox=E.rectangle(l)));var c=ot.create("svg",u,E),h=c;s&&!s.isIdentity()&&(h=c.appendChild(ot.create("g",t(s),E)));for(var f=0,d=i.length;f<d;f++)h.appendChild(_(i[f],e,!0));return v(c,e)}})},new function(){function t(t,e,i,n,r){var o=ot.get(t,e),s=null==o?n?null:i?"":0:i?o:parseFloat(o);return/%\s*$/.test(o)?s/100*(r?1:O[/x|^width/.test(e)?"width":"height"]):s}function e(e,i,n,r,o){return i=t(e,i||"x",!1,r,o),n=t(e,n||"y",!1,r,o),!r||null!=i&&null!=n?new p(i,n):null}function l(e,i,n,r,o){return i=t(e,i||"width",!1,r,o),n=t(e,n||"height",!1,r,o),!r||null!=i&&null!=n?new m(i,n):null}function u(t,e,i){return"none"===t?null:"number"===e?parseFloat(t):"array"===e?t?t.split(/[\s,]+/g).map(parseFloat):[]:"color"===e?S(t)||t:"lookup"===e?i[t]:t}function c(t,e,i,n){var r=t.childNodes,o="clippath"===e,s="defs"===e,a=new E,l=a._project,u=l._currentStyle,c=[];if(o||s||(a=x(a,t,n),l._currentStyle=a._style.clone()),n)for(var h=t.querySelectorAll("defs"),f=0,d=h.length;f<d;f++)k(h[f],i,!1);for(var f=0,d=r.length;f<d;f++){var p,g=r[f];1!==g.nodeType||/^defs$/i.test(g.nodeName)||!(p=k(g,i,!1))||p instanceof P||c.push(p)}return a.addChildren(c),o&&(a=x(a.reduce(),t,n)),l._currentStyle=u,(o||s)&&(a.remove(),a=null),a}function h(t,e){for(var i=t.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),n=[],r=0,o=i.length;r<o;r+=2)n.push(new p(parseFloat(i[r]),parseFloat(i[r+1])));var s=new j(n);return"polygon"===e&&s.closePath(),s}function f(t){return N.create(t.getAttribute("d"))}function d(i,n){var r,o=(t(i,"href",!0)||"").substring(1),s="radialgradient"===n;if(o)r=A[o].getGradient(),r._radial^s&&(r=r.clone(),r._radial=s);else{for(var a=i.childNodes,l=[],u=0,c=a.length;u<c;u++){var h=a[u];1===h.nodeType&&l.push(x(new G,h))}r=new U(l,s)}var f,d,p,g="userSpaceOnUse"!==t(i,"gradientUnits",!0);s?(f=e(i,"cx","cy",!1,g),d=f.add(t(i,"r",!1,!1,g),0),p=e(i,"fx","fy",!0,g)):(f=e(i,"x1","y1",!1,g),d=e(i,"x2","y2",!1,g));var m=x(new q(r,f,d,p),i);return m._scaleToBounds=g,null}function g(t,e,i,n){if(t.transform){for(var r=(n.getAttribute(i)||"").split(/\)\s*/g),o=new b,s=0,a=r.length;s<a;s++){var l=r[s];if(!l)break;for(var u=l.split(/\(\s*/),c=u[0],h=u[1].split(/[\s,]+/g),f=0,d=h.length;f<d;f++)h[f]=parseFloat(h[f]);switch(c){case"matrix":o.append(new b(h[0],h[1],h[2],h[3],h[4],h[5]));break;case"rotate":o.rotate(h[0],h[1],h[2]);break;case"translate":o.translate(h[0],h[1]);break;case"scale":o.scale(h);break;case"skewX":o.skew(h[0],0);break;case"skewY":o.skew(0,h[0])}}t.transform(o)}}function v(t,e,i){var n="fill-opacity"===i?"getFillColor":"getStrokeColor",r=t[n]&&t[n]();r&&r.setAlpha(parseFloat(e))}function _(t,e,i){var n=t.attributes[e],o=n&&n.value;if(!o){var s=a.camelize(e);o=t.style[s],o||i.node[s]===i.parent[s]||(o=i.node[s])}return o?"none"===o?null:o:r}function x(t,e,i){if(e.style){var n=e.parentNode,o={node:X.getStyles(e)||{},parent:!i&&!/^defs$/i.test(n.tagName)&&X.getStyles(n)||{}};a.each(R,function(i,n){var s=_(e,n,o);t=s!==r&&i(t,s,n,e,o)||t})}return t}function S(t){var e=t&&t.match(/\((?:["'#]*)([^"')]+)/),i=e&&e[1],n=i&&A[o?i.replace(o.location.href.split("#")[0]+"#",""):i];return n&&n._scaleToBounds&&(n=n.clone(),n._scaleToBounds=!0),n}function k(t,e,i){var r,o,u,c=t.nodeName.toLowerCase(),h="#document"!==c,f=s.body;i&&h&&(O=n.getView().getSize(),O=l(t,null,null,!0)||O,r=ot.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),o=t.parentNode,u=t.nextSibling,r.appendChild(t),f.appendChild(r));var d=n.settings,p=d.applyMatrix,g=d.insertItems;d.applyMatrix=!1,d.insertItems=!1;var m=M[c],v=m&&m(t,c,e,i)||null;if(d.insertItems=g,d.applyMatrix=p,v){!h||v instanceof E||(v=x(v,t,i));var y=e.onImport,_=h&&t.getAttribute("data-paper-data");y&&(v=y(t,v,e)||v),e.expandShapes&&v instanceof T&&(v.remove(),v=v.toPath()),_&&(v._data=JSON.parse(_))}return r&&(f.removeChild(r),o&&(u?o.insertBefore(t,u):o.appendChild(t))),i&&(A={},v&&a.pick(e.applyMatrix,p)&&v.matrix.apply(!0,!0)),v}function L(t,e,o){function a(s){try{var a="object"==typeof s?s:(new i.DOMParser).parseFromString(s,"image/svg+xml");if(!a.nodeName)throw a=null,new Error("Unsupported SVG source: "+t);n=u,c=k(a,e,!0),e&&e.insert===!1||o._insertItem(r,c);var h=e.onLoad;h&&h(c,s)}catch(f){l(f)}}function l(t,i){var n=e.onError;if(!n)throw new Error(t);n(t,i)}if(!t)return null;e="function"==typeof e?{onLoad:e}:e||{};var u=n,c=null;if("string"!=typeof t||/^.*</.test(t)){if("undefined"!=typeof File&&t instanceof File){var h=new FileReader;return h.onload=function(){a(h.result)},h.onerror=function(){l(h.error)},h.readAsText(t)}a(t)}else{var f=s.getElementById(t);f?a(f):it.request({url:t,async:!0,onLoad:a,onError:l})}return c}var O,A={},M={"#document":function(t,e,i,n){for(var r=t.childNodes,o=0,s=r.length;o<s;o++){var a=r[o];if(1===a.nodeType)return k(a,i,n)}},g:c,svg:c,clippath:c,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(i){var n=new I(t(i,"href",!0));return n.on("load",function(){var t=l(i);this.setSize(t);var n=this._matrix._transformPoint(e(i).add(t.divide(2)));this.translate(n)}),n},symbol:function(t,e,i,n){return new P(c(t,e,i,n),(!0))},defs:c,use:function(i){var n=(t(i,"href",!0)||"").substring(1),r=A[n],o=e(i);return r?r instanceof P?r.place(o):r.clone().translate(o):null},circle:function(i){return new T.Circle(e(i,"cx","cy"),t(i,"r"))},ellipse:function(t){return new T.Ellipse({center:e(t,"cx","cy"),radius:l(t,"rx","ry")})},rect:function(t){return new T.Rectangle(new y(e(t),l(t)),l(t,"rx","ry"))},line:function(t){return new j.Line(e(t,"x1","y1"),e(t,"x2","y2"))},text:function(t){var i=new V(e(t).add(e(t,"dx","dy")));return i.setContent(t.textContent.trim()||""),i}},R=a.set(a.each(st,function(t){this[t.attribute]=function(e,i){if(e[t.set]&&(e[t.set](u(i,t.type,t.fromSVG)),"color"===t.type)){var n=e[t.get]();if(n&&n._scaleToBounds){var r=e.getBounds();n.transform((new b).translate(r.getPoint()).scale(r.getSize()))}}}},{}),{id:function(t,e){A[e]=t,t.setName&&t.setName(e)},"clip-path":function(t,e){var i=S(e);if(i){if(i=i.clone(),i.setClipMask(!0),!(t instanceof E))return new E(i,t);t.insertChild(0,i)}},gradientTransform:g,transform:g,"fill-opacity":v,"stroke-opacity":v,visibility:function(t,e){t.setVisible&&t.setVisible("visible"===e)},display:function(t,e){t.setVisible&&t.setVisible(null!==e)},"stop-color":function(t,e){t.setColor&&t.setColor(e)},"stop-opacity":function(t,e){t._color&&t._color.setAlpha(parseFloat(e))},offset:function(t,e){if(t.setOffset){var i=e.match(/(.*)%$/);t.setOffset(i?i[1]/100:parseFloat(e))}},viewBox:function(t,e,i,n,r){var o,s,a=new y(u(e,"array")),c=l(n,null,null,!0);if(t instanceof E){var h=c?c.divide(a.getSize()):1,s=(new b).scale(h).translate(a.getPoint().negate());o=t}else t instanceof P&&(c&&a.setSize(c),o=t._item);if(o){if("visible"!==_(n,"overflow",r)){var f=new T.Rectangle(a);f.setClipMask(!0),o.addChild(f)}s&&o.transform(s)}}});C.inject({importSVG:function(t,e){return L(t,e,this)}}),w.inject({importSVG:function(t,e){return this.activate(),L(t,e,this)}})},a.exports.PaperScript=function(){function e(t,e){return(v.acorn||y).parse(t,e)}function r(t,e,i){var n=w[e];if(t&&t[n]){var r=t[n](i);return"!="===e?!r:r}switch(e){case"+":return t+i;case"-":return t-i;case"*":return t*i;case"/":return t/i;case"%":return t%i;case"==":return t==i;case"!=":return t!=i}}function l(t,e){var i=C[t];if(e&&e[i])return e[i]();switch(t){case"+":return+e;case"-":return-e}}function c(t,r){function a(t){for(var e=0,i=p.length;e<i;e++){var n=p[e];if(n[0]>=t)break;t+=n[1]}return t}function l(e){return t.substring(a(e.range[0]),a(e.range[1]))}function u(e,i){return t.substring(a(e.range[1]),a(i.range[0]))}function c(e,i){for(var n=a(e.range[0]),r=a(e.range[1]),o=0,s=p.length-1;s>=0;s--)if(n>p[s][0]){o=s+1;break}p.splice(o,0,[n,i.length-r+n]),t=t.substring(0,n)+i+t.substring(r)}function h(t,e){if(t){for(var i in t)if("range"!==i&&"loc"!==i){var n=t[i];if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)h(n[r],t);else n&&"object"==typeof n&&h(n,t)}switch(t.type){case"UnaryExpression":if(t.operator in C&&"Literal"!==t.argument.type){var s=l(t.argument);c(t,'$__("'+t.operator+'", '+s+")")}break;case"BinaryExpression":if(t.operator in w&&"Literal"!==t.left.type){var a=l(t.left),f=l(t.right),d=u(t.left,t.right),p=t.operator;c(t,"__$__("+a+","+d.replace(new RegExp("\\"+p),'"'+p+'"')+", "+f+")")}break;case"UpdateExpression":case"AssignmentExpression":var g=e&&e.type;if(!("ForStatement"===g||"BinaryExpression"===g&&/^[=!<>]/.test(e.operator)||"MemberExpression"===g&&e.computed))if("UpdateExpression"===t.type){var s=l(t.argument),m="__$__("+s+', "'+t.operator[0]+'", 1)',v=s+" = "+m;t.prefix||"AssignmentExpression"!==g&&"VariableDeclarator"!==g||(l(e.left||e.id)===s&&(v=m),v=s+"; "+v),c(t,v)}else if(/^.=$/.test(t.operator)&&"Literal"!==t.left.type){var a=l(t.left),f=l(t.right),m=a+" = __$__("+a+', "'+t.operator[0]+'", '+f+")";c(t,/^\(.*\)$/.test(l(t))?"("+m+")":m)}}}}function f(t){var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=(Math.abs(t)<<1)+(t<0?1:0);t||!e;){var n=31&t;t>>=5,t&&(n|=32),e+=i[n]}return e}if(!t)return"";r=r||{};var d,p=[],g=r.url||"",m=n.agent,v=m.versionNumber,y=!1,_=r.sourceMaps,b=r.source||t,x=/\r\n|\n|\r/gm,E=r.offset||0;if(_&&(m.chrome&&v>=30||m.webkit&&v>=537.76||m.firefox&&v>=23||m.node)){if(m.node)E-=2;else if(o&&g&&!o.location.href.indexOf(g)){var S=s.getElementsByTagName("html")[0].innerHTML;E=S.substr(0,S.indexOf(t)+1).match(x).length+1}y=E>0&&!(m.chrome&&v>=36||m.safari&&v>=600||m.firefox&&v>=40||m.node);var T=["AA"+f(y?0:E)+"A"];T.length=(t.match(x)||[]).length+1+(y?E:0),d={version:3,file:g,names:[],mappings:T.join(";AACA"),sourceRoot:"",sources:[g],sourcesContent:[b]}}return h(e(t,{ranges:!0,preserveParens:!0})),d&&(y&&(t=new Array(E+1).join("\n")+t),/^(inline|both)$/.test(_)&&(t+="\n//# sourceMappingURL=data:application/json;base64,"+i.btoa(unescape(encodeURIComponent(JSON.stringify(d))))),
t+="\n//# sourceURL="+(g||"paperscript")),{url:g,source:b,code:t,map:d}}function h(t,e,i){function o(e,i){for(var n in e)!i&&/^_/.test(n)||!new RegExp("([\\b\\s\\W]|^)"+n.replace(/\$/g,"\\$")+"\\b").test(t)||(m.push(n),v.push(e[n]))}n=e;var u,h=e.getView(),f=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(t)&&!/\bnew\s+Tool\b/.test(t)?new et:null,d=f?f._events:[],g=["onFrame","onResize"].concat(d),m=[],v=[],y="object"==typeof t?t:c(t,i);t=y.code,o({__$__:r,$__:l,paper:e,view:h,tool:f},!0),o(e),g=a.each(g,function(e){new RegExp("\\s+"+e+"\\b").test(t)&&(m.push(e),this.push(e+": "+e))},[]).join(", "),g&&(t+="\nreturn { "+g+" };");var _=n.agent;if(s&&(_.chrome||_.firefox&&_.versionNumber<40)){var b=s.createElement("script"),x=s.head||s.getElementsByTagName("head")[0];_.firefox&&(t="\n"+t),b.appendChild(s.createTextNode("paper._execute = function("+m+") {"+t+"\n}")),x.appendChild(b),u=n._execute,delete n._execute,x.removeChild(b)}else u=Function(m,t);var w=u.apply(e,v)||{};return a.each(d,function(t){var e=w[t];e&&(f[t]=e)}),h&&(w.onResize&&h.setOnResize(w.onResize),h.emit("resize",{size:h.size,delta:new p}),w.onFrame&&h.setOnFrame(w.onFrame),h.requestUpdate()),y}function f(t){if(/^text\/(?:x-|)paperscript$/.test(t.type)&&"true"!==u.getAttribute(t,"ignore")){var e=u.getAttribute(t,"canvas"),i=s.getElementById(e),n=t.src||t.getAttribute("data-src"),r=u.hasAttribute(t,"async"),o="data-paper-scope";if(!i)throw new Error('Unable to find canvas with id "'+e+'"');var a=u.get(i.getAttribute(o))||(new u).setup(i);return i.setAttribute(o,a._id),n?it.request({url:n,async:r,mimeType:"text/plain",onLoad:function(t){h(t,a,n)}}):h(t.innerHTML,a,t.baseURI),t.setAttribute("data-paper-ignore","true"),a}}function d(){a.each(s&&s.getElementsByTagName("script"),f)}function g(t){return t?f(t):d()}var v=this,y=v.acorn;if(!y&&"undefined"!=typeof t)try{y=t("acorn")}catch(_){}if(!y){var b,x;y=b=x={},function(t,e){return"object"==typeof b&&"object"==typeof x?e(b):"function"==typeof define&&define.amd?define(["exports"],e):void e(t.acorn||(t.acorn={}))}(this,function(t){"use strict";function e(t){ht=t||{};for(var e in gt)Object.prototype.hasOwnProperty.call(ht,e)||(ht[e]=gt[e]);pt=ht.sourceFile||null}function i(t,e){var i=mt(ft,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=vt,n}function n(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",n=[];t:for(var r=0;r<t.length;++r){for(var o=0;o<n.length;++o)if(n[o][0].length==t[r].length){n[o].push(t[r]);continue t}n.push([t[r]])}if(n.length>3){n.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var r=0;r<n.length;++r){var s=n[r];i+="case "+s[0].length+":",e(s)}i+="}"}else e(t);return new Function("str",i)}function r(){this.line=St,this.column=vt-Tt}function o(){St=1,vt=Tt=0,Et=!0,u()}function s(t,e){_t=vt,ht.locations&&(xt=new r),wt=t,u(),Ct=e,Et=t.beforeExpr}function a(){var t=ht.onComment&&ht.locations&&new r,e=vt,n=ft.indexOf("*/",vt+=2);if(n===-1&&i(vt-2,"Unterminated comment"),vt=n+2,ht.locations){Ze.lastIndex=e;for(var o;(o=Ze.exec(ft))&&o.index<vt;)++St,Tt=o.index+o[0].length}ht.onComment&&ht.onComment(!0,ft.slice(e+2,n),e,vt,t,ht.locations&&new r)}function l(){for(var t=vt,e=ht.onComment&&ht.locations&&new r,i=ft.charCodeAt(vt+=2);vt<dt&&10!==i&&13!==i&&8232!==i&&8233!==i;)++vt,i=ft.charCodeAt(vt);ht.onComment&&ht.onComment(!1,ft.slice(t+2,vt),t,vt,e,ht.locations&&new r)}function u(){for(;vt<dt;){var t=ft.charCodeAt(vt);if(32===t)++vt;else if(13===t){++vt;var e=ft.charCodeAt(vt);10===e&&++vt,ht.locations&&(++St,Tt=vt)}else if(10===t||8232===t||8233===t)++vt,ht.locations&&(++St,Tt=vt);else if(t>8&&t<14)++vt;else if(47===t){var e=ft.charCodeAt(vt+1);if(42===e)a();else{if(47!==e)break;l()}}else if(160===t)++vt;else{if(!(t>=5760&&Ge.test(String.fromCharCode(t))))break;++vt}}}function c(){var t=ft.charCodeAt(vt+1);return t>=48&&t<=57?E(!0):(++vt,s(be))}function h(){var t=ft.charCodeAt(vt+1);return Et?(++vt,x()):61===t?b(Ee,2):b(we,1)}function f(){var t=ft.charCodeAt(vt+1);return 61===t?b(Ee,2):b(je,1)}function d(t){var e=ft.charCodeAt(vt+1);return e===t?b(124===t?Ie:ke,2):61===e?b(Ee,2):b(124===t?Pe:Oe,1)}function p(){var t=ft.charCodeAt(vt+1);return 61===t?b(Ee,2):b(Le,1)}function g(t){var e=ft.charCodeAt(vt+1);return e===t?45==e&&62==ft.charCodeAt(vt+2)&&$e.test(ft.slice(kt,vt))?(vt+=3,l(),u(),_()):b(Se,2):61===e?b(Ee,2):b(Ne,1)}function m(t){var e=ft.charCodeAt(vt+1),i=1;return e===t?(i=62===t&&62===ft.charCodeAt(vt+2)?3:2,61===ft.charCodeAt(vt+i)?b(Ee,i+1):b(Re,i)):33==e&&60==t&&45==ft.charCodeAt(vt+2)&&45==ft.charCodeAt(vt+3)?(vt+=4,l(),u(),_()):(61===e&&(i=61===ft.charCodeAt(vt+2)?3:2),b(Me,i))}function v(t){var e=ft.charCodeAt(vt+1);return 61===e?b(Ae,61===ft.charCodeAt(vt+2)?3:2):b(61===t?Ce:Te,1)}function y(t){switch(t){case 46:return c();case 40:return++vt,s(ge);case 41:return++vt,s(me);case 59:return++vt,s(ye);case 44:return++vt,s(ve);case 91:return++vt,s(he);case 93:return++vt,s(fe);case 123:return++vt,s(de);case 125:return++vt,s(pe);case 58:return++vt,s(_e);case 63:return++vt,s(xe);case 48:var e=ft.charCodeAt(vt+1);if(120===e||88===e)return C();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return E(!1);case 34:case 39:return S(t);case 47:return h(t);case 37:case 42:return f();case 124:case 38:return d(t);case 94:return p();case 43:case 45:return g(t);case 60:case 62:return m(t);case 61:case 33:return v(t);case 126:return b(Te,1)}return!1}function _(t){if(t?vt=yt+1:yt=vt,ht.locations&&(bt=new r),t)return x();if(vt>=dt)return s(Ft);var e=ft.charCodeAt(vt);if(Ke(e)||92===e)return k();var n=y(e);if(n===!1){var o=String.fromCharCode(e);if("\\"===o||We.test(o))return k();i(vt,"Unexpected character '"+o+"'")}return n}function b(t,e){var i=ft.slice(vt,vt+e);vt+=e,s(t,i)}function x(){for(var t,e,n="",r=vt;;){vt>=dt&&i(r,"Unterminated regular expression");var o=ft.charAt(vt);if($e.test(o)&&i(r,"Unterminated regular expression"),t)t=!1;else{if("["===o)e=!0;else if("]"===o&&e)e=!1;else if("/"===o&&!e)break;t="\\"===o}++vt}var n=ft.slice(r,vt);++vt;var a=I();a&&!/^[gmsiy]*$/.test(a)&&i(r,"Invalid regexp flag");try{var l=new RegExp(n,a)}catch(u){u instanceof SyntaxError&&i(r,u.message),i(u)}return s(Nt,l)}function w(t,e){for(var i=vt,n=0,r=0,o=null==e?1/0:e;r<o;++r){var s,a=ft.charCodeAt(vt);if(s=a>=97?a-97+10:a>=65?a-65+10:a>=48&&a<=57?a-48:1/0,s>=t)break;++vt,n=n*t+s}return vt===i||null!=e&&vt-i!==e?null:n}function C(){vt+=2;var t=w(16);return null==t&&i(yt+2,"Expected hexadecimal number"),Ke(ft.charCodeAt(vt))&&i(vt,"Identifier directly after number"),s(Rt,t)}function E(t){var e=vt,n=!1,r=48===ft.charCodeAt(vt);t||null!==w(10)||i(e,"Invalid number"),46===ft.charCodeAt(vt)&&(++vt,w(10),n=!0);var o=ft.charCodeAt(vt);69!==o&&101!==o||(o=ft.charCodeAt(++vt),43!==o&&45!==o||++vt,null===w(10)&&i(e,"Invalid number"),n=!0),Ke(ft.charCodeAt(vt))&&i(vt,"Identifier directly after number");var a,l=ft.slice(e,vt);return n?a=parseFloat(l):r&&1!==l.length?/[89]/.test(l)||At?i(e,"Invalid number"):a=parseInt(l,8):a=parseInt(l,10),s(Rt,a)}function S(t){vt++;for(var e="";;){vt>=dt&&i(yt,"Unterminated string constant");var n=ft.charCodeAt(vt);if(n===t)return++vt,s(jt,e);if(92===n){n=ft.charCodeAt(++vt);var r=/^[0-7]+/.exec(ft.slice(vt,vt+3));for(r&&(r=r[0]);r&&parseInt(r,8)>255;)r=r.slice(0,-1);if("0"===r&&(r=null),++vt,r)At&&i(vt-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(r,8)),vt+=r.length-1;else switch(n){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(T(2));break;case 117:e+=String.fromCharCode(T(4));break;case 85:e+=String.fromCharCode(T(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\x0B";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===ft.charCodeAt(vt)&&++vt;case 10:ht.locations&&(Tt=vt,++St);break;default:e+=String.fromCharCode(n)}}else 13!==n&&10!==n&&8232!==n&&8233!==n||i(yt,"Unterminated string constant"),e+=String.fromCharCode(n),++vt}}function T(t){var e=w(16,t);return null===e&&i(yt,"Bad character escape sequence"),e}function I(){Fe=!1;for(var t,e=!0,n=vt;;){var r=ft.charCodeAt(vt);if(Je(r))Fe&&(t+=ft.charAt(vt)),++vt;else{if(92!==r)break;Fe||(t=ft.slice(n,vt)),Fe=!0,117!=ft.charCodeAt(++vt)&&i(vt,"Expecting Unicode escape sequence \\uXXXX"),++vt;var o=T(4),s=String.fromCharCode(o);s||i(vt-1,"Invalid Unicode escape"),(e?Ke(o):Je(o))||i(vt-4,"Invalid Unicode escape"),t+=s}e=!1}return Fe?t:ft.slice(n,vt)}function k(){var t=I(),e=Dt;return!Fe&&Ue(t)&&(e=ce[t]),s(e,t)}function P(){It=yt,kt=_t,Pt=xt,_()}function L(t){if(At=t,vt=yt,ht.locations)for(;vt<Tt;)Tt=ft.lastIndexOf("\n",Tt-2)+1,--St;u(),_()}function O(){this.type=null,this.start=yt,this.end=null}function A(){this.start=bt,this.end=null,null!==pt&&(this.source=pt)}function M(){var t=new O;return ht.locations&&(t.loc=new A),ht.directSourceFile&&(t.sourceFile=ht.directSourceFile),ht.ranges&&(t.range=[yt,0]),t}function R(t){var e=new O;return e.start=t.start,ht.locations&&(e.loc=new A,e.loc.start=t.loc.start),ht.ranges&&(e.range=[t.range[0],0]),e}function N(t,e){return t.type=e,t.end=kt,ht.locations&&(t.loc.end=Pt),ht.ranges&&(t.range[1]=kt),t}function j(t){return ht.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function D(t){if(wt===t)return P(),!0}function F(){return!ht.strictSemicolons&&(wt===Ft||wt===pe||$e.test(ft.slice(kt,yt)))}function z(){D(ye)||F()||V()}function B(t){wt===t?P():V()}function V(){i(yt,"Unexpected token")}function q(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&i(t.start,"Assigning to rvalue"),At&&"Identifier"===t.type&&qe(t.name)&&i(t.start,"Assigning to "+t.name+" in strict mode")}function U(t){It=kt=vt,ht.locations&&(Pt=new r),Lt=At=null,Ot=[],_();var e=t||M(),i=!0;for(t||(e.body=[]);wt!==Ft;){var n=G();e.body.push(n),i&&j(n)&&L(!0),i=!1}return N(e,"Program")}function G(){(wt===we||wt===Ee&&"/="==Ct)&&_(!0);var t=wt,e=M();switch(t){case zt:case qt:P();var n=t===zt;D(ye)||F()?e.label=null:wt!==Dt?V():(e.label=ct(),z());for(var r=0;r<Ot.length;++r){var o=Ot[r];if(null==e.label||o.name===e.label.name){if(null!=o.kind&&(n||"loop"===o.kind))break;if(e.label&&n)break}}return r===Ot.length&&i(e.start,"Unsyntactic "+t.keyword),N(e,n?"BreakStatement":"ContinueStatement");case Ut:return P(),z(),N(e,"DebuggerStatement");case Ht:return P(),Ot.push(Qe),e.body=G(),Ot.pop(),B(ie),e.test=H(),z(),N(e,"DoWhileStatement");case Yt:if(P(),Ot.push(Qe),B(ge),wt===ye)return W(e,null);if(wt===ee){var s=M();return P(),$(s,!0),N(s,"VariableDeclaration"),1===s.declarations.length&&D(ue)?Y(e,s):W(e,s)}var s=Z(!1,!0);return D(ue)?(q(s),Y(e,s)):W(e,s);case $t:return P(),lt(e,!0);case Zt:return P(),e.test=H(),e.consequent=G(),e.alternate=D(Xt)?G():null,N(e,"IfStatement");case Kt:return Lt||ht.allowReturnOutsideFunction||i(yt,"'return' outside of function"),P(),D(ye)||F()?e.argument=null:(e.argument=Z(),z()),N(e,"ReturnStatement");case Jt:P(),e.discriminant=H(),e.cases=[],B(de),Ot.push(ti);for(var a,l;wt!=pe;)if(wt===Bt||wt===Gt){var u=wt===Bt;a&&N(a,"SwitchCase"),e.cases.push(a=M()),a.consequent=[],P(),u?a.test=Z():(l&&i(It,"Multiple default clauses"),l=!0,a.test=null),B(_e)}else a||V(),a.consequent.push(G());return a&&N(a,"SwitchCase"),P(),Ot.pop(),N(e,"SwitchStatement");case Qt:return P(),$e.test(ft.slice(kt,yt))&&i(kt,"Illegal newline after throw"),e.argument=Z(),z(),N(e,"ThrowStatement");case te:if(P(),e.block=X(),e.handler=null,wt===Vt){var c=M();P(),B(ge),c.param=ct(),At&&qe(c.param.name)&&i(c.param.start,"Binding "+c.param.name+" in strict mode"),B(me),c.guard=null,c.body=X(),e.handler=N(c,"CatchClause")}return e.guardedHandlers=Mt,e.finalizer=D(Wt)?X():null,e.handler||e.finalizer||i(e.start,"Missing catch or finally clause"),N(e,"TryStatement");case ee:return P(),$(e),z(),N(e,"VariableDeclaration");case ie:return P(),e.test=H(),Ot.push(Qe),e.body=G(),Ot.pop(),N(e,"WhileStatement");case ne:return At&&i(yt,"'with' in strict mode"),P(),e.object=H(),e.body=G(),N(e,"WithStatement");case de:return X();case ye:return P(),N(e,"EmptyStatement");default:var h=Ct,f=Z();if(t===Dt&&"Identifier"===f.type&&D(_e)){for(var r=0;r<Ot.length;++r)Ot[r].name===h&&i(f.start,"Label '"+h+"' is already declared");var d=wt.isLoop?"loop":wt===Jt?"switch":null;return Ot.push({name:h,kind:d}),e.body=G(),Ot.pop(),e.label=f,N(e,"LabeledStatement")}return e.expression=f,z(),N(e,"ExpressionStatement")}}function H(){B(ge);var t=Z();return B(me),t}function X(t){var e,i=M(),n=!0,r=!1;for(i.body=[],B(de);!D(pe);){var o=G();i.body.push(o),n&&t&&j(o)&&(e=r,L(r=!0)),n=!1}return r&&!e&&L(!1),N(i,"BlockStatement")}function W(t,e){return t.init=e,B(ye),t.test=wt===ye?null:Z(),B(ye),t.update=wt===me?null:Z(),B(me),t.body=G(),Ot.pop(),N(t,"ForStatement")}function Y(t,e){return t.left=e,t.right=Z(),B(me),t.body=G(),Ot.pop(),N(t,"ForInStatement")}function $(t,e){for(t.declarations=[],t.kind="var";;){var n=M();if(n.id=ct(),At&&qe(n.id.name)&&i(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=D(Ce)?Z(!0,e):null,t.declarations.push(N(n,"VariableDeclarator")),!D(ve))break}return t}function Z(t,e){var i=K(e);if(!t&&wt===ve){var n=R(i);for(n.expressions=[i];D(ve);)n.expressions.push(K(e));return N(n,"SequenceExpression")}return i}function K(t){var e=J(t);if(wt.isAssign){var i=R(e);return i.operator=Ct,i.left=e,P(),i.right=K(t),q(e),N(i,"AssignmentExpression")}return e}function J(t){var e=Q(t);if(D(xe)){var i=R(e);return i.test=e,i.consequent=Z(!0),B(_e),i.alternate=Z(!0,t),N(i,"ConditionalExpression")}return e}function Q(t){return tt(et(),-1,t)}function tt(t,e,i){var n=wt.binop;if(null!=n&&(!i||wt!==ue)&&n>e){var r=R(t);r.left=t,r.operator=Ct;var o=wt;P(),r.right=tt(et(),n,i);var s=N(r,o===Ie||o===ke?"LogicalExpression":"BinaryExpression");return tt(s,e,i)}return t}function et(){if(wt.prefix){var t=M(),e=wt.isUpdate;return t.operator=Ct,t.prefix=!0,Et=!0,P(),t.argument=et(),e?q(t.argument):At&&"delete"===t.operator&&"Identifier"===t.argument.type&&i(t.start,"Deleting local variable in strict mode"),N(t,e?"UpdateExpression":"UnaryExpression")}for(var n=it();wt.postfix&&!F();){var t=R(n);t.operator=Ct,t.prefix=!1,t.argument=n,q(n),P(),n=N(t,"UpdateExpression")}return n}function it(){return nt(rt())}function nt(t,e){if(D(be)){var i=R(t);return i.object=t,i.property=ct(!0),i.computed=!1,nt(N(i,"MemberExpression"),e)}if(D(he)){var i=R(t);return i.object=t,i.property=Z(),i.computed=!0,B(fe),nt(N(i,"MemberExpression"),e)}if(!e&&D(ge)){var i=R(t);return i.callee=t,i.arguments=ut(me,!1),nt(N(i,"CallExpression"),e)}return t}function rt(){switch(wt){case oe:var t=M();return P(),N(t,"ThisExpression");case Dt:return ct();case Rt:case jt:case Nt:var t=M();return t.value=Ct,t.raw=ft.slice(yt,_t),P(),N(t,"Literal");case se:case ae:case le:var t=M();return t.value=wt.atomValue,t.raw=wt.keyword,P(),N(t,"Literal");case ge:var e=bt,i=yt;P();var n=Z();return n.start=i,n.end=_t,ht.locations&&(n.loc.start=e,n.loc.end=xt),ht.ranges&&(n.range=[i,_t]),B(me),n;case he:var t=M();return P(),t.elements=ut(fe,!0,!0),N(t,"ArrayExpression");case de:return st();case $t:var t=M();return P(),lt(t,!1);case re:return ot();default:V()}}function ot(){var t=M();return P(),t.callee=nt(rt(),!0),D(ge)?t.arguments=ut(me,!1):t.arguments=Mt,N(t,"NewExpression")}function st(){var t=M(),e=!0,n=!1;for(t.properties=[],P();!D(pe);){if(e)e=!1;else if(B(ve),ht.allowTrailingCommas&&D(pe))break;var r,o={key:at()},s=!1;if(D(_e)?(o.value=Z(!0),r=o.kind="init"):ht.ecmaVersion>=5&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(s=n=!0,r=o.kind=o.key.name,o.key=at(),wt!==ge&&V(),o.value=lt(M(),!1)):V(),"Identifier"===o.key.type&&(At||n))for(var a=0;a<t.properties.length;++a){var l=t.properties[a];if(l.key.name===o.key.name){var u=r==l.kind||s&&"init"===l.kind||"init"===r&&("get"===l.kind||"set"===l.kind);u&&!At&&"init"===r&&"init"===l.kind&&(u=!1),u&&i(o.key.start,"Redefinition of property")}}t.properties.push(o)}return N(t,"ObjectExpression")}function at(){return wt===Rt||wt===jt?rt():ct(!0)}function lt(t,e){wt===Dt?t.id=ct():e?V():t.id=null,t.params=[];var n=!0;for(B(ge);!D(me);)n?n=!1:B(ve),t.params.push(ct());var r=Lt,o=Ot;if(Lt=!0,Ot=[],t.body=X(!0),Lt=r,Ot=o,At||t.body.body.length&&j(t.body.body[0]))for(var s=t.id?-1:0;s<t.params.length;++s){var a=s<0?t.id:t.params[s];if((Ve(a.name)||qe(a.name))&&i(a.start,"Defining '"+a.name+"' in strict mode"),s>=0)for(var l=0;l<s;++l)a.name===t.params[l].name&&i(a.start,"Argument name clash in strict mode")}return N(t,e?"FunctionDeclaration":"FunctionExpression")}function ut(t,e,i){for(var n=[],r=!0;!D(t);){if(r)r=!1;else if(B(ve),e&&ht.allowTrailingCommas&&D(t))break;i&&wt===ve?n.push(null):n.push(Z(!0))}return n}function ct(t){var e=M();return t&&"everywhere"==ht.forbidReserved&&(t=!1),wt===Dt?(!t&&(ht.forbidReserved&&(3===ht.ecmaVersion?ze:Be)(Ct)||At&&Ve(Ct))&&ft.slice(yt,_t).indexOf("\\")==-1&&i(yt,"The keyword '"+Ct+"' is reserved"),e.name=Ct):t&&wt.keyword?e.name=wt.keyword:V(),Et=!1,P(),N(e,"Identifier")}t.version="0.5.0";var ht,ft,dt,pt;t.parse=function(t,i){return ft=String(t),dt=ft.length,e(i),o(),U(ht.program)};var gt=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},mt=t.getLineInfo=function(t,e){for(var i=1,n=0;;){Ze.lastIndex=n;var r=Ze.exec(t);if(!(r&&r.index<e))break;++i,n=r.index+r[0].length}return{line:i,column:e-n}};t.tokenize=function(t,i){function n(t){return kt=_t,_(t),r.start=yt,r.end=_t,r.startLoc=bt,r.endLoc=xt,r.type=wt,r.value=Ct,r}ft=String(t),dt=ft.length,e(i),o();var r={};return n.jumpTo=function(t,e){if(vt=t,ht.locations){St=1,Tt=Ze.lastIndex=0;for(var i;(i=Ze.exec(ft))&&i.index<t;)++St,Tt=i.index+i[0].length}Et=e,u()},n};var vt,yt,_t,bt,xt,wt,Ct,Et,St,Tt,It,kt,Pt,Lt,Ot,At,Mt=[],Rt={type:"num"},Nt={type:"regexp"},jt={type:"string"},Dt={type:"name"},Ft={type:"eof"},zt={keyword:"break"},Bt={keyword:"case",beforeExpr:!0},Vt={keyword:"catch"},qt={keyword:"continue"},Ut={keyword:"debugger"},Gt={keyword:"default"},Ht={keyword:"do",isLoop:!0},Xt={keyword:"else",beforeExpr:!0},Wt={keyword:"finally"},Yt={keyword:"for",isLoop:!0},$t={keyword:"function"},Zt={keyword:"if"},Kt={keyword:"return",beforeExpr:!0},Jt={keyword:"switch"},Qt={keyword:"throw",beforeExpr:!0},te={keyword:"try"},ee={keyword:"var"},ie={keyword:"while",isLoop:!0},ne={keyword:"with"},re={keyword:"new",beforeExpr:!0},oe={keyword:"this"},se={keyword:"null",atomValue:null},ae={keyword:"true",atomValue:!0},le={keyword:"false",atomValue:!1},ue={keyword:"in",binop:7,beforeExpr:!0},ce={"break":zt,"case":Bt,"catch":Vt,"continue":qt,"debugger":Ut,"default":Gt,"do":Ht,"else":Xt,"finally":Wt,"for":Yt,"function":$t,"if":Zt,"return":Kt,"switch":Jt,"throw":Qt,"try":te,"var":ee,"while":ie,"with":ne,"null":se,"true":ae,"false":le,"new":re,"in":ue,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":oe,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},he={type:"[",beforeExpr:!0},fe={type:"]"},de={type:"{",beforeExpr:!0},pe={type:"}"},ge={type:"(",beforeExpr:!0},me={type:")"},ve={type:",",beforeExpr:!0},ye={type:";",beforeExpr:!0},_e={type:":",beforeExpr:!0},be={type:"."},xe={type:"?",beforeExpr:!0},we={binop:10,beforeExpr:!0},Ce={isAssign:!0,beforeExpr:!0},Ee={isAssign:!0,beforeExpr:!0},Se={postfix:!0,prefix:!0,isUpdate:!0},Te={prefix:!0,beforeExpr:!0},Ie={binop:1,beforeExpr:!0},ke={binop:2,beforeExpr:!0},Pe={binop:3,beforeExpr:!0},Le={binop:4,beforeExpr:!0},Oe={binop:5,beforeExpr:!0},Ae={binop:6,beforeExpr:!0},Me={binop:7,beforeExpr:!0},Re={binop:8,beforeExpr:!0},Ne={binop:9,prefix:!0,beforeExpr:!0},je={binop:10,beforeExpr:!0};t.tokTypes={bracketL:he,bracketR:fe,braceL:de,braceR:pe,parenL:ge,parenR:me,comma:ve,semi:ye,colon:_e,dot:be,question:xe,slash:we,eq:Ce,name:Dt,eof:Ft,num:Rt,regexp:Nt,string:jt};for(var De in ce)t.tokTypes["_"+De]=ce[De];var Fe,ze=n("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Be=n("class enum extends super const export import"),Ve=n("implements interface let package private protected public static yield"),qe=n("eval arguments"),Ue=n("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Ge=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,He="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Xe="------------------------------------------------------------------------------------------------------------------------------------------",We=new RegExp("["+He+"]"),Ye=new RegExp("["+He+Xe+"]"),$e=/[\n\r\u2028\u2029]/,Ze=/\r\n|[\n\r\u2028\u2029]/g,Ke=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||t>=170&&We.test(String.fromCharCode(t)))},Je=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||t>=170&&Ye.test(String.fromCharCode(t))))},Qe={kind:"loop"},ti={kind:"switch"}}),y.version||(y=null)}var w={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},C={"-":"__negate","+":"__self"},E=a.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(t){this["__"+t]="#"+t},{__self:function(){return this}});return p.inject(E),m.inject(E),q.inject(E),o&&("complete"===s.readyState?setTimeout(d):W.add(o,{load:d})),{compile:c,execute:h,load:g,parse:e}}.call(this),n=new(u.inject(a.exports,{Base:a,Numerical:f,Key:J,DomEvent:W,DomElement:X,document:s,window:o,Symbol:P,PlacedSymbol:k})),n.agent.node&&t("./node/extend.js")(n),"function"==typeof define&&define.amd?define("paper",n):"object"==typeof e&&e&&(e.exports=n),n}.call(this,"object"==typeof self?self:null)},{"./node/extend.js":121,"./node/self.js":121,acorn:89}],603:[function(t,e,i){var n=t("trim"),r=t("for-each"),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return r(n(t).split("\n"),function(t){var i=t.indexOf(":"),r=n(t.slice(0,i)).toLowerCase(),s=n(t.slice(i+1));"undefined"==typeof e[r]?e[r]=s:o(e[r])?e[r].push(s):e[r]=[e[r],s]}),e}},{"for-each":581,trim:623}],604:[function(t,e,i){(function(t){(function(){var i,n,r,o,s,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(i()-s)/1e6},n=t.hrtime,i=function(){var t;return t=n(),1e9*t[0]+t[1]},o=i(),a=1e9*t.uptime(),s=o-a):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:122}],605:[function(t,e,i){(function(i){for(var n=t("performance-now"),r="undefined"==typeof window?i:window,o=["moz","webkit"],s="AnimationFrame",a=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=r[o[u]+"Request"+s],l=r[o[u]+"Cancel"+s]||r[o[u]+"CancelRequest"+s];if(!a||!l){var c=0,h=0,f=[],d=1e3/60;a=function(t){if(0===f.length){var e=n(),i=Math.max(0,d-(e-c));c=i+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(i){setTimeout(function(){throw i},0)}},Math.round(i))}return f.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}e.exports=function(t){return a.call(r,t)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(t){t||(t=r),t.requestAnimationFrame=a,t.cancelAnimationFrame=l}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":604}],606:[function(t,e,i){var n=function(){return this}()||Function("return this")(),r=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=r&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=t("./runtime"),r)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(s){n.regeneratorRuntime=void 0}},{"./runtime":607}],607:[function(t,e,i){!function(t){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,s=Object.create(o.prototype),a=new d(n||[]);return s._invoke=u(t,i,a),s}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(n){return{type:"throw",arg:n}}}function r(){}function o(){}function s(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(i,r,o,s){var a=n(t[i],t,r);if("throw"!==a.type){var l=a.arg,u=l.value;return u&&"object"==typeof u&&y.call(u,"__await")?Promise.resolve(u.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(u).then(function(t){l.value=t,o(l)},s)}s(a.arg)}function i(t,i){function n(){return new Promise(function(n,r){e(t,i,n,r)})}return r=r?r.then(n,n):n()}var r;this._invoke=i}function u(t,e,i){var r=S;return function(o,s){if(r===I)throw new Error("Generator is already running");if(r===k){if("throw"===o)throw s;return g()}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=c(a,i);if(l){if(l===P)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===S)throw r=k,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=I;var u=n(t,e,i);if("normal"===u.type){if(r=i.done?k:T,u.arg===P)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=k,i.method="throw",i.arg=u.arg)}}}function c(t,e){var i=t.iterator[e.method];if(i===m){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=m,c(t,e),"throw"===e.method))return P;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,P;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,P):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,P)}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function r(){for(;++i<t.length;)if(y.call(t,i))return r.value=t[i],r.done=!1,r;return r.value=m,r.done=!0,r};return n.next=n}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype,y=v.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag",C="object"==typeof e,E=t.regeneratorRuntime;if(E)return void(C&&(e.exports=E));E=t.regeneratorRuntime=C?e.exports:{},E.wrap=i;var S="suspendedStart",T="suspendedYield",I="executing",k="completed",P={},L={};L[b]=function(){return this};var O=Object.getPrototypeOf,A=O&&O(O(p([])));A&&A!==v&&y.call(A,b)&&(L=A);var M=s.prototype=r.prototype=Object.create(L);o.prototype=M.constructor=s,s.constructor=o,s[w]=o.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,w in t||(t[w]="GeneratorFunction")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},a(l.prototype),l.prototype[x]=function(){return this},E.AsyncIterator=l,E.async=function(t,e,n,r){var o=new l(i(t,e,n,r));return E.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},a(M),M[w]="Generator",M[b]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},E.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=m),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var s=y.call(r,"catchLoc"),a=y.call(r,"finallyLoc");if(s&&a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,P):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),P},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),P}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;f(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:p(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=m),
P}}}(function(){return this}()||Function("return this")())},{}],608:[function(t,e,i){"use strict";function n(t,e){for(var i=new Array(t.length-1),n=1;n<t.length;++n)for(var r=i[n-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[n][o]);return i}function r(t){for(var e=new Array(t),i=0;i<t;++i){e[i]=new Array(t);for(var n=0;n<t;++n)e[i][n]=["m",n,"[",t-i-1,"]"].join("")}return e}function o(t){return 1&t?"-":""}function s(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",s(t.slice(0,e)),",",s(t.slice(e)),")"].join("")}function a(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],i=0;i<t.length;++i)e.push(["scale(",s(a(n(t,i))),",",o(i),t[0][i],")"].join(""));return e}function l(t){for(var e=[],i=[],o=r(t),l=[],u=0;u<t;++u)0===(1&u)?e.push.apply(e,a(n(o,u))):i.push.apply(i,a(n(o,u))),l.push("m"+u);var c=s(e),g=s(i),m="orientation"+t+"Exact",v=["function ",m,"(",l.join(),"){var p=",c,",n=",g,",d=sub(p,n);return d[d.length-1];};return ",m].join(""),y=new Function("sum","prod","scale","sub",v);return y(f,h,d,p)}function u(t){var e=x[t.length];return e||(e=x[t.length]=l(t.length)),e.apply(void 0,t)}function c(){for(;x.length<=g;)x.push(l(x.length));for(var t=[],i=["slow"],n=0;n<=g;++n)t.push("a"+n),i.push("o"+n);for(var r=["function getOrientation(",t.join(),"){switch(arguments.length){case 0:case 1:return 0;"],n=2;n<=g;++n)r.push("case ",n,":return o",n,"(",t.slice(0,n).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),i.push(r.join(""));var o=Function.apply(void 0,i);e.exports=o.apply(void 0,[u].concat(x));for(var n=0;n<=g;++n)e.exports[n]=x[n]}var h=t("two-product"),f=t("robust-sum"),d=t("robust-scale"),p=t("robust-subtract"),g=5,m=1.1102230246251565e-16,v=(3+16*m)*m,y=(7+56*m)*m,_=l(3),b=l(4),x=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,i){var n,r=(t[1]-i[1])*(e[0]-i[0]),o=(t[0]-i[0])*(e[1]-i[1]),s=r-o;if(r>0){if(o<=0)return s;n=r+o}else{if(!(r<0))return s;if(o>=0)return s;n=-(r+o)}var a=v*n;return s>=a||s<=-a?s:_(t,e,i)},function(t,e,i,n){var r=t[0]-n[0],o=e[0]-n[0],s=i[0]-n[0],a=t[1]-n[1],l=e[1]-n[1],u=i[1]-n[1],c=t[2]-n[2],h=e[2]-n[2],f=i[2]-n[2],d=o*u,p=s*l,g=s*a,m=r*u,v=r*l,_=o*a,x=c*(d-p)+h*(g-m)+f*(v-_),w=(Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(g)+Math.abs(m))*Math.abs(h)+(Math.abs(v)+Math.abs(_))*Math.abs(f),C=y*w;return x>C||-x>C?x:b(t,e,i,n)}];c()},{"robust-scale":609,"robust-subtract":610,"robust-sum":611,"two-product":682}],609:[function(t,e,i){"use strict";function n(t,e){var i=t.length;if(1===i){var n=r(t[0],e);return n[0]?n:[n[1]]}var s=new Array(2*i),a=[.1,.1],l=[.1,.1],u=0;r(t[0],e,a),a[0]&&(s[u++]=a[0]);for(var c=1;c<i;++c){r(t[c],e,l);var h=a[1];o(h,l[0],a),a[0]&&(s[u++]=a[0]);var f=l[1],d=a[1],p=f+d,g=p-f,m=d-g;a[1]=p,m&&(s[u++]=m)}return a[1]&&(s[u++]=a[1]),0===u&&(s[u++]=0),s.length=u,s}var r=t("two-product"),o=t("two-sum");e.exports=n},{"two-product":682,"two-sum":683}],610:[function(t,e,i){"use strict";function n(t,e){var i=t+e,n=i-t,r=i-n,o=e-n,s=t-r,a=s+o;return a?[a,i]:[i]}function r(t,e){var i=0|t.length,r=0|e.length;if(1===i&&1===r)return n(t[0],-e[0]);var o,s,a=i+r,l=new Array(a),u=0,c=0,h=0,f=Math.abs,d=t[c],p=f(d),g=-e[h],m=f(g);p<m?(s=d,c+=1,c<i&&(d=t[c],p=f(d))):(s=g,h+=1,h<r&&(g=-e[h],m=f(g))),c<i&&p<m||h>=r?(o=d,c+=1,c<i&&(d=t[c],p=f(d))):(o=g,h+=1,h<r&&(g=-e[h],m=f(g)));for(var v,y,_,b,x,w=o+s,C=w-o,E=s-C,S=E,T=w;c<i&&h<r;)p<m?(o=d,c+=1,c<i&&(d=t[c],p=f(d))):(o=g,h+=1,h<r&&(g=-e[h],m=f(g))),s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v;for(;c<i;)o=d,s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v,c+=1,c<i&&(d=t[c]);for(;h<r;)o=g,s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v,h+=1,h<r&&(g=-e[h]);return S&&(l[u++]=S),T&&(l[u++]=T),u||(l[u++]=0),l.length=u,l}e.exports=r},{}],611:[function(t,e,i){"use strict";function n(t,e){var i=t+e,n=i-t,r=i-n,o=e-n,s=t-r,a=s+o;return a?[a,i]:[i]}function r(t,e){var i=0|t.length,r=0|e.length;if(1===i&&1===r)return n(t[0],e[0]);var o,s,a=i+r,l=new Array(a),u=0,c=0,h=0,f=Math.abs,d=t[c],p=f(d),g=e[h],m=f(g);p<m?(s=d,c+=1,c<i&&(d=t[c],p=f(d))):(s=g,h+=1,h<r&&(g=e[h],m=f(g))),c<i&&p<m||h>=r?(o=d,c+=1,c<i&&(d=t[c],p=f(d))):(o=g,h+=1,h<r&&(g=e[h],m=f(g)));for(var v,y,_,b,x,w=o+s,C=w-o,E=s-C,S=E,T=w;c<i&&h<r;)p<m?(o=d,c+=1,c<i&&(d=t[c],p=f(d))):(o=g,h+=1,h<r&&(g=e[h],m=f(g))),s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v;for(;c<i;)o=d,s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v,c+=1,c<i&&(d=t[c]);for(;h<r;)o=g,s=S,w=o+s,C=w-o,E=s-C,E&&(l[u++]=E),v=T+w,y=v-T,_=v-y,b=w-y,x=T-_,S=x+b,T=v,h+=1,h<r&&(g=e[h]);return S&&(l[u++]=S),T&&(l[u++]=T),u||(l[u++]=0),l.length=u,l}e.exports=r},{}],612:[function(t,e,i){function n(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}e.exports=n},{}],613:[function(t,e,i){e.exports=function(){return window.pageYOffset?window.pageYOffset:document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop}},{}],614:[function(t,e,i){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof i?t("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function r(t,e){return b.call(t,e)}function o(t,e){var i,n,r,o,s,a,l,u,c,h,f,d=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),s=t.length-1,y.nodeIdCompat&&w.test(t[s])&&(t[s]=t[s].replace(w,"")),t=d.slice(0,d.length-1).concat(t),c=0;c<t.length;c+=1)if(f=t[c],"."===f)t.splice(c,1),c-=1;else if(".."===f){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((d||g)&&p){for(i=t.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),d)for(h=d.length;h>0;h-=1)if(r=p[d.slice(0,h).join("/")],r&&(r=r[n])){o=r,a=c;break}if(o)break;!l&&g&&g[n]&&(l=g[n],u=c)}!o&&l&&(o=l,a=u),o&&(i.splice(0,a,o),t=i.join("/"))}return t}function s(t,i){return function(){var n=x.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),d.apply(e,n.concat([t,i]))}}function a(t){return function(e){return o(e,t)}}function l(t){return function(e){m[t]=e}}function u(t){if(r(v,t)){var i=v[t];delete v[t],_[t]=!0,f.apply(e,i)}if(!r(m,t)&&!r(_,t))throw new Error("No "+t);return m[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function h(t){return function(){return y&&y.config&&y.config[t]||{}}}var f,d,p,g,m={},v={},y={},_={},b=Object.prototype.hasOwnProperty,x=[].slice,w=/\.js$/;p=function(t,e){var i,n=c(t),r=n[0];return t=n[1],r&&(r=o(r,e),i=u(r)),r?t=i&&i.normalize?i.normalize(t,a(e)):o(t,e):(t=o(t,e),n=c(t),r=n[0],t=n[1],r&&(i=u(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:i}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:h(t)}}},f=function(t,i,n,o){var a,c,h,f,d,y,b=[],x=typeof n;if(o=o||t,"undefined"===x||"function"===x){for(i=!i.length&&n.length?["require","exports","module"]:i,d=0;d<i.length;d+=1)if(f=p(i[d],o),c=f.f,"require"===c)b[d]=g.require(t);else if("exports"===c)b[d]=g.exports(t),y=!0;else if("module"===c)a=b[d]=g.module(t);else if(r(m,c)||r(v,c)||r(_,c))b[d]=u(c);else{if(!f.p)throw new Error(t+" missing "+c);f.p.load(f.n,s(o,!0),l(c),{}),b[d]=m[c]}h=n?n.apply(m[t],b):void 0,t&&(a&&a.exports!==e&&a.exports!==m[t]?m[t]=a.exports:h===e&&y||(m[t]=h))}else t&&(m[t]=n)},t=i=d=function(t,i,n,r,o){if("string"==typeof t)return g[t]?g[t](i):u(p(t,i).f);if(!t.splice){if(y=t,y.deps&&d(y.deps,y.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=r,r=o),r?f(e,t,i,n):setTimeout(function(){f(e,t,i,n)},4),d},d.config=function(t){return d(t)},t._defined=m,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),r(m,t)||r(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&void 0,e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){var r=e[n];"function"==typeof r&&"constructor"!==n&&i.push(n)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,r=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),r=i.prototype.constructor),r.apply(this,arguments)}function r(){this.constructor=n}var o=e(i),s=e(t);i.displayName=t.displayName,n.prototype=new r;for(var a=0;a<s.length;a++){var l=s[a];n.prototype[l]=t.prototype[l]}for(var u=(function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var r=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),r.apply(this,arguments)}}),c=0;c<o.length;c++){var h=o[c];n.prototype[h]=u(h)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;i<t;i++){var n=Math.floor(36*Math.random());e+=n.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var r=0;r<i.length;r++){var o=i[r];o=o.substring(0,1).toLowerCase()+o.substring(1),o in n||(n[o]={}),r==i.length-1&&(n[o]=t[e]),n=n[o]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),r=i.style.overflowX,o=i.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(e.message);n.append(i(r(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],r=this.option(n);e.push(r)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()}),r=e.$results.find(".select2-results__option[aria-selected]");r.each(function(){var e=t(this),i=t.data(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(r,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var o=r.filter("[aria-selected=true]");o.length>0?o.first().trigger("mouseenter"):r.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var r in n){var o=n[r];i.setAttribute(r,o)}if(e.children){var s=t(i),a=document.createElement("strong");a.className="select2-results__group";t(a);this.template(e,a);for(var l=[],u=0;u<e.children.length;u++){var c=e.children[u],h=this.option(c);l.push(h)}var f=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});f.append(l),s.append(a),s.append(f)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e,i){var n=this,r=e.id+"-results";this.$results.attr("id",r),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var r=i-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top,a=o.offset().top,l=n.$results.scrollTop()+(a-s);0===r?n.$results.scrollTop(0):a-s<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),r=i+1;if(!(r>=e.length)){var o=e.eq(r);o.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),a=o.offset().top+o.outerHeight(!1),l=n.$results.scrollTop()+a-s;0===r?n.$results.scrollTop(0):a>s&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&i<=n.$results.height();r?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),r=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:r}):n.trigger("close",{})):void n.trigger("select",{originalEvent:e,data:r})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var i=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-n),s=r-n;o-=2*t.outerHeight(!1),i<=2?this.$results.scrollTop(0):(s>this.$results.outerHeight()||s<0)&&this.$results.scrollTop(o)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=n(e,i);null==o?i.style.display="none":"string"==typeof o?i.innerHTML=r(o):t(i).append(o)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t,e){var n=this,r=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2"),r=t(".select2.select2-container--open");r.each(function(){var e=t(this);if(this!=n[0]){var i=e.data("element");i.select2("close")}})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},r.prototype.bind=function(t,e){var i=this;r.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("selection:update",function(t){i.update(t.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},r.prototype.selectionContainer=function(){return t("<span></span>")},r.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)},r}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,i){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.options.get("disabled")){var i=t(this),n=i.parent(),o=n.data("data");r.trigger("unselect",{originalEvent:e,data:o})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(i(t,e))},n.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var r=t[n],o=this.selectionContainer(),s=this.display(r,o);o.append(s),o.prop("title",r.title||r.text),o.data("data",r),e.push(o)}var a=this.$selection.find(".select2-selection__rendered");i.appendMany(a,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,n=e.length>1;if(n||i)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&void 0,this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),r=0;r<n.length;r++){var o={data:n[r]};if(this.trigger("unselect",o),o.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("open",function(){r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){r.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===r.$search.val()){var n=r.$searchContainer.prev(".select2-selection__choice");if(n.length>0){var o=n.data("data");r.searchRemoveChoice(o),t.preventDefault()}}});var o=document.documentMode,s=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){return s?void r.$selection.off("input.search input.searchcheck"):void r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(s&&"input"===t.type)return void r.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&r.handleSearch(t)})},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(t.inArray(e,o)!==-1){i=i||{};var n=t.Event("select2:"+e,{params:i});r.$element.trigger(n),t.inArray(e,s)!==-1&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U",
"":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return t}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),n+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),r=n.item(t);e.push(r)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var r=[];t=[t],t.push.apply(t,n);for(var o=0;o<t.length;o++){var s=t[o].id;i.inArray(s,r)===-1&&r.push(s)}e.$element.val(r),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple"))return t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(n){for(var r=[],o=0;o<n.length;o++){var s=n[o].id;s!==t.id&&i.inArray(s,r)===-1&&r.push(s)}e.$element.val(r),e.$element.trigger("change")})},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],r=this,o=this.$element.children();o.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var o=r.item(e),s=r.matches(t,o);null!==s&&n.push(s)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),r=this._normalizeItem(t);return r.element=e,i.data(e,"data",r),n},n.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),r=[],o=0;o<n.length;o++){var s=i(n[o]),a=this.item(s);r.push(a)}e.children=r}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){function n(t){return function(){return i(this).val()==t.id}}for(var r=this,o=this.$element.find("option"),s=o.map(function(){return r.item(i(this)).id}).get(),a=[],l=0;l<t.length;l++){var u=this._normalizeItem(t[l]);if(i.inArray(u.id,s)>=0){var c=o.filter(n(u)),h=this.item(c),f=i.extend(!0,{},u,h),d=this.option(f);c.replaceWith(d)}else{var p=this.option(u);if(u.children){var g=this.convertToOptions(u.children);e.appendMany(p,g)}a.push(p)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var r=i.ajax(t);return r.then(e),r.fail(n),r}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=o.transport(o,function(n){var o=r.processResults(n,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&i.isArray(o.results)||void 0),e(o)},function(){r.trigger("results:message",{message:"errorLoading"})});r._request=n}var r=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var r=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var s=n.get("insertTag");if(void 0!==s&&(this.insertTag=s),e.call(this,i,n),t.isArray(r))for(var a=0;a<r.length;a++){var l=r[a],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,o){for(var s=t.results,a=0;a<s.length;a++){var l=s[a],u=null!=l.children&&!n({results:l.children},!0),c=l.text===e.term;if(c||u)return!o&&(t.data=s,void i(t))}if(o)return!0;var h=r.createTag(e);if(null!=h){var f=r.option(h);f.attr("data-select2-tag",!0),r.addOptions([f]),r.insertTag(s,h)}t.results=s,i(t)}var r=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){var i=(this._lastTag,this.$element.find("option[data-select2-tag]"));i.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function n(t){r.trigger("select",{data:t})}var r=this;e.term=e.term||"";var o=this.tokenizer(e,this.options,n);o.term!==e.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.focus()),e.term=o.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,n,r){for(var o=n.get("tokenSeparators")||[],s=i.term,a=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};a<s.length;){var u=s[a];if(t.inArray(u,o)!==-1){var c=s.substr(0,a),h=t.extend({},i,{term:c}),f=l(h);null!=f?(r(f),s=s.substr(a+1)||"",a=0):a++}else a++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(r){var o=null!=r?r.length:0;return n.maximumSelectionLength>0&&o>=n.maximumSelectionLength?void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):void t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var r=this;e.call(this,i,n),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),i.on("open",function(){r.$search.attr("tabindex",0),r.$search.focus(),window.setTimeout(function(){r.$search.focus()},0)}),i.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=r.showSearch(t);e?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var r=e[n];this.placeholder.id===r.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var r=this;e.call(this,i,n),i.on("query",function(t){r.lastParams=t,r.loading=!0}),i.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,r.$loadingMore[0]);if(!r.loading&&e){var i=r.$results.offset().top+r.$results.outerHeight(!1),n=r.$loadingMore.offset().top+r.$loadingMore.outerHeight(!1);i+50>=n&&r.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,r=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),r||(r=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var r=this,o="scroll.select2."+n.id,s="resize.select2."+n.id,a="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(o,function(e){var i=t(this).data("select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(o+" "+s+" "+a,function(t){r._positionDropdown(),r._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var r="scroll.select2."+n.id,o="resize.select2."+n.id,s="orientationchange.select2."+n.id,a=this.$container.parents().filter(e.hasScroll);a.off(r),t(window).off(r+" "+o+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=o.top,s.bottom=o.top+s.height;var a={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},u=l.top<o.top-a.height,c=l.bottom>o.bottom+a.height,h={left:o.left,top:s.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var d=f.offset();h.top-=d.top,h.left-=d.left,i||n||(r="below"),c||!u||i?!u&&c&&i&&(r="below"):r="above",("above"==r||i&&"below"!==r)&&(h.top=s.top-a.height),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(h)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var r=e[n];r.children?i+=t(r.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(){n._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();if(!(t.length<1)){var e=t.data("data");null!=e.element&&e.element.selected||null==e.element&&e.selected||this.trigger("select",{data:e})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,r,o,s,a,l,u,c,h,f,d,p,g,m,v,y,_,b,x,w,C,E,S,T,I,k){function P(){this.reset()}P.prototype.apply=function(h){if(h=t.extend(!0,{},this.defaults,h),null==h.dataAdapter){if(null!=h.ajax?h.dataAdapter=p:null!=h.data?h.dataAdapter=d:h.dataAdapter=f,h.minimumInputLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,v)),h.maximumInputLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,y)),h.maximumSelectionLength>0&&(h.dataAdapter=u.Decorate(h.dataAdapter,_)),h.tags&&(h.dataAdapter=u.Decorate(h.dataAdapter,g)),null==h.tokenSeparators&&null==h.tokenizer||(h.dataAdapter=u.Decorate(h.dataAdapter,m)),null!=h.query){var k=e(h.amdBase+"compat/query");h.dataAdapter=u.Decorate(h.dataAdapter,k)}if(null!=h.initSelection){var P=e(h.amdBase+"compat/initSelection");h.dataAdapter=u.Decorate(h.dataAdapter,P)}}if(null==h.resultsAdapter&&(h.resultsAdapter=i,null!=h.ajax&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,C)),null!=h.placeholder&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,w)),h.selectOnClose&&(h.resultsAdapter=u.Decorate(h.resultsAdapter,T))),null==h.dropdownAdapter){if(h.multiple)h.dropdownAdapter=b;else{var L=u.Decorate(b,x);h.dropdownAdapter=L}if(0!==h.minimumResultsForSearch&&(h.dropdownAdapter=u.Decorate(h.dropdownAdapter,S)),h.closeOnSelect&&(h.dropdownAdapter=u.Decorate(h.dropdownAdapter,I)),null!=h.dropdownCssClass||null!=h.dropdownCss||null!=h.adaptDropdownCssClass){var O=e(h.amdBase+"compat/dropdownCss");h.dropdownAdapter=u.Decorate(h.dropdownAdapter,O)}h.dropdownAdapter=u.Decorate(h.dropdownAdapter,E)}if(null==h.selectionAdapter){if(h.multiple?h.selectionAdapter=r:h.selectionAdapter=n,null!=h.placeholder&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,o)),h.allowClear&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,s)),h.multiple&&(h.selectionAdapter=u.Decorate(h.selectionAdapter,a)),null!=h.containerCssClass||null!=h.containerCss||null!=h.adaptContainerCssClass){var A=e(h.amdBase+"compat/containerCss");h.selectionAdapter=u.Decorate(h.selectionAdapter,A)}h.selectionAdapter=u.Decorate(h.selectionAdapter,l)}if("string"==typeof h.language)if(h.language.indexOf("-")>0){var M=h.language.split("-"),R=M[0];h.language=[h.language,R]}else h.language=[h.language];if(t.isArray(h.language)){var N=new c;h.language.push("en");for(var j=h.language,D=0;D<j.length;D++){var F=j[D],z={};try{z=c.loadPath(F)}catch(B){try{F=this.defaults.amdLanguageBase+F,z=c.loadPath(F)}catch(V){h.debug&&window.console&&console.warn&&void 0;continue}}N.extend(z)}h.translations=N}else{var q=c.loadPath(this.defaults.amdLanguageBase+"en"),U=new c(h.language);U.extend(q),h.translations=U}return h},P.prototype.reset=function(){function e(t){function e(t){return h[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,r){if(""===t.trim(n.term))return r;if(r.children&&r.children.length>0){for(var o=t.extend(!0,{},r),s=r.children.length-1;s>=0;s--){var a=r.children[s],l=i(n,a);null==l&&o.children.splice(s,1)}return o.children.length>0?o:i(n,o)}var u=e(r.text).toUpperCase(),c=e(n.term).toUpperCase();return u.indexOf(c)>-1?r:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:k,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},P.prototype.set=function(e,i){var n=t.camelCase(e),r={};r[n]=i;var o=u._convertData(r);t.extend(this.defaults,o)};var L=new P;return L}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function r(e,r){if(this.options=e,null!=r&&this.fromElement(r),this.options=i.apply(this.options),r&&r.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&void 0,t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&void 0,t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var r={};r=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var o=e.extend(!0,{},r);o=n._convertData(o);for(var s in o)e.inArray(s,i)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],o[s]):this.options[s]=o[s]);return this},r.prototype.get=function(t){return this.options[t]},r.prototype.set=function(t,e){this.options[t]=e},r}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var r=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),r.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var o=this.options.get("dataAdapter");this.dataAdapter=new o(t,this.options);var s=this.render();this._placeContainer(s);var a=this.options.get("selectionAdapter");this.selection=new a(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var u=this.options.get("resultsAdapter");this.results=new u(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(r,i.Observable),r.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},r.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},r.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var r=t.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var s=o.split(";"),a=0,l=s.length;a<l;a+=1){var u=s[a].replace(/\s/g,""),c=u.match(i);if(null!==c&&c.length>=1)return c[1]}return null}return e},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},r.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,r){t.inArray(n,i)===-1&&e.trigger(n,r)})},r.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},r.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus");
}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype.trigger=function(t,e){var i=r.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var o=n[t],s={prevented:!1,name:t,args:e};if(i.call(this,o,s),s.prevented)return void(e.prevented=!0)}i.call(this,t,e)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&void 0,null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},r.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&void 0;var t=[];return this.dataAdapter.current(function(e){t=e}),t},r.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&void 0,null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},r}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,i,n){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n;return this.each(function(){var i=t(this).data("select2");null==i&&window.console&&console.error&&void 0;var r=Array.prototype.slice.call(arguments,1);n=i[e].apply(i,r)}),t.inArray(e,r)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i})},{jquery:595}],615:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define(["jquery","sifter","microplugin"],r):"object"==typeof i?e.exports=r(t("jquery"),t("sifter"),t("microplugin")):n.Selectize=r(n.jQuery,n.Sifter,n.MicroPlugin)}(this,function(t,e,i){"use strict";var n=function(t,e){if("string"!=typeof e||e.length){var i="string"==typeof e?new RegExp(e,"i"):e,n=function(t){var e=0;if(3===t.nodeType){var r=t.data.search(i);if(r>=0&&t.data.length>0){var o=t.data.match(i),s=document.createElement("span");s.className="highlight";var a=t.splitText(r),l=(a.splitText(o[0].length),a.cloneNode(!0));s.appendChild(l),a.parentNode.replaceChild(s,a),e=1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&("highlight"!==t.className||"SPAN"!==t.tagName))for(var u=0;u<t.childNodes.length;++u)u+=n(t.childNodes[u]);return e};return t.each(function(){n(this)})}};t.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()};var r=function(){};r.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},off:function(t,e){var i=arguments.length;return 0===i?delete this._events:1===i?delete this._events[t]:(this._events=this._events||{},void(t in this._events!=!1&&this._events[t].splice(this._events[t].indexOf(e),1)))},trigger:function(t){if(this._events=this._events||{},t in this._events!=!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(t){for(var e=["on","off","trigger"],i=0;i<e.length;i++)t.prototype[e[i]]=r.prototype[e[i]]};var o=/Mac/.test(navigator.userAgent),s=65,a=13,l=27,u=37,c=38,h=80,f=39,d=40,p=78,g=8,m=46,v=16,y=o?91:17,_=o?18:17,b=9,x=1,w=2,C=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,E=function(t){return"undefined"!=typeof t},S=function(t){return"undefined"==typeof t||null===t?null:"boolean"==typeof t?t?"1":"0":t+""},T=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},I={};I.before=function(t,e,i){var n=t[e];t[e]=function(){return i.apply(t,arguments),n.apply(t,arguments)}},I.after=function(t,e,i){var n=t[e];t[e]=function(){var e=n.apply(t,arguments);return i.apply(t,arguments),e}};var k=function(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}},P=function(t,e){var i;return function(){var n=this,r=arguments;window.clearTimeout(i),i=window.setTimeout(function(){t.apply(n,r)},e)}},L=function(t,e,i){var n,r=t.trigger,o={};t.trigger=function(){var i=arguments[0];return e.indexOf(i)===-1?r.apply(t,arguments):void(o[i]=arguments)},i.apply(t,[]),t.trigger=r;for(n in o)o.hasOwnProperty(n)&&r.apply(t,o[n])},O=function(t,e,i,n){t.on(e,i,function(e){for(var i=e.target;i&&i.parentNode!==t[0];)i=i.parentNode;return e.currentTarget=i,n.apply(this,[e])})},A=function(t){var e={};if("selectionStart"in t)e.start=t.selectionStart,e.length=t.selectionEnd-e.start;else if(document.selection){t.focus();var i=document.selection.createRange(),n=document.selection.createRange().text.length;i.moveStart("character",-t.value.length),e.start=i.text.length-n,e.length=n}return e},M=function(t,e,i){var n,r,o={};if(i)for(n=0,r=i.length;n<r;n++)o[i[n]]=t.css(i[n]);else o=t.css();e.css(o)},R=function(e,i){return e?(F.$testInput||(F.$testInput=t("<span />").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).appendTo("body")),F.$testInput.text(e),M(i,F.$testInput,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]),F.$testInput.width()):0},N=function(t){var e=null,i=function(i,n){var r,o,s,a,l,u,c,h;i=i||window.event||{},n=n||{},i.metaKey||i.altKey||(n.force||t.data("grow")!==!1)&&(r=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(o=i.keyCode,s=o>=48&&o<=57||o>=65&&o<=90||o>=96&&o<=111||o>=186&&o<=222||32===o,o===m||o===g?(h=A(t[0]),h.length?r=r.substring(0,h.start)+r.substring(h.start+h.length):o===g&&h.start?r=r.substring(0,h.start-1)+r.substring(h.start+1):o===m&&"undefined"!=typeof h.start&&(r=r.substring(0,h.start)+r.substring(h.start+1))):s&&(u=i.shiftKey,c=String.fromCharCode(i.keyCode),c=u?c.toUpperCase():c.toLowerCase(),r+=c)),a=t.attr("placeholder"),!r&&a&&(r=a),l=R(r,t)+4,l!==e&&(e=l,t.width(l),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()},j=function(t){var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML},D=function(t,e){e||(e={});var i="Selectize";void 0,e.explanation&&(console.group&&void 0,void 0,console.group&&void 0)},F=function(i,n){var r,o,s,a,l=this;a=i[0],a.selectize=l;var u=window.getComputedStyle&&window.getComputedStyle(a,null);if(s=u?u.getPropertyValue("direction"):a.currentStyle&&a.currentStyle.direction,s=s||i.parents("[dir]:first").attr("dir")||"",t.extend(l,{order:0,settings:n,$input:i,tabIndex:i.attr("tabindex")||"",tagType:"select"===a.tagName.toLowerCase()?x:w,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++F.count,highlightedValue:null,isBlurring:!1,isOpen:!1,isDisabled:!1,isRequired:i.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?l.onSearchChange:P(l.onSearchChange,n.loadThrottle)}),l.sifter=new e(this.options,{diacritics:n.diacritics}),l.settings.options){for(r=0,o=l.settings.options.length;r<o;r++)l.registerOption(l.settings.options[r]);delete l.settings.options}if(l.settings.optgroups){for(r=0,o=l.settings.optgroups.length;r<o;r++)l.registerOptionGroup(l.settings.optgroups[r]);delete l.settings.optgroups}l.settings.mode=l.settings.mode||(1===l.settings.maxItems?"single":"multi"),"boolean"!=typeof l.settings.hideSelected&&(l.settings.hideSelected="multi"===l.settings.mode),l.initializePlugins(l.settings.plugins),l.setupCallbacks(),l.setupTemplates(),l.setup()};return r.mixin(F),"undefined"!=typeof i?i.mixin(F):D("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),t.extend(F.prototype,{setup:function(){var e,i,n,r,s,a,l,u,c,h,f=this,d=f.settings,p=f.eventNS,g=t(window),m=t(document),b=f.$input;if(l=f.settings.mode,u=b.attr("class")||"",e=t("<div>").addClass(d.wrapperClass).addClass(u).addClass(l),i=t("<div>").addClass(d.inputClass).addClass("items").appendTo(e),n=t('<input type="text" autocomplete="off" />').appendTo(i).attr("tabindex",b.is(":disabled")?"-1":f.tabIndex),a=t(d.dropdownParent||e),r=t("<div>").addClass(d.dropdownClass).addClass(l).hide().appendTo(a),s=t("<div>").addClass(d.dropdownContentClass).appendTo(r),(h=b.attr("id"))&&(n.attr("id",h+"-selectized"),t("label[for='"+h+"']").attr("for",h+"-selectized")),f.settings.copyClassesToDropdown&&r.addClass(u),e.css({width:b[0].style.width}),f.plugins.names.length&&(c="plugin-"+f.plugins.names.join(" plugin-"),e.addClass(c),r.addClass(c)),(null===d.maxItems||d.maxItems>1)&&f.tagType===x&&b.attr("multiple","multiple"),f.settings.placeholder&&n.attr("placeholder",d.placeholder),!f.settings.splitOn&&f.settings.delimiter){var w=f.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");f.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}b.attr("autocorrect")&&n.attr("autocorrect",b.attr("autocorrect")),b.attr("autocapitalize")&&n.attr("autocapitalize",b.attr("autocapitalize")),n[0].type=b[0].type,f.$wrapper=e,f.$control=i,f.$control_input=n,f.$dropdown=r,f.$dropdown_content=s,r.on("mouseenter mousedown click","[data-disabled]>[data-selectable]",function(t){t.stopImmediatePropagation()}),r.on("mouseenter","[data-selectable]",function(){return f.onOptionHover.apply(f,arguments)}),r.on("mousedown click","[data-selectable]",function(){return f.onOptionSelect.apply(f,arguments)}),O(i,"mousedown","*:not(input)",function(){return f.onItemSelect.apply(f,arguments)}),N(n),i.on({mousedown:function(){return f.onMouseDown.apply(f,arguments)},click:function(){return f.onClick.apply(f,arguments)}}),n.on({mousedown:function(t){t.stopPropagation()},keydown:function(){return f.onKeyDown.apply(f,arguments)},keyup:function(){return f.onKeyUp.apply(f,arguments)},keypress:function(){return f.onKeyPress.apply(f,arguments)},resize:function(){f.positionDropdown.apply(f,[])},blur:function(){return f.onBlur.apply(f,arguments)},focus:function(){return f.ignoreBlur=!1,f.onFocus.apply(f,arguments)},paste:function(){return f.onPaste.apply(f,arguments)}}),m.on("keydown"+p,function(t){f.isCmdDown=t[o?"metaKey":"ctrlKey"],f.isCtrlDown=t[o?"altKey":"ctrlKey"],f.isShiftDown=t.shiftKey}),m.on("keyup"+p,function(t){t.keyCode===_&&(f.isCtrlDown=!1),t.keyCode===v&&(f.isShiftDown=!1),t.keyCode===y&&(f.isCmdDown=!1)}),m.on("mousedown"+p,function(t){if(f.isFocused){if(t.target===f.$dropdown[0]||t.target.parentNode===f.$dropdown[0])return!1;f.$control.has(t.target).length||t.target===f.$control[0]||f.blur(t.target)}}),g.on(["scroll"+p,"resize"+p].join(" "),function(){f.isOpen&&f.positionDropdown.apply(f,arguments)}),g.on("mousemove"+p,function(){f.ignoreHover=!1}),this.revertSettings={$children:b.children().detach(),tabindex:b.attr("tabindex")},b.attr("tabindex",-1).hide().after(f.$wrapper),t.isArray(d.items)&&(f.setValue(d.items),delete d.items),C&&b.on("invalid"+p,function(t){t.preventDefault(),f.isInvalid=!0,f.refreshState()}),f.updateOriginalInput(),f.refreshItems(),f.refreshState(),f.updatePlaceholder(),f.isSetup=!0,b.is(":disabled")&&f.disable(),f.on("change",this.onChange),b.data("selectize",f),b.addClass("selectized"),f.trigger("initialize"),d.preload===!0&&f.onSearchChange("")},setupTemplates:function(){var e=this,i=e.settings.labelField,n=e.settings.optgroupLabelField,r={optgroup:function(t){return'<div class="optgroup">'+t.html+"</div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t[n])+"</div>"},option:function(t,e){return'<div class="option">'+e(t[i])+"</div>"},item:function(t,e){return'<div class="item">'+e(t[i])+"</div>"},option_create:function(t,e){return'<div class="create">Add <strong>'+e(t.input)+"</strong>&hellip;</div>"}};e.settings.render=t.extend({},r,e.settings.render)},setupCallbacks:function(){var t,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(t in i)i.hasOwnProperty(t)&&(e=this.settings[i[t]],e&&this.on(t,e))},onClick:function(t){var e=this;e.isFocused&&e.isOpen||(e.focus(),t.preventDefault())},onMouseDown:function(e){var i=this,n=e.isDefaultPrevented();t(e.target);if(i.isFocused){if(e.target!==i.$control_input[0])return"single"===i.settings.mode?i.isOpen?i.close():i.open():n||i.setActiveItem(null),!1}else n||window.setTimeout(function(){i.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var i=this;return i.isFull()||i.isInputHidden||i.isLocked?void e.preventDefault():void(i.settings.splitOn&&setTimeout(function(){var e=i.$control_input.val();if(e.match(i.settings.splitOn))for(var n=t.trim(e).split(i.settings.splitOn),r=0,o=n.length;r<o;r++)i.createItem(n[r])},0))},onKeyPress:function(t){if(this.isLocked)return t&&t.preventDefault();var e=String.fromCharCode(t.keyCode||t.which);return this.settings.create&&"multi"===this.settings.mode&&e===this.settings.delimiter?(this.createItem(),t.preventDefault(),!1):void 0},onKeyDown:function(t){var e=(t.target===this.$control_input[0],this);if(e.isLocked)return void(t.keyCode!==b&&t.preventDefault());switch(t.keyCode){case s:if(e.isCmdDown)return void e.selectAll();break;case l:return void(e.isOpen&&(t.preventDefault(),t.stopPropagation(),e.close()));case p:if(!t.ctrlKey||t.altKey)break;case d:if(!e.isOpen&&e.hasOptions)e.open();else if(e.$activeOption){e.ignoreHover=!0;var i=e.getAdjacentOption(e.$activeOption,1);i.length&&e.setActiveOption(i,!0,!0)}return void t.preventDefault();case h:if(!t.ctrlKey||t.altKey)break;case c:if(e.$activeOption){e.ignoreHover=!0;var n=e.getAdjacentOption(e.$activeOption,-1);n.length&&e.setActiveOption(n,!0,!0)}return void t.preventDefault();case a:return void(e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),t.preventDefault()));case u:return void e.advanceSelection(-1,t);case f:return void e.advanceSelection(1,t);case b:return e.settings.selectOnTab&&e.isOpen&&e.$activeOption&&(e.onOptionSelect({currentTarget:e.$activeOption}),e.isFull()||t.preventDefault()),void(e.settings.create&&e.createItem()&&t.preventDefault());case g:case m:return void e.deleteSelection(t)}return!e.isFull()&&!e.isInputHidden||(o?t.metaKey:t.ctrlKey)?void 0:void t.preventDefault()},onKeyUp:function(t){var e=this;if(e.isLocked)return t&&t.preventDefault();var i=e.$control_input.val()||"";e.lastValue!==i&&(e.lastValue=i,e.onSearchChange(i),e.refreshOptions(),e.trigger("type",i))},onSearchChange:function(t){var e=this,i=e.settings.load;i&&(e.loadedSearches.hasOwnProperty(t)||(e.loadedSearches[t]=!0,e.load(function(n){i.apply(e,[t,n])})))},onFocus:function(t){var e=this,i=e.isFocused;return e.isDisabled?(e.blur(),t&&t.preventDefault(),!1):void(e.ignoreFocus||(e.isFocused=!0,"focus"===e.settings.preload&&e.onSearchChange(""),i||e.trigger("focus"),e.$activeItems.length||(e.showInput(),e.setActiveItem(null),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState()))},onBlur:function(t,e){var i=this;if(i.isFocused&&(i.isFocused=!1,!i.ignoreFocus)){if(!i.ignoreBlur&&document.activeElement===i.$dropdown_content[0])return i.ignoreBlur=!0,void i.onFocus(t);var n=function(){i.close(),i.setTextboxValue(""),i.setActiveItem(null),i.setActiveOption(null),i.setCaret(i.items.length),i.refreshState(),e&&e.focus&&e.focus(),i.isBlurring=!1,i.ignoreFocus=!1,i.trigger("blur")};i.isBlurring=!0,i.ignoreFocus=!0,i.settings.create&&i.settings.createOnBlur?i.createItem(null,!1,n):n()}},onOptionHover:function(t){this.ignoreHover||this.setActiveOption(t.currentTarget,!1)},onOptionSelect:function(e){var i,n,r=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),n=t(e.currentTarget),n.hasClass("create")?r.createItem(null,function(){r.settings.closeAfterSelect&&r.close()}):(i=n.attr("data-value"),"undefined"!=typeof i&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(i),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&r.setActiveOption(r.getOption(i))))},onItemSelect:function(t){var e=this;e.isLocked||"multi"===e.settings.mode&&(t.preventDefault(),e.setActiveItem(t.currentTarget,t))},load:function(t){var e=this,i=e.$wrapper.addClass(e.settings.loadingClass);e.loading++,t.apply(e,[function(t){e.loading=Math.max(e.loading-1,0),t&&t.length&&(e.addOption(t),e.refreshOptions(e.isFocused&&!e.isInputHidden)),e.loading||i.removeClass(e.settings.loadingClass),e.trigger("load",t)}])},setTextboxValue:function(t){var e=this.$control_input,i=e.val()!==t;i&&(e.val(t).triggerHandler("update"),this.lastValue=t)},getValue:function(){return this.tagType===x&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(t,e){var i=e?[]:["change"];L(this,i,function(){this.clear(e),this.addItems(t,e)})},setActiveItem:function(e,i){var n,r,o,s,a,l,u,c,h=this;if("single"!==h.settings.mode){if(e=t(e),!e.length)return t(h.$activeItems).removeClass("active"),h.$activeItems=[],void(h.isFocused&&h.showInput());if(n=i&&i.type.toLowerCase(),"mousedown"===n&&h.isShiftDown&&h.$activeItems.length){for(c=h.$control.children(".active:last"),s=Array.prototype.indexOf.apply(h.$control[0].childNodes,[c[0]]),a=Array.prototype.indexOf.apply(h.$control[0].childNodes,[e[0]]),s>a&&(u=s,s=a,a=u),r=s;r<=a;r++)l=h.$control[0].childNodes[r],h.$activeItems.indexOf(l)===-1&&(t(l).addClass("active"),h.$activeItems.push(l));i.preventDefault()}else"mousedown"===n&&h.isCtrlDown||"keydown"===n&&this.isShiftDown?e.hasClass("active")?(o=h.$activeItems.indexOf(e[0]),h.$activeItems.splice(o,1),e.removeClass("active")):h.$activeItems.push(e.addClass("active")[0]):(t(h.$activeItems).removeClass("active"),h.$activeItems=[e.addClass("active")[0]]);h.hideInput(),this.isFocused||h.focus()}},setActiveOption:function(e,i,n){var r,o,s,a,l,u=this;u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=t(e),e.length&&(u.$activeOption=e.addClass("active"),!i&&E(i)||(r=u.$dropdown_content.height(),o=u.$activeOption.outerHeight(!0),i=u.$dropdown_content.scrollTop()||0,s=u.$activeOption.offset().top-u.$dropdown_content.offset().top+i,a=s,l=s-r+o,s+o>r+i?u.$dropdown_content.stop().animate({scrollTop:l},n?u.settings.scrollDuration:0):s<i&&u.$dropdown_content.stop().animate({scrollTop:a},n?u.settings.scrollDuration:0)))},selectAll:function(){var t=this;"single"!==t.settings.mode&&(t.$activeItems=Array.prototype.slice.apply(t.$control.children(":not(input)").addClass("active")),t.$activeItems.length&&(t.hideInput(),t.close()),t.focus())},hideInput:function(){var t=this;t.setTextboxValue(""),t.$control_input.css({opacity:0,position:"absolute",left:t.rtl?1e4:-1e4}),t.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var t=this;t.isDisabled||(t.ignoreFocus=!0,t.$control_input[0].focus(),window.setTimeout(function(){t.ignoreFocus=!1,t.onFocus()},0))},blur:function(t){this.$control_input[0].blur(),this.onBlur(null,t)},getScoreFunction:function(t){return this.sifter.getScoreFunction(t,this.getSearchOptions())},getSearchOptions:function(){var t=this.settings,e=t.sortField;return"string"==typeof e&&(e=[{field:e}]),{fields:t.searchField,conjunction:t.searchConjunction,sort:e,nesting:t.nesting}},search:function(e){var i,n,r,o=this,s=o.settings,a=this.getSearchOptions();if(s.score&&(r=o.settings.score.apply(this,[e]),"function"!=typeof r))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==o.lastQuery?(o.lastQuery=e,n=o.sifter.search(e,t.extend(a,{score:r})),o.currentResults=n):n=t.extend(!0,{},o.currentResults),s.hideSelected)for(i=n.items.length-1;i>=0;i--)o.items.indexOf(S(n.items[i].id))!==-1&&n.items.splice(i,1);return n},refreshOptions:function(e){var i,r,o,s,a,l,u,c,h,f,d,p,g,m,v,y;"undefined"==typeof e&&(e=!0);var _=this,b=t.trim(_.$control_input.val()),x=_.search(b),w=_.$dropdown_content,C=_.$activeOption&&S(_.$activeOption.attr("data-value"));for(s=x.items.length,"number"==typeof _.settings.maxOptions&&(s=Math.min(s,_.settings.maxOptions)),a={},l=[],i=0;i<s;i++)for(u=_.options[x.items[i].id],c=_.render("option",u),h=u[_.settings.optgroupField]||"",f=t.isArray(h)?h:[h],r=0,o=f&&f.length;r<o;r++)h=f[r],_.optgroups.hasOwnProperty(h)||(h=""),a.hasOwnProperty(h)||(a[h]=document.createDocumentFragment(),l.push(h)),a[h].appendChild(c);for(this.settings.lockOptgroupOrder&&l.sort(function(t,e){var i=_.optgroups[t].$order||0,n=_.optgroups[e].$order||0;return i-n}),d=document.createDocumentFragment(),i=0,s=l.length;i<s;i++)h=l[i],_.optgroups.hasOwnProperty(h)&&a[h].childNodes.length?(p=document.createDocumentFragment(),p.appendChild(_.render("optgroup_header",_.optgroups[h])),p.appendChild(a[h]),d.appendChild(_.render("optgroup",t.extend({},_.optgroups[h],{html:j(p),dom:p})))):d.appendChild(a[h]);if(w.html(d),_.settings.highlight&&(w.removeHighlight(),x.query.length&&x.tokens.length))for(i=0,s=x.tokens.length;i<s;i++)n(w,x.tokens[i].regex);if(!_.settings.hideSelected)for(i=0,s=_.items.length;i<s;i++)_.getOption(_.items[i]).addClass("selected");g=_.canCreate(b),g&&(w.prepend(_.render("option_create",{input:b})),y=t(w[0].childNodes[0])),_.hasOptions=x.items.length>0||g,_.hasOptions?(x.items.length>0?(v=C&&_.getOption(C),v&&v.length?m=v:"single"===_.settings.mode&&_.items.length&&(m=_.getOption(_.items[0])),m&&m.length||(m=y&&!_.settings.addPrecedence?_.getAdjacentOption(y,1):w.find("[data-selectable]:first"))):m=y,_.setActiveOption(m),e&&!_.isOpen&&_.open()):(_.setActiveOption(null),e&&_.isOpen&&_.close())},addOption:function(e){var i,n,r,o=this;if(t.isArray(e))for(i=0,n=e.length;i<n;i++)o.addOption(e[i]);else(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(t){var e=S(t[this.settings.valueField]);return"undefined"!=typeof e&&null!==e&&!this.options.hasOwnProperty(e)&&(t.$order=t.$order||++this.order,this.options[e]=t,e)},registerOptionGroup:function(t){var e=S(t[this.settings.optgroupValueField]);return!!e&&(t.$order=t.$order||++this.order,this.optgroups[e]=t,e)},addOptionGroup:function(t,e){e[this.settings.optgroupValueField]=t,(t=this.registerOptionGroup(e))&&this.trigger("optgroup_add",t,e)},removeOptionGroup:function(t){this.optgroups.hasOwnProperty(t)&&(delete this.optgroups[t],this.renderCache={},this.trigger("optgroup_remove",t))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,i){var n,r,o,s,a,l,u,c=this;if(e=S(e),o=S(i[c.settings.valueField]),null!==e&&c.options.hasOwnProperty(e)){if("string"!=typeof o)throw new Error("Value must be set in option data");u=c.options[e].$order,o!==e&&(delete c.options[e],s=c.items.indexOf(e),s!==-1&&c.items.splice(s,1,o)),i.$order=i.$order||u,c.options[o]=i,a=c.renderCache.item,l=c.renderCache.option,a&&(delete a[e],delete a[o]),l&&(delete l[e],delete l[o]),c.items.indexOf(o)!==-1&&(n=c.getItem(e),r=t(c.render("item",i)),n.hasClass("active")&&r.addClass("active"),n.replaceWith(r)),c.lastQuery=null,c.isOpen&&c.refreshOptions(!1)}},removeOption:function(t,e){var i=this;t=S(t);var n=i.renderCache.item,r=i.renderCache.option;n&&delete n[t],r&&delete r[t],delete i.userOptions[t],delete i.options[t],i.lastQuery=null,i.trigger("option_remove",t),i.removeItem(t,e)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={};var i=e.options;t.each(e.options,function(t,n){e.items.indexOf(t)==-1&&delete i[t]}),e.options=e.sifter.items=i,e.lastQuery=null,e.trigger("option_clear")},getOption:function(t){return this.getElementWithValue(t,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,i){var n=this.$dropdown.find("[data-selectable]"),r=n.index(e)+i;return r>=0&&r<n.length?n.eq(r):t()},getElementWithValue:function(e,i){if(e=S(e),"undefined"!=typeof e&&null!==e)for(var n=0,r=i.length;n<r;n++)if(i[n].getAttribute("data-value")===e)return t(i[n]);return t()},getItem:function(t){return this.getElementWithValue(t,this.$control.children())},addItems:function(e,i){this.buffer=document.createDocumentFragment();for(var n=this.$control[0].childNodes,r=0;r<n.length;r++)this.buffer.appendChild(n[r]);for(var o=t.isArray(e)?e:[e],r=0,s=o.length;r<s;r++)this.isPending=r<s-1,this.addItem(o[r],i);var a=this.$control[0];a.insertBefore(this.buffer,a.firstChild),this.buffer=null},addItem:function(e,i){var n=i?[]:["change"];L(this,n,function(){var n,r,o,s,a,l=this,u=l.settings.mode;return e=S(e),l.items.indexOf(e)!==-1?void("single"===u&&l.close()):void(l.options.hasOwnProperty(e)&&("single"===u&&l.clear(i),"multi"===u&&l.isFull()||(n=t(l.render("item",l.options[e])),a=l.isFull(),l.items.splice(l.caretPos,0,e),l.insertAtCaret(n),(!l.isPending||!a&&l.isFull())&&l.refreshState(),l.isSetup&&(o=l.$dropdown_content.find("[data-selectable]"),l.isPending||(r=l.getOption(e),s=l.getAdjacentOption(r,1).attr("data-value"),l.refreshOptions(l.isFocused&&"single"!==u),s&&l.setActiveOption(l.getOption(s))),!o.length||l.isFull()?l.close():l.isPending||l.positionDropdown(),l.updatePlaceholder(),l.trigger("item_add",e,n),l.isPending||l.updateOriginalInput({silent:i})))))})},removeItem:function(e,i){var n,r,o,s=this;n=e instanceof t?e:s.getItem(e),e=S(n.attr("data-value")),r=s.items.indexOf(e),r!==-1&&(n.remove(),n.hasClass("active")&&(o=s.$activeItems.indexOf(n[0]),s.$activeItems.splice(o,1)),s.items.splice(r,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(e)&&s.removeOption(e,i),r<s.caretPos&&s.setCaret(s.caretPos-1),s.refreshState(),s.updatePlaceholder(),s.updateOriginalInput({silent:i}),s.positionDropdown(),s.trigger("item_remove",e,n))},createItem:function(e,i){var n=this,r=n.caretPos;e=e||t.trim(n.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof i&&(i=!0),!n.canCreate(e))return o(),!1;n.lock();var s="function"==typeof n.settings.create?this.settings.create:function(t){var e={};return e[n.settings.labelField]=t,e[n.settings.valueField]=t,e},a=k(function(t){if(n.unlock(),!t||"object"!=typeof t)return o();var e=S(t[n.settings.valueField]);return"string"!=typeof e?o():(n.setTextboxValue(""),n.addOption(t),n.setCaret(r),n.addItem(e),n.refreshOptions(i&&"single"!==n.settings.mode),void o(t))}),l=s.apply(this,[e,a]);return"undefined"!=typeof l&&a(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var t=!this.items.length;this.isInvalid=t,this.$control_input.prop("required",t),this.$input.prop("required",!t)},refreshClasses:function(){var e=this,i=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",i).toggleClass("not-full",!i).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!t.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!i&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(t){var e,i,n,r,o=this;if(t=t||{},o.tagType===x){for(n=[],e=0,i=o.items.length;e<i;e++)r=o.options[o.items[e]][o.settings.labelField]||"",n.push('<option value="'+T(o.items[e])+'" selected="selected">'+T(r)+"</option>");n.length||this.$input.attr("multiple")||n.push('<option value="" selected="selected"></option>'),o.$input.html(n.join(""))}else o.$input.val(o.getValue()),o.$input.attr("value",o.$input.val());o.isSetup&&(t.silent||o.trigger("change",o.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var t=this.$control_input;this.items.length?t.removeAttr("placeholder"):t.attr("placeholder",this.settings.placeholder),
t.triggerHandler("update",{force:!0})}},open:function(){var t=this;t.isLocked||t.isOpen||"multi"===t.settings.mode&&t.isFull()||(t.focus(),t.isOpen=!0,t.refreshState(),t.$dropdown.css({visibility:"hidden",display:"block"}),t.positionDropdown(),t.$dropdown.css({visibility:"visible"}),t.trigger("dropdown_open",t.$dropdown))},close:function(){var t=this,e=t.isOpen;"single"===t.settings.mode&&t.items.length&&(t.hideInput(),t.isBlurring||t.$control_input.blur()),t.isOpen=!1,t.$dropdown.hide(),t.setActiveOption(null),t.refreshState(),e&&t.trigger("dropdown_close",t.$dropdown)},positionDropdown:function(){var t=this.$control,e="body"===this.settings.dropdownParent?t.offset():t.position();e.top+=t.outerHeight(!0),this.$dropdown.css({width:t[0].getBoundingClientRect().width,top:e.top,left:e.left})},clear:function(t){var e=this;e.items.length&&(e.$control.children(":not(input)").remove(),e.items=[],e.lastQuery=null,e.setCaret(0),e.setActiveItem(null),e.updatePlaceholder(),e.updateOriginalInput({silent:t}),e.refreshState(),e.showInput(),e.trigger("clear"))},insertAtCaret:function(t){var e=Math.min(this.caretPos,this.items.length),i=t[0],n=this.buffer||this.$control[0];0===e?n.insertBefore(i,n.firstChild):n.insertBefore(i,n.childNodes[e]),this.setCaret(e+1)},deleteSelection:function(e){var i,n,r,o,s,a,l,u,c,h=this;if(r=e&&e.keyCode===g?-1:1,o=A(h.$control_input[0]),h.$activeOption&&!h.settings.hideSelected&&(l=h.getAdjacentOption(h.$activeOption,-1).attr("data-value")),s=[],h.$activeItems.length){for(c=h.$control.children(".active:"+(r>0?"last":"first")),a=h.$control.children(":not(input)").index(c),r>0&&a++,i=0,n=h.$activeItems.length;i<n;i++)s.push(t(h.$activeItems[i]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(h.isFocused||"single"===h.settings.mode)&&h.items.length&&(r<0&&0===o.start&&0===o.length?s.push(h.items[h.caretPos-1]):r>0&&o.start===h.$control_input.val().length&&s.push(h.items[h.caretPos]));if(!s.length||"function"==typeof h.settings.onDelete&&h.settings.onDelete.apply(h,[s])===!1)return!1;for("undefined"!=typeof a&&h.setCaret(a);s.length;)h.removeItem(s.pop());return h.showInput(),h.positionDropdown(),h.refreshOptions(!0),l&&(u=h.getOption(l),u.length&&h.setActiveOption(u)),!0},advanceSelection:function(t,e){var i,n,r,o,s,a,l=this;0!==t&&(l.rtl&&(t*=-1),i=t>0?"last":"first",n=A(l.$control_input[0]),l.isFocused&&!l.isInputHidden?(o=l.$control_input.val().length,s=t<0?0===n.start&&0===n.length:n.start===o,s&&!o&&l.advanceCaret(t,e)):(a=l.$control.children(".active:"+i),a.length&&(r=l.$control.children(":not(input)").index(a),l.setActiveItem(null),l.setCaret(t>0?r+1:r))))},advanceCaret:function(t,e){var i,n,r=this;0!==t&&(i=t>0?"next":"prev",r.isShiftDown?(n=r.$control_input[i](),n.length&&(r.hideInput(),r.setActiveItem(n),e&&e.preventDefault())):r.setCaret(r.caretPos+t))},setCaret:function(e){var i=this;if(e="single"===i.settings.mode?i.items.length:Math.max(0,Math.min(i.items.length,e)),!i.isPending){var n,r,o,s;for(o=i.$control.children(":not(input)"),n=0,r=o.length;n<r;n++)s=t(o[n]).detach(),n<e?i.$control_input.before(s):i.$control.append(s)}i.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var t=this;t.$input.prop("disabled",!0),t.$control_input.prop("disabled",!0).prop("tabindex",-1),t.isDisabled=!0,t.lock()},enable:function(){var t=this;t.$input.prop("disabled",!1),t.$control_input.prop("disabled",!1).prop("tabindex",t.tabIndex),t.isDisabled=!1,t.unlock()},destroy:function(){var e=this,i=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),0==--F.count&&F.$testInput&&(F.$testInput.remove(),F.$testInput=void 0),t(window).off(i),t(document).off(i),t(document.body).off(i),delete e.$input[0].selectize},render:function(e,i){var n,r,o="",s=!1,a=this;return"option"!==e&&"item"!==e||(n=S(i[a.settings.valueField]),s=!!n),s&&(E(a.renderCache[e])||(a.renderCache[e]={}),a.renderCache[e].hasOwnProperty(n))?a.renderCache[e][n]:(o=t(a.settings.render[e].apply(this,[i,T])),"option"===e||"option_create"===e?i[a.settings.disabledField]||o.attr("data-selectable",""):"optgroup"===e&&(r=i[a.settings.optgroupValueField]||"",o.attr("data-group",r),i[a.settings.disabledField]&&o.attr("data-disabled","")),"option"!==e&&"item"!==e||o.attr("data-value",n||""),s&&(a.renderCache[e][n]=o[0]),o[0])},clearCache:function(t){var e=this;"undefined"==typeof t?e.renderCache={}:delete e.renderCache[t]},canCreate:function(t){var e=this;if(!e.settings.create)return!1;var i=e.settings.createFilter;return t.length&&("function"!=typeof i||i.apply(e,[t]))&&("string"!=typeof i||new RegExp(i).test(t))&&(!(i instanceof RegExp)||i.test(t))}}),F.count=0,F.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},t.fn.selectize=function(e){var i=t.fn.selectize.defaults,n=t.extend({},i,e),r=n.dataAttr,o=n.labelField,s=n.valueField,a=n.disabledField,l=n.optgroupField,u=n.optgroupLabelField,c=n.optgroupValueField,h=function(e,i){var a,l,u,c,h=e.attr(r);if(h)for(i.options=JSON.parse(h),a=0,l=i.options.length;a<l;a++)i.items.push(i.options[a][s]);else{var f=t.trim(e.val()||"");if(!n.allowEmptyOption&&!f.length)return;for(u=f.split(n.delimiter),a=0,l=u.length;a<l;a++)c={},c[o]=u[a],c[s]=u[a],i.options.push(c);i.items=u}},f=function(e,i){var h,f,d,p,g=i.options,m={},v=function(t){var e=r&&t.attr(r);return"string"==typeof e&&e.length?JSON.parse(e):null},y=function(e,r){e=t(e);var u=S(e.val());if(u||n.allowEmptyOption)if(m.hasOwnProperty(u)){if(r){var c=m[u][l];c?t.isArray(c)?c.push(r):m[u][l]=[c,r]:m[u][l]=r}}else{var h=v(e)||{};h[o]=h[o]||e.text(),h[s]=h[s]||u,h[a]=h[a]||e.prop("disabled"),h[l]=h[l]||r,m[u]=h,g.push(h),e.is(":selected")&&i.items.push(u)}},_=function(e){var n,r,o,s,l;for(e=t(e),o=e.attr("label"),o&&(s=v(e)||{},s[u]=o,s[c]=o,s[a]=e.prop("disabled"),i.optgroups.push(s)),l=t("option",e),n=0,r=l.length;n<r;n++)y(l[n],o)};for(i.maxItems=e.attr("multiple")?null:1,p=e.children(),h=0,f=p.length;h<f;h++)d=p[h].tagName.toLowerCase(),"optgroup"===d?_(p[h]):"option"===d&&y(p[h])};return this.each(function(){if(!this.selectize){var r,o=t(this),s=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");a||n.allowEmptyOption||(a=o.children('option[value=""]').text());var l={placeholder:a,options:[],optgroups:[],items:[]};"select"===s?f(o,l):h(o,l),r=new F(o,t.extend(!0,{},i,l,e))}})},t.fn.selectize.defaults=F.defaults,t.fn.selectize.support={validity:C},F.define("drag_drop",function(e){if(!t.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var i=this;i.lock=function(){var t=i.lock;return function(){var e=i.$control.data("sortable");return e&&e.disable(),t.apply(i,arguments)}}(),i.unlock=function(){var t=i.unlock;return function(){var e=i.$control.data("sortable");return e&&e.enable(),t.apply(i,arguments)}}(),i.setup=function(){var e=i.setup;return function(){e.apply(this,arguments);var n=i.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:i.isLocked,start:function(t,e){e.placeholder.css("width",e.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=i.$activeItems?i.$activeItems.slice():null,r=[];n.children("[data-value]").each(function(){r.push(t(this).attr("data-value"))}),i.setValue(r),i.setActiveItem(e)}})}}()}}),F.define("dropdown_header",function(e){var i=this;e=t.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(t){return'<div class="'+t.headerClass+'"><div class="'+t.titleRowClass+'"><span class="'+t.labelClass+'">'+t.title+'</span><a href="javascript:void(0)" class="'+t.closeClass+'">&times;</a></div></div>'}},e),i.setup=function(){var n=i.setup;return function(){n.apply(i,arguments),i.$dropdown_header=t(e.html(e)),i.$dropdown.prepend(i.$dropdown_header)}}()}),F.define("optgroup_columns",function(e){var i=this;e=t.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,i){var n=e.closest("[data-group]").find("[data-selectable]"),r=n.index(e)+i;return r>=0&&r<n.length?n.eq(r):t()},this.onKeyDown=function(){var t=i.onKeyDown;return function(e){var n,r,o,s;return!this.isOpen||e.keyCode!==u&&e.keyCode!==f?t.apply(this,arguments):(i.ignoreHover=!0,s=this.$activeOption.closest("[data-group]"),n=s.find("[data-selectable]").index(this.$activeOption),s=e.keyCode===u?s.prev("[data-group]"):s.next("[data-group]"),o=s.find("[data-selectable]"),r=o.eq(Math.min(o.length-1,n)),void(r.length&&this.setActiveOption(r)))}}();var n=function(){var t,e=n.width,i=document;return"undefined"==typeof e&&(t=i.createElement("div"),t.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',t=t.firstChild,i.body.appendChild(t),e=n.width=t.offsetWidth-t.clientWidth,i.body.removeChild(t)),e},r=function(){var r,o,s,a,l,u,c;if(c=t("[data-group]",i.$dropdown_content),o=c.length,o&&i.$dropdown_content.width()){if(e.equalizeHeight){for(s=0,r=0;r<o;r++)s=Math.max(s,c.eq(r).height());c.css({height:s})}e.equalizeWidth&&(u=i.$dropdown_content.innerWidth()-n(),a=Math.round(u/o),c.css({width:a}),o>1&&(l=u-a*(o-1),c.eq(o-1).css({width:l})))}};(e.equalizeHeight||e.equalizeWidth)&&(I.after(this,"positionDropdown",r),I.after(this,"refreshOptions",r))}),F.define("remove_button",function(e){e=t.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var i=function(e,i){i.className="remove-single";var n=e,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+T(i.title)+'">'+i.label+"</a>",o=function(e,i){return t("<span>").append(e).append(i)};e.setup=function(){var s=n.setup;return function(){if(i.append){var a=t(n.$input.context).attr("id"),l=(t("#"+a),n.settings.render.item);n.settings.render.item=function(t){return o(l.apply(e,arguments),r)}}s.apply(e,arguments),e.$control.on("click","."+i.className,function(t){t.preventDefault(),n.isLocked||n.clear()})}}()},n=function(e,i){var n=e,r='<a href="javascript:void(0)" class="'+i.className+'" tabindex="-1" title="'+T(i.title)+'">'+i.label+"</a>",o=function(t,e){var i=t.search(/(<\/[^>]+>\s*)$/);return t.substring(0,i)+e+t.substring(i)};e.setup=function(){var s=n.setup;return function(){if(i.append){var a=n.settings.render.item;n.settings.render.item=function(t){return o(a.apply(e,arguments),r)}}s.apply(e,arguments),e.$control.on("click","."+i.className,function(e){if(e.preventDefault(),!n.isLocked){var i=t(e.currentTarget).parent();n.setActiveItem(i),n.deleteSelection()&&n.setCaret(n.items.length)}})}}()};return"single"===this.settings.mode?void i(this,e):void n(this,e)}),F.define("restore_on_backspace",function(t){var e=this;t.text=t.text||function(t){return t[this.settings.labelField]},this.onKeyDown=function(){var i=e.onKeyDown;return function(e){var n,r;return e.keyCode===g&&""===this.$control_input.val()&&!this.$activeItems.length&&(n=this.caretPos-1,n>=0&&n<this.items.length)?(r=this.options[this.items[n]],this.deleteSelection(e)&&(this.setTextboxValue(t.text.apply(this,[r])),this.refreshOptions(!0)),void e.preventDefault()):i.apply(this,arguments)}}()}),F})},{jquery:595,microplugin:600,sifter:616}],616:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define(n):"object"==typeof i?e.exports=n():t.Sifter=n()}(this,function(){var t=function(t,e){this.items=t,this.settings=e||{diacritics:!0}};t.prototype.tokenize=function(t){if(t=r(String(t||"").toLowerCase()),!t||!t.length)return[];var e,i,n,s,l=[],u=t.split(/ +/);for(e=0,i=u.length;e<i;e++){if(n=o(u[e]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(n=n.replace(new RegExp(s,"g"),a[s]));l.push({string:u[e],regex:new RegExp(n,"i")})}return l},t.prototype.iterator=function(t,e){var i;i=s(t)?Array.prototype.forEach||function(t){for(var e=0,i=this.length;e<i;e++)t(this[e],e,this)}:function(t){for(var e in this)this.hasOwnProperty(e)&&t(this[e],e,this)},i.apply(t,[e])},t.prototype.getScoreFunction=function(t,e){var i,r,o,s,a;i=this,t=i.prepareSearch(t,e),o=t.tokens,r=t.options.fields,s=o.length,a=t.options.nesting;var l=function(t,e){var i,n;return t?(t=String(t||""),n=t.search(e.regex),n===-1?0:(i=e.string.length/t.length,0===n&&(i+=.5),i)):0},u=function(){var t=r.length;return t?1===t?function(t,e){return l(n(e,r[0],a),t)}:function(e,i){for(var o=0,s=0;o<t;o++)s+=l(n(i,r[o],a),e);return s/t}:function(){return 0}}();return s?1===s?function(t){return u(o[0],t)}:"and"===t.options.conjunction?function(t){for(var e,i=0,n=0;i<s;i++){if(e=u(o[i],t),e<=0)return 0;n+=e}return n/s}:function(t){for(var e=0,i=0;e<s;e++)i+=u(o[e],t);return i/s}:function(){return 0}},t.prototype.getSortFunction=function(t,i){var r,o,s,a,l,u,c,h,f,d,p;if(s=this,t=s.prepareSearch(t,i),p=!t.query&&i.sort_empty||i.sort,f=function(t,e){return"$score"===t?e.score:n(s.items[e.id],t,i.nesting)},l=[],p)for(r=0,o=p.length;r<o;r++)(t.query||"$score"!==p[r].field)&&l.push(p[r]);if(t.query){for(d=!0,r=0,o=l.length;r<o;r++)if("$score"===l[r].field){d=!1;break}d&&l.unshift({field:"$score",direction:"desc"})}else for(r=0,o=l.length;r<o;r++)if("$score"===l[r].field){l.splice(r,1);break}for(h=[],r=0,o=l.length;r<o;r++)h.push("desc"===l[r].direction?-1:1);return u=l.length,u?1===u?(a=l[0].field,c=h[0],function(t,i){return c*e(f(a,t),f(a,i))}):function(t,i){var n,r,o;for(n=0;n<u;n++)if(o=l[n].field,r=h[n]*e(f(o,t),f(o,i)))return r;return 0}:null},t.prototype.prepareSearch=function(t,e){if("object"==typeof t)return t;e=i({},e);var n=e.fields,r=e.sort,o=e.sort_empty;return n&&!s(n)&&(e.fields=[n]),r&&!s(r)&&(e.sort=[r]),o&&!s(o)&&(e.sort_empty=[o]),{options:e,query:String(t||"").toLowerCase(),tokens:this.tokenize(t),total:0,items:[]}},t.prototype.search=function(t,e){var i,n,r,o,s=this;return n=this.prepareSearch(t,e),e=n.options,t=n.query,o=e.score||s.getScoreFunction(n),t.length?s.iterator(s.items,function(t,r){i=o(t),(e.filter===!1||i>0)&&n.items.push({score:i,id:r})}):s.iterator(s.items,function(t,e){n.items.push({score:1,id:e})}),r=s.getSortFunction(n,e),r&&n.items.sort(r),n.total=n.items.length,"number"==typeof e.limit&&(n.items=n.items.slice(0,e.limit)),n};var e=function(t,e){return"number"==typeof t&&"number"==typeof e?t>e?1:t<e?-1:0:(t=l(String(t||"")),e=l(String(e||"")),t>e?1:e>t?-1:0)},i=function(t,e){var i,n,r,o;for(i=1,n=arguments.length;i<n;i++)if(o=arguments[i])for(r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},n=function(t,e,i){if(t&&e){if(!i)return t[e];for(var n=e.split(".");n.length&&(t=t[n.shift()]););return t}},r=function(t){return(t+"").replace(/^\s+|\s+$|/g,"")},o=function(t){return(t+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||"undefined"!=typeof $&&$.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},l=function(){var t,e,i,n,r="",o={};for(i in a)if(a.hasOwnProperty(i))for(n=a[i].substring(2,a[i].length-1),r+=n,t=0,e=n.length;t<e;t++)o[n.charAt(t)]=i;var s=new RegExp("["+r+"]","g");return function(t){return t.replace(s,function(t){return o[t]}).toLowerCase()}}();return t})},{}],617:[function(t,e,i){"use strict";"use restrict";function n(t){for(var e=0,i=Math.max,n=0,r=t.length;n<r;++n)e=i(e,t[n].length);return e-1}function r(t){for(var e=-1,i=Math.max,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,a=o.length;s<a;++s)e=i(e,o[s]);return e+1}function o(t){for(var e=new Array(t.length),i=0,n=t.length;i<n;++i)e[i]=t[i].slice(0);return e}function s(t,e){var i=t.length,n=t.length-e.length,r=Math.min;if(n)return n;switch(i){case 0:return 0;case 1:return t[0]-e[0];case 2:var o=t[0]+t[1]-e[0]-e[1];return o?o:r(t[0],t[1])-r(e[0],e[1]);case 3:var s=t[0]+t[1],a=e[0]+e[1];if(o=s+t[2]-(a+e[2]))return o;var l=r(t[0],t[1]),u=r(e[0],e[1]),o=r(l,t[2])-r(u,e[2]);return o?o:r(l+t[2],s)-r(u+e[2],a);default:var c=t.slice(0);c.sort();var h=e.slice(0);h.sort();for(var f=0;f<i;++f)if(n=c[f]-h[f])return n;return 0}}function a(t,e){return s(t[0],e[0])}function l(t,e){if(e){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=[t[r],e[r]];n.sort(a);for(var r=0;r<i;++r)t[r]=n[r][0],e[r]=n[r][1];return t}return t.sort(s),t}function u(t){if(0===t.length)return[];for(var e=1,i=t.length,n=1;n<i;++n){var r=t[n];if(s(r,t[n-1])){if(n===e){e++;continue}t[e++]=r}}return t.length=e,t}function c(t,e){for(var i=0,n=t.length-1,r=-1;i<=n;){var o=i+n>>1,a=s(t[o],e);a<=0?(0===a&&(r=o),i=o+1):a>0&&(n=o-1)}return r}function h(t,e){for(var i=new Array(t.length),n=0,r=i.length;n<r;++n)i[n]=[];for(var o=[],n=0,a=e.length;n<a;++n)for(var l=e[n],u=l.length,h=1,f=1<<u;h<f;++h){o.length=_.popCount(h);for(var d=0,p=0;p<u;++p)h&1<<p&&(o[d++]=l[p]);var g=c(t,o);if(!(g<0))for(;;)if(i[g++].push(n),g>=t.length||0!==s(t[g],o))break}return i}function f(t,e){if(!e)return h(u(p(t,0)),t,0);for(var i=new Array(e),n=0;n<e;++n)i[n]=[];for(var n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,a=o.length;s<a;++s)i[o[s]].push(n);return i}function d(t){for(var e=[],i=0,n=t.length;i<n;++i)for(var r=t[i],o=0|r.length,s=1,a=1<<o;s<a;++s){for(var u=[],c=0;c<o;++c)s>>>c&1&&u.push(r[c]);e.push(u)}return l(e)}function p(t,e){if(e<0)return[];for(var i=[],n=(1<<e+1)-1,r=0;r<t.length;++r)for(var o=t[r],s=n;s<1<<o.length;s=_.nextCombination(s)){for(var a=new Array(e+1),u=0,c=0;c<o.length;++c)s&1<<c&&(a[u++]=o[c]);i.push(a)}return l(i)}function g(t){for(var e=[],i=0,n=t.length;i<n;++i)for(var r=t[i],o=0,s=r.length;o<s;++o){for(var a=new Array(r.length-1),u=0,c=0;u<s;++u)u!==o&&(a[c++]=r[u]);e.push(a)}return l(e)}function m(t,e){for(var i=new b(e),n=0;n<t.length;++n)for(var r=t[n],o=0;o<r.length;++o)for(var s=o+1;s<r.length;++s)i.link(r[o],r[s]);for(var a=[],l=i.ranks,n=0;n<l.length;++n)l[n]=-1;for(var n=0;n<t.length;++n){var u=i.find(t[n][0]);l[u]<0?(l[u]=a.length,a.push([t[n].slice(0)])):a[l[u]].push(t[n].slice(0))}return a}function v(t){for(var e=u(l(p(t,0))),i=new b(e.length),n=0;n<t.length;++n)for(var r=t[n],o=0;o<r.length;++o)for(var s=c(e,[r[o]]),a=o+1;a<r.length;++a)i.link(s,c(e,[r[a]]));for(var h=[],f=i.ranks,n=0;n<f.length;++n)f[n]=-1;for(var n=0;n<t.length;++n){var d=i.find(c(e,[t[n][0]]));f[d]<0?(f[d]=h.length,h.push([t[n].slice(0)])):h[f[d]].push(t[n].slice(0))}return h}function y(t,e){return e?m(t,e):v(t)}var _=t("bit-twiddle"),b=t("union-find");i.dimension=n,i.countVertices=r,i.cloneCells=o,i.compareCells=s,i.normalize=l,i.unique=u,i.findCell=c,i.incidence=h,i.dual=f,i.explode=d,i.skeleton=p,i.boundary=g,i.connectedComponents=y},{"bit-twiddle":120,"union-find":686}],618:[function(t,e,i){!function(){"use strict";function t(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function i(t,e,i){var n=e.x,r=e.y,o=i.x-n,s=i.y-r;if(0!==o||0!==s){var a=((t.x-n)*o+(t.y-r)*s)/(o*o+s*s);a>1?(n=i.x,r=i.y):a>0&&(n+=o*a,r+=s*a)}return o=t.x-n,s=t.y-r,o*o+s*s}function n(e,i){for(var n,r=e[0],o=[r],s=1,a=e.length;s<a;s++)n=e[s],t(n,r)>i&&(o.push(n),r=n);return r!==n&&o.push(n),o}function r(t,e,n,o,s){for(var a,l=o,u=e+1;u<n;u++){var c=i(t[u],t[e],t[n]);c>l&&(a=u,l=c)}l>o&&(a-e>1&&r(t,e,a,o,s),s.push(t[a]),n-a>1&&r(t,a,n,o,s))}function o(t,e){var i=t.length-1,n=[t[0]];return r(t,0,i,e,n),n.push(t[i]),n}function s(t,e,i){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=i?t:n(t,r),t=o(t,r)}"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof e?(e.exports=s,e.exports["default"]=s):"undefined"!=typeof self?self.simplify=s:window.simplify=s}()},{}],619:[function(t,e,i){"use strict";function n(){var t=navigator.userAgent.toLowerCase(),e=navigator.appVersion.toLowerCase(),i=/windows phone|iemobile|wpdesktop/.test(t),n=!i&&/android.*mobile/.test(t),r=!i&&!n&&/android/i.test(t),o=n||r,s=!i&&/ip(hone|od|ad)/i.test(t)&&!window.MSStream,a=!i&&/ipad/i.test(t)&&s,l=r||a,u=n||s&&!a||i,c=u||l,h=t.indexOf("firefox")>-1,f=!!t.match(/version\/[\d\.]+.*safari/),d=t.indexOf("opr")>-1,p=!window.ActiveXObject&&"ActiveXObject"in window,g=e.indexOf("msie")>-1||p||e.indexOf("edge")>-1,m=t.indexOf("edge")>-1,v=null!==window.chrome&&void 0!==window.chrome&&"google inc."==navigator.vendor.toLowerCase()&&!d&&!m;this.infos={isDroid:o,isDroidPhone:n,isDroidTablet:r,isWindowsPhone:i,isIos:s,isIpad:a,isDevice:c,isEdge:m,isIE:g,isIE11:p,isPhone:u,isTablet:l,isFirefox:h,isSafari:f,isOpera:d,isChrome:v,isDesktop:!u&&!l},Object.keys(this.infos).forEach(function(t){Object.defineProperty(this,t,{get:function(){return this.infos[t]}})},this),Object.freeze(this)}function r(t,e){t.addClass?t.addClass(e):t.classList?t.classList.add(e):t.className+=" "+e}function o(t){return JSON.parse(JSON.stringify(t))}var s=t("dashify");e.exports=new n,n.prototype.addClasses=function(t){Object.keys(this.infos).forEach(function(e){this.infos[e]&&r(t,s(e))},this)},n.prototype.getInfos=function(){return o(this.infos)}},{dashify:562}],620:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("unipointer")):i.TapListener=n(i,i.Unipointer)}(window,function(t,e){"use strict";function i(t){this.bindTap(t)}var n=i.prototype=Object.create(e.prototype);return n.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)},n.pointerUp=function(i,n){if(!this.isIgnoringMouseUp||"mouseup"!=i.type){var r=e.getPointerPoint(n),o=this.tapElement.getBoundingClientRect(),s=t.pageXOffset,a=t.pageYOffset,l=r.x>=o.left+s&&r.x<=o.right+s&&r.y>=o.top+a&&r.y<=o.bottom+a;if(l&&this.emitEvent("tap",[i,n]),"mouseup"!=i.type){this.isIgnoringMouseUp=!0;var u=this;setTimeout(function(){delete u.isIgnoringMouseUp},400)}}},n.destroy=function(){this.pointerDone(),this.unbindTap()},i})},{unipointer:687}],621:[function(t,e,i){(function(t){!function(t,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof i?e.exports=n():t.textFit=n()}("object"==typeof t?t:this,function(){"use strict";function t(t,s){if(!n(t)||!s.reProcess&&t.getAttribute("textFitted"))return!1;s.reProcess||t.setAttribute("textFitted",1);var a,l,u,c,h,f,d;if(u=t.innerHTML,c=i(t),l=e(t),!c||!s.widthOnly&&!l)throw s.widthOnly?new Error("Set a static width on the target element "+t.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!");u.indexOf("textFitted")===-1?(a=document.createElement("span"),a.className="textFitted",a.style.display="inline-block",a.innerHTML=u,t.innerHTML="",t.appendChild(a)):(a=t.querySelector("span.textFitted"),r(a,"textFitAlignVert")&&(a.className=a.className.replace("textFitAlignVert",""),a.style.height="",t.className.replace("textFitAlignVertFlex",""))),s.alignHoriz&&(t.style["text-align"]="center",a.style["text-align"]="center");var p=s.multiLine;for(s.detectMultiLine&&!p&&a.scrollHeight>=2*parseInt(window.getComputedStyle(a)["font-size"],10)&&(p=!0),p||(t.style["white-space"]="nowrap"),h=s.minFontSize+1,d=s.maxFontSize+1;h<=d;)f=parseInt((h+d)/2,10),a.style.fontSize=f+"px",a.scrollWidth<=c&&(s.widthOnly||a.scrollHeight<=l)?h=f+1:d=f-1;if(a.style.fontSize=f-1+"px",s.alignVert){o();var g=a.scrollHeight;"static"===window.getComputedStyle(t).position&&(t.style.position="relative"),r(a,"textFitAlignVert")||(a.className=a.className+" textFitAlignVert"),a.style.height=g+"px",s.alignVertWithFlexbox&&!r(t,"textFitAlignVertFlex")&&(t.className=t.className+" textFitAlignVertFlex")}}function e(t){var e=window.getComputedStyle(t,null);return t.clientHeight-parseInt(e.getPropertyValue("padding-top"),10)-parseInt(e.getPropertyValue("padding-bottom"),10)}function i(t){var e=window.getComputedStyle(t,null);return t.clientWidth-parseInt(e.getPropertyValue("padding-left"),10)-parseInt(e.getPropertyValue("padding-right"),10)}function n(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}function r(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function o(){if(!document.getElementById("textFitStyleSheet")){var t=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),e=document.createElement("style");e.type="text/css",e.id="textFitStyleSheet",e.innerHTML=t,document.body.appendChild(e)}}var s={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(e,i){i||(i={});var n={};for(var r in s)i.hasOwnProperty(r)?n[r]=i[r]:n[r]=s[r];"function"==typeof e.toArray&&(e=e.toArray());var o=Object.prototype.toString.call(e);"[object Array]"!==o&&"[object NodeList]"!==o&&"[object HTMLCollection]"!==o&&(e=[e]);for(var a=0;a<e.length;a++)t(e[a],n)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],622:[function(t,e,i){function n(){}n.prototype={on:function(t,e,i){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:i}),this},once:function(t,e,i){function n(){r.off(t,n),e.apply(i,arguments)}var r=this;return n._=e,this.on(t,n,i)},emit:function(t){var e=[].slice.call(arguments,1),i=((this.e||(this.e={}))[t]||[]).slice(),n=0,r=i.length;for(n;n<r;n++)i[n].fn.apply(i[n].ctx,e);return this},off:function(t,e){var i=this.e||(this.e={}),n=i[t],r=[];if(n&&e)for(var o=0,s=n.length;o<s;o++)n[o].fn!==e&&n[o].fn._!==e&&r.push(n[o]);return r.length?i[t]=r:delete i[t],this}},e.exports=n},{}],623:[function(t,e,i){function n(t){return t.replace(/^\s*|\s*$/g,"")}i=e.exports=n,i.left=function(t){return t.replace(/^\s*/,"")},i.right=function(t){return t.replace(/\s*$/,"")}},{}],624:[function(t,e,i){function n(t){return t.replace(/\n\r?\s*/g,"")}e.exports=function(t){for(var e="",i=0;i<arguments.length;i++)e+=n(t[i])+(arguments[i+1]||"");return e}},{}],625:[function(t,e,i){var n=t("turf-distance"),r=t("turf-helpers").point,o=t("turf-bearing"),s=t("turf-destination");e.exports=function(t,e,i){var a;if("Feature"===t.type)a=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");a=t.coordinates}for(var l=0,u=0;u<a.length&&!(e>=l&&u===a.length-1);u++){if(l>=e){var c=e-l;if(c){var h=o(a[u],a[u-1])-180,f=s(a[u],c,h,i);return f}return r(a[u])}l+=n(a[u],a[u+1],i)}return r(a[a.length-1])}},{"turf-bearing":631,"turf-destination":644,"turf-distance":646,"turf-helpers":653}],626:[function(t,e,i){function n(t){if("FeatureCollection"===t.type){for(var e=0,i=0;e<t.features.length;e++)t.features[e].geometry&&(i+=r(t.features[e].geometry));return i}return r("Feature"===t.type?t.geometry:t)}var r=t("geojson-area").geometry;e.exports=n},{"geojson-area":627}],627:[function(t,e,n){function r(t){var e,i=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)i+=o(t.coordinates[e]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)i+=r(t.geometries[e]);return i}}function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(s(t[i]))}return e}function s(t){var e,n,r,o,s,u,c=0,h=t.length;if(h>2){for(i=0;i<h;i++)i===h-2?(o=h-2,s=h-1,u=0):i===h-1?(o=h-1,s=0,u=1):(o=i,s=i+1,u=i+2),e=t[o],n=t[s],r=t[u],c+=(a(r[0])-a(e[0]))*Math.sin(a(n[1]));c=c*l.RADIUS*l.RADIUS/2}return c}function a(t){return t*Math.PI/180}var l=t("wgs84");e.exports.geometry=r,e.exports.ring=s},{wgs84:787}],628:[function(t,e,i){var n=t("turf-helpers").polygon;e.exports=function(t){var e=[t[0],t[1]],i=[t[0],t[3]],r=[t[2],t[3]],o=[t[2],t[1]];return n([[e,o,r,i,e]])}},{"turf-helpers":653}],629:[function(t,e,i){var n=t("turf-meta").coordEach;e.exports=function(t){var e=[1/0,1/0,-(1/0),-(1/0)];return n(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}},{"turf-meta":630}],630:[function(t,e,i){function n(t,e,i){var n,r,o,s,a,l,u,c,h,f,d=0,p="FeatureCollection"===t.type,g="Feature"===t.type,m=p?t.features.length:1;for(n=0;n<m;n++)for(h=p?t.features[n].geometry:g?t.geometry:t,f="GeometryCollection"===h.type,u=f?h.geometries.length:1,s=0;s<u;s++)if(l=f?h.geometries[s]:h,c=l.coordinates,d=!i||"Polygon"!==l.type&&"MultiPolygon"!==l.type?0:1,"Point"===l.type)e(c);else if("LineString"===l.type||"MultiPoint"===l.type)for(r=0;r<c.length;r++)e(c[r]);else if("Polygon"===l.type||"MultiLineString"===l.type)for(r=0;r<c.length;r++)for(o=0;o<c[r].length-d;o++)e(c[r][o]);else{if("MultiPolygon"!==l.type)throw new Error("Unknown Geometry Type");for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)for(a=0;a<c[r][o].length-d;a++)e(c[r][o][a])}}function r(t,e,i,r){return n(t,function(t){i=e(i,t)},r),i}function o(t,e){var i;switch(t.type){case"FeatureCollection":for(i=0;i<t.features.length;i++)e(t.features[i].properties);break;case"Feature":e(t.properties)}}function s(t,e,i){return o(t,function(t){i=e(i,t)}),i}function a(t,e){if("Feature"===t.type)e(t);else if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)e(t.features[i])}function l(t){var e=[];return n(t,function(t){e.push(t)}),e}e.exports.coordEach=n,e.exports.coordReduce=r,e.exports.propEach=o,e.exports.propReduce=s,e.exports.featureEach=a,e.exports.coordAll=l},{}],631:[function(t,e,i){var n=t("turf-invariant").getCoord;e.exports=function(t,e){var i=Math.PI/180,r=180/Math.PI,o=n(t),s=n(e),a=i*o[0],l=i*s[0],u=i*o[1],c=i*s[1],h=Math.sin(l-a)*Math.cos(c),f=Math.cos(u)*Math.sin(c)-Math.sin(u)*Math.cos(c)*Math.cos(l-a),d=r*Math.atan2(h,f);return d}},{"turf-invariant":657}],632:[function(t,e,i){var n=t("turf-helpers").lineString,r=t("./spline.js");e.exports=function(t,e,i){var o=n([]);o.properties=t.properties;for(var s=new r({points:t.geometry.coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:e,sharpness:i}),a=0;a<s.duration;a+=10){var l=s.pos(a);Math.floor(a/100)%2===0&&o.geometry.coordinates.push([l.x,l.y]);
}return o}},{"./spline.js":633,"turf-helpers":653}],633:[function(t,e,i){var n=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var i=this.points[e],n=this.points[e+1];this.centers.push({x:(i.x+n.x)/2,y:(i.y+n.y)/2,z:(i.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var i=this.centers[e],n=this.centers[e+1],r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};n.prototype.cacheSteps=function(t){var e=[],i=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var r=this.pos(n),o=Math.sqrt((r.x-i.x)*(r.x-i.x)+(r.y-i.y)*(r.y-i.y)+(r.z-i.z)*(r.z-i.z));o>t&&(e.push(n),i=r)}return e},n.prototype.vector=function(t){var e=this.pos(t+10),i=this.pos(t-10);return{angle:180*Math.atan2(e.y-i.y,e.x-i.x)/3.14,speed:Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)+(i.z-e.z)*(i.z-e.z))}},n.prototype.pos=function(t){function e(t,e,i,n,r){var o=function(t){var e=t*t,i=e*t;return[i,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]},s=o(t),a={x:r.x*s[0]+n.x*s[1]+i.x*s[2]+e.x*s[3],y:r.y*s[0]+n.y*s[1]+i.y*s[2]+e.y*s[3],z:r.z*s[0]+n.z*s[1]+i.z*s[2]+e.z*s[3]};return a}var i=t-this.delay;i<0&&(i=0),i>this.duration&&(i=this.duration-1);var n=i/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n),o=(this.length-1)*n-r;return e(o,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},e.exports=n},{}],634:[function(t,e,i){function n(t,e){var i=new s.io.GeoJSONReader,n=i.read(t.geometry),r=n.buffer(e),o=new s.io.GeoJSONWriter;return r=o.write(r),{type:"Feature",geometry:r,properties:{}}}var r=t("turf-helpers"),o=r.featureCollection,s=t("jsts"),a=t("geojson-normalize");e.exports=function(t,e,i){var s=r.distanceToDegrees(e,i),l=a(t),u=a(o(l.features.map(function(t){return n(t,s)})));return u.features.length>1?u:1===u.features.length?u.features[0]:void 0}},{"geojson-normalize":582,jsts:597,"turf-helpers":653}],635:[function(t,e,i){var n=t("turf-bbox"),r=t("turf-helpers").point;e.exports=function(t){var e=n(t),i=(e[0]+e[2])/2,o=(e[1]+e[3])/2;return r([i,o])}},{"turf-bbox":629,"turf-helpers":653}],636:[function(t,e,i){var n=t("turf-meta").coordEach,r=t("turf-helpers").point;e.exports=function(t){var e=0,i=0,o=0;return n(t,function(t){e+=t[0],i+=t[1],o++},!0),r([e/o,i/o])}},{"turf-helpers":653,"turf-meta":637}],637:[function(t,e,i){arguments[4][630][0].apply(i,arguments)},{dup:630}],638:[function(t,e,i){var n=t("turf-inside");e.exports=function(t,e,i,r){return t.features.forEach(function(t){var o=e.features.filter(function(e){return n(e,t)}).map(function(t){return t.properties[i]});t.properties||(t.properties={}),t.properties[r]=o}),t}},{"turf-inside":655}],639:[function(t,e,i){var n=t("turf-meta");e.exports=function(t){function e(t,e,n){n?i[e].coordinates=i[e].coordinates.concat(t.geometry.coordinates):i[e].coordinates.push(t.geometry.coordinates),i[e].properties.push(t.properties)}var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(i).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return n.featureEach(t,function(t){t.geometry&&(i[t.geometry.type]?e(t,t.geometry.type,!0):r[t.geometry.type]&&e(t,r[t.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(i).filter(function(t){return i[t].coordinates.length}).sort().map(function(t){return{type:"Feature",properties:{collectedProperties:i[t].properties},geometry:{type:t,coordinates:i[t].coordinates}}})}}},{"turf-meta":640}],640:[function(t,e,i){arguments[4][630][0].apply(i,arguments)},{dup:630}],641:[function(t,e,i){function n(t,e,i){function n(t){var n=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=a(n,r,i),l=a(r,o,i),u=a(n,o,i);return s<=e&&l<=e&&u<=e}if("number"!=typeof e)throw new Error("maxEdge parameter is required");if("string"!=typeof i)throw new Error("units parameter is required");var s=o(t),l=s.features.filter(n);return s.features=l,r(s)}function r(t){for(var e=JSON.parse(JSON.stringify(t.features[0])),i=t.features,n=0,r=i.length;n<r;n++){var o=i[n];o.geometry&&(e=s(e,o))}return e}var o=t("turf-tin"),s=t("turf-union"),a=t("turf-distance");e.exports=n},{"turf-distance":646,"turf-tin":677,"turf-union":679}],642:[function(t,e,i){var n=t("turf-meta").coordEach,r=t("convex-hull"),o=t("turf-helpers").polygon;e.exports=function(t){var e=[];n(t,function(t){e.push(t)});var i=r(e);if(i.length>0){for(var s=[],a=0;a<i.length;a++)s.push(e[i[a][0]]);return s.push(e[i[i.length-1][1]]),o([s])}}},{"convex-hull":125,"turf-helpers":653,"turf-meta":643}],643:[function(t,e,i){arguments[4][630][0].apply(i,arguments)},{dup:630}],644:[function(t,e,i){var n=t("turf-invariant").getCoord,r=t("turf-helpers"),o=r.point,s=r.distanceToRadians;e.exports=function(t,e,i,r){var a=Math.PI/180,l=180/Math.PI,u=n(t),c=a*u[0],h=a*u[1],f=a*i,d=s(e,r),p=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(f)),g=c+Math.atan2(Math.sin(f)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(p));return o([l*g,l*p])}},{"turf-helpers":653,"turf-invariant":657}],645:[function(t,e,i){var n=t("jsts");e.exports=function(t,e){var i=JSON.parse(JSON.stringify(t)),r=JSON.parse(JSON.stringify(e));"Feature"!==i.type&&(i={type:"Feature",properties:{},geometry:i}),"Feature"!==r.type&&(r={type:"Feature",properties:{},geometry:r});var o=new n.io.GeoJSONReader,s=o.read(JSON.stringify(i.geometry)),a=o.read(JSON.stringify(r.geometry)),l=s.difference(a);if(!l.isEmpty()){var u=new n.io.GeoJSONWriter,c=u.write(l);return i.geometry=l,{type:"Feature",properties:i.properties,geometry:c}}}},{jsts:597}],646:[function(t,e,i){var n=t("turf-invariant").getCoord,r=t("turf-helpers").radiansToDistance;e.exports=function(t,e,i){var o=Math.PI/180,s=n(t),a=n(e),l=o*(a[1]-s[1]),u=o*(a[0]-s[0]),c=o*s[1],h=o*a[1],f=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(h);return r(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),i)}},{"turf-helpers":653,"turf-invariant":657}],647:[function(t,e,i){var n=t("turf-bbox"),r=t("turf-bbox-polygon");e.exports=function(t){return r(n(t))}},{"turf-bbox":629,"turf-bbox-polygon":628}],648:[function(t,e,i){var n=t("turf-helpers").featureCollection,r=t("turf-meta").coordEach,o=t("turf-helpers").point;e.exports=function(t){var e=[];return r(t,function(t){e.push(o(t))}),n(e)}},{"turf-helpers":653,"turf-meta":649}],649:[function(t,e,i){arguments[4][630][0].apply(i,arguments)},{dup:630}],650:[function(t,e,i){var n=t("turf-meta").coordEach;e.exports=function(t){return t=JSON.parse(JSON.stringify(t)),n(t,function(t){t.reverse()}),t}},{"turf-meta":651}],651:[function(t,e,i){arguments[4][630][0].apply(i,arguments)},{dup:630}],652:[function(t,e,i){var n=t("turf-point");e.exports=function(t,e){for(var i=t[0],r=t[1],o=t[2],s=(t[3],(o-i)/e),a={type:"FeatureCollection",features:[]},l=0;l<=e;l++)for(var u=0;u<=e;u++)a.features.push(n([l*s+i,u*s+r]));return a}},{"turf-point":669}],653:[function(t,e,i){function n(t,e){return{type:"Feature",properties:e||{},geometry:t}}e.exports.feature=n,e.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:t.slice()},e)},e.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var r=t[i];if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<r[r.length-1].length;o++)if(r[r.length-1][o]!==r[0][o])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e)},e.exports.lineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:t},e)},e.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}},e.exports.multiLineString=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:t},e)},e.exports.multiPoint=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:t},e)},e.exports.multiPolygon=function(t,e){if(!t)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:t},e)},e.exports.geometryCollection=function(t,e){return n({type:"GeometryCollection",geometries:t},e)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(t,e){var i=r[e||"kilometers"];if(void 0===i)throw new Error("Invalid unit");return t*i},e.exports.distanceToRadians=function(t,e){var i=r[e||"kilometers"];if(void 0===i)throw new Error("Invalid unit");return t/i},e.exports.distanceToDegrees=function(t,e){var i=r[e||"kilometers"];if(void 0===i)throw new Error("Invalid unit");return t/i*57.2958}},{}],654:[function(t,e,i){function n(t,e,i){for(var n=[],r=0;r<6;r++){var o=t[0]+e*u[r],a=t[1]+i*c[r];n.push([o,a])}return n.push(n[0]),s([n])}function r(t,e,i){for(var n=[],r=0;r<6;r++){var o=[];o.push(t),o.push([t[0]+e*u[r],t[1]+i*c[r]]),o.push([t[0]+e*u[(r+1)%6],t[1]+i*c[(r+1)%6]]),o.push(t),n.push(s([o]))}return n}for(var o=t("turf-helpers").point,s=t("turf-helpers").polygon,a=t("turf-distance"),l=t("turf-helpers").featureCollection,u=[],c=[],h=0;h<6;h++){var f=2*Math.PI/6*h;u.push(Math.cos(f)),c.push(Math.sin(f))}e.exports=function(t,e,i,s){var u=e/a(o([t[0],t[1]]),o([t[2],t[1]]),i),c=u*(t[2]-t[0]),h=e/a(o([t[0],t[1]]),o([t[0],t[3]]),i),f=h*(t[3]-t[1]),d=c/2,p=2*d,g=Math.sqrt(3)/2*f,m=t[2]-t[0],v=t[3]-t[1],y=.75*p,_=g,b=m/(p-d/2),x=Math.ceil(b);Math.round(b)===x&&x++;var w=(x*y-d/2-m)/2-d/2,C=Math.ceil(v/g),E=(v-C*g)/2,S=C*g-v>g/2;S&&(E-=g/4);for(var T=l([]),I=0;I<x;I++)for(var k=0;k<=C;k++){var P=I%2===1;if(!(0===k&&P||0===k&&S)){var L=I*y+t[0]-w,O=k*_+t[1]+E;P&&(O-=g/2),s?T.features.push.apply(T.features,r([L,O],c/2,f/2)):T.features.push(n([L,O],c/2,f/2))}}return T}},{"turf-distance":646,"turf-helpers":653}],655:[function(t,e,i){function n(t,e){for(var i=!1,n=0,r=e.length-1;n<e.length;r=n++){var o=e[n][0],s=e[n][1],a=e[r][0],l=e[r][1],u=s>t[1]!=l>t[1]&&t[0]<(a-o)*(t[1]-s)/(l-s)+o;u&&(i=!i)}return i}var r=t("turf-invariant");e.exports=function(t,e){var i=r.getCoord(t),o=e.geometry.coordinates;"Polygon"===e.geometry.type&&(o=[o]);for(var s=0,a=!1;s<o.length&&!a;s++)if(n(i,o[s][0])){for(var l=!1,u=1;u<o[s].length&&!l;)n(i,o[s][u])&&(l=!0),u++;l||(a=!0)}return a}},{"turf-invariant":657}],656:[function(t,e,i){var n=t("jsts");e.exports=function(t,e){var i,r;i="Feature"===t.type?t.geometry:t,r="Feature"===e.type?e.geometry:e;var o=new n.io.GeoJSONReader,s=o.read(JSON.stringify(i)),a=o.read(JSON.stringify(r)),l=s.intersection(a);if(!l.isEmpty()){var u=new n.io.GeoJSONWriter,c=u.write(l);return{type:"Feature",properties:{},geometry:c}}}},{jsts:597}],657:[function(t,e,i){function n(t){if(Array.isArray(t)&&"number"==typeof t[0]&&"number"==typeof t[1])return t;if(t){if("Feature"===t.type&&t.geometry&&"Point"===t.geometry.type&&Array.isArray(t.geometry.coordinates))return t.geometry.coordinates;if("Point"===t.type&&Array.isArray(t.coordinates))return t.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}function r(t,e,i){if(!e||!i)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+t.type)}function o(t,e,i){if(!i)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+t.geometry.type)}function s(t,e,i){if(!i)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+i+", FeatureCollection required");for(var n=0;n<t.features.length;n++){var r=t.features[n];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+r.geometry.type)}}e.exports.geojsonType=r,e.exports.collectionOf=s,e.exports.featureOf=o,e.exports.getCoord=n},{}],658:[function(t,e,i){function n(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n<a}function r(t){for(var e=t.head;e;){var i=e.next;e.next=e.prev,e.prev=i,e=i}var i=t.head;t.head=t.tail,t.tail=i}function o(t){this.level=t,this.s=null,this.count=0}function s(t){if(t)this.drawContour=t;else{var e=this;e.contours={},this.drawContour=function(t,i,n,r,s,a){var l=e.contours[a];l||(l=e.contours[a]=new o(s)),l.addSegment({x:t,y:i},{x:n,y:r})},this.contourList=function(){var t=[],i=e.contours;for(var n in i)for(var r=i[n].s,o=i[n].level;r;){var s=r.head,a=[];for(a.level=o,a.k=n;s&&s.p;)a.push(s.p),s=s.next;t.push(a),r=r.next}return t.sort(function(t,e){return t.k-e.k}),t}}this.h=new Array(5),this.sh=new Array(5),this.xh=new Array(5),this.yh=new Array(5)}e.exports=s;var a=1e-10;o.prototype.remove_seq=function(t){t.prev?t.prev.next=t.next:this.s=t.next,t.next&&(t.next.prev=t.prev),--this.count},o.prototype.addSegment=function(t,e){for(var i=this.s,o=null,s=null,a=!1,l=!1;i&&(null==o&&(n(t,i.head.p)?(o=i,a=!0):n(t,i.tail.p)&&(o=i)),null==s&&(n(e,i.head.p)?(s=i,l=!0):n(e,i.tail.p)&&(s=i)),null==s||null==o);)i=i.next;var u=(null!=o?1:0)|(null!=s?2:0);switch(u){case 0:var c={p:t,prev:null},h={p:e,next:null};c.next=h,h.prev=c,o={head:c,tail:h,next:this.s,prev:null,closed:!1},this.s&&(this.s.prev=o),this.s=o,++this.count;break;case 1:var f={p:e};a?(f.next=o.head,f.prev=null,o.head.prev=f,o.head=f):(f.next=null,f.prev=o.tail,o.tail.next=f,o.tail=f);break;case 2:var f={p:t};l?(f.next=s.head,f.prev=null,s.head.prev=f,s.head=f):(f.next=null,f.prev=s.tail,s.tail.next=f,s.tail=f);break;case 3:if(o===s){var f={p:o.tail.p,next:o.head,prev:null};o.head.prev=f,o.head=f,o.closed=!0;break}switch((a?1:0)|(l?2:0)){case 0:r(o);case 1:s.tail.next=o.head,o.head.prev=s.tail,s.tail=o.tail,this.remove_seq(o);break;case 3:r(o);case 2:o.tail.next=s.head,s.head.prev=o.tail,o.tail=s.tail,this.remove_seq(s)}}},s.prototype.contour=function(t,e,i,n,r,o,s,l,u){var c=this.h,h=this.sh,f=this.xh,d=this.yh,p=this.drawContour;this.contours={};for(var g,m,v,y,_,b,x=function(t,e){return(c[e]*f[t]-c[t]*f[e])/(c[e]-c[t])},w=function(t,e){return(c[e]*d[t]-c[t]*d[e])/(c[e]-c[t])},C=0,E=0,S=0,T=0,I=[0,1,1,0],k=[0,0,1,1],P=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]],L=r-1;L>=n;L--)for(var O=e;O<=i-1;O++){var A,M;if(A=Math.min(t[O][L],t[O][L+1]),M=Math.min(t[O+1][L],t[O+1][L+1]),_=Math.min(A,M),A=Math.max(t[O][L],t[O][L+1]),M=Math.max(t[O+1][L],t[O+1][L+1]),b=Math.max(A,M),b>=u[0]&&_<=u[l-1])for(var R=0;R<l;R++)if(u[R]>=_&&u[R]<=b){for(var N=4;N>=0;N--)N>0?(c[N]=t[O+I[N-1]][L+k[N-1]]-u[R],f[N]=o[O+I[N-1]],d[N]=s[L+k[N-1]]):(c[0]=.25*(c[1]+c[2]+c[3]+c[4]),f[0]=.5*(o[O]+o[O+1]),d[0]=.5*(s[L]+s[L+1])),c[N]>a?h[N]=1:c[N]<-a?h[N]=-1:h[N]=0;for(N=1;N<=4;N++)if(g=N,m=0,v=4!=N?N+1:1,y=P[h[g]+1][h[m]+1][h[v]+1],0!=y){switch(y){case 1:C=f[g],S=d[g],E=f[m],T=d[m];break;case 2:C=f[m],S=d[m],E=f[v],T=d[v];break;case 3:C=f[v],S=d[v],E=f[g],T=d[g];break;case 4:C=f[g],S=d[g],E=x(m,v),T=w(m,v);break;case 5:C=f[m],S=d[m],E=x(v,g),T=w(v,g);break;case 6:C=f[v],S=d[v],E=x(g,m),T=w(g,m);break;case 7:C=x(g,m),S=w(g,m),E=x(m,v),T=w(m,v);break;case 8:C=x(m,v),S=w(m,v),E=x(v,g),T=w(v,g);break;case 9:C=x(v,g),S=w(v,g),E=x(g,m),T=w(g,m)}p(C,S,E,T,u[R],R)}}}}},{}],659:[function(t,e,i){var n=t("turf-tin"),r=t("turf-inside"),o=t("turf-grid"),s=t("turf-bbox"),a=t("turf-planepoint"),l=t("turf-helpers").featureCollection,u=t("turf-helpers").lineString,c=t("turf-square"),h=t("./conrec");e.exports=function(t,e,i,f){for(var d=n(t,e),p=s(t),g=c(p),m=o(g,i),v=[],y=0;y<m.features.length;y++)for(var _=m.features[y],b=0;b<d.features.length;b++){var x=d.features[b];r(_,x)&&(_.properties={},_.properties[e]=a(_,x))}for(var w=Math.sqrt(m.features.length),C=0;C<w;C++){for(var E=m.features.slice(C*w,(C+1)*w),S=[],T=0;T<E.length;T++)E[T].properties?S.push(E[T].properties[e]):S.push(0);v.push(S)}for(var I=(g[2]-g[0])/w,k=[],P=[],L=0;L<w;L++)k.push(L*I+g[0]),P.push(L*I+g[1]);var O=new h;O.contour(v,0,i,0,i,k,P,f.length,f);var A=O.contourList(),M=l([]);return A.forEach(function(t){if(t.length>2){var i=[];t.forEach(function(t){i.push([t.x,t.y])});var n=u(i);n.properties={},n.properties[e]=t.level,M.features.push(n)}}),M}},{"./conrec":658,"turf-bbox":629,"turf-grid":652,"turf-helpers":653,"turf-inside":655,"turf-planepoint":665,"turf-square":674,"turf-tin":677}],660:[function(t,e,i){function n(t,e,i,n,r,o,s,a){var l,u,c,h,f,d={x:null,y:null,onLine1:!1,onLine2:!1};return l=(a-o)*(i-t)-(s-r)*(n-e),0===l?null!==d.x&&null!==d.y&&d:(u=e-o,c=t-r,h=(s-r)*u-(a-o)*c,f=(i-t)*u-(n-e)*c,u=h/l,c=f/l,d.x=t+u*(i-t),d.y=e+u*(n-e),u>=0&&u<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}var r=t("turf-helpers").point;e.exports=function(t){var e,i={type:"FeatureCollection",features:[]};return e="Feature"===t.type?t.geometry:t,e.coordinates.forEach(function(t){e.coordinates.forEach(function(e){for(var o=0;o<t.length-1;o++)for(var s=0;s<e.length-1;s++)if(t!==e||1!==Math.abs(o-s)&&Math.abs(o-s)!==t.length-2){var a=n(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);a&&i.features.push(r([a[0],a[1]]))}})}),i}},{"turf-helpers":653}],661:[function(t,e,i){function n(t,e){for(var i,n=0,s=o(t[0]),a=o(t[0]),l=1;l<t.length;l++)a.geometry.coordinates=t[l],n+=r(s,a,e),i=s,s=a,a=i;return n}var r=t("turf-distance"),o=t("turf-helpers").point;e.exports=function s(t,e){if("FeatureCollection"===t.type)return t.features.reduce(function(t,i){return t+s(i,e)},0);var i,r,o="Feature"===t.type?t.geometry:t;if("LineString"===o.type)return n(o.coordinates,e);if("Polygon"===o.type||"MultiLineString"===o.type){for(i=0,r=0;r<o.coordinates.length;r++)i+=n(o.coordinates[r],e);return i}if("MultiPolygon"===t.type){for(i=0,r=0;r<o.coordinates.length;r++)for(var a=0;a<o.coordinates[r].length;a++)i+=n(o.coordinates[r][a],e);return i}throw new Error("input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection containing only those types)")}},{"turf-distance":646,"turf-helpers":653}],662:[function(t,e,i){var n=t("turf-helpers").lineString,r=t("turf-point-on-line");e.exports=function(t,e,i){var o;if("Feature"===i.type)o=i.geometry.coordinates;else{if("LineString"!==i.type)throw new Error("input must be a LineString Feature or Geometry");o=i.coordinates}var s,a=r(i,t),l=r(i,e);s=a.properties.index<=l.properties.index?[a,l]:[l,a];for(var u=n([s[0].geometry.coordinates],{}),c=s[0].properties.index+1;c<s[1].properties.index+1;c++)u.geometry.coordinates.push(o[c]);return u.geometry.coordinates.push(s[1].geometry.coordinates),u}},{"turf-helpers":653,"turf-point-on-line":667}],663:[function(t,e,i){var n=t("turf-bearing"),r=t("turf-destination"),o=t("turf-distance");e.exports=function(t,e){var i=o(t,e,"miles"),s=n(t,e),a=r(t,i/2,s,"miles");return a}},{"turf-bearing":631,"turf-destination":644,"turf-distance":646}],664:[function(t,e,i){var n=t("turf-distance");e.exports=function(t,e){for(var i,r=1/0,o=0;o<e.features.length;o++){var s=n(t,e.features[o],"miles");s<r&&(i=e.features[o],r=s)}return i}},{"turf-distance":646}],665:[function(t,e,i){e.exports=function(t,e){var i=t.geometry.coordinates[0],n=t.geometry.coordinates[1],r=e.geometry.coordinates[0][0][0],o=e.geometry.coordinates[0][0][1],s=e.properties.a,a=e.geometry.coordinates[0][1][0],l=e.geometry.coordinates[0][1][1],u=e.properties.b,c=e.geometry.coordinates[0][2][0],h=e.geometry.coordinates[0][2][1],f=e.properties.c,d=(f*(i-r)*(n-l)+s*(i-a)*(n-h)+u*(i-c)*(n-o)-u*(i-r)*(n-h)-f*(i-a)*(n-o)-s*(i-c)*(n-l))/((i-r)*(n-l)+(i-a)*(n-h)+(i-c)*(n-o)-(i-r)*(n-h)-(i-a)*(n-o)-(i-c)*(n-l));return d}},{}],666:[function(t,e,i){var n=t("turf-helpers").point,r=t("turf-helpers").featureCollection,o=t("turf-distance");e.exports=function(t,e,i){for(var s=r([]),a=e/o(n([t[0],t[1]]),n([t[2],t[1]]),i),l=a*(t[2]-t[0]),u=e/o(n([t[0],t[1]]),n([t[0],t[3]]),i),c=u*(t[3]-t[1]),h=t[0];h<=t[2];){for(var f=t[1];f<=t[3];)s.features.push(n([h,f])),f+=c;h+=l}return s}},{"turf-distance":646,"turf-helpers":653}],667:[function(t,e,i){function n(t,e){for(var i="miles",n=s([1/0,1/0],{dist:1/0}),u=0;u<e.length-1;u++){var c=s(e[u]),h=s(e[u+1]);c.properties.dist=o(t,c,i),h.properties.dist=o(t,h,i);var f,d=Math.max(c.properties.dist,h.properties.dist),p=a(c,h),g=l(t,d,p+90,i),m=l(t,d,p-90,i),v=r(g.geometry.coordinates[0],g.geometry.coordinates[1],m.geometry.coordinates[0],m.geometry.coordinates[1],c.geometry.coordinates[0],c.geometry.coordinates[1],h.geometry.coordinates[0],h.geometry.coordinates[1]);v&&(f=s(v),f.properties.dist=o(t,f,i)),c.properties.dist<n.properties.dist&&(n=c,n.properties.index=u),h.properties.dist<n.properties.dist&&(n=h,n.properties.index=u),f&&f.properties.dist<n.properties.dist&&(n=f,n.properties.index=u)}return n}function r(t,e,i,n,r,o,s,a){var l,u,c,h,f,d={x:null,y:null,onLine1:!1,onLine2:!1};return l=(a-o)*(i-t)-(s-r)*(n-e),0===l?null!==d.x&&null!==d.y&&d:(u=e-o,c=t-r,h=(s-r)*u-(a-o)*c,f=(i-t)*u-(n-e)*c,u=h/l,c=f/l,d.x=t+u*(i-t),d.y=e+u*(n-e),u>0&&u<1&&(d.onLine1=!0),c>0&&c<1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}var o=t("turf-distance"),s=t("turf-helpers").point,a=t("turf-bearing"),l=t("turf-destination");e.exports=function(t,e){var i;if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}return n(e,i)}},{"turf-bearing":631,"turf-destination":644,"turf-distance":646,"turf-helpers":653}],668:[function(t,e,i){function n(t){"FeatureCollection"!==t.type&&("Feature"!==t.type&&(t={type:"Feature",geometry:t,properties:{}}),t=o([t]));for(var e=s(t),i=!1,n=0;!i&&n<t.features.length;){var c,h,f,d,p,g,m,v=t.features[n].geometry,y=!1;if("Point"===v.type)e.geometry.coordinates[0]===v.coordinates[0]&&e.geometry.coordinates[1]===v.coordinates[1]&&(i=!0);else if("MultiPoint"===v.type){var _=!1;for(m=0;!_&&m<v.coordinates.length;)e.geometry.coordinates[0]===v.coordinates[m][0]&&e.geometry.coordinates[1]===v.coordinates[m][1]&&(i=!0,_=!0),m++}else if("LineString"===v.type)for(m=0;!y&&m<v.coordinates.length-1;)c=e.geometry.coordinates[0],h=e.geometry.coordinates[1],f=v.coordinates[m][0],d=v.coordinates[m][1],p=v.coordinates[m+1][0],g=v.coordinates[m+1][1],r(c,h,f,d,p,g)&&(y=!0,i=!0),m++;else if("MultiLineString"===v.type)for(var b=0;b<v.coordinates.length;){y=!1,m=0;for(var x=v.coordinates[b];!y&&m<x.length-1;)c=e.geometry.coordinates[0],h=e.geometry.coordinates[1],f=x[m][0],d=x[m][1],p=x[m+1][0],g=x[m+1][1],r(c,h,f,d,p,g)&&(y=!0,i=!0),m++;b++}else if("Polygon"===v.type||"MultiPolygon"===v.type){var w={type:"Feature",geometry:v,properties:{}};l(e,w)&&(i=!0)}n++}if(i)return e;var C=o([]);for(n=0;n<t.features.length;n++)C.features=C.features.concat(u(t.features[n]).features);var E,S=1/0;for(n=0;n<C.features.length;n++){var T=a(e,C.features[n],"miles");T<S&&(S=T,E=C.features[n])}return E}function r(t,e,i,n,r,o){var s=Math.sqrt((r-i)*(r-i)+(o-n)*(o-n)),a=Math.sqrt((t-i)*(t-i)+(e-n)*(e-n)),l=Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));if(s===a+l)return!0}var o=t("turf-helpers").featureCollection,s=t("turf-center"),a=t("turf-distance"),l=t("turf-inside"),u=t("turf-explode");e.exports=n},{"turf-center":635,"turf-distance":646,"turf-explode":648,"turf-helpers":653,"turf-inside":655}],669:[function(t,e,i){var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t,e){if(!n(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},{}],670:[function(t,e,i){var n=t("geojson-random");e.exports=function(t,e,i){switch(i=i||{},e=e||1,t){case"point":case"points":case void 0:return n.point(e,i.bbox);case"polygon":case"polygons":return n.polygon(e,i.num_vertices,i.max_radial_length,i.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},{"geojson-random":583}],671:[function(t,e,i){function n(t,e){for(var i,n,r=t.slice(0),o=t.length,s=o-e;o-- >s;)n=Math.floor((o+1)*Math.random()),i=r[n],r[n]=r[o],r[o]=i;return r.slice(s)}var r=t("turf-helpers").featureCollection;e.exports=function(t,e){var i=r(n(t.features,e));return i}},{"turf-helpers":653}],672:[function(t,e,i){function n(t,e,i){return"LineString"===t.geometry.type?{type:"LineString",coordinates:s(t.geometry.coordinates,e,i)}:"MultiLineString"===t.geometry.type?{type:"MultiLineString",coordinates:t.geometry.coordinates.map(function(t){return s(t,e,i)})}:"Polygon"===t.geometry.type?{type:"Polygon",coordinates:a(t.geometry.coordinates,e,i)}:"MultiPolygon"===t.geometry.type?{type:"MultiPolygon",coordinates:t.geometry.coordinates.map(function(t){return a(t,e,i)})}:t}function r(t){return!(t.length<3)&&(3!==t.length||t[2][0]!==t[0][0]||t[2][1]!==t[0][1])}function o(t,e){return{type:"Feature",geometry:t,properties:e}}function s(t,e,i){return l(t.map(function(t){return{x:t[0],y:t[1]}}),e,i).map(function(t){return[t.x,t.y]})}function a(t,e,i){return t.map(function(t){var n=t.map(function(t){return{x:t[0],y:t[1]}});if(n.length<4)throw new Error("Invalid polygon");for(var o=l(n,e,i).map(function(t){return[t.x,t.y]});!r(o);)e-=.01*e,o=l(n,e,i).map(function(t){return[t.x,t.y]});return o[o.length-1][0]===o[0][0]&&o[o.length-1][1]===o[0][1]||o.push(o[0]),o})}var l=t("simplify-js"),u=["LineString","MultiLineString","Polygon","MultiPolygon"];e.exports=function(t,e,i){return"Feature"===t.type?o(n(t,e,i),t.properties):"FeatureCollection"===t.type?{type:"FeatureCollection",features:t.features.map(function(t){var r=n(t,e,i);return u.indexOf(r.type)>-1?o(r,t.properties):r})}:"GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(function(t){return u.indexOf(t.type)>-1?n({type:"Feature",geometry:t},e,i):t})}:t}},{"simplify-js":618}],673:[function(t,e,i){var n=t("turf-helpers").featureCollection,r=t("turf-helpers").point,o=t("turf-helpers").polygon,s=t("turf-distance");e.exports=function(t,e,i){for(var a=n([]),l=e/s(r([t[0],t[1]]),r([t[2],t[1]]),i),u=l*(t[2]-t[0]),c=e/s(r([t[0],t[1]]),r([t[0],t[3]]),i),h=c*(t[3]-t[1]),f=t[0];f<=t[2];){for(var d=t[1];d<=t[3];){var p=o([[[f,d],[f,d+h],[f+u,d+h],[f+u,d],[f,d]]]);a.features.push(p),d+=h}f+=u}return a}},{"turf-distance":646,"turf-helpers":653}],674:[function(t,e,i){var n=t("turf-distance");e.exports=function(t){var e=n(t.slice(0,2),[t[2],t[1]],"miles"),i=n(t.slice(0,2),[t[0],t[3]],"miles");if(e>=i){var r=(t[1]+t[3])/2;return[t[0],r-(t[2]-t[0])/2,t[2],r+(t[2]-t[0])/2]}var o=(t[0]+t[2])/2;return[o-(t[3]-t[1])/2,t[1],o+(t[3]-t[1])/2,t[3]]}},{"turf-distance":646}],675:[function(t,e,i){var n=t("turf-inside");e.exports=function(t,e,i,r){return t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),t.features.forEach(function(t){t.properties||(t.properties={}),e.features.forEach(function(e){if(void 0===t.properties[r]){var o=n(t,e);o&&(t.properties[r]=e.properties[i])}})}),t}},{"turf-inside":655}],676:[function(t,e,i){function n(t){var e=r(t),i=2,n=s(e.vertices,e.holes,i),a=[],l=[];n.forEach(function(t,r){var o=n[r];l.push([e.vertices[o*i],e.vertices[o*i+1]])});for(var u=0;u<l.length;u+=3){var c=l.slice(u,u+3);c.push(l[u]),a.push(o([c]))}return a}function r(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}var o=t("turf-helpers").polygon,s=t("earcut");e.exports=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=n(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(n(t))}),e}},{earcut:564,"turf-helpers":653}],677:[function(t,e,i){function n(t,e,i){this.a=t,this.b=e,this.c=i;var n,r,o,s,a=e.x-t.x,l=e.y-t.y,u=i.x-t.x,c=i.y-t.y,h=a*(t.x+e.x)+l*(t.y+e.y),f=u*(t.x+i.x)+c*(t.y+i.y),d=2*(a*(i.y-e.y)-l*(i.x-e.x));Math.abs(d)<1e-6?(n=Math.min(t.x,e.x,i.x),r=Math.min(t.y,e.y,i.y),o=.5*(Math.max(t.x,e.x,i.x)-n),s=.5*(Math.max(t.y,e.y,i.y)-r),this.x=n+o,this.y=r+s,this.r=o*o+s*s):(this.x=(c*h-l*f)/d,this.y=(a*f-u*h)/d,o=this.x-t.x,s=this.y-t.y,this.r=o*o+s*s)}function r(t,e){return e.x-t.x}function o(t){var e,i,n,r,o,s=t.length;t:for(;s;)for(i=t[--s],e=t[--s],n=s;n;)if(o=t[--n],r=t[--n],e===r&&i===o||e===o&&i===r){t.splice(s,2),t.splice(n,2),s-=2;continue t}}function s(t){if(t.length<3)return[];t.sort(r);for(var e=t.length-1,i=t[e].x,s=t[0].x,a=t[e].y,l=a;e--;)t[e].y<a&&(a=t[e].y),t[e].y>l&&(l=t[e].y);var u,c,h,f=s-i,d=l-a,p=f>d?f:d,g=.5*(s+i),m=.5*(l+a),v=[new n({x:g-20*p,y:m-p,__sentinel:!0},{x:g,y:m+20*p,__sentinel:!0},{x:g+20*p,y:m-p,__sentinel:!0})],y=[],_=[];for(e=t.length;e--;){for(_.length=0,u=v.length;u--;)f=t[e].x-v[u].x,f>0&&f*f>v[u].r?(y.push(v[u]),v.splice(u,1)):(d=t[e].y-v[u].y,f*f+d*d>v[u].r||(_.push(v[u].a,v[u].b,v[u].b,v[u].c,v[u].c,v[u].a),v.splice(u,1)));for(o(_),u=_.length;u;)h=_[--u],c=_[--u],v.push(new n(c,h,t[e]))}for(Array.prototype.push.apply(y,v),e=y.length;e--;)(y[e].a.__sentinel||y[e].b.__sentinel||y[e].c.__sentinel)&&y.splice(e,1);return y}var a=t("turf-helpers").polygon,l=t("turf-helpers").featureCollection;e.exports=function(t,e){return l(s(t.features.map(function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e&&(i.z=t.properties[e]),i})).map(function(t){return a([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})}))}},{"turf-helpers":653}],678:[function(t,e,i){var n=t("turf-helpers").featureCollection,r=t("turf-helpers").polygon,o=t("turf-distance");e.exports=function(t,e,i){for(var s=n([]),a=e/o([t[0],t[1]],[t[2],t[1]],i),l=a*(t[2]-t[0]),u=e/o([t[0],t[1]],[t[0],t[3]],i),c=u*(t[3]-t[1]),h=0,f=t[0];f<=t[2];){for(var d=0,p=t[1];p<=t[3];)h%2===0&&d%2===0?s.features.push(r([[[f,p],[f,p+c],[f+l,p],[f,p]]]),r([[[f,p+c],[f+l,p+c],[f+l,p],[f,p+c]]])):h%2===0&&d%2===1?s.features.push(r([[[f,p],[f+l,p+c],[f+l,p],[f,p]]]),r([[[f,p],[f,p+c],[f+l,p+c],[f,p]]])):d%2===0&&h%2===1?s.features.push(r([[[f,p],[f,p+c],[f+l,p+c],[f,p]]]),r([[[f,p],[f+l,p+c],[f+l,p],[f,p]]])):d%2===1&&h%2===1&&s.features.push(r([[[f,p],[f,p+c],[f+l,p],[f,p]]]),r([[[f,p+c],[f+l,p+c],[f+l,p],[f,p+c]]])),p+=c,d++;h++,f+=l}return s}},{"turf-distance":646,"turf-helpers":653}],679:[function(t,e,i){var n=t("jsts");e.exports=function(t,e){var i=new n.io.GeoJSONReader,r=i.read(JSON.stringify(t.geometry)),o=i.read(JSON.stringify(e.geometry)),s=r.union(o),a=new n.io.GeoJSONWriter;
return s=a.write(s),{type:"Feature",geometry:s,properties:t.properties}}},{jsts:597}],680:[function(t,e,i){var n=t("turf-inside"),r=t("turf-helpers").featureCollection;e.exports=function(t,e){for(var i=r([]),o=0;o<e.features.length;o++)for(var s=0;s<t.features.length;s++){var a=n(t.features[s],e.features[o]);a&&i.features.push(t.features[s])}return i}},{"turf-helpers":653,"turf-inside":655}],681:[function(t,e,i){e.exports={isolines:t("turf-isolines"),convex:t("turf-convex"),within:t("turf-within"),concave:t("turf-concave"),difference:t("turf-difference"),collect:t("turf-collect"),flip:t("turf-flip"),simplify:t("turf-simplify"),bezier:t("turf-bezier"),tag:t("turf-tag"),sample:t("turf-sample"),envelope:t("turf-envelope"),square:t("turf-square"),midpoint:t("turf-midpoint"),buffer:t("turf-buffer"),center:t("turf-center"),centroid:t("turf-centroid"),combine:t("turf-combine"),distance:t("turf-distance"),explode:t("turf-explode"),bbox:t("turf-bbox"),tesselate:t("turf-tesselate"),bboxPolygon:t("turf-bbox-polygon"),inside:t("turf-inside"),intersect:t("turf-intersect"),nearest:t("turf-nearest"),planepoint:t("turf-planepoint"),random:t("turf-random"),tin:t("turf-tin"),union:t("turf-union"),bearing:t("turf-bearing"),destination:t("turf-destination"),kinks:t("turf-kinks"),pointOnSurface:t("turf-point-on-surface"),area:t("turf-area"),along:t("turf-along"),lineDistance:t("turf-line-distance"),lineSlice:t("turf-line-slice"),pointOnLine:t("turf-point-on-line"),pointGrid:t("turf-point-grid"),squareGrid:t("turf-square-grid"),triangleGrid:t("turf-triangle-grid"),hexGrid:t("turf-hex-grid")};var n=t("turf-helpers");e.exports.point=n.point,e.exports.polygon=n.polygon,e.exports.lineString=n.lineString,e.exports.multiPoint=n.multiPoint,e.exports.multiPolygon=n.multiPolygon,e.exports.multiLineString=n.multiLineString,e.exports.feature=n.feature,e.exports.featureCollection=n.featureCollection,e.exports.geometryCollection=n.geometryCollection},{"turf-along":625,"turf-area":626,"turf-bbox":629,"turf-bbox-polygon":628,"turf-bearing":631,"turf-bezier":632,"turf-buffer":634,"turf-center":635,"turf-centroid":636,"turf-collect":638,"turf-combine":639,"turf-concave":641,"turf-convex":642,"turf-destination":644,"turf-difference":645,"turf-distance":646,"turf-envelope":647,"turf-explode":648,"turf-flip":650,"turf-helpers":653,"turf-hex-grid":654,"turf-inside":655,"turf-intersect":656,"turf-isolines":659,"turf-kinks":660,"turf-line-distance":661,"turf-line-slice":662,"turf-midpoint":663,"turf-nearest":664,"turf-planepoint":665,"turf-point-grid":666,"turf-point-on-line":667,"turf-point-on-surface":668,"turf-random":670,"turf-sample":671,"turf-simplify":672,"turf-square":674,"turf-square-grid":673,"turf-tag":675,"turf-tesselate":676,"turf-tin":677,"turf-triangle-grid":678,"turf-union":679,"turf-within":680}],682:[function(t,e,i){"use strict";function n(t,e,i){var n=t*e,o=r*t,s=o-t,a=o-s,l=t-a,u=r*e,c=u-e,h=u-c,f=e-h,d=n-a*h,p=d-l*h,g=p-a*f,m=l*f-g;return i?(i[0]=m,i[1]=n,i):[m,n]}e.exports=n;var r=+(Math.pow(2,27)+1)},{}],683:[function(t,e,i){"use strict";function n(t,e,i){var n=t+e,r=n-t,o=n-r,s=e-r,a=t-o;return i?(i[0]=a+s,i[1]=n,i):[a+s,n]}e.exports=n},{}],684:[function(t,e,i){(function(t){!function(){var n="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this||{},r=n._,o=Array.prototype,s=Object.prototype,a="undefined"!=typeof Symbol?Symbol.prototype:null,l=o.push,u=o.slice,c=s.toString,h=s.hasOwnProperty,f=Array.isArray,d=Object.keys,p=Object.create,g=function(){},m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"==typeof i||i.nodeType?n._=m:("undefined"!=typeof e&&!e.nodeType&&e.exports&&(i=e.exports=m),i._=m),m.VERSION="1.9.0";var v,y=function(t,e,i){if(void 0===e)return t;switch(null==i?3:i){case 1:return function(i){return t.call(e,i)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return function(){return t.apply(e,arguments)}},_=function(t,e,i){return m.iteratee!==v?m.iteratee(t,e):null==t?m.identity:m.isFunction(t)?y(t,e,i):m.isObject(t)&&!m.isArray(t)?m.matcher(t):m.property(t)};m.iteratee=v=function(t,e){return _(t,e,1/0)};var b=function(t,e){return e=null==e?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),n=Array(i),r=0;r<i;r++)n[r]=arguments[r+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=n,t.apply(this,o)}},x=function(t){if(!m.isObject(t))return{};if(p)return p(t);g.prototype=t;var e=new g;return g.prototype=null,e},w=function(t){return function(e){return null==e?void 0:e[t]}},C=function(t,e){for(var i=e.length,n=0;n<i;n++){if(null==t)return;t=t[e[n]]}return i?t:void 0},E=Math.pow(2,53)-1,S=w("length"),T=function(t){var e=S(t);return"number"==typeof e&&e>=0&&e<=E};m.each=m.forEach=function(t,e,i){e=y(e,i);var n,r;if(T(t))for(n=0,r=t.length;n<r;n++)e(t[n],n,t);else{var o=m.keys(t);for(n=0,r=o.length;n<r;n++)e(t[o[n]],o[n],t)}return t},m.map=m.collect=function(t,e,i){e=_(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,o=Array(r),s=0;s<r;s++){var a=n?n[s]:s;o[s]=e(t[a],a,t)}return o};var I=function(t){var e=function(e,i,n,r){var o=!T(e)&&m.keys(e),s=(o||e).length,a=t>0?0:s-1;for(r||(n=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var l=o?o[a]:a;n=i(n,e[l],l,e)}return n};return function(t,i,n,r){var o=arguments.length>=3;return e(t,y(i,r,4),n,o)}};m.reduce=m.foldl=m.inject=I(1),m.reduceRight=m.foldr=I(-1),m.find=m.detect=function(t,e,i){var n=T(t)?m.findIndex:m.findKey,r=n(t,e,i);if(void 0!==r&&r!==-1)return t[r]},m.filter=m.select=function(t,e,i){var n=[];return e=_(e,i),m.each(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n},m.reject=function(t,e,i){return m.filter(t,m.negate(_(e)),i)},m.every=m.all=function(t,e,i){e=_(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(!e(t[s],s,t))return!1}return!0},m.some=m.any=function(t,e,i){e=_(e,i);for(var n=!T(t)&&m.keys(t),r=(n||t).length,o=0;o<r;o++){var s=n?n[o]:o;if(e(t[s],s,t))return!0}return!1},m.contains=m.includes=m.include=function(t,e,i,n){return T(t)||(t=m.values(t)),("number"!=typeof i||n)&&(i=0),m.indexOf(t,e,i)>=0},m.invoke=b(function(t,e,i){var n,r;return m.isFunction(e)?r=e:m.isArray(e)&&(n=e.slice(0,-1),e=e[e.length-1]),m.map(t,function(t){var o=r;if(!o){if(n&&n.length&&(t=C(t,n)),null==t)return;o=t[e]}return null==o?o:o.apply(t,i)})}),m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matcher(e))},m.findWhere=function(t,e){return m.find(t,m.matcher(e))},m.max=function(t,e,i){var n,r,o=-(1/0),s=-(1/0);if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=T(t)?t:m.values(t);for(var a=0,l=t.length;a<l;a++)n=t[a],null!=n&&n>o&&(o=n)}else e=_(e,i),m.each(t,function(t,i,n){r=e(t,i,n),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},m.min=function(t,e,i){var n,r,o=1/0,s=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=T(t)?t:m.values(t);for(var a=0,l=t.length;a<l;a++)n=t[a],null!=n&&n<o&&(o=n)}else e=_(e,i),m.each(t,function(t,i,n){r=e(t,i,n),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},m.shuffle=function(t){return m.sample(t,1/0)},m.sample=function(t,e,i){if(null==e||i)return T(t)||(t=m.values(t)),t[m.random(t.length-1)];var n=T(t)?m.clone(t):m.values(t),r=S(n);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=m.random(s,o),l=n[s];n[s]=n[a],n[a]=l}return n.slice(0,e)},m.sortBy=function(t,e,i){var n=0;return e=_(e,i),m.pluck(m.map(t,function(t,i,r){return{value:t,index:n++,criteria:e(t,i,r)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(i<n||void 0===n)return-1}return t.index-e.index}),"value")};var k=function(t,e){return function(i,n,r){var o=e?[[],[]]:{};return n=_(n,r),m.each(i,function(e,r){var s=n(e,r,i);t(o,e,s)}),o}};m.groupBy=k(function(t,e,i){m.has(t,i)?t[i].push(e):t[i]=[e]}),m.indexBy=k(function(t,e,i){t[i]=e}),m.countBy=k(function(t,e,i){m.has(t,i)?t[i]++:t[i]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(t){return t?m.isArray(t)?u.call(t):m.isString(t)?t.match(P):T(t)?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:T(t)?t.length:m.keys(t).length},m.partition=k(function(t,e,i){t[i?0:1].push(e)},!0),m.first=m.head=m.take=function(t,e,i){if(!(null==t||t.length<1))return null==e||i?t[0]:m.initial(t,t.length-e)},m.initial=function(t,e,i){return u.call(t,0,Math.max(0,t.length-(null==e||i?1:e)))},m.last=function(t,e,i){if(!(null==t||t.length<1))return null==e||i?t[t.length-1]:m.rest(t,Math.max(0,t.length-e))},m.rest=m.tail=m.drop=function(t,e,i){return u.call(t,null==e||i?1:e)},m.compact=function(t){return m.filter(t,Boolean)};var L=function(t,e,i,n){n=n||[];for(var r=n.length,o=0,s=S(t);o<s;o++){var a=t[o];if(T(a)&&(m.isArray(a)||m.isArguments(a)))if(e)for(var l=0,u=a.length;l<u;)n[r++]=a[l++];else L(a,e,i,n),r=n.length;else i||(n[r++]=a)}return n};m.flatten=function(t,e){return L(t,e,!1)},m.without=b(function(t,e){return m.difference(t,e)}),m.uniq=m.unique=function(t,e,i,n){m.isBoolean(e)||(n=i,i=e,e=!1),null!=i&&(i=_(i,n));for(var r=[],o=[],s=0,a=S(t);s<a;s++){var l=t[s],u=i?i(l,s,t):l;e&&!i?(s&&o===u||r.push(l),o=u):i?m.contains(o,u)||(o.push(u),r.push(l)):m.contains(r,l)||r.push(l)}return r},m.union=b(function(t){return m.uniq(L(t,!0,!0))}),m.intersection=function(t){for(var e=[],i=arguments.length,n=0,r=S(t);n<r;n++){var o=t[n];if(!m.contains(e,o)){var s;for(s=1;s<i&&m.contains(arguments[s],o);s++);s===i&&e.push(o)}}return e},m.difference=b(function(t,e){return e=L(e,!0,!0),m.filter(t,function(t){return!m.contains(e,t)})}),m.unzip=function(t){for(var e=t&&m.max(t,S).length||0,i=Array(e),n=0;n<e;n++)i[n]=m.pluck(t,n);return i},m.zip=b(m.unzip),m.object=function(t,e){for(var i={},n=0,r=S(t);n<r;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i};var O=function(t){return function(e,i,n){i=_(i,n);for(var r=S(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(i(e[o],o,e))return o;return-1}};m.findIndex=O(1),m.findLastIndex=O(-1),m.sortedIndex=function(t,e,i,n){i=_(i,n,1);for(var r=i(e),o=0,s=S(t);o<s;){var a=Math.floor((o+s)/2);i(t[a])<r?o=a+1:s=a}return o};var A=function(t,e,i){return function(n,r,o){var s=0,a=S(n);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(i&&o&&a)return o=i(n,r),n[o]===r?o:-1;if(r!==r)return o=e(u.call(n,s,a),m.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(n[o]===r)return o;return-1}};m.indexOf=A(1,m.findIndex,m.sortedIndex),m.lastIndexOf=A(-1,m.findLastIndex),m.range=function(t,e,i){null==e&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/i),0),r=Array(n),o=0;o<n;o++,t+=i)r[o]=t;return r},m.chunk=function(t,e){if(null==e||e<1)return[];for(var i=[],n=0,r=t.length;n<r;)i.push(u.call(t,n,n+=e));return i};var M=function(t,e,i,n,r){if(!(n instanceof e))return t.apply(i,r);var o=x(t.prototype),s=t.apply(o,r);return m.isObject(s)?s:o};m.bind=b(function(t,e,i){if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");var n=b(function(r){return M(t,n,e,this,i.concat(r))});return n}),m.partial=b(function(t,e){var i=m.partial.placeholder,n=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===i?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return M(t,n,this,this,s)};return n}),m.partial.placeholder=m,m.bindAll=b(function(t,e){e=L(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var n=e[i];t[n]=m.bind(t[n],t)}}),m.memoize=function(t,e){var i=function(n){var r=i.cache,o=""+(e?e.apply(this,arguments):n);return m.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return i.cache={},i},m.delay=b(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),m.defer=m.partial(m.delay,m,1),m.throttle=function(t,e,i){var n,r,o,s,a=0;i||(i={});var l=function(){a=i.leading===!1?0:m.now(),n=null,s=t.apply(r,o),n||(r=o=null)},u=function(){var u=m.now();a||i.leading!==!1||(a=u);var c=e-(u-a);return r=this,o=arguments,c<=0||c>e?(n&&(clearTimeout(n),n=null),a=u,s=t.apply(r,o),n||(r=o=null)):n||i.trailing===!1||(n=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(n),a=0,n=r=o=null},u},m.debounce=function(t,e,i){var n,r,o=function(e,i){n=null,i&&(r=t.apply(e,i))},s=b(function(s){if(n&&clearTimeout(n),i){var a=!n;n=setTimeout(o,e),a&&(r=t.apply(this,s))}else n=m.delay(o,e,this,s);return r});return s.cancel=function(){clearTimeout(n),n=null},s},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var i=e,n=t[e].apply(this,arguments);i--;)n=t[i].call(this,n);return n}},m.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},m.before=function(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}},m.once=m.partial(m.before,2),m.restArguments=b;var R=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],j=function(t,e){var i=N.length,n=t.constructor,r=m.isFunction(n)&&n.prototype||s,o="constructor";for(m.has(t,o)&&!m.contains(e,o)&&e.push(o);i--;)o=N[i],o in t&&t[o]!==r[o]&&!m.contains(e,o)&&e.push(o)};m.keys=function(t){if(!m.isObject(t))return[];if(d)return d(t);var e=[];for(var i in t)m.has(t,i)&&e.push(i);return R&&j(t,e),e},m.allKeys=function(t){if(!m.isObject(t))return[];var e=[];for(var i in t)e.push(i);return R&&j(t,e),e},m.values=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=t[e[r]];return n},m.mapObject=function(t,e,i){e=_(e,i);for(var n=m.keys(t),r=n.length,o={},s=0;s<r;s++){var a=n[s];o[a]=e(t[a],a,t)}return o},m.pairs=function(t){for(var e=m.keys(t),i=e.length,n=Array(i),r=0;r<i;r++)n[r]=[e[r],t[e[r]]];return n},m.invert=function(t){for(var e={},i=m.keys(t),n=0,r=i.length;n<r;n++)e[t[i[n]]]=i[n];return e},m.functions=m.methods=function(t){var e=[];for(var i in t)m.isFunction(t[i])&&e.push(i);return e.sort()};var D=function(t,e){return function(i){var n=arguments.length;if(e&&(i=Object(i)),n<2||null==i)return i;for(var r=1;r<n;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var u=s[l];e&&void 0!==i[u]||(i[u]=o[u])}return i}};m.extend=D(m.allKeys),m.extendOwn=m.assign=D(m.keys),m.findKey=function(t,e,i){e=_(e,i);for(var n,r=m.keys(t),o=0,s=r.length;o<s;o++)if(n=r[o],e(t[n],n,t))return n};var F=function(t,e,i){return e in i};m.pick=b(function(t,e){var i={},n=e[0];if(null==t)return i;m.isFunction(n)?(e.length>1&&(n=y(n,e[1])),e=m.allKeys(t)):(n=F,e=L(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];n(a,s,t)&&(i[s]=a)}return i}),m.omit=b(function(t,e){var i,n=e[0];return m.isFunction(n)?(n=m.negate(n),e.length>1&&(i=e[1])):(e=m.map(L(e,!1,!1),String),n=function(t,i){return!m.contains(e,i)}),m.pick(t,n,i)}),m.defaults=D(m.allKeys,!0),m.create=function(t,e){var i=x(t);return e&&m.extendOwn(i,e),i},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t},m.isMatch=function(t,e){var i=m.keys(e),n=i.length;if(null==t)return!n;for(var r=Object(t),o=0;o<n;o++){var s=i[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var z,B;z=function(t,e,i,n){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var r=typeof t;return("function"===r||"object"===r||"object"==typeof e)&&B(t,e,i,n)},B=function(t,e,i,n){t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var r=c.call(t);if(r!==c.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return a.valueOf.call(t)===a.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(m.isFunction(s)&&s instanceof s&&m.isFunction(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],n=n||[];for(var u=i.length;u--;)if(i[u]===t)return n[u]===e;if(i.push(t),n.push(e),o){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!z(t[u],e[u],i,n))return!1}else{var h,f=m.keys(t);if(u=f.length,m.keys(e).length!==u)return!1;for(;u--;)if(h=f[u],!m.has(e,h)||!z(t[h],e[h],i,n))return!1}return i.pop(),n.pop(),!0},m.isEqual=function(t,e){return z(t,e)},m.isEmpty=function(t){return null==t||(T(t)&&(m.isArray(t)||m.isString(t)||m.isArguments(t))?0===t.length:0===m.keys(t).length)},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=f||function(t){return"[object Array]"===c.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(t){m["is"+t]=function(e){return c.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")});var V=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof V&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return!m.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},m.isNaN=function(t){return m.isNumber(t)&&isNaN(t)},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===c.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){if(!m.isArray(e))return null!=t&&h.call(t,e);for(var i=e.length,n=0;n<i;n++){var r=e[n];if(null==t||!h.call(t,r))return!1;t=t[r]}return!!i},m.noConflict=function(){return n._=r,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return m.isArray(t)?function(e){return C(e,t)}:w(t)},m.propertyOf=function(t){return null==t?function(){}:function(e){return m.isArray(e)?C(t,e):t[e]}},m.matcher=m.matches=function(t){return t=m.extendOwn({},t),function(e){return m.isMatch(e,t)}},m.times=function(t,e,i){var n=Array(Math.max(0,t));e=y(e,i,1);for(var r=0;r<t;r++)n[r]=e(r);return n},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},U=m.invert(q),G=function(t){var e=function(e){return t[e]},i="(?:"+m.keys(t).join("|")+")",n=RegExp(i),r=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(r,e):t}};m.escape=G(q),m.unescape=G(U),m.result=function(t,e,i){m.isArray(e)||(e=[e]);var n=e.length;if(!n)return m.isFunction(i)?i.call(t):i;for(var r=0;r<n;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=i,r=n),t=m.isFunction(o)?o.call(t):o}return t};var H=0;m.uniqueId=function(t){var e=++H+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+W[t]};m.template=function(t,e,i){!e&&i&&(e=i),e=m.defaults({},e,m.templateSettings);var n=RegExp([(e.escape||X).source,(e.interpolate||X).source,(e.evaluate||X).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(n,function(e,i,n,s,a){return o+=t.slice(r,a).replace(Y,$),r=a+e.length,i?o+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?o+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var s;try{s=new Function(e.variable||"obj","_",o)}catch(a){throw a.source=o,a}var l=function(t){return s.call(this,t,m)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},m.chain=function(t){var e=m(t);return e._chain=!0,e};var Z=function(t,e){return t._chain?m(e).chain():e};m.mixin=function(t){return m.each(m.functions(t),function(e){var i=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),Z(this,i.apply(m,t))}}),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];m.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!==t&&"splice"!==t||0!==i.length||delete i[0],Z(this,i)}}),m.each(["concat","join","slice"],function(t){var e=o[t];m.prototype[t]=function(){return Z(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],685:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["unipointer/unipointer"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("unipointer")):i.Unidragger=n(i,i.Unipointer)}(window,function(t,e){"use strict";function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(!0)},n.unbindHandles=function(){this._bindHandles(!1)},n._bindHandles=function(e){e=void 0===e||e;for(var i=e?"addEventListener":"removeEventListener",n=e?this._touchActionValue:"",r=0;r<this.handles.length;r++){var o=this.handles[r];this._bindStartEvent(o,e),o[i]("click",this),t.PointerEvent&&(o.style.touchAction=n)}},n._touchActionValue="none",n.pointerDown=function(t,e){var i=this.okayPointerDown(t);i&&(this.pointerDownPointer=e,t.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e]))};var r={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},o={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return n.okayPointerDown=function(t){var e=r[t.target.nodeName],i=o[t.target.type],n=!e||i;return n||this._pointerReset(),n},n.pointerDownBlur=function(){var t=document.activeElement,e=t&&t.blur&&t!=document.body;e&&t.blur()},n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(t,e),i},n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},n.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},n._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},n._dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(t,e)},n.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},n._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)},n.dragMove=function(t,e,i){t.preventDefault(),this.emitEvent("dragMove",[t,e,i])},n._dragEnd=function(t,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(t,e)},n.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},n.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},n._staticClick=function(t,e){this.isIgnoringMouseUp&&"mouseup"==t.type||(this.staticClick(t,e),"mouseup"!=t.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},n.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},i.getPointerPoint=e.getPointerPoint,i})},{unipointer:687}],686:[function(t,e,i){"use strict";"use restrict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}e.exports=n;var r=n.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}}),r.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},r.find=function(t){for(var e=t,i=this.roots;i[t]!==t;)t=i[t];for(;i[e]!==t;){var n=i[e];i[e]=t,e=n}return t},r.link=function(t,e){var i=this.find(t),n=this.find(e);if(i!==n){var r=this.ranks,o=this.roots,s=r[i],a=r[n];s<a?o[i]=n:a<s?o[n]=i:(o[n]=i,++r[i])}}},{}],687:[function(t,e,i){!function(i,n){"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(t){return n(i,t)}):"object"==typeof e&&e.exports?e.exports=n(i,t("ev-emitter")):i.Unipointer=n(i,i.EvEmitter)}(window,function(t,e){"use strict";function i(){}function n(){}var r=n.prototype=Object.create(e.prototype);r.bindStartEvent=function(t){this._bindStartEvent(t,!0)},r.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},r._bindStartEvent=function(e,i){i=void 0===i||i;var n=i?"addEventListener":"removeEventListener",r="mousedown";t.PointerEvent?r="pointerdown":"ontouchstart"in t&&(r="touchstart"),e[n](r,this)},r.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier)return i}},r.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},r.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},r.onpointerdown=function(t){this._pointerDown(t,t)},r._pointerDown=function(t,e){t.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},r.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(e){if(e){var i=o[e.type];i.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=i}},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},r.onmousemove=function(t){this._pointerMove(t,t)},r.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},r.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},r._pointerMove=function(t,e){this.pointerMove(t,e)},r.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},r.onmouseup=function(t){this._pointerUp(t,t)},r.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},r.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},r._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},r.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=i,r.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},r.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},r._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},r.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},n})},{"ev-emitter":567}],688:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./button.js"),l=n(a),u=t("./component.js"),c=n(u),h=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.mouseused_=!1,s.on("mousedown",s.handleMouseDown),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(!(this.mouseused_&&t.clientX&&t.clientY)){var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n)return void this.player_.focus();var r=function(){return n.focus()};if(e&&e.then){var o=function(){};e.then(r,o)}else this.setTimeout(r,1)}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(l["default"]);h.prototype.controlText_="Play Video",c["default"].registerComponent("BigPlayButton",h),i["default"]=h},{"./button.js":689,"./component.js":692}],689:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./clickable-component.js"),l=n(a),u=t("./component"),c=n(u),h=t("./utils/log.js"),f=n(h),d=t("./utils/obj"),p=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"button",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,d.assign)({className:this.buildCSSClass()},e),"button"!==t&&(f["default"].warn("Creating a Button with an HTML element of "+t+" is deprecated; use ClickableComponent instead."),e=(0,d.assign)({tabIndex:0},e),i=(0,d.assign)({role:"button"},i)),i=(0,d.assign)({type:"button","aria-live":"polite"},i);var n=c["default"].prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return f["default"].warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),c["default"].prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(l["default"]);c["default"].registerComponent("Button",p),i["default"]=p},{"./clickable-component.js":690,"./component":692,"./utils/log.js":773,"./utils/obj":775}],690:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);
t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./component"),u=r(l),c=t("./utils/dom.js"),h=n(c),f=t("./utils/events.js"),d=n(f),p=t("./utils/fn.js"),g=n(p),m=t("./utils/log.js"),v=r(m),y=t("global/document"),_=r(y),b=t("./utils/obj"),x=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.emitTapEvents(),r.enable(),r}return a(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,b.assign)({className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&v["default"].error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=(0,b.assign)({role:"button","aria-live":"polite"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=h.createEl("span",{className:"vjs-control-text"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);return this.controlText_=t,this.controlTextEl_.innerHTML=i,this.nonIconControl||e.setAttribute("title",i),this},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this},e.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){d.on(_["default"],"keydown",g.bind(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleClick(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){d.off(_["default"],"keydown",g.bind(this,this.handleKeyPress))},e}(u["default"]);u["default"].registerComponent("ClickableComponent",x),i["default"]=x},{"./component":692,"./utils/dom.js":768,"./utils/events.js":769,"./utils/fn.js":770,"./utils/log.js":773,"./utils/obj":775,"global/document":585}],691:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./button"),l=n(a),u=t("./component"),c=n(u),h=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.controlText(n&&n.controlText||s.localize("Close")),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(l["default"]);c["default"].registerComponent("CloseButton",h),i["default"]=h},{"./button":689,"./component":692}],692:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var s=t("global/window"),a=r(s),l=t("./utils/dom.js"),u=n(l),c=t("./utils/fn.js"),h=n(c),f=t("./utils/guid.js"),d=n(f),p=t("./utils/events.js"),g=n(p),m=t("./utils/log.js"),v=r(m),y=t("./utils/to-title-case.js"),_=r(y),b=t("./utils/merge-options.js"),x=r(b),w=function(){function t(e,i,n){if(o(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=(0,x["default"])({},this.options_),i=this.options_=(0,x["default"])(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+d.newGUID()}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),u.removeElData(this.el_),this.el_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return v["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=(0,x["default"])(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,i){return u.createEl(t,e,i)},t.prototype.localize=function(t){var e=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages();if(!e||!i)return t;var n=i[e];if(n&&n[t])return n[t];var r=e.split("-")[0],o=i[r];return o&&o[t]?o[t]:t},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=(0,_["default"])(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,o=void 0;if("string"==typeof e){o=(0,_["default"])(e),i||(i={}),i===!0&&(v["default"].warn("Initializing a child component with `true` is deprecated.Children should be defined in an array when possible, but if necessary use an object instead of `true`."),i={});var s=i.componentClass||o;i.name=o;var a=t.getComponent(s);if(!a)throw new Error("Component "+s+" does not exist");if("function"!=typeof a)return null;r=new a(this.player_||this,i)}else r=e;if(this.children_.splice(n,0,r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),o=o||r.name&&(0,_["default"])(r.name()),o&&(this.childNameIndex_[o]=r),"function"==typeof r.el&&r.el()){var l=this.contentEl().children,u=l[n]||null;this.contentEl().insertBefore(r.el(),u)}return r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,i=this.options_.children;if(i){var n=this.options_,r=function(t){var i=t.name,r=t.opts;if(void 0!==n[i]&&(r=n[i]),r!==!1){r===!0&&(r={}),r.playerOptions=e.options_.playerOptions;var o=e.addChild(i,r);o&&(e[i]=o)}},o=void 0,s=t.getComponent("Tech");o=Array.isArray(i)?i:Object.keys(i),o.concat(Object.keys(this.options_).filter(function(t){return!o.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var n=void 0,r=void 0;return"string"==typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}}).filter(function(e){var i=t.getComponent(e.opts.componentClass||(0,_["default"])(e.name));return i&&!s.isTech(i)}).forEach(r)}},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,e,i){var n=this;if("string"==typeof t||Array.isArray(t))g.on(this.el_,t,h.bind(this,e));else{var r=t,o=e,s=h.bind(this,i),a=function(){return n.off(r,o,s)};a.guid=s.guid,this.on("dispose",a);var l=function(){return n.off("dispose",a)};l.guid=s.guid,t.nodeName?(g.on(r,o,s),g.on(r,"dispose",l)):"function"==typeof t.on&&(r.on(o,s),r.on("dispose",l))}return this},t.prototype.off=function(t,e,i){if(!t||"string"==typeof t||Array.isArray(t))g.off(this.el_,t,e);else{var n=t,r=e,o=h.bind(this,i);this.off("dispose",o),t.nodeName?(g.off(n,r,o),g.off(n,"dispose",o)):(n.off(r,o),n.off("dispose",o))}return this},t.prototype.one=function(t,e,i){var n=this,r=arguments;if("string"==typeof t||Array.isArray(t))g.one(this.el_,t,h.bind(this,e));else{var o=t,s=e,a=h.bind(this,i),l=function u(){n.off(o,s,u),a.apply(null,r)};l.guid=a.guid,this.on(o,s,l)}return this},t.prototype.trigger=function(t,e){return g.trigger(this.el_,t,e),this},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(this.isReady_?e?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t))),this},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.$=function(t,e){return u.$(t,e||this.contentEl())},t.prototype.$$=function(t,e){return u.$$(t,e||this.contentEl())},t.prototype.hasClass=function(t){return u.hasElClass(this.el_,t)},t.prototype.addClass=function(t){return u.addElClass(this.el_,t),this},t.prototype.removeClass=function(t){return u.removeElClass(this.el_,t),this},t.prototype.toggleClass=function(t,e){return u.toggleElClass(this.el_,t,e),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.getAttribute=function(t){return u.getAttribute(this.el_,t)},t.prototype.setAttribute=function(t,e){return u.setAttribute(this.el_,t,e),this},t.prototype.removeAttribute=function(t){return u.removeAttribute(this.el_,t),this},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},t.prototype.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),(""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1?this.el_.style[t]=e:"auto"===e?this.el_.style[t]="":this.el_.style[t]=e+"px",i||this.trigger("resize"),this;if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return r!==-1?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+(0,_["default"])(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof a["default"].getComputedStyle){var i=a["default"].getComputedStyle(this.el_);e=i.getPropertyValue(t)||i[t]}if(e=parseFloat(e),0===e){var n="offset"+(0,_["default"])(t);e=this.el_[n]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,i=10,n=200,r=void 0;this.on("touchstart",function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),r=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)r=!1;else if(e){var n=t.touches[0].pageX-e.pageX,o=t.touches[0].pageY-e.pageY,s=Math.sqrt(n*n+o*o);s>i&&(r=!1)}});var o=function(){r=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(i){if(e=null,r===!0){var o=(new Date).getTime()-t;o<n&&(i.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=h.bind(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,e){t=h.bind(this,t);var i=a["default"].setTimeout(t,e),n=function(){this.clearTimeout(i)};return n.guid="vjs-timeout-"+i,this.on("dispose",n),i},t.prototype.clearTimeout=function(t){a["default"].clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=h.bind(this,t);var i=a["default"].setInterval(t,e),n=function(){this.clearInterval(i)};return n.guid="vjs-interval-"+i,this.on("dispose",n),i},t.prototype.clearInterval=function(t){a["default"].clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.registerComponent=function(e,i){if(e){if(e=(0,_["default"])(e),t.components_||(t.components_={}),"Player"===e&&t.components_[e]){var n=t.components_[e];if(n.players&&Object.keys(n.players).length>0&&Object.keys(n.players).map(function(t){return n.players[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created")}return t.components_[e]=i,i}},t.getComponent=function(e){if(e)return e=(0,_["default"])(e),t.components_&&t.components_[e]?t.components_[e]:a["default"]&&a["default"].videojs&&a["default"].videojs[e]?(v["default"].warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),a["default"].videojs[e]):void 0},t.extend=function(e){e=e||{},v["default"].warn("Component.extend({}) has been deprecated,  use videojs.extend(Component, {}) instead");var i=e.init||e.init||this.prototype.init||this.prototype.init||function(){},n=function(){i.apply(this,arguments)};n.prototype=Object.create(this.prototype),n.prototype.constructor=n,n.extend=t.extend;for(var r in e)e.hasOwnProperty(r)&&(n.prototype[r]=e[r]);return n},t}();w.registerComponent("Component",w),i["default"]=w},{"./utils/dom.js":768,"./utils/events.js":769,"./utils/fn.js":770,"./utils/guid.js":772,"./utils/log.js":773,"./utils/merge-options.js":774,"./utils/to-title-case.js":778,"global/window":586}],693:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../track-button.js"),l=n(a),u=t("../../component.js"),c=n(u),h=t("./audio-track-menu-item.js"),f=n(h),d=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e),n.tracks=i.audioTracks&&i.audioTracks();var s=o(this,t.call(this,i,n));return s.el_.setAttribute("aria-label","Audio Menu"),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;var e=this.player_.audioTracks&&this.player_.audioTracks();if(!e)return t;for(var i=0;i<e.length;i++){var n=e[i];t.push(new f["default"](this.player_,{track:n,selectable:!0}))}return t},e}(l["default"]);d.prototype.controlText_="Audio Track",c["default"].registerComponent("AudioTrackButton",d),i["default"]=d},{"../../component.js":692,"../track-button.js":723,"./audio-track-menu-item.js":694}],694:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../menu/menu-item.js"),u=r(l),c=t("../../component.js"),h=r(c),f=t("../../utils/fn.js"),d=n(f),p=function(t){function e(i,n){o(this,e);var r=n.track,a=i.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var l=s(this,t.call(this,i,n));if(l.track=r,a){var u=d.bind(l,l.handleTracksChange);a.addEventListener("change",u),l.on("dispose",function(){a.removeEventListener("change",u)})}return l}return a(e,t),e.prototype.handleClick=function(e){var i=this.player_.audioTracks();if(t.prototype.handleClick.call(this,e),i)for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(u["default"]);h["default"].registerComponent("AudioTrackMenuItem",p),i["default"]=p},{"../../component.js":692,"../../menu/menu-item.js":735,"../../utils/fn.js":770}],695:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../component.js"),l=n(a);t("./play-toggle.js"),t("./time-controls/current-time-display.js"),t("./time-controls/duration-display.js"),t("./time-controls/time-divider.js"),t("./time-controls/remaining-time-display.js"),t("./live-display.js"),t("./progress-control/progress-control.js"),t("./fullscreen-toggle.js"),t("./volume-control/volume-control.js"),t("./volume-menu-button.js"),t("./mute-toggle.js"),t("./text-track-controls/chapters-button.js"),t("./text-track-controls/descriptions-button.js"),t("./text-track-controls/subtitles-button.js"),t("./text-track-controls/captions-button.js"),t("./audio-track-controls/audio-track-button.js"),t("./playback-rate-menu/playback-rate-menu-button.js"),t("./spacer-controls/custom-control-spacer.js");var u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},e}(l["default"]);u.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},l["default"].registerComponent("ControlBar",u),i["default"]=u},{"../component.js":692,"./audio-track-controls/audio-track-button.js":693,"./fullscreen-toggle.js":696,"./live-display.js":697,"./mute-toggle.js":698,"./play-toggle.js":699,"./playback-rate-menu/playback-rate-menu-button.js":700,"./progress-control/progress-control.js":705,"./spacer-controls/custom-control-spacer.js":708,"./text-track-controls/captions-button.js":711,"./text-track-controls/chapters-button.js":712,"./text-track-controls/descriptions-button.js":714,"./text-track-controls/subtitles-button.js":716,"./time-controls/current-time-display.js":719,"./time-controls/duration-display.js":720,"./time-controls/remaining-time-display.js":721,"./time-controls/time-divider.js":722,"./volume-control/volume-control.js":725,"./volume-menu-button.js":727}],696:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../button.js"),l=n(a),u=t("../component.js"),c=n(u),h=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.on(i,"fullscreenchange",s.handleFullscreenChange),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(l["default"]);h.prototype.controlText_="Fullscreen",c["default"].registerComponent("FullscreenToggle",h),i["default"]=h},{"../button.js":689,"../component.js":692}],697:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../component"),u=r(l),c=t("../utils/dom.js"),h=n(c),f=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(u["default"]);u["default"].registerComponent("LiveDisplay",f),i["default"]=f},{"../component":692,"../utils/dom.js":768}],698:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../button"),u=r(l),c=t("../component"),h=r(c),f=t("../utils/dom.js"),d=n(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"volumechange",r.update),i.tech_&&i.tech_.featuresVolumeControl===!1&&r.addClass("vjs-hidden"),r.on(i,"loadstart",function(){this.update(),i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),r}return a(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){var e=this.player_.volume(),i=3;this.player_.muted()?i=0:e<.33?i=1:e<.67&&(i=2);var n=this.player_.muted()?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n);for(var r=0;r<4;r++)d.removeElClass(this.el_,"vjs-vol-"+r);d.addElClass(this.el_,"vjs-vol-"+i)},e}(u["default"]);p.prototype.controlText_="Mute",h["default"].registerComponent("MuteToggle",p),i["default"]=p},{"../button":689,"../component":692,"../utils/dom.js":768}],699:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../button.js"),l=n(a),u=t("../component.js"),c=n(u),h=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.on(i,"play",s.handlePlay),s.on(i,"pause",s.handlePause),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handlePlay=function(t){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e}(l["default"]);h.prototype.controlText_="Play",c["default"].registerComponent("PlayToggle",h),i["default"]=h},{"../button.js":689,"../component.js":692}],700:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../menu/menu-button.js"),u=r(l),c=t("../../menu/menu.js"),h=r(c),f=t("./playback-rate-menu-item.js"),d=r(f),p=t("../../component.js"),g=r(p),m=t("../../utils/dom.js"),v=n(m),y=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=v.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.createMenu=function(){var t=new h["default"](this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new d["default"](this.player(),{rate:e[i]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(u["default"]);y.prototype.controlText_="Playback Rate",g["default"].registerComponent("PlaybackRateMenuButton",y),i["default"]=y},{"../../component.js":692,"../../menu/menu-button.js":734,"../../menu/menu.js":736,"../../utils/dom.js":768,"./playback-rate-menu-item.js":701}],701:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../menu/menu-item.js"),l=n(a),u=t("../../component.js"),c=n(u),h=function(t){function e(i,n){r(this,e);var s=n.rate,a=parseFloat(s,10);n.label=s,n.selected=1===a,n.selectable=!0;var l=o(this,t.call(this,i,n));return l.label=s,l.rate=a,l.on(i,"ratechange",l.update),l}return s(e,t),e.prototype.handleClick=function(e){
t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(l["default"]);h.prototype.contentElType="button",c["default"].registerComponent("PlaybackRateMenuItem",h),i["default"]=h},{"../../component.js":692,"../../menu/menu-item.js":735}],702:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/dom.js"),h=n(c),f=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.partEls_=[],r.on(i,"progress",r.update),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(t){var e=this.player_.buffered(),i=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,o=function(t,e){var i=t/e||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=o(n,i);for(var s=0;s<e.length;s++){var a=e.start(s),l=e.end(s),u=r[s];u||(u=this.el_.appendChild(h.createEl()),r[s]=u),u.style.left=o(a,n),u.style.width=o(l-a,n)}for(var c=r.length;c>e.length;c--)this.el_.removeChild(r[c-1]);r.length=e.length},e}(u["default"]);u["default"].registerComponent("LoadProgressBar",f),i["default"]=f},{"../../component.js":692,"../../utils/dom.js":768}],703:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/dom.js"),h=n(c),f=t("../../utils/fn.js"),d=n(f),p=t("../../utils/format-time.js"),g=r(p),m=t("../../utils/computed-style.js"),v=r(m),y=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltip=h.createEl("div",{className:"vjs-time-tooltip"}),r.el().appendChild(r.tooltip),r.addClass("vjs-keep-tooltips-inside")),r.update(0,0),i.on("ready",function(){r.on(i.controlBar.progressControl.el(),"mousemove",d.throttle(d.bind(r,r.handleMouseMove),25))}),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.handleMouseMove=function(t){var e=this.player_.duration(),i=this.calculateDistance(t)*e,n=t.pageX-h.findElPosition(this.el().parentNode).left;this.update(i,n)},e.prototype.update=function(t,e){var i=(0,g["default"])(t,this.player_.duration());if(this.el().style.left=e+"px",this.el().setAttribute("data-current-time",i),this.keepTooltipsInside){var n=this.clampPosition_(e),r=e-n+1,o=parseFloat((0,v["default"])(this.tooltip,"width")),s=o/2;this.tooltip.innerHTML=i,this.tooltip.style.right="-"+(s-r)+"px"}},e.prototype.calculateDistance=function(t){return h.getPointerPosition(this.el().parentNode,t).x},e.prototype.clampPosition_=function(t){if(!this.keepTooltipsInside)return t;var e=parseFloat((0,v["default"])(this.player().el(),"width")),i=parseFloat((0,v["default"])(this.tooltip,"width")),n=i/2,r=t;return t<n?r=Math.ceil(n):t>e-n&&(r=Math.floor(e-n)),r},e}(u["default"]);u["default"].registerComponent("MouseTimeDisplay",y),i["default"]=y},{"../../component.js":692,"../../utils/computed-style.js":767,"../../utils/dom.js":768,"../../utils/fn.js":770,"../../utils/format-time.js":771}],704:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/fn.js"),h=n(c),f=t("../../utils/format-time.js"),d=r(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),i.ready(h.bind(r,r.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&r.addClass("vjs-keep-tooltips-inside"),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",(0,d["default"])(e,this.player_.duration()))},e}(u["default"]);u["default"].registerComponent("PlayProgressBar",p),i["default"]=p},{"../../component.js":692,"../../utils/fn.js":770,"../../utils/format-time.js":771}],705:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../component.js"),l=n(a);t("./seek-bar.js"),t("./mouse-time-display.js");var u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e}(l["default"]);u.prototype.options_={children:["seekBar"]},l["default"].registerComponent("ProgressControl",u),i["default"]=u},{"../../component.js":692,"./mouse-time-display.js":703,"./seek-bar.js":706}],706:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../slider/slider.js"),u=r(l),c=t("../../component.js"),h=r(c),f=t("../../utils/fn.js"),d=n(f),p=t("../../utils/format-time.js"),g=r(p),m=t("../../utils/computed-style.js"),v=r(m);t("./load-progress-bar.js"),t("./play-progress-bar.js"),t("./tooltip-progress-bar.js");var y=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateProgress),r.on(i,"ended",r.updateProgress),i.ready(d.bind(r,r.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(r.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),r.keepTooltipsInside&&(r.tooltipProgressBar=r.addChild("TooltipProgressBar")),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},e.prototype.updateProgress=function(t){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat((0,v["default"])(this.player().el(),"width")),i=parseFloat((0,v["default"])(this.tooltipProgressBar.tooltip,"width")),n=this.tooltipProgressBar.el().style;n.maxWidth=Math.floor(e-i/2)+"px",n.minWidth=Math.ceil(i/2)+"px",n.right="-"+i/2+"px"}},e.prototype.updateAriaAttributes=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();t.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),t.setAttribute("aria-valuetext",(0,g["default"])(e,this.player_.duration()))},e.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e}(u["default"]);y.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},y.prototype.playerEvent="timeupdate",h["default"].registerComponent("SeekBar",y),i["default"]=y},{"../../component.js":692,"../../slider/slider.js":744,"../../utils/computed-style.js":767,"../../utils/fn.js":770,"../../utils/format-time.js":771,"./load-progress-bar.js":702,"./play-progress-bar.js":704,"./tooltip-progress-bar.js":707}],707:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/fn.js"),h=n(c),f=t("../../utils/format-time.js"),d=r(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.updateDataAttr(),r.on(i,"timeupdate",r.updateDataAttr),i.ready(h.bind(r,r.updateDataAttr)),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=e.querySelector(".vjs-time-tooltip"),e},e.prototype.updateDataAttr=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i=(0,d["default"])(e,this.player_.duration());this.el_.setAttribute("data-current-time",i),this.tooltip.innerHTML=i},e}(u["default"]);u["default"].registerComponent("TooltipProgressBar",p),i["default"]=p},{"../../component.js":692,"../../utils/fn.js":770,"../../utils/format-time.js":771}],708:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./spacer.js"),l=n(a),u=t("../../component.js"),c=n(u),h=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(l["default"]);c["default"].registerComponent("CustomControlSpacer",h),i["default"]=h},{"../../component.js":692,"./spacer.js":709}],709:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../component.js"),l=n(a),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(l["default"]);l["default"].registerComponent("Spacer",u),i["default"]=u},{"../../component.js":692}],710:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./text-track-menu-item.js"),l=n(a),u=t("../../component.js"),c=n(u),h=function(t){function e(i,n){r(this,e),n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},n.selectable=!1;var s=o(this,t.call(this,i,n));return s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+n.kind+" settings dialog"),s}return s(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},e}(l["default"]);c["default"].registerComponent("CaptionSettingsMenuItem",h),i["default"]=h},{"../../component.js":692,"./text-track-menu-item.js":718}],711:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./text-track-button.js"),l=n(a),u=t("../../component.js"),c=n(u),h=t("./caption-settings-menu-item.js"),f=n(h),d=function(t){function e(i,n,s){r(this,e);var a=o(this,t.call(this,i,n,s));return a.el_.setAttribute("aria-label","Captions Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new f["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(l["default"]);d.prototype.kind_="captions",d.prototype.controlText_="Captions",c["default"].registerComponent("CaptionsButton",d),i["default"]=d},{"../../component.js":692,"./caption-settings-menu-item.js":710,"./text-track-button.js":717}],712:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./text-track-button.js"),l=n(a),u=t("../../component.js"),c=n(u),h=t("./chapters-track-menu-item.js"),f=n(h),d=t("../../utils/to-title-case.js"),p=n(d),g=function(t){function e(i,n,s){r(this,e);var a=o(this,t.call(this,i,n,s));return a.el_.setAttribute("aria-label","Chapters Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize((0,p["default"])(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],o=new f["default"](this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(l["default"]);g.prototype.kind_="chapters",g.prototype.controlText_="Chapters",c["default"].registerComponent("ChaptersButton",g),i["default"]=g},{"../../component.js":692,"../../utils/to-title-case.js":778,"./chapters-track-menu-item.js":713,"./text-track-button.js":717}],713:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../menu/menu-item.js"),u=r(l),c=t("../../component.js"),h=r(c),f=t("../../utils/fn.js"),d=n(f),p=function(t){function e(i,n){o(this,e);var r=n.track,a=n.cue,l=i.currentTime();n.selectable=!0,n.label=a.text,n.selected=a.startTime<=l&&l<a.endTime;var u=s(this,t.call(this,i,n));return u.track=r,u.cue=a,r.addEventListener("cuechange",d.bind(u,u.update)),u}return a(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(u["default"]);h["default"].registerComponent("ChaptersTrackMenuItem",p),i["default"]=p},{"../../component.js":692,"../../menu/menu-item.js":735,"../../utils/fn.js":770}],714:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./text-track-button.js"),u=r(l),c=t("../../component.js"),h=r(c),f=t("../../utils/fn.js"),d=n(f),p=function(t){function e(i,n,r){o(this,e);var a=s(this,t.call(this,i,n,r));a.el_.setAttribute("aria-label","Descriptions Menu");var l=i.textTracks();if(l){var u=d.bind(a,a.handleTracksChange);l.addEventListener("change",u),a.on("dispose",function(){l.removeEventListener("change",u)})}return a}return a(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var o=e[n];if(o.kind!==this.kind_&&"showing"===o.mode){i=!0;break}}i?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e}(u["default"]);p.prototype.kind_="descriptions",p.prototype.controlText_="Descriptions",h["default"].registerComponent("DescriptionsButton",p),i["default"]=p},{"../../component.js":692,"../../utils/fn.js":770,"./text-track-button.js":717}],715:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./text-track-menu-item.js"),l=n(a),u=t("../../component.js"),c=n(u),h=function(t){function e(i,n){r(this,e),n.track={player:i,kind:n.kind,label:n.kind+" off","default":!1,mode:"disabled"},n.selectable=!0;var s=o(this,t.call(this,i,n));return s.selected(!0),s}return s(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var o=e[n];if(o.kind===this.track.kind&&"showing"===o.mode){i=!1;break}}this.selected(i)},e}(l["default"]);c["default"].registerComponent("OffTextTrackMenuItem",h),i["default"]=h},{"../../component.js":692,"./text-track-menu-item.js":718}],716:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./text-track-button.js"),l=n(a),u=t("../../component.js"),c=n(u),h=function(t){function e(i,n,s){r(this,e);var a=o(this,t.call(this,i,n,s));return a.el_.setAttribute("aria-label","Subtitles Menu"),a}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e}(l["default"]);h.prototype.kind_="subtitles",h.prototype.controlText_="Subtitles",c["default"].registerComponent("SubtitlesButton",h),i["default"]=h},{"../../component.js":692,"./text-track-button.js":717}],717:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../track-button.js"),l=n(a),u=t("../../component.js"),c=n(u),h=t("./text-track-menu-item.js"),f=n(h),d=t("./off-text-track-menu-item.js"),p=n(d),g=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,e),n.tracks=i.textTracks(),o(this,t.call(this,i,n))}return s(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.push(new p["default"](this.player_,{kind:this.kind_})),this.hideThreshold_+=1;var e=this.player_.textTracks();if(!e)return t;for(var i=0;i<e.length;i++){var n=e[i];n.kind===this.kind_&&t.push(new f["default"](this.player_,{track:n,selectable:!0}))}return t},e}(l["default"]);c["default"].registerComponent("TextTrackButton",g),i["default"]=g},{"../../component.js":692,"../track-button.js":723,"./off-text-track-menu-item.js":715,"./text-track-menu-item.js":718}],718:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=t("../../menu/menu-item.js"),c=r(u),h=t("../../component.js"),f=r(h),d=t("../../utils/fn.js"),p=n(d),g=t("global/window"),m=r(g),v=t("global/document"),y=r(v),_=function(t){function e(i,n){o(this,e);var r=n.track,a=i.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r["default"]||"showing"===r.mode;var u=s(this,t.call(this,i,n));if(u.track=r,a){var c=p.bind(u,u.handleTracksChange);i.on(["loadstart","texttrackchange"],c),a.addEventListener("change",c),u.on("dispose",function(){a.removeEventListener("change",c)})}if(a&&void 0===a.onchange){var h=void 0;u.on(["tap","click"],function(){if("object"!==l(m["default"].Event))try{h=new m["default"].Event("change")}catch(t){}h||(h=y["default"].createEvent("Event"),h.initEvent("change",!0,!0)),a.dispatchEvent(h)})}return u}return a(e,t),e.prototype.handleClick=function(e){var i=this.track.kind,n=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),n)for(var r=0;r<n.length;r++){var o=n[r];o.kind===i&&(o===this.track?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},e.prototype.handleTracksChange=function(t){this.selected("showing"===this.track.mode)},e}(c["default"]);f["default"].registerComponent("TextTrackMenuItem",_),i["default"]=_},{"../../component.js":692,"../../menu/menu-item.js":735,"../../utils/fn.js":770,"global/document":585,"global/window":586}],719:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/dom.js"),h=n(c),f=t("../../utils/format-time.js"),d=r(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateContent),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i=this.localize("Current Time"),n=(0,d["default"])(e,this.player_.duration());n!==this.formattedTime_&&(this.formattedTime_=n,this.contentEl_.innerHTML='<span class="vjs-control-text">'+i+"</span> "+n)},e}(u["default"]);u["default"].registerComponent("CurrentTimeDisplay",p),i["default"]=p},{"../../component.js":692,"../../utils/dom.js":768,"../../utils/format-time.js":771}],720:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/dom.js"),h=n(c),f=t("../../utils/format-time.js"),d=r(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"durationchange",r.updateContent),r.on(i,"timeupdate",r.updateContent),r.on(i,"loadedmetadata",r.updateContent),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var i=this.localize("Duration Time"),n=(0,d["default"])(e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+i+"</span> "+n}},e}(u["default"]);u["default"].registerComponent("DurationDisplay",p),i["default"]=p},{"../../component.js":692,"../../utils/dom.js":768,"../../utils/format-time.js":771}],721:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../component.js"),u=r(l),c=t("../../utils/dom.js"),h=n(c),f=t("../../utils/format-time.js"),d=r(f),p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"timeupdate",r.updateContent),r.on(i,"durationchange",r.updateContent),r}return a(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=h.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(t){if(this.player_.duration()){var e=this.localize("Remaining Time"),i=(0,d["default"])(this.player_.remainingTime());i!==this.formattedTime_&&(this.formattedTime_=i,this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> -"+i)}},e}(u["default"]);u["default"].registerComponent("RemainingTimeDisplay",p),i["default"]=p},{"../../component.js":692,"../../utils/dom.js":768,"../../utils/format-time.js":771}],722:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../component.js"),l=n(a),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(l["default"]);l["default"].registerComponent("TimeDivider",u),i["default"]=u},{"../../component.js":692}],723:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../menu/menu-button.js"),u=r(l),c=t("../component.js"),h=r(c),f=t("../utils/fn.js"),d=n(f),p=function(t){function e(i,n){o(this,e);var r=n.tracks,a=s(this,t.call(this,i,n));if(a.items.length<=1&&a.hide(),!r)return s(a);var l=d.bind(a,a.update);return r.addEventListener("removetrack",l),r.addEventListener("addtrack",l),a.player_.on("dispose",function(){r.removeEventListener("removetrack",l),r.removeEventListener("addtrack",l)}),a}return a(e,t),e}(u["default"]);h["default"].registerComponent("TrackButton",p),i["default"]=p},{"../component.js":692,"../menu/menu-button.js":734,"../utils/fn.js":770}],724:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../../slider/slider.js"),u=r(l),c=t("../../component.js"),h=r(c),f=t("../../utils/fn.js"),d=n(f);t("./volume-level.js");var p=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.on(i,"volumechange",r.updateARIAAttributes),i.ready(d.bind(r,r.updateARIAAttributes)),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},e.prototype.handleMouseMove=function(t){this.checkMuted(),this.player_.volume(this.calculateDistance(t))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e}(u["default"]);p.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},p.prototype.playerEvent="volumechange",h["default"].registerComponent("VolumeBar",p),i["default"]=p},{"../../component.js":692,"../../slider/slider.js":744,"../../utils/fn.js":770,"./volume-level.js":726}],725:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../component.js"),l=n(a);t("./volume-bar.js");var u=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return i.tech_&&i.tech_.featuresVolumeControl===!1&&s.addClass("vjs-hidden"),s.on(i,"loadstart",function(){i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),s}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},e}(l["default"]);u.prototype.options_={children:["volumeBar"]},l["default"].registerComponent("VolumeControl",u),i["default"]=u},{"../../component.js":692,"./volume-bar.js":724}],726:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../../component.js"),l=n(a),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(l["default"]);l["default"].registerComponent("VolumeLevel",u),i["default"]=u},{"../../component.js":692}],727:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../utils/fn.js"),u=r(l),c=t("../component.js"),h=n(c),f=t("../popup/popup.js"),d=n(f),p=t("../popup/popup-button.js"),g=n(p),m=t("./mute-toggle.js"),v=n(m),y=t("./volume-control/volume-bar.js"),_=n(y),b=function(t){function e(i){function n(){i.tech_&&i.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),void 0===r.inline&&(r.inline=!0),void 0===r.vertical&&(r.inline?r.vertical=!1:r.vertical=!0),r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=!!r.vertical;var a=s(this,t.call(this,i,r));return a.on(i,"volumechange",a.volumeUpdate),a.on(i,"loadstart",a.volumeUpdate),n.call(a),a.on(i,"loadstart",n),a.on(a.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),a.on(a.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")}),a.on(a.volumeBar,["focus"],function(){this.addClass("vjs-lock-showing")}),a.on(a.volumeBar,["blur"],function(){this.removeClass("vjs-lock-showing")}),a}return a(e,t),e.prototype.buildCSSClass=function(){var e="";return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+e},e.prototype.createPopup=function(){var t=new d["default"](this.player_,{contentElType:"div"}),e=new _["default"](this.player_,this.options_.volumeBar);return t.addChild(e),this.menuContent=t,this.volumeBar=e,this.attachVolumeBarEvents(),t},e.prototype.handleClick=function(e){v["default"].prototype.handleClick.call(this),t.prototype.handleClick.call(this)},e.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],u.bind(this,this.handleMouseDown))},e.prototype.handleMouseDown=function(t){this.on(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},e.prototype.handleMouseUp=function(t){this.off(["mousemove","touchmove"],u.bind(this.volumeBar,this.volumeBar.handleMouseMove))},e}(g["default"]);b.prototype.volumeUpdate=v["default"].prototype.update,b.prototype.controlText_="Mute",h["default"].registerComponent("VolumeMenuButton",b),i["default"]=b},{"../component.js":692,"../popup/popup-button.js":740,"../popup/popup.js":741,"../utils/fn.js":770,"./mute-toggle.js":698,"./volume-control/volume-bar.js":724}],728:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./component"),l=n(a),u=t("./modal-dialog"),c=n(u),h=t("./utils/merge-options"),f=n(h),d=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.on(i,"error",s.open),s}return s(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(c["default"]);d.prototype.options_=(0,f["default"])(c["default"].prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),l["default"].registerComponent("ErrorDisplay",d),i["default"]=d},{"./component":692,"./modal-dialog":737,"./utils/merge-options":774}],729:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}i.__esModule=!0;var r=t("./utils/events.js"),o=n(r),s=function(){};s.prototype.allowedEvents_={},s.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},o.on(this,t,e),this.addEventListener=i},s.prototype.addEventListener=s.prototype.on,s.prototype.off=function(t,e){o.off(this,t,e)},s.prototype.removeEventListener=s.prototype.off,s.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},o.one(this,t,e),this.addEventListener=i},s.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=o.fixEvent(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),o.trigger(this,t)},s.prototype.dispatchEvent=s.prototype.trigger,i["default"]=s},{"./utils/events.js":769}],730:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=t("./utils/log"),s=n(o),a=t("./utils/obj"),l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":r(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},n={};(0,a.isObject)(e)?("function"==typeof e.init&&(s["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),e.constructor=e.init),e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"==typeof e&&(i=e),l(i,t);for(var r in n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i};i["default"]=u},{"./utils/log":773,"./utils/obj":775}],731:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;for(var r=t("global/document"),o=n(r),s={},a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=a[0],u=void 0,c=0;c<a.length;c++)if(a[c][1]in o["default"]){u=a[c];break}if(u)for(var h=0;h<u.length;h++)s[l[h]]=u[h];i["default"]=s},{"global/document":585}],732:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("./component"),l=n(a),u=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return s(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},e}(l["default"]);l["default"].registerComponent("LoadingSpinner",u),i["default"]=u},{"./component":692}],733:[function(t,e,i){"use strict";function n(t){return t instanceof n?t:("number"==typeof t?this.code=t:"string"==typeof t?this.message=t:(0,r.isObject)(t)&&("number"==typeof t.code&&(this.code=t.code),(0,r.assign)(this,t)),void(this.message||(this.message=n.defaultMessages[this.code]||"")))}i.__esModule=!0;var r=t("./utils/obj");n.prototype.code=0,n.prototype.message="",n.prototype.status=null,n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<n.errorTypes.length;o++)n[n.errorTypes[o]]=o,n.prototype[n.errorTypes[o]]=o;i["default"]=n},{"./utils/obj":775}],734:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../clickable-component.js"),u=r(l),c=t("../component.js"),h=r(c),f=t("./menu.js"),d=r(f),p=t("../utils/dom.js"),g=n(p),m=t("../utils/fn.js"),v=n(m),y=t("../utils/to-title-case.js"),_=r(y),b=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var r=s(this,t.call(this,i,n));return r.update(),r.enabled_=!0,r.el_.setAttribute("aria-haspopup","true"),r.el_.setAttribute("role","menuitem"),r.on("keydown",r.handleSubmenuKeyPress),r}return a(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new d["default"](this.player_);if(this.hideThreshold_=0,this.options_.title){var e=g.createEl("li",{className:"vjs-menu-title",innerHTML:(0,_["default"])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),g.insertElFirst(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return e+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",v.bind(this,function(t){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault()):38===e.which||40===e.which?this.buttonPressed_||(this.pressButton(),e.preventDefault()):t.prototype.handleKeyPress.call(this,e)},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault())},e.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.el_.focus())},e.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,t.prototype.disable.call(this)},e.prototype.enable=function(){return this.enabled_=!0,t.prototype.enable.call(this)},e}(u["default"]);h["default"].registerComponent("MenuButton",b),i["default"]=b},{"../clickable-component.js":690,"../component.js":692,"../utils/dom.js":768,"../utils/fn.js":770,"../utils/to-title-case.js":778,"./menu.js":736}],735:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../clickable-component.js"),l=n(a),u=t("../component.js"),c=n(u),h=t("../utils/obj"),f=function(t){function e(i,n){r(this,e);var s=o(this,t.call(this,i,n));return s.selectable=n.selectable,s.selected(n.selected),s.selectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitem"),s}return s(e,t),e.prototype.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",(0,h.assign)({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label),tabIndex:-1},i),n)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText("")))},e}(l["default"]);c["default"].registerComponent("MenuItem",f),i["default"]=f},{"../clickable-component.js":690,"../component.js":692,"../utils/obj":775}],736:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../component.js"),u=r(l),c=t("../utils/dom.js"),h=n(c),f=t("../utils/fn.js"),d=n(f),p=t("../utils/events.js"),g=n(p),m=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return a(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",d.bind(this,function(t){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=h.createEl(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.setAttribute("role","presentation"),i.appendChild(this.contentEl_),g.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),i=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(u["default"]);u["default"].registerComponent("Menu",m),i["default"]=m},{"../component.js":692,"../utils/dom.js":768,"../utils/events.js":769,"../utils/fn.js":770}],737:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./utils/dom"),u=r(l),c=t("./utils/fn"),h=r(c),f=t("./component"),d=n(f),p="vjs-modal-dialog",g=27,m=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=u.createEl("div",{className:p+"-content"},{role:"document"}),r.descEl_=u.createEl("p",{className:p+"-description vjs-offscreen",id:r.el().getAttribute("aria-describedby")}),u.textContent(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return a(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),
tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.buildCSSClass=function(){return p+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===g&&this.closeable()&&this.close()},e.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",h.bind(this,this.handleKeyPress)),t.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},e.prototype.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",h.bind(this,this.handleKeyPress)),t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},e.prototype.closeable=function i(t){if("boolean"==typeof t){var i=this.closeable_=!!t,e=this.getChild("closeButton");if(i&&!e){var n=this.contentEl_;this.contentEl_=this.el_,e=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(e,"close",this.close)}!i&&e&&(this.off(e,"close",this.close),this.removeChild(e),e.dispose())}return this.closeable_},e.prototype.fill=function(){return this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),u.insertContent(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e),this},e.prototype.empty=function(){return this.trigger("beforemodalempty"),u.emptyEl(this.contentEl()),this.trigger("modalempty"),this},e.prototype.content=function(t){return"undefined"!=typeof t&&(this.content_=t),this.content_},e}(d["default"]);m.prototype.options_={pauseOnOpen:!0,temporary:!0},d["default"].registerComponent("ModalDialog",m),i["default"]=m},{"./component":692,"./utils/dom":768,"./utils/fn":770}],738:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./component.js"),u=r(l),c=t("global/document"),h=r(c),f=t("global/window"),d=r(f),p=t("./utils/events.js"),g=n(p),m=t("./utils/dom.js"),v=n(m),y=t("./utils/fn.js"),_=n(y),b=t("./utils/guid.js"),x=n(b),w=t("./utils/browser.js"),C=n(w),E=t("./utils/log.js"),S=r(E),T=t("./utils/to-title-case.js"),I=r(T),k=t("./utils/time-ranges.js"),P=t("./utils/buffer.js"),L=t("./utils/stylesheet.js"),O=n(L),A=t("./fullscreen-api.js"),M=r(A),R=t("./media-error.js"),N=r(R),j=t("safe-json-parse/tuple"),D=r(j),F=t("./utils/obj"),z=t("./utils/merge-options.js"),B=r(z),V=t("./tracks/text-track-list-converter.js"),q=r(V),U=t("./modal-dialog"),G=r(U),H=t("./tech/tech.js"),X=r(H),W=t("./tracks/audio-track-list.js"),Y=r(W),$=t("./tracks/video-track-list.js"),Z=r($);t("./tech/loader.js"),t("./tech/flash.js"),t("./poster-image.js"),t("./tracks/text-track-display.js"),t("./loading-spinner.js"),t("./big-play-button.js"),t("./close-button.js"),t("./control-bar/control-bar.js"),t("./error-display.js"),t("./tracks/text-track-settings.js"),t("./tech/html5.js");var K=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","volumechange","texttrackchange"],J=function(t){function e(i,n,r){if(o(this,e),i.id=i.id||"vjs_video_"+x.newGUID(),n=(0,F.assign)(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var a=i.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}else for(var l=i;l&&1===l.nodeType;){if(v.getElAttributes(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}var u=s(this,t.call(this,null,n,r));if(!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=i,u.tagAttributes=i&&v.getElAttributes(i),u.language(u.options_.language),n.languages){var c={};Object.getOwnPropertyNames(n.languages).forEach(function(t){c[t.toLowerCase()]=n.languages[t]}),u.languages_=c}else u.languages_=e.prototype.options_.languages;u.cache_={},u.poster_=n.poster||"",u.controls_=!!n.controls,i.controls=!1,u.scrubbing_=!1,u.el_=u.createEl();var h=(0,B["default"])(u.options_);if(n.plugins){var f=n.plugins;Object.getOwnPropertyNames(f).forEach(function(t){"function"==typeof this[t]?this[t](f[t]):S["default"].error("Unable to find plugin:",t)},u)}u.options_.playerOptions=h,u.initChildren(),u.isAudio("audio"===i.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label","audio player"):u.el_.setAttribute("aria-label","video player"),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),C.IS_IOS||u.addClass("vjs-workinghover"),e.players[u.id_]=u;var d="5.20.5".split(".")[0];return u.addClass("vjs-v"+d),u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u}return a(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,i=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");i=n?this.el_=e.parentNode:this.el_=t.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var r=v.getElAttributes(e);if(Object.getOwnPropertyNames(r).forEach(function(t){"class"===t?i.className+=" "+r[t]:i.setAttribute(t,r[t])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),d["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=O.createStyleElement("vjs-styles-dimensions");var o=v.$(".vjs-styles-defaults"),s=v.$("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),l=0;l<a.length;l++){var u=a.item(l);v.addElClass(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),v.insertElFirst(e,i),this.children_.unshift(e),this.el_=i,i},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e)this[i]=void 0;else{var n=parseFloat(e);if(isNaN(n))return S["default"].error('Improper value "'+e+'" supplied for for '+t),this;this[i]=n}return this.updateStyleEl_(),this},e.prototype.fluid=function(t){return void 0===t?!!this.fluid_:(this.fluid_=!!t,t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(d["default"].VIDEOJS_NO_DYNAMIC_STYLE===!0){var t="number"==typeof this.width_?this.width_:this.options_.width,e="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(t>=0&&(i.width=t),e>=0&&(i.height=e)))}var n=void 0,r=void 0,o=void 0,s=void 0;o=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var a=o.split(":"),l=a[1]/a[0];n=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,r=void 0!==this.height_?this.height_:n*l,s=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(s),O.setTextContent(this.styleEl_,"\n      ."+s+" {\n        width: "+n+"px;\n        height: "+r+"px;\n      }\n\n      ."+s+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_(),"Html5"!==t&&this.tag&&(X["default"].getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=t,this.isReady_=!1;var n=(0,F.assign)({source:e,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+t+"_api",videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);this.tag&&(n.tag=this.tag),e&&(this.currentType_=e.type,e.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.sources=null,this.cache_.source=e,this.cache_.src=e.src);var r=X["default"].getTech(t);r||(r=u["default"].getComponent(t)),this.tech_=new r(n),this.tech_.ready(_.bind(this,this.handleTechReady_),!0),q["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),K.forEach(function(t){i.on(i.tech_,t,i["handleTech"+(0,I["default"])(t)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===t&&this.tag||v.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=q["default"].textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},e.prototype.tech=function(t){if(t&&t.IWillNotUseThisInPlugins)return this.tech_;var e="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw d["default"].alert(e),new Error(e)},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(t){(0,S["default"])("deleting tag.poster throws in some browsers",t)}this.play()}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},e.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return t.removeClass("vjs-waiting")})},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(S["default"].warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[t](e)},!0);else try{this.tech_&&this.tech_[t](e)}catch(i){throw(0,S["default"])(i),i}},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?(0,S["default"])("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?((0,S["default"])("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):(0,S["default"])(e),e}},e.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},e.prototype.pause=function(){return this.techCall_("pause"),this},e.prototype.paused=function(){return this.techGet_("paused")!==!1},e.prototype.scrubbing=function(t){return void 0!==t?(this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},e.prototype.currentTime=function(t){return void 0!==t?(this.techCall_("setCurrentTime",t),this):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){return void 0===t?void 0!==this.cache_.duration?this.cache_.duration:NaN:(t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.buffered=function i(){var i=this.techGet_("buffered");return i&&i.length||(i=(0,k.createTimeRange)(0,0)),i},e.prototype.bufferedPercent=function(){return(0,P.bufferedPercent)(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),this):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?(this.techCall_("setMuted",t),this):this.techGet_("muted")||!1},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=M["default"];return this.isFullscreen(!0),t.requestFullscreen?(g.on(h["default"],t.fullscreenchange,_.bind(this,function e(i){this.isFullscreen(h["default"][t.fullscreenElement]),this.isFullscreen()===!1&&g.off(h["default"],t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.exitFullscreen=function(){var t=M["default"];return this.isFullscreen(!1),t.requestFullscreen?h["default"][t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=h["default"].documentElement.style.overflow,g.on(h["default"],"keydown",_.bind(this,this.fullWindowOnEscKey)),h["default"].documentElement.style.overflow="hidden",v.addElClass(h["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,g.off(h["default"],"keydown",this.fullWindowOnEscKey),h["default"].documentElement.style.overflow=this.docOrigOverflow,v.removeElClass(h["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,i=0,n=this.options_.techOrder;i<n.length;i++){var r=(0,I["default"])(n[i]),o=X["default"].getTech(r);if(o||(o=u["default"].getComponent(r)),o){if(o.isSupported()&&(e=o.canPlayType(t)))return e}else S["default"].error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,i=this.options_.techOrder.map(I["default"]).map(function(t){return[t,X["default"].getTech(t)||u["default"].getComponent(t)]}).filter(function(t){var e=t[0],i=t[1];return i?i.isSupported():(S["default"].error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(t,e,i){var n=void 0;return t.some(function(t){return e.some(function(e){if(n=i(t,e))return!0})}),n},r=void 0,o=function(t){return function(e,i){return t(i,e)}},s=function(t,i){var n=t[0],r=t[1];if(r.canPlaySource(i,e.options_[n.toLowerCase()]))return{source:i,tech:n}};return r=this.options_.sourceOrder?n(t,i,o(s)):n(i,t,s),r||!1},e.prototype.src=function(t){if(void 0===t)return this.techGet_("src");var e=X["default"].getTech(this.techName_);return e||(e=u["default"].getComponent(this.techName_)),Array.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!e.canPlaySource(t,this.options_[this.techName_.toLowerCase()])?this.sourceList_([t]):(this.cache_.sources=null,this.cache_.source=t,this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){e.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},e.prototype.sourceList_=function(t){var e=this.selectSource(t);e?(e.tech===this.techName_?this.src(e.source):this.loadTech_(e.tech,e.source),this.cache_.sources=t):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},e.prototype.load=function(){return this.techCall_("load"),this},e.prototype.reset=function(){return this.loadTech_((0,I["default"])(this.options_.techOrder[0]),null),this.techCall_("reset"),this},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){var t={},e=this.currentSrc();return e&&(t.src=e),this.cache_.source||t},e.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},e.prototype.currentType=function(){return this.currentType_||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),this.options_.preload=t,this):this.techGet_("preload")},e.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,this):this.techGet_("autoplay",t)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),this.options_.loop=t,this):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange"),this)},e.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},e.prototype.controls=function(t){return void 0!==t?(t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},e.prototype.usingNativeControls=function(t){return void 0!==t?(t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close(),this):(this.error_=new N["default"](t),this.addClass("vjs-error"),S["default"].error("(CODE:"+this.error_.code+" "+N["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),this)},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){return void 0!==t?(t=!!t,t!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,i=void 0,n=_.bind(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},o=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},s=function(e){n(),this.clearInterval(t)};this.on("mousedown",o),this.on("mousemove",r),this.on("mouseup",s),this.on("keydown",n),this.on("keyup",n);var a=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var t=this.options_.inactivityTimeout;t>0&&(a=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?(this.techCall_("setPlaybackRate",t),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):!!this.isAudio_},e.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new Z["default"],this.videoTracks_)},e.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new Y["default"],this.audioTracks_)},e.prototype.textTracks=function(){if(this.tech_)return this.tech_.textTracks()},e.prototype.remoteTextTracks=function(){if(this.tech_)return this.tech_.remoteTextTracks()},e.prototype.remoteTextTrackEls=function(){if(this.tech_)return this.tech_.remoteTextTrackEls()},e.prototype.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,i=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:(this.language_=String(t).toLowerCase(),this)},e.prototype.languages=function(){return(0,B["default"])(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=(0,B["default"])(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=(0,B["default"])(n),n.player=void 0,t.tracks[i]=n}return t},e.prototype.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new G["default"](this,e);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open()},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=v.getElAttributes(t),n=i["data-setup"];if(v.hasElClass(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=(0,D["default"])(n||"{}"),o=r[0],s=r[1];o&&S["default"].error(o),(0,F.assign)(i,s)}if((0,F.assign)(e,i),t.hasChildNodes())for(var a=t.childNodes,l=0,u=a.length;l<u;l++){var c=a[l],h=c.nodeName.toLowerCase();"source"===h?e.sources.push(v.getElAttributes(c)):"track"===h&&e.tracks.push(v.getElAttributes(c))}return e},e.prototype.flexNotSupported_=function(){var t=h["default"].createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(u["default"]);J.players={};var Q=d["default"].navigator;J.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Q&&(Q.languages&&Q.languages[0]||Q.userLanguage||Q.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){J.prototype[t]=function(){return this.techGet_(t)}}),K.forEach(function(t){J.prototype["handleTech"+(0,I["default"])(t)+"_"]=function(){return this.trigger(t)}}),u["default"].registerComponent("Player",J),i["default"]=J},{"./big-play-button.js":688,"./close-button.js":691,"./component.js":692,"./control-bar/control-bar.js":695,"./error-display.js":728,"./fullscreen-api.js":731,"./loading-spinner.js":732,"./media-error.js":733,"./modal-dialog":737,"./poster-image.js":742,"./tech/flash.js":746,"./tech/html5.js":747,"./tech/loader.js":748,"./tech/tech.js":749,"./tracks/audio-track-list.js":750,"./tracks/text-track-display.js":755,"./tracks/text-track-list-converter.js":756,"./tracks/text-track-settings.js":758,"./tracks/video-track-list.js":763,"./utils/browser.js":765,"./utils/buffer.js":766,"./utils/dom.js":768,"./utils/events.js":769,"./utils/fn.js":770,"./utils/guid.js":772,"./utils/log.js":773,"./utils/merge-options.js":774,"./utils/obj":775,"./utils/stylesheet.js":776,"./utils/time-ranges.js":777,"./utils/to-title-case.js":778,"global/document":585,"global/window":586,"safe-json-parse/tuple":612}],739:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("./player.js"),o=n(r),s=function(t,e){o["default"].prototype[t]=e};i["default"]=s},{"./player.js":738}],740:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{
"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../clickable-component.js"),l=n(a),u=t("../component.js"),c=n(u),h=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,e);var s=o(this,t.call(this,i,n));return s.update(),s}return s(e,t),e.prototype.update=function(){var t=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=t,this.addChild(t),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createPopup=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return e+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e}(l["default"]);c["default"].registerComponent("PopupButton",h),i["default"]=h},{"../clickable-component.js":690,"../component.js":692}],741:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../component.js"),u=r(l),c=t("../utils/dom.js"),h=n(c),f=t("../utils/fn.js"),d=n(f),p=t("../utils/events.js"),g=n(p),m=function(t){function e(){return o(this,e),s(this,t.apply(this,arguments))}return a(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",d.bind(this,function(){this.unlockShowing()}))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=h.createEl(e,{className:"vjs-menu-content"});var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),g.on(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},e}(u["default"]);u["default"].registerComponent("Popup",m),i["default"]=m},{"../component.js":692,"../utils/dom.js":768,"../utils/events.js":769,"../utils/fn.js":770}],742:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./clickable-component.js"),u=r(l),c=t("./component.js"),h=r(c),f=t("./utils/fn.js"),d=n(f),p=t("./utils/dom.js"),g=n(p),m=t("./utils/browser.js"),v=n(m),y=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.update(),i.on("posterchange",d.bind(r,r.update)),r}return a(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=g.createEl("div",{className:"vjs-poster",tabIndex:-1});return v.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=g.createEl("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},e}(u["default"]);h["default"].registerComponent("PosterImage",y),i["default"]=y},{"./clickable-component.js":690,"./component.js":692,"./utils/browser.js":765,"./utils/dom.js":768,"./utils/fn.js":770}],743:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){e&&(g=e),d["default"].setTimeout(m,t)}i.__esModule=!0,i.hasLoaded=i.autoSetupTimeout=i.autoSetup=void 0;var s=t("./utils/dom"),a=r(s),l=t("./utils/events.js"),u=r(l),c=t("global/document"),h=n(c),f=t("global/window"),d=n(f),p=!1,g=void 0,m=function(){if(a.isReal()){var t=h["default"].getElementsByTagName("video"),e=h["default"].getElementsByTagName("audio"),i=[];if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)i.push(t[n]);if(e&&e.length>0)for(var s=0,l=e.length;s<l;s++)i.push(e[s]);if(i&&i.length>0)for(var u=0,c=i.length;u<c;u++){var f=i[u];if(!f||!f.getAttribute){o(1);break}if(void 0===f.player){var d=f.getAttribute("data-setup");null!==d&&g(f)}}else p||o(1)}};a.isReal()&&"complete"===h["default"].readyState?p=!0:u.one(d["default"],"load",function(){p=!0});var v=function(){return p};i.autoSetup=m,i.autoSetupTimeout=o,i.hasLoaded=v},{"./utils/dom":768,"./utils/events.js":769,"global/document":585,"global/window":586}],744:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../component.js"),u=r(l),c=t("../utils/dom.js"),h=n(c),f=t("../utils/obj"),d=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on("focus",r.handleFocus),r.on("blur",r.handleBlur),r.on("click",r.handleClick),r.on(i,"controlsvisible",r.update),r.on(i,r.playerEvent,r.update),r}return a(e,t),e.prototype.createEl=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=(0,f.assign)({tabIndex:0},i),n=(0,f.assign)({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;t.preventDefault(),h.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;h.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!==t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%";this.vertical()?e.el().style.height=i:e.el().style.width=i}}},e.prototype.calculateDistance=function(t){var e=h.getPointerPosition(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},e}(u["default"]);u["default"].registerComponent("Slider",d),i["default"]=d},{"../component.js":692,"../utils/dom.js":768,"../utils/obj":775}],745:[function(t,e,i){"use strict";function n(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,e){return t+"&"+e},t.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var i=t.search(/&(?!\w+=)/),n=void 0;return i!==-1?n=i+1:(i=n=t.lastIndexOf("/")+1,0===i&&(i=n=t.length)),e.connection=t.substring(0,i),e.stream=t.substring(n,t.length),e},t.isStreamingType=function(e){return e in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(e){return t.RTMP_RE.test(e)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canPlayType=function(e){return t.isStreamingType(e)?"maybe":""},t.rtmpSourceHandler.canHandleSource=function(e,i){var n=t.rtmpSourceHandler.canPlayType(e.type);return n?n:t.isStreamingSrc(e.src)?"maybe":""},t.rtmpSourceHandler.handleSource=function(e,i,n){var r=t.streamToParts(e.src);i.setRtmpConnection(r.connection),i.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t}i.__esModule=!0,i["default"]=n},{}],746:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t){var e=t.charAt(0).toUpperCase()+t.slice(1);T["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function u(t){T[t]=function(){return this.el_.vjs_getProperty(t)}}i.__esModule=!0;for(var c=t("./tech"),h=r(c),f=t("../utils/dom.js"),d=n(f),p=t("../utils/url.js"),g=n(p),m=t("../utils/time-ranges.js"),v=t("./flash-rtmp"),y=r(v),_=t("../component"),b=r(_),x=t("global/window"),w=r(x),C=t("../utils/obj"),E=w["default"].navigator,S=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return i.source&&r.ready(function(){this.setSource(i.source)},!0),i.startTime&&r.ready(function(){this.load(),this.play(),this.currentTime(i.startTime)},!0),w["default"].videojs=w["default"].videojs||{},w["default"].videojs.Flash=w["default"].videojs.Flash||{},w["default"].videojs.Flash.onReady=e.onReady,w["default"].videojs.Flash.onEvent=e.onEvent,w["default"].videojs.Flash.onError=e.onError,r.on("seeked",function(){this.lastSeekTarget_=void 0}),r}return a(e,t),e.prototype.createEl=function(){var t=this.options_;if(!t.swf){var i="5.4.1";t.swf="//vjs.zencdn.net/swf/"+i+"/video-js.swf"}var n=t.techId,r=(0,C.assign)({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),o=(0,C.assign)({wmode:"opaque",bgcolor:"#000000"},t.params),s=(0,C.assign)({id:n,name:n,"class":"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,r,o,s),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){var e=this;t=g.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()&&this.setTimeout(function(){return e.play()},0)},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var i=this.seekable();i.length&&(e=e>i.start(0)?e:i.start(0),e=e<i.end(i.length-1)?e:i.end(i.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.duration=function i(){if(0===this.readyState())return NaN;var i=this.el_.vjs_getProperty("duration");return i>=0?i:1/0},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?(0,m.createTimeRange)():(0,m.createTimeRange)(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?(0,m.createTimeRange)():(0,m.createTimeRange)(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e.prototype.getVideoPlaybackQuality=function(){var t=this.el_.vjs_getProperty("getVideoPlaybackQuality");return w["default"].performance&&"function"==typeof w["default"].performance.now?t.creationTime=w["default"].performance.now():w["default"].performance&&w["default"].performance.timing&&"number"==typeof w["default"].performance.timing.navigationStart&&(t.creationTime=w["default"].Date.now()-w["default"].performance.timing.navigationStart),t},e}(h["default"]),T=S.prototype,I="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),k="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),P=0;P<I.length;P++)u(I[P]),l(I[P]);for(var L=0;L<k.length;L++)u(k[L]);S.isSupported=function(){return S.version()[0]>=10},h["default"].withSourceHandlers(S),S.nativeSourceHandler={},S.nativeSourceHandler.canPlayType=function(t){return t in S.formats?"maybe":""},S.nativeSourceHandler.canHandleSource=function(t,e){function i(t){var e=g.getFileExtension(t);return e?"video/"+e:""}var n=void 0;return n=t.type?t.type.replace(/;.*/,"").toLowerCase():i(t.src),S.nativeSourceHandler.canPlayType(n)},S.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},S.nativeSourceHandler.dispose=function(){},S.registerSourceHandler(S.nativeSourceHandler),S.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},S.onReady=function(t){var e=d.getEl(t),i=e&&e.tech;i&&i.el()&&S.checkReady(i)},S.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){S.checkReady(t)},50))},S.onEvent=function(t,e){var i=d.getEl(t).tech,n=Array.prototype.slice.call(arguments,2);i.setTimeout(function(){i.trigger(e,n)},1)},S.onError=function(t,e){var i=d.getEl(t).tech;return"srcnotfound"===e?i.error(4):void i.error("FLASH: "+e)},S.version=function(){var t="0,0,0";try{t=new w["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{E.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(E.plugins["Shockwave Flash 2.0"]||E.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(i){}}return t.split(",")},S.embed=function(t,e,i,n){var r=S.getEmbedCode(t,e,i,n),o=d.createEl("div",{innerHTML:r}).childNodes[0];return o},S.getEmbedCode=function(t,e,i,n){var r='<object type="application/x-shockwave-flash" ',o="",s="",a="";return e&&Object.getOwnPropertyNames(e).forEach(function(t){o+=t+"="+e[t]+"&amp;"}),i=(0,C.assign)({movie:t,flashvars:o,allowScriptAccess:"always",allowNetworking:"all"},i),Object.getOwnPropertyNames(i).forEach(function(t){s+='<param name="'+t+'" value="'+i[t]+'" />'}),n=(0,C.assign)({data:t,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach(function(t){a+=t+'="'+n[t]+'" '}),""+r+a+">"+s+"</object>"},(0,y["default"])(S),b["default"].registerComponent("Flash",S),h["default"].registerTech("Flash",S),i["default"]=S},{"../component":692,"../utils/dom.js":768,"../utils/obj":775,"../utils/time-ranges.js":777,"../utils/url.js":779,"./flash-rtmp":745,"./tech":749,"global/window":586}],747:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return t.raw=e,t}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var u=o(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),c=t("./tech.js"),h=r(c),f=t("../component"),d=r(f),p=t("../utils/dom.js"),g=n(p),m=t("../utils/url.js"),v=n(m),y=t("../utils/fn.js"),_=n(y),b=t("../utils/log.js"),x=r(b),w=t("tsml"),C=r(w),E=t("../utils/browser.js"),S=n(E),T=t("global/document"),I=r(T),k=t("global/window"),P=r(k),L=t("../utils/obj"),O=t("../utils/merge-options.js"),A=r(O),M=t("../utils/to-title-case.js"),R=r(M),N=function(t){function e(i,n){s(this,e);var r=a(this,t.call(this,i,n)),o=i.source,l=!1;if(o&&(r.el_.currentSrc!==o.src||i.tag&&3===i.tag.initNetworkState_)?r.setSource(o):r.handleLateInit_(r.el_),r.el_.hasChildNodes()){for(var c=r.el_.childNodes,h=c.length,f=[];h--;){var d=c[h],p=d.nodeName.toLowerCase();"track"===p&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(d),r.remoteTextTracks().addTrack_(d.track),l||r.el_.hasAttribute("crossorigin")||!v.isCrossOrigin(d.src)||(l=!0)):f.push(d))}for(var g=0;g<f.length;g++)r.el_.removeChild(f[g])}var m=["audio","video"];return m.forEach(function(t){var e=r.el()[t+"Tracks"],i=r[t+"Tracks"](),n=(0,R["default"])(t);r["featuresNative"+n+"Tracks"]&&e&&e.addEventListener&&(r["handle"+n+"TrackChange_"]=function(t){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},r["handle"+n+"TrackAdd_"]=function(t){return i.addTrack(t.track)},r["handle"+n+"TrackRemove_"]=function(t){return i.removeTrack(t.track)},e.addEventListener("change",r["handle"+n+"TrackChange_"]),e.addEventListener("addtrack",r["handle"+n+"TrackAdd_"]),e.addEventListener("removetrack",r["handle"+n+"TrackRemove_"]),r["removeOld"+n+"Tracks_"]=function(t){return r.removeOldTracks_(i,e)},r.on("loadstart",r["removeOld"+n+"Tracks_"]))}),r.featuresNativeTextTracks&&(l&&x["default"].warn((0,C["default"])(u)),r.handleTextTrackChange_=_.bind(r,r.handleTextTrackChange),r.handleTextTrackAdd_=_.bind(r,r.handleTextTrackAdd),r.handleTextTrackRemove_=_.bind(r,r.handleTextTrackRemove),r.proxyNativeTextTracks_()),r.restoreMetadataTracksInIOSNativePlayer_(),(S.TOUCH_ENABLED||S.IS_IPHONE||S.IS_NATIVE_ANDROID)&&i.nativeControlsForTouch===!0&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return l(e,t),e.prototype.dispose=function(){var i=this;["audio","video","text"].forEach(function(t){var e=(0,R["default"])(t),n=i.el_[t+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",i["handle"+e+"TrackChange_"]),n.removeEventListener("addtrack",i["handle"+e+"TrackAdd_"]),n.removeEventListener("removetrack",i["handle"+e+"TrackRemove_"])),n&&i.off("loadstart",i["removeOld"+e+"Tracks_"])}),e.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,i=function(){e=[];for(var i=0;i<t.length;i++){var n=t[i];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener("change",i);var n=function r(){for(var i=0;i<e.length;i++){var n=e[i];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",i),t.removeEventListener("change",n),t.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",n)})},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=I["default"].createElement("video");var n=this.options_.tag&&g.getElAttributes(this.options_.tag),r=(0,A["default"])({},n);S.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete r.controls,g.setElAttributes(t,(0,L.assign)(r,{id:this.options_.techId,"class":"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&g.setAttribute(t,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],s=o.length-1;s>=0;s--){var a=o[s],l=this.options_[a];"undefined"!=typeof l&&(l?g.setAttribute(t,a,a):g.removeAttribute(t,a),t[a]=l)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},e.prototype.proxyNativeTextTracks_=function(){var t=this.el().textTracks;if(t){for(var e=0;e<t.length;e++)this.textTracks().addTrack_(t[e]);t.addEventListener&&(t.addEventListener("change",this.handleTextTrackChange_),t.addEventListener("addtrack",this.handleTextTrackAdd_),t.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},e.prototype.handleTextTrackChange=function(t){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},e.prototype.handleTextTrackAdd=function(t){this.textTracks().addTrack_(t.track)},e.prototype.handleTextTrackRemove=function(t){this.textTracks().removeTrack_(t.track)},e.prototype.removeOldTracks_=function(t,e){var i=[];if(e){for(var n=0;n<t.length;n++){for(var r=t[n],o=!1,s=0;s<e.length;s++)if(e[s]===r){o=!0;break}o||i.push(r)}for(var a=0;a<i.length;a++){var l=i[a];t.removeTrack_(l)}}},e.prototype.removeOldTextTracks_=function(t){var e=this.textTracks(),i=this.el().textTracks;this.removeOldTracks_(e,i)},e.prototype.play=function(){var t=this.el_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){(0,x["default"])(e,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&S.IS_ANDROID&&S.IS_CHROME&&0===this.el_.currentTime){var e=function i(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",i))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)})}},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=P["default"].navigator&&P["default"].navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){return void 0===t?this.el_.src:void this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=I["default"].createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},e.prototype.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var i=this.$$("track"),n=i.length;n--;)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])},e.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),P["default"].performance&&"function"==typeof P["default"].performance.now?t.creationTime=P["default"].performance.now():P["default"].performance&&P["default"].performance.timing&&"number"==typeof P["default"].performance.timing.navigationStart&&(t.creationTime=P["default"].Date.now()-P["default"].performance.timing.navigationStart),t},e}(h["default"]);if(g.isReal()){N.TEST_VID=I["default"].createElement("video");var j=I["default"].createElement("track");j.kind="captions",j.srclang="en",j.label="English",N.TEST_VID.appendChild(j)}N.isSupported=function(){try{N.TEST_VID.volume=.5}catch(t){return!1}return!(!N.TEST_VID||!N.TEST_VID.canPlayType)},N.canControlVolume=function(){try{var t=N.TEST_VID.volume;return N.TEST_VID.volume=t/2+.1,t!==N.TEST_VID.volume}catch(e){return!1}},N.canControlPlaybackRate=function(){if(S.IS_ANDROID&&S.IS_CHROME&&S.CHROME_VERSION<58)return!1;try{var t=N.TEST_VID.playbackRate;return N.TEST_VID.playbackRate=t/2+.1,t!==N.TEST_VID.playbackRate}catch(e){return!1}},N.supportsNativeTextTracks=function(){return S.IS_ANY_SAFARI},N.supportsNativeVideoTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.videoTracks)},N.supportsNativeAudioTracks=function(){return!(!N.TEST_VID||!N.TEST_VID.audioTracks)},N.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],N.prototype.featuresVolumeControl=N.canControlVolume(),N.prototype.featuresPlaybackRate=N.canControlPlaybackRate(),N.prototype.movingMediaElementInDOM=!S.IS_IOS,N.prototype.featuresFullscreenResize=!0,N.prototype.featuresProgressEvents=!0,N.prototype.featuresTimeupdateEvents=!0,N.prototype.featuresNativeTextTracks=N.supportsNativeTextTracks(),N.prototype.featuresNativeVideoTracks=N.supportsNativeVideoTracks(),N.prototype.featuresNativeAudioTracks=N.supportsNativeAudioTracks();var D=N.TEST_VID&&N.TEST_VID.constructor.prototype.canPlayType,F=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,z=/^video\/mp4/i;N.patchCanPlayType=function(){S.ANDROID_VERSION>=4&&!S.IS_FIREFOX?N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&F.test(t)?"maybe":D.call(this,t)}:S.IS_OLD_ANDROID&&(N.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&z.test(t)?"maybe":D.call(this,t)})},N.unpatchCanPlayType=function(){var t=N.TEST_VID.constructor.prototype.canPlayType;return N.TEST_VID.constructor.prototype.canPlayType=D,t},N.patchCanPlayType(),N.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(e){}}()}},N.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),"function"==typeof t.load&&!function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){N.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){N.prototype["set"+(0,R["default"])(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){N.prototype[t]=function(){return this.el_[t];
}}),["volume","src","poster","preload","playbackRate"].forEach(function(t){N.prototype["set"+(0,R["default"])(t)]=function(e){this.el_[t]=e}}),["pause","load"].forEach(function(t){N.prototype[t]=function(){return this.el_[t]()}}),h["default"].withSourceHandlers(N),N.nativeSourceHandler={},N.nativeSourceHandler.canPlayType=function(t){try{return N.TEST_VID.canPlayType(t)}catch(e){return""}},N.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return N.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=v.getFileExtension(t.src);return N.nativeSourceHandler.canPlayType("video/"+i)}return""},N.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},N.nativeSourceHandler.dispose=function(){},N.registerSourceHandler(N.nativeSourceHandler),d["default"].registerComponent("Html5",N),h["default"].registerTech("Html5",N),i["default"]=N},{"../component":692,"../utils/browser.js":765,"../utils/dom.js":768,"../utils/fn.js":770,"../utils/log.js":773,"../utils/merge-options.js":774,"../utils/obj":775,"../utils/to-title-case.js":778,"../utils/url.js":779,"./tech.js":749,"global/document":585,"global/window":586,tsml:624}],748:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var a=t("../component.js"),l=n(a),u=t("./tech.js"),c=n(u),h=t("../utils/to-title-case.js"),f=n(h),d=function(t){function e(i,n,s){r(this,e);var a=o(this,t.call(this,i,n,s));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)i.src(n.playerOptions.sources);else for(var u=0,h=n.playerOptions.techOrder;u<h.length;u++){var d=(0,f["default"])(h[u]),p=c["default"].getTech(d);if(d||(p=l["default"].getComponent(d)),p&&p.isSupported()){i.loadTech_(d);break}}return a}return s(e,t),e}(l["default"]);l["default"].registerComponent("MediaLoader",d),i["default"]=d},{"../component.js":692,"../utils/to-title-case.js":778,"./tech.js":749}],749:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var s=new y["default"](r);return o.addTrack_(s),s}i.__esModule=!0;var u=t("../component"),c=r(u),h=t("../tracks/html-track-element"),f=r(h),d=t("../tracks/html-track-element-list"),p=r(d),g=t("../utils/merge-options.js"),m=r(g),v=t("../tracks/text-track"),y=r(v),_=t("../tracks/text-track-list"),b=r(_),x=t("../tracks/video-track-list"),w=r(x),C=t("../tracks/audio-track-list"),E=r(C),S=t("../utils/fn.js"),T=n(S),I=t("../utils/log.js"),k=r(I),P=t("../utils/time-ranges.js"),L=t("../utils/buffer.js"),O=t("../media-error.js"),A=r(O),M=t("global/window"),R=r(M),N=t("global/document"),j=r(N),D=t("../utils/obj"),F=function(e){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};o(this,i),t.reportTouchActivity=!1;var r=s(this,e.call(this,null,t,n));return r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),r.textTracks_=t.textTracks,r.videoTracks_=t.videoTracks,r.audioTracks_=t.audioTracks,r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){t["native"+e+"Tracks"]===!1&&(r["featuresNative"+e+"Tracks"]=!1)}),t.nativeCaptions===!1&&(r.featuresNativeTextTracks=!1),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new b["default"],r.initTextTrackListeners(),r.initTrackListeners(),t.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return a(i,e),i.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},i.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},i.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(T.bind(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},i.prototype.onDurationChange=function(t){this.duration_=this.duration()},i.prototype.buffered=function(){return(0,P.createTimeRange)(0,0)},i.prototype.bufferedPercent=function(){return(0,L.bufferedPercent)(this.buffered(),this.duration_)},i.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},i.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},i.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},i.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach(function(t){for(var i=e[t+"Tracks"]()||[],n=i.length;n--;){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack_(r)}})},i.prototype.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var i=t[e];this.removeRemoteTextTrack(i)}},i.prototype.reset=function(){},i.prototype.error=function(t){return void 0!==t&&(this.error_=new A["default"](t),this.trigger("error")),this.error_},i.prototype.played=function(){return this.hasStarted_?(0,P.createTimeRange)(0,0):(0,P.createTimeRange)()},i.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.prototype.initTextTrackListeners=function(){var t=T.bind(this,function(){this.trigger("texttrackchange")}),e=this.textTracks();e&&(e.addEventListener("removetrack",t),e.addEventListener("addtrack",t),this.on("dispose",T.bind(this,function(){e.removeEventListener("removetrack",t),e.removeEventListener("addtrack",t)})))},i.prototype.initTrackListeners=function(){var t=this,e=["video","audio"];e.forEach(function(e){var i=function(){t.trigger(e+"trackchange")},n=t[e+"Tracks"]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),t.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)})})},i.prototype.addWebVttScript_=function(){var e=this;if(!R["default"].WebVTT)if(j["default"].body.contains(this.el())){var i=t("videojs-vtt.js");if(!this.options_["vtt.js"]&&(0,D.isPlain)(i)&&Object.keys(i).length>0)return void this.trigger("vttjsloaded");var n=j["default"].createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",n.onload=function(){e.trigger("vttjsloaded")},n.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),R["default"].WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},i.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks();if(e){var i=this.remoteTextTracks(),n=function(t){return e.addTrack_(t.track)},r=function(t){return e.removeTrack_(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},s=function(){o();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",o),"showing"===i.mode&&i.addEventListener("cuechange",o)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(var t=0;t<e.length;t++){var a=e[t];a.removeEventListener("cuechange",o)}})}},i.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new w["default"],this.videoTracks_},i.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new E["default"],this.audioTracks_},i.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new b["default"],this.textTracks_},i.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new b["default"],this.remoteTextTracks_},i.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new p["default"],this.remoteTextTrackEls_},i.prototype.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return l(this,t,e,i)},i.prototype.createRemoteTextTrack=function(t){var e=(0,m["default"])(t,{tech:this});return new f["default"](e)},i.prototype.addRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=this.createRemoteTextTrack(t);return e!==!0&&e!==!1&&(k["default"].warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack_(i.track),e!==!0&&this.autoRemoteTextTracks_.addTrack_(i.track),i},i.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack_(t),this.autoRemoteTextTracks_.removeTrack_(t)},i.prototype.getVideoPlaybackQuality=function(){return{}},i.prototype.setPoster=function(){},i.prototype.playsinline=function(){},i.prototype.setPlaysinline=function(){},i.prototype.canPlayType=function(){return""},i.isTech=function(t){return t.prototype instanceof i||t instanceof i||t===i},i.registerTech=function(t,e){if(i.techs_||(i.techs_={}),!i.isTech(e))throw new Error("Tech "+t+" must be a Tech");return i.techs_[t]=e,e},i.getTech=function(t){return i.techs_&&i.techs_[t]?i.techs_[t]:R["default"]&&R["default"].videojs&&R["default"].videojs[t]?(k["default"].warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),R["default"].videojs[t]):void 0},i}(c["default"]);F.prototype.textTracks_,F.prototype.audioTracks_,F.prototype.videoTracks_,F.prototype.featuresVolumeControl=!0,F.prototype.featuresFullscreenResize=!1,F.prototype.featuresPlaybackRate=!1,F.prototype.featuresProgressEvents=!1,F.prototype.featuresTimeupdateEvents=!1,F.prototype.featuresNativeTextTracks=!1,F.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i=t.sourceHandlers||[],n=void 0,r=0;r<i.length;r++)if(n=i[r].canPlayType(e))return n;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=void 0,o=0;o<n.length;o++)if(r=n[o].canHandleSource(e,i))return n[o];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","duration"];e.forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);return i||(t.nativeSourceHandler?i=t.nativeSourceHandler:k["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e,this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",t.prototype.firstLoadStartListener_)),this.sourceHandler_=i.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},t.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler(),this.one(this.el_,"loadstart",t.prototype.successiveLoadStartListener_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.off(this.el_,"loadstart",t.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",t.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},c["default"].registerComponent("Tech",F),c["default"].registerComponent("MediaTechController",F),F.registerTech("Tech",F),i["default"]=F},{"../component":692,"../media-error.js":733,"../tracks/audio-track-list":750,"../tracks/html-track-element":753,"../tracks/html-track-element-list":752,"../tracks/text-track":759,"../tracks/text-track-list":757,"../tracks/video-track-list":763,"../utils/buffer.js":766,"../utils/fn.js":770,"../utils/log.js":773,"../utils/merge-options.js":774,"../utils/obj":775,"../utils/time-ranges.js":777,"global/document":585,"global/window":586,"videojs-vtt.js":781}],750:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./track-list"),u=r(l),c=t("../utils/browser.js"),h=n(c),f=t("global/document"),d=r(f),p=function(t,e){for(var i=0;i<t.length;i++)e.id!==t[i].id&&(t[i].enabled=!1)},g=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);for(var a=void 0,l=r.length-1;l>=0;l--)if(r[l].enabled){p(r,r[l]);break}if(h.IS_IE8){a=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(a[c]=u["default"].prototype[c]);for(var f in e.prototype)"constructor"!==f&&(a[f]=e.prototype[f])}return a=i=s(this,t.call(this,r,a)),a.changing_=!1,n=a,s(i,n)}return a(e,t),e.prototype.addTrack_=function(e){var i=this;e.enabled&&p(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,p(i,e),i.changing_=!1,i.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(u["default"]);i["default"]=g},{"../utils/browser.js":765,"./track-list":761,"global/document":585}],751:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./track-enums"),u=t("./track"),c=r(u),h=t("../utils/merge-options"),f=r(h),d=t("../utils/browser.js"),p=n(d),g=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var a=(0,f["default"])(r,{kind:l.AudioTrackKind[r.kind]||""}),u=i=s(this,t.call(this,a)),c=!1;if(p.IS_IE8)for(var h in e.prototype)"constructor"!==h&&(u[h]=e.prototype[h]);return Object.defineProperty(u,"enabled",{get:function(){return c},set:function(t){"boolean"==typeof t&&t!==c&&(c=t,this.trigger("enabledchange"))}}),a.enabled&&(u.enabled=a.enabled),u.loaded_=!0,n=u,s(i,n)}return a(e,t),e}(c["default"]);i["default"]=g},{"../utils/browser.js":765,"../utils/merge-options":774,"./track":762,"./track-enums":760}],752:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var s=t("../utils/browser.js"),a=r(s),l=t("global/document"),u=n(l),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,t);var i=this;if(a.IS_IE8){i=u["default"].createElement("custom");for(var n in t.prototype)"constructor"!==n&&(i[n]=t.prototype[n])}i.trackElements_=[],Object.defineProperty(i,"length",{get:function(){return this.trackElements_.length}});for(var r=0,s=e.length;r<s;r++)i.addTrackElement_(e[r]);if(a.IS_IE8)return i}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}();i["default"]=c},{"../utils/browser.js":765,"global/document":585}],753:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../utils/browser.js"),u=r(l),c=t("global/document"),h=n(c),f=t("../event-target"),d=n(f),p=t("../tracks/text-track"),g=n(p),m=0,v=1,y=2,_=3,b=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var n=s(this,t.call(this)),r=void 0,a=n;if(u.IS_IE8){a=h["default"].createElement("custom");for(var l in e.prototype)"constructor"!==l&&(a[l]=e.prototype[l])}var c=new g["default"](i);if(a.kind=c.kind,a.src=c.src,a.srclang=c.language,a.label=c.label,a["default"]=c["default"],Object.defineProperty(a,"readyState",{get:function(){return r}}),Object.defineProperty(a,"track",{get:function(){return c}}),r=m,c.addEventListener("loadeddata",function(){r=y,a.trigger({type:"load",target:a})}),u.IS_IE8){var f;return f=a,s(n,f)}return n}return a(e,t),e}(d["default"]);b.prototype.allowedEvents_={load:"load"},b.NONE=m,b.LOADING=v,b.LOADED=y,b.ERROR=_,i["default"]=b},{"../event-target":729,"../tracks/text-track":759,"../utils/browser.js":765,"global/document":585}],754:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.__esModule=!0;var s=t("../utils/browser.js"),a=r(s),l=t("global/document"),u=n(l),c=function(){function t(e){o(this,t);var i=this;if(a.IS_IE8){i=u["default"].createElement("custom");for(var n in t.prototype)"constructor"!==n&&(i[n]=t.prototype[n])}if(t.prototype.setCues_.call(i,e),Object.defineProperty(i,"length",{get:function(){return this.length_}}),a.IS_IE8)return i}return t.prototype.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}();i["default"]=c},{"../utils/browser.js":765,"global/document":585}],755:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function u(t,e,i){try{t.style[e]=i}catch(n){return}}i.__esModule=!0;var c=t("../component"),h=r(c),f=t("../utils/fn.js"),d=n(f),p=t("global/window"),g=r(p),m="#222",v="#ccc",y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},_=function(t){function e(i,n,r){o(this,e);var a=s(this,t.call(this,i,n,r));return i.on("loadstart",d.bind(a,a.toggleDisplay)),i.on("texttrackchange",d.bind(a,a.updateDisplay)),i.ready(d.bind(a,function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)return void this.hide();i.on("fullscreenchange",d.bind(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);var n={captions:1,subtitles:1},r=this.player_.textTracks(),o=void 0,s=void 0;if(r){for(var a=0;a<r.length;a++){var l=r[a];l["default"]&&("descriptions"!==l.kind||o?l.kind in n&&!s&&(s=l):o=l)}s?s.mode="showing":o&&(o.mode="showing")}})),a}return a(e,t),e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"==typeof g["default"].WebVTT&&g["default"].WebVTT.processCues(g["default"],[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();if(this.clearDisplay(),t){for(var e=null,i=null,n=t.length;n--;){var r=t[n];"showing"===r.mode&&("descriptions"===r.kind?e=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))}},e.prototype.updateForTrack=function(t){if("function"==typeof g["default"].WebVTT&&t.activeCues){for(var e=this.player_.textTrackSettings.getValues(),i=[],n=0;n<t.activeCues.length;n++)i.push(t.activeCues[n]);g["default"].WebVTT.processCues(g["default"],i,this.el_);for(var r=i.length;r--;){var o=i[r];if(o){var s=o.displayState;if(e.color&&(s.firstChild.style.color=e.color),e.textOpacity&&u(s.firstChild,"color",l(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(s.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&u(s.firstChild,"backgroundColor",l(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?u(s,"backgroundColor",l(e.windowColor,e.windowOpacity)):s.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px "+m+", 2px 2px 4px "+m+", 2px 2px 5px "+m:"raised"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px "+m+", 2px 2px "+m+", 3px 3px "+m:"depressed"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px "+v+", 0 1px "+v+", -1px -1px "+m+", 0 -1px "+m:"uniform"===e.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px "+m+", 0 0 4px "+m+", 0 0 4px "+m+", 0 0 4px "+m)),e.fontPercent&&1!==e.fontPercent){var a=g["default"].parseFloat(s.style.fontSize);s.style.fontSize=a*e.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=y[e.fontFamily])}}}},e}(h["default"]);h["default"].registerComponent("TextTrackDisplay",_),i["default"]=_},{"../component":692,"../utils/fn.js":770,"global/window":586}],756:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,i,n){return t[i]&&(e[i]=t[i]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})});return e},r=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,function(t){return t.track}),r=Array.prototype.map.call(e,function(t){var e=n(t.track);return t.src&&(e.src=t.src),e});return r.concat(Array.prototype.filter.call(t.textTracks(),function(t){return i.indexOf(t)===-1}).map(n))},o=function(t,e){return t.forEach(function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),e.textTracks()};i["default"]={textTracksToJson:r,jsonToTextTracks:o,trackToJson_:n}},{}],757:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./track-list"),u=r(l),c=t("../utils/fn.js"),h=n(c),f=t("../utils/browser.js"),d=n(f),p=t("global/document"),g=r(p),m=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);var a=void 0;if(d.IS_IE8){a=g["default"].createElement("custom");for(var l in u["default"].prototype)"constructor"!==l&&(a[l]=u["default"].prototype[l]);for(var c in e.prototype)"constructor"!==c&&(a[c]=e.prototype[c])}return a=i=s(this,t.call(this,r,a)),n=a,s(i,n)}return a(e,t),e.prototype.addTrack_=function(e){t.prototype.addTrack_.call(this,e),e.addEventListener("modechange",h.bind(this,function(){this.trigger("change")}))},e}(u["default"]);i["default"]=m},{"../utils/browser.js":765,"../utils/fn.js":770,"./track-list":761,"global/document":585}],758:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function u(t,e){var i=t.options[t.options.selectedIndex].value;return l(i,e)}function c(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(l(t.options[n].value,i)===e){t.selectedIndex=n;break}}i.__esModule=!0;var h=t("global/window"),f=r(h),d=t("../component"),p=r(d),g=t("../utils/dom"),m=t("../utils/fn"),v=n(m),y=t("../utils/obj"),_=n(y),b=t("../utils/log"),x=r(b),w="vjs-text-track-settings",C=["#000","Black"],E=["#00F","Blue"],S=["#0FF","Cyan"],T=["#0F0","Green"],I=["#F0F","Magenta"],k=["#F00","Red"],P=["#FFF","White"],L=["#FF0","Yellow"],O=["1","Opaque"],A=["0.5","Semi-Transparent"],M=["0","Transparent"],R={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[C,P,k,T,E,L,I,S]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[O,A,M]},color:{
selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[P,C,k,T,E,L,I,S]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[O,A]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[M,A,O]}};R.windowColor.options=R.backgroundColor.options;var N=function(t){function e(i,n){o(this,e);var r=s(this,t.call(this,i,n));return r.setDefaults(),r.hide(),r.updateDisplay=v.bind(r,r.updateDisplay),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.hide()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),_.each(R,function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return a(e,t),e.prototype.createElSelect_=function(t){var e=this,i=R[t],n=i.id.replace("%s",this.id_);return[(0,g.createEl)("label",{className:"vjs-label",textContent:i.label},{"for":n}),(0,g.createEl)("select",{id:n},void 0,i.options.map(function(t){return(0,g.createEl)("option",{textContent:e.localize(t[1]),value:t[0]})}))]},e.prototype.createElFgColor_=function(){var t=(0,g.createEl)("legend",{textContent:this.localize("Text")}),e=this.createElSelect_("color"),i=(0,g.createEl)("span",{className:"vjs-text-opacity vjs-opacity"},void 0,this.createElSelect_("textOpacity"));return(0,g.createEl)("fieldset",{className:"vjs-fg-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElBgColor_=function(){var t=(0,g.createEl)("legend",{textContent:this.localize("Background")}),e=this.createElSelect_("backgroundColor"),i=(0,g.createEl)("span",{className:"vjs-bg-opacity vjs-opacity"},void 0,this.createElSelect_("backgroundOpacity"));return(0,g.createEl)("fieldset",{className:"vjs-bg-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElWinColor_=function(){var t=(0,g.createEl)("legend",{textContent:this.localize("Window")}),e=this.createElSelect_("windowColor"),i=(0,g.createEl)("span",{className:"vjs-window-opacity vjs-opacity"},void 0,this.createElSelect_("windowOpacity"));return(0,g.createEl)("fieldset",{className:"vjs-window-color vjs-tracksetting"},void 0,[t].concat(e,i))},e.prototype.createElColors_=function(){return(0,g.createEl)("div",{className:"vjs-tracksettings-colors"},void 0,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()])},e.prototype.createElFont_=function(){var t=(0,g.createEl)("div",{className:"vjs-font-percent vjs-tracksetting"},void 0,this.createElSelect_("fontPercent")),e=(0,g.createEl)("div",{className:"vjs-edge-style vjs-tracksetting"},void 0,this.createElSelect_("edgeStyle")),i=(0,g.createEl)("div",{className:"vjs-font-family vjs-tracksetting"},void 0,this.createElSelect_("fontFamily"));return(0,g.createEl)("div",{className:"vjs-tracksettings-font"},void 0,[t,e,i])},e.prototype.createElControls_=function(){var t=(0,g.createEl)("button",{className:"vjs-default-button",textContent:this.localize("Defaults")}),e=(0,g.createEl)("button",{className:"vjs-done-button",textContent:"Done"});return(0,g.createEl)("div",{className:"vjs-tracksettings-controls"},void 0,[t,e])},e.prototype.createEl=function(){var t=(0,g.createEl)("div",{className:"vjs-tracksettings"},void 0,[this.createElColors_(),this.createElFont_(),this.createElControls_()]),e=(0,g.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogLabel-"+this.id_,textContent:"Caption Settings Dialog"},{"aria-level":"1",role:"heading"}),i=(0,g.createEl)("div",{className:"vjs-control-text",id:"TTsettingsDialogDescription-"+this.id_,textContent:"Beginning of dialog window. Escape will cancel and close the window."}),n=(0,g.createEl)("div",void 0,{role:"document"},[e,i,t]);return(0,g.createEl)("div",{className:"vjs-caption-settings vjs-modal-overlay",tabIndex:-1},{role:"dialog","aria-labelledby":e.id,"aria-describedby":i.id},n)},e.prototype.getValues=function(){var t=this;return _.reduce(R,function(e,i,n){var r=u(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e},{})},e.prototype.setValues=function(t){var e=this;_.each(R,function(i,n){c(e.$(i.selector),t[n],i.parser)})},e.prototype.setDefaults=function(){var t=this;_.each(R,function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i})},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(f["default"].localStorage.getItem(w))}catch(e){x["default"].warn(e)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?f["default"].localStorage.setItem(w,JSON.stringify(t)):f["default"].localStorage.removeItem(w)}catch(e){x["default"].warn(e)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e}(p["default"]);p["default"].registerComponent("TextTrackSettings",N),i["default"]=N},{"../component":692,"../utils/dom":768,"../utils/fn":770,"../utils/log":773,"../utils/obj":775,"global/window":586}],759:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./text-track-cue-list"),u=r(l),c=t("../utils/fn.js"),h=n(c),f=t("./track-enums"),d=t("../utils/log.js"),p=r(d),g=t("global/window"),m=r(g),v=t("./track.js"),y=r(v),_=t("../utils/url.js"),b=t("xhr"),x=r(b),w=t("../utils/merge-options"),C=r(w),E=t("../utils/browser.js"),S=n(E),T=function(t,e){var i=new m["default"].WebVTT.Parser(m["default"],m["default"].vttjs,m["default"].WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(m["default"].console&&m["default"].console.groupCollapsed&&m["default"].console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach(function(t){return p["default"].error(t)}),m["default"].console&&m["default"].console.groupEnd&&m["default"].console.groupEnd()),i.flush()},I=function(t,e){var i={uri:t},n=(0,_.isCrossOrigin)(t);n&&(i.cors=n),(0,x["default"])(i,h.bind(this,function(t,i,n){if(t)return p["default"].error(t,i);if(e.loaded_=!0,"function"!=typeof m["default"].WebVTT){if(e.tech_){var r=function(){return T(n,e)};e.tech_.on("vttjsloaded",r),e.tech_.on("vttjserror",function(){p["default"].error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",r)})}}else T(n,e)}))},k=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o(this,e),!r.tech)throw new Error("A tech was not provided.");var a=(0,C["default"])(r,{kind:f.TextTrackKind[r.kind]||"subtitles",language:r.language||r.srclang||""}),l=f.TextTrackMode[a.mode]||"disabled",c=a["default"];"metadata"!==a.kind&&"chapters"!==a.kind||(l="hidden");var d=i=s(this,t.call(this,a));if(d.tech_=a.tech,S.IS_IE8)for(var p in e.prototype)"constructor"!==p&&(d[p]=e.prototype[p]);d.cues_=[],d.activeCues_=[];var g=new u["default"](d.cues_),m=new u["default"](d.activeCues_),v=!1,y=h.bind(d,function(){this.activeCues,v&&(this.trigger("cuechange"),v=!1)});return"disabled"!==l&&d.tech_.ready(function(){d.tech_.on("timeupdate",y)},!0),Object.defineProperty(d,"default",{get:function(){return c},set:function(){}}),Object.defineProperty(d,"mode",{get:function(){return l},set:function(t){var e=this;f.TextTrackMode[t]&&(l=t,"showing"===l&&this.tech_.ready(function(){e.tech_.on("timeupdate",y)},!0),this.trigger("modechange"))}}),Object.defineProperty(d,"cues",{get:function(){return this.loaded_?g:null},set:function(){}}),Object.defineProperty(d,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return m;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];r.startTime<=t&&r.endTime>=t?e.push(r):r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t&&e.push(r)}if(v=!1,e.length!==this.activeCues_.length)v=!0;else for(var o=0;o<e.length;o++)this.activeCues_.indexOf(e[o])===-1&&(v=!0);return this.activeCues_=e,m.setCues_(this.activeCues_),m},set:function(){}}),a.src?(d.src=a.src,I(a.src,d)):d.loaded_=!0,n=d,s(i,n)}return a(e,t),e.prototype.addCue=function(t){var e=t;if(m["default"].vttjs&&!(t instanceof m["default"].vttjs.VTTCue)){e=new m["default"].vttjs.VTTCue(t.startTime,t.endTime,t.text);for(var i in t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}var n=this.tech_.textTracks();if(n)for(var r=0;r<n.length;r++)n[r]!==this&&n[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){for(var e=this.cues_.length;e--;){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(y["default"]);k.prototype.allowedEvents_={cuechange:"cuechange"},i["default"]=k},{"../utils/browser.js":765,"../utils/fn.js":770,"../utils/log.js":773,"../utils/merge-options":774,"../utils/url.js":779,"./text-track-cue-list":754,"./track-enums":760,"./track.js":762,"global/window":586,xhr:790}],760:[function(t,e,i){"use strict";i.__esModule=!0;i.VideoTrackKind={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i.AudioTrackKind={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},i.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},i.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"}},{}],761:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../event-target"),u=r(l),c=t("../utils/browser.js"),h=n(c),f=t("global/document"),d=r(f),p=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,e);var a=s(this,t.call(this));if(!r&&(r=a,h.IS_IE8)){r=d["default"].createElement("custom");for(var l in e.prototype)"constructor"!==l&&(r[l]=e.prototype[l])}r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var u=0;u<n.length;u++)r.addTrack_(n[u]);return i=r,s(a,i)}return a(e,t),e.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack_=function(t){for(var e=void 0,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(u["default"]);p.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var g in p.prototype.allowedEvents_)p.prototype["on"+g]=null;i["default"]=p},{"../event-target":729,"../utils/browser.js":765,"global/document":585}],762:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("../utils/browser.js"),u=r(l),c=t("global/document"),h=n(c),f=t("../utils/guid.js"),d=r(f),p=t("../event-target"),g=n(p),m=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var r=s(this,t.call(this)),a=r;if(u.IS_IE8){a=h["default"].createElement("custom");for(var l in e.prototype)"constructor"!==l&&(a[l]=e.prototype[l])}var c={id:n.id||"vjs_track_"+d.newGUID(),kind:n.kind||"",label:n.label||"",language:n.language||""},f=function(t){Object.defineProperty(a,t,{get:function(){return c[t]},set:function(){}})};for(var p in c)f(p);return i=a,s(r,i)}return a(e,t),e}(g["default"]);i["default"]=m},{"../event-target":729,"../utils/browser.js":765,"../utils/guid.js":772,"global/document":585}],763:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./track-list"),u=r(l),c=t("../utils/browser.js"),h=n(c),f=t("global/document"),d=r(f),p=function(t,e){for(var i=0;i<t.length;i++)e.id!==t[i].id&&(t[i].selected=!1)},g=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e);for(var a=void 0,l=r.length-1;l>=0;l--)if(r[l].selected){p(r,r[l]);break}if(h.IS_IE8){a=d["default"].createElement("custom");for(var c in u["default"].prototype)"constructor"!==c&&(a[c]=u["default"].prototype[c]);for(var f in e.prototype)"constructor"!==f&&(a[f]=e.prototype[f])}return a=i=s(this,t.call(this,r,a)),a.changing_=!1,Object.defineProperty(a,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n=a,s(i,n)}return a(e,t),e.prototype.addTrack_=function(e){var i=this;e.selected&&p(this,e),t.prototype.addTrack_.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,p(i,e),i.changing_=!1,i.trigger("change"))})},e.prototype.addTrack=function(t){this.addTrack_(t)},e.prototype.removeTrack=function(e){t.prototype.removeTrack_.call(this,e)},e}(u["default"]);i["default"]=g},{"../utils/browser.js":765,"./track-list":761,"global/document":585}],764:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}i.__esModule=!0;var l=t("./track-enums"),u=t("./track"),c=r(u),h=t("../utils/merge-options"),f=r(h),d=t("../utils/browser.js"),p=n(d),g=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,e);var a=(0,f["default"])(r,{kind:l.VideoTrackKind[r.kind]||""}),u=i=s(this,t.call(this,a)),c=!1;if(p.IS_IE8)for(var h in e.prototype)"constructor"!==h&&(u[h]=e.prototype[h]);return Object.defineProperty(u,"selected",{get:function(){return c},set:function(t){"boolean"==typeof t&&t!==c&&(c=t,this.trigger("selectedchange"))}}),a.selected&&(u.selected=a.selected),n=u,s(i,n)}return a(e,t),e}(c["default"]);i["default"]=g},{"../utils/browser.js":765,"../utils/merge-options":774,"./track":762,"./track-enums":760}],765:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}i.__esModule=!0,i.BACKGROUND_SIZE_SUPPORTED=i.TOUCH_ENABLED=i.IS_ANY_SAFARI=i.IS_SAFARI=i.IE_VERSION=i.IS_IE8=i.CHROME_VERSION=i.IS_CHROME=i.IS_EDGE=i.IS_FIREFOX=i.IS_NATIVE_ANDROID=i.IS_OLD_ANDROID=i.ANDROID_VERSION=i.IS_ANDROID=i.IOS_VERSION=i.IS_IOS=i.IS_IPOD=i.IS_IPHONE=i.IS_IPAD=void 0;var o=t("./dom"),s=r(o),a=t("global/window"),l=n(a),u=l["default"].navigator&&l["default"].navigator.userAgent||"",c=/AppleWebKit\/([\d.]+)/i.exec(u),h=c?parseFloat(c.pop()):null,f=i.IS_IPAD=/iPad/i.test(u),d=i.IS_IPHONE=/iPhone/i.test(u)&&!f,p=i.IS_IPOD=/iPod/i.test(u),g=i.IS_IOS=d||f||p,m=(i.IOS_VERSION=function(){var t=u.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),i.IS_ANDROID=/Android/i.test(u)),v=i.ANDROID_VERSION=function(){var t=u.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e?e:null}(),y=(i.IS_OLD_ANDROID=m&&/webkit/i.test(u)&&v<2.3,i.IS_NATIVE_ANDROID=m&&v<5&&h<537,i.IS_FIREFOX=/Firefox/i.test(u),i.IS_EDGE=/Edge/i.test(u)),_=i.IS_CHROME=!y&&/Chrome/i.test(u),b=(i.CHROME_VERSION=function(){var t=u.match(/Chrome\/(\d+)/);return t&&t[1]?parseFloat(t[1]):null}(),i.IS_IE8=/MSIE\s8\.0/.test(u),i.IE_VERSION=function(){var t=/MSIE\s(\d+)\.\d/.exec(u),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(u)&&/rv:11.0/.test(u)&&(e=11),e}(),i.IS_SAFARI=/Safari/i.test(u)&&!_&&!m&&!y);i.IS_ANY_SAFARI=b||g,i.TOUCH_ENABLED=s.isReal()&&("ontouchstart"in l["default"]||l["default"].DocumentTouch&&l["default"].document instanceof l["default"].DocumentTouch),i.BACKGROUND_SIZE_SUPPORTED=s.isReal()&&"backgroundSize"in l["default"].document.createElement("video").style},{"./dom":768,"global/window":586}],766:[function(t,e,i){"use strict";function n(t,e){var i=0,n=void 0,o=void 0;if(!e)return 0;t&&t.length||(t=(0,r.createTimeRange)(0,0));for(var s=0;s<t.length;s++)n=t.start(s),o=t.end(s),o>e&&(o=e),i+=o-n;return i/e}i.__esModule=!0,i.bufferedPercent=n;var r=t("./time-ranges.js")},{"./time-ranges.js":777}],767:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!t||!e)return"";if("function"==typeof s["default"].getComputedStyle){var i=s["default"].getComputedStyle(t);return i?i[e]:""}return t.currentStyle[e]||""}i.__esModule=!0,i["default"]=r;var o=t("global/window"),s=n(o)},{"global/window":586}],768:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){return t.raw=e,t}function s(t){return"string"==typeof t&&/\S/.test(t)}function a(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function l(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function u(){return z["default"]===V["default"].document&&"undefined"!=typeof z["default"].createElement}function c(t){return(0,Y.isObject)(t)&&1===t.nodeType}function h(t){return function(e,i){if(!s(e))return z["default"][t](null);s(i)&&(i=z["default"].querySelector(i));var n=c(i)?i:z["default"];return n[t]&&n[t](e)}}function f(t){return 0===t.indexOf("#")&&(t=t.slice(1)),z["default"].getElementById(t)}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],r=z["default"].createElement(t);return Object.getOwnPropertyNames(e).forEach(function(t){var i=e[t];t.indexOf("aria-")!==-1||"role"===t||"type"===t?(H["default"].warn((0,W["default"])(D,t,i)),r.setAttribute(t,i)):"textContent"===t?p(r,i):r[t]=i}),Object.getOwnPropertyNames(i).forEach(function(t){r.setAttribute(t,i[t])}),n&&N(r,n),r}function p(t,e){return"undefined"==typeof t.textContent?t.innerText=e:t.textContent=e,t}function g(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function m(t){var e=t[Z];return e||(e=t[Z]=U.newGUID()),$[e]||($[e]={}),$[e]}function v(t){var e=t[Z];return!!e&&!!Object.getOwnPropertyNames($[e]).length}function y(t){var e=t[Z];if(e){delete $[e];try{delete t[Z]}catch(i){t.removeAttribute?t.removeAttribute(Z):t[Z]=null}}}function _(t,e){return a(e),t.classList?t.classList.contains(e):l(e).test(t.className)}function b(t,e){return t.classList?t.classList.add(e):_(t,e)||(t.className=(t.className+" "+e).trim()),t}function x(t,e){return t.classList?t.classList.remove(e):(a(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function w(t,e,i){var n=_(t,e);if("function"==typeof i&&(i=i(t,e)),"boolean"!=typeof i&&(i=!n),i!==n)return i?b(t,e):x(t,e),t}function C(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];null===n||"undefined"==typeof n||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function E(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,s=n[r].value;"boolean"!=typeof t[o]&&i.indexOf(","+o+",")===-1||(s=null!==s),e[o]=s}return e}function S(t,e){return t.getAttribute(e)}function T(t,e,i){t.setAttribute(e,i)}function I(t,e){t.removeAttribute(e)}function k(){z["default"].body.focus(),z["default"].onselectstart=function(){return!1}}function P(){z["default"].onselectstart=function(){return!0}}function L(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=z["default"].documentElement,n=z["default"].body,r=i.clientLeft||n.clientLeft||0,o=V["default"].pageXOffset||n.scrollLeft,s=e.left+o-r,a=i.clientTop||n.clientTop||0,l=V["default"].pageYOffset||n.scrollTop,u=e.top+l-a;return{left:Math.round(s),top:Math.round(u)}}function O(t,e){var i={},n=L(t),r=t.offsetWidth,o=t.offsetHeight,s=n.top,a=n.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-l+o)/o)),i.x=Math.max(0,Math.min(1,(u-a)/r)),i}function A(t){return(0,Y.isObject)(t)&&3===t.nodeType}function M(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function R(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return"function"==typeof t&&(t=t()),c(t)||A(t)?t:"string"==typeof t&&/\S/.test(t)?z["default"].createTextNode(t):void 0}).filter(function(t){return t})}function N(t,e){return R(e).forEach(function(e){return t.appendChild(e)}),t}function j(t,e){return N(M(t),e)}i.__esModule=!0,i.$$=i.$=void 0;var D=o(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);i.isReal=u,i.isEl=c,i.getEl=f,i.createEl=d,i.textContent=p,i.insertElFirst=g,i.getElData=m,i.hasElData=v,i.removeElData=y,i.hasElClass=_,i.addElClass=b,i.removeElClass=x,i.toggleElClass=w,i.setElAttributes=C,i.getElAttributes=E,i.getAttribute=S,i.setAttribute=T,i.removeAttribute=I,i.blockTextSelection=k,i.unblockTextSelection=P,i.findElPosition=L,i.getPointerPosition=O,i.isTextNode=A,i.emptyEl=M,i.normalizeContent=R,i.appendContent=N,i.insertContent=j;var F=t("global/document"),z=r(F),B=t("global/window"),V=r(B),q=t("./guid.js"),U=n(q),G=t("./log.js"),H=r(G),X=t("tsml"),W=r(X),Y=t("./obj"),$={},Z="vdata"+(new Date).getTime();i.$=h("querySelector"),i.$$=h("querySelectorAll")},{"./guid.js":772,"./log.js":773,"./obj":775,"global/document":585,"global/window":586,tsml:624}],769:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function o(t,e){var i=d.getElData(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&d.removeElData(t)}function s(t,e,i,n){i.forEach(function(i){t(e,i,n)})}function a(t){function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||_["default"].event;t={};for(var r in n)"layerX"!==r&&"layerY"!==r&&"keyLocation"!==r&&"webkitMovementX"!==r&&"webkitMovementY"!==r&&("returnValue"===r&&n.preventDefault||(t[r]=n[r]));if(t.target||(t.target=t.srcElement||x["default"]),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var o=x["default"].documentElement,s=x["default"].body;t.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function l(t,e,i){if(Array.isArray(e))return s(l,t,e,i);var n=d.getElData(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=g.newGUID()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=a(e);var r=n.handlers[e.type];if(r)for(var o=r.slice(0),s=0,l=o.length;s<l&&!e.isImmediatePropagationStopped();s++)try{o[s].call(t,e,i)}catch(u){v["default"].error(u)}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;w&&C.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function u(t,e,i){if(d.hasElData(t)){var n=d.getElData(t);if(n.handlers){if(Array.isArray(e))return s(u,t,e,i);var r=function(e){n.handlers[e]=[],o(t,e)};if(e){var a=n.handlers[e];if(a){if(!i)return void r(e);if(i.guid)for(var l=0;l<a.length;l++)a[l].guid===i.guid&&a.splice(l--,1);o(t,e)}}else for(var c in n.handlers)r(c)}}}function c(t,e,i){var n=d.hasElData(t)?d.getElData(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e&&(e={type:e,target:t}),e=a(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&e.bubbles===!0)c.call(null,r,e,i);else if(!r&&!e.defaultPrevented){var o=d.getElData(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function h(t,e,i){if(Array.isArray(e))return s(h,t,e,i);var n=function r(){u(t,e,r),i.apply(this,arguments)};n.guid=i.guid=i.guid||g.newGUID(),l(t,e,n)}i.__esModule=!0,i.fixEvent=a,i.on=l,i.off=u,i.trigger=c,i.one=h;var f=t("./dom.js"),d=r(f),p=t("./guid.js"),g=r(p),m=t("./log.js"),v=n(m),y=t("global/window"),_=n(y),b=t("global/document"),x=n(b),w=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){w=!0}});_["default"].addEventListener("test",null,t)}catch(e){}}();var C=["touchstart","touchmove"]},{"./dom.js":768,"./guid.js":772,"./log.js":773,"global/document":585,"global/window":586}],770:[function(t,e,i){"use strict";i.__esModule=!0,i.throttle=i.bind=void 0;var n=t("./guid.js");i.bind=function(t,e,i){e.guid||(e.guid=(0,n.newGUID)());var r=function(){return e.apply(t,arguments)};return r.guid=i?i+"_"+e.guid:e.guid,r},i.throttle=function(t,e){var i=Date.now(),n=function(){var n=Date.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n}},{"./guid.js":772}],771:[function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||s>0?r+":":"",n=((r||o>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i}i.__esModule=!0,i["default"]=n},{}],772:[function(t,e,i){"use strict";function n(){return r++}i.__esModule=!0,i.newGUID=n;var r=1},{}],773:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0,i.logByType=void 0;var r=t("global/window"),o=n(r),s=t("./browser"),a=t("./obj"),l=void 0,u=i.logByType=function(t,e){
var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!s.IE_VERSION&&s.IE_VERSION<11;"log"!==t&&e.unshift(t.toUpperCase()+":"),l.history.push(e),e.unshift("VIDEOJS:");var n=o["default"].console&&o["default"].console[t];n&&(i&&(e=e.map(function(t){if((0,a.isObject)(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)}).join(" ")),n.apply?n[Array.isArray(e)?"apply":"call"](o["default"].console,e):n(e))};l=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];u("log",e)},l.history=[],l.error=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return u("error",e)},l.warn=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return u("warn",e)},i["default"]=l},{"./browser":765,"./obj":775,"global/window":586}],774:[function(t,e,i){"use strict";function n(){for(var t={},e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return i.forEach(function(e){e&&(0,r.each)(e,function(e,i){return(0,r.isPlain)(e)?((0,r.isPlain)(t[i])||(t[i]={}),void(t[i]=n(t[i],e))):void(t[i]=e)})}),t}i.__esModule=!0,i["default"]=n;var r=t("./obj")},{"./obj":775}],775:[function(t,e,i){"use strict";function n(t,e){c(t).forEach(function(i){return e(t[i],i)})}function r(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(t).reduce(function(i,n){return e(i,t[n],n)},i)}function o(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[t].concat(i)):(i.forEach(function(e){e&&n(e,function(e,i){t[i]=e})}),t)}function s(t){return!!t&&"object"===("undefined"==typeof t?"undefined":l(t))}function a(t){return s(t)&&"[object Object]"===u.call(t)&&t.constructor===Object}i.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.each=n,i.reduce=r,i.assign=o,i.isObject=s,i.isPlain=a;var u=Object.prototype.toString,c=function(t){return s(t)?Object.keys(t):[]}},{}],776:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0,i.setTextContent=i.createStyleElement=void 0;var r=t("global/document"),o=n(r);i.createStyleElement=function(t){var e=o["default"].createElement("style");return e.className=t,e},i.setTextContent=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}},{"global/document":585}],777:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){if(e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is greater than or equal to the maximum bound ("+i+").")}function o(t,e,i,n){return void 0===n&&(u["default"].warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),n=0),r(t,n,i.length-1),i[n][e]}function s(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:o.bind(null,"start",0,t),end:o.bind(null,"end",1,t)}}function a(t,e){return Array.isArray(t)?s(t):void 0===t||void 0===e?s():s([[t,e]])}i.__esModule=!0,i.createTimeRange=void 0,i.createTimeRanges=a;var l=t("./log.js"),u=n(l);i.createTimeRange=a},{"./log.js":773}],778:[function(t,e,i){"use strict";function n(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}i.__esModule=!0,i["default"]=n},{}],779:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0,i.isCrossOrigin=i.getFileExtension=i.getAbsoluteURL=i.parseUrl=void 0;var r=t("global/document"),o=n(r),s=t("global/window"),a=n(s),l=i.parseUrl=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=o["default"].createElement("a");i.href=t;var n=""===i.host&&"file:"!==i.protocol,r=void 0;n&&(r=o["default"].createElement("div"),r.innerHTML='<a href="'+t+'"></a>',i=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),o["default"].body.appendChild(r));for(var s={},a=0;a<e.length;a++)s[e[a]]=i[e[a]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),n&&o["default"].body.removeChild(r),s};i.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var e=o["default"].createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},i.getFileExtension=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},i.isCrossOrigin=function(t){var e=a["default"].location,i=l(t),n=":"===i.protocol?e.protocol:i.protocol,r=n+i.host!==e.protocol+e.host;return r}},{"global/document":585,"global/window":586}],780:[function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e,i){var n=void 0;if("string"==typeof t){if(0===t.indexOf("#")&&(t=t.slice(1)),o.getPlayers()[t])return e&&U["default"].warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&o.getPlayers()[t].ready(i),o.getPlayers()[t];n=p.getEl(t)}else n=t;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(n.player||T["default"].players[n.playerId])return n.player||T["default"].players[n.playerId];e=e||{},o.hooks("beforesetup").forEach(function(t){var i=t(n,(0,L["default"])(e));return!(0,X.isObject)(i)||Array.isArray(i)?void U["default"].error("please return an object in beforesetup hooks"):void(e=(0,L["default"])(e,i))});var r=b["default"].getComponent("Player"),s=new r(n,e,i);return o.hooks("setup").forEach(function(t){return t(s)}),s}i.__esModule=!0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=t("global/window"),l=r(a),u=t("global/document"),c=r(u),h=t("./utils/browser.js"),f=n(h),d=t("./utils/dom.js"),p=n(d),g=t("./setup"),m=n(g),v=t("./utils/stylesheet.js"),y=n(v),_=t("./component"),b=r(_),x=t("./event-target"),w=r(x),C=t("./utils/events.js"),E=n(C),S=t("./player"),T=r(S),I=t("./plugins.js"),k=r(I),P=t("./utils/merge-options.js"),L=r(P),O=t("./utils/fn.js"),A=n(O),M=t("./tracks/text-track.js"),R=r(M),N=t("./tracks/audio-track.js"),j=r(N),D=t("./tracks/video-track.js"),F=r(D),z=t("./utils/time-ranges.js"),B=t("./utils/format-time.js"),V=r(B),q=t("./utils/log.js"),U=r(q),G=t("./utils/url.js"),H=n(G),X=t("./utils/obj"),W=t("./utils/computed-style.js"),Y=r(W),$=t("./extend.js"),Z=r($),K=t("xhr"),J=r(K),Q=t("./tech/tech.js"),tt=r(Q);if("undefined"==typeof HTMLVideoElement&&p.isReal()&&(c["default"].createElement("video"),c["default"].createElement("audio"),c["default"].createElement("track")),o.hooks_={},o.hooks=function(t,e){return o.hooks_[t]=o.hooks_[t]||[],e&&(o.hooks_[t]=o.hooks_[t].concat(e)),o.hooks_[t]},o.hook=function(t,e){o.hooks(t,e)},o.removeHook=function(t,e){var i=o.hooks(t).indexOf(e);return!(i<=-1)&&(o.hooks_[t]=o.hooks_[t].slice(),o.hooks_[t].splice(i,1),!0)},l["default"].VIDEOJS_NO_DYNAMIC_STYLE!==!0&&p.isReal()){var et=p.$(".vjs-styles-defaults");if(!et){et=y.createStyleElement("vjs-styles-defaults");var it=p.$("head");it&&it.insertBefore(et,it.firstChild),y.setTextContent(et,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}m.autoSetupTimeout(1,o),o.VERSION="5.20.5",o.options=T["default"].prototype.options_,o.getPlayers=function(){return T["default"].players},o.players=T["default"].players,o.getComponent=b["default"].getComponent,o.registerComponent=function(t,e){tt["default"].isTech(e)&&U["default"].warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),b["default"].registerComponent.call(b["default"],t,e)},o.getTech=tt["default"].getTech,o.registerTech=tt["default"].registerTech,o.browser=f,o.TOUCH_ENABLED=f.TOUCH_ENABLED,o.extend=Z["default"],o.mergeOptions=L["default"],o.bind=A.bind,o.plugin=k["default"],o.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),o.options.languages=(0,L["default"])(o.options.languages,(i={},i[t]=e,i)),o.options.languages[t]},o.log=U["default"],o.createTimeRange=o.createTimeRanges=z.createTimeRanges,o.formatTime=V["default"],o.parseUrl=H.parseUrl,o.isCrossOrigin=H.isCrossOrigin,o.EventTarget=w["default"],o.on=E.on,o.one=E.one,o.off=E.off,o.trigger=E.trigger,o.xhr=J["default"],o.TextTrack=R["default"],o.AudioTrack=j["default"],o.VideoTrack=F["default"],o.isEl=p.isEl,o.isTextNode=p.isTextNode,o.createEl=p.createEl,o.hasClass=p.hasElClass,o.addClass=p.addElClass,o.removeClass=p.removeElClass,o.toggleClass=p.toggleElClass,o.setAttributes=p.setElAttributes,o.getAttributes=p.getElAttributes,o.emptyEl=p.emptyEl,o.appendContent=p.appendContent,o.insertContent=p.insertContent,o.computedStyle=Y["default"],"function"==typeof define&&define.amd?define("videojs",[],function(){return o}):"object"===("undefined"==typeof i?"undefined":s(i))&&"object"===("undefined"==typeof e?"undefined":s(e))&&(e.exports=o),i["default"]=o},{"./component":692,"./event-target":729,"./extend.js":730,"./player":738,"./plugins.js":739,"./setup":743,"./tech/tech.js":749,"./tracks/audio-track.js":751,"./tracks/text-track.js":759,"./tracks/video-track.js":764,"./utils/browser.js":765,"./utils/computed-style.js":767,"./utils/dom.js":768,"./utils/events.js":769,"./utils/fn.js":770,"./utils/format-time.js":771,"./utils/log.js":773,"./utils/merge-options.js":774,"./utils/obj":775,"./utils/stylesheet.js":776,"./utils/time-ranges.js":777,"./utils/url.js":779,"global/document":585,"global/window":586,xhr:790}],781:[function(t,e,i){var n=t("global/window"),r=e.exports={WebVTT:t("./vtt.js"),VTTCue:t("./vttcue.js"),VTTRegion:t("./vttregion.js")};n.vttjs=r,n.WebVTT=r.WebVTT;var o=r.VTTCue,s=r.VTTRegion,a=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=o,n.VTTRegion=s},r.restore=function(){n.VTTCue=a,n.VTTRegion=l},n.VTTCue||r.shim()},{"./vtt.js":782,"./vttcue.js":783,"./vttregion.js":784,"global/window":785}],782:[function(t,e,i){function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function o(){this.values=v(null)}function s(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if("string"==typeof r[o]){var s=r[o].split(i);if(2===s.length){var a=s[0],l=s[1];e(a,l)}}}function a(t,e,i){function a(){var e=r(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+c);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function l(t,e){var n=new o;s(t,function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),s=o[0];n.integer(t,s),n.percent(t,s)?n.set("snapToLines",!1):null,n.alt(t,s,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function u(){t=t.replace(/^\s+/,"")}var c=t;if(u(),e.startTime=a(),u(),"-->"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);t=t.substr(3),u(),e.endTime=a(),u(),l(t,e)}function l(t,e){function i(){function t(t){return e=e.substr(t.length),t}if(!e)return null;var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return y[t]}function o(t){for(;p=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(p[0],n);return t}function s(t,e){return!x[e.localName]||x[e.localName]===t.localName}function a(e,i){var n=_[e];if(!n)return null;var r=t.document.createElement(n);r.localName=n;var o=b[e];return o&&i&&(r[o]=i.trim()),r}for(var l,u=t.document.createElement("div"),c=u,h=[];null!==(l=i());)if("<"!==l[0])c.appendChild(t.document.createTextNode(o(l)));else{if("/"===l[1]){h.length&&h[h.length-1]===l.substr(2).replace(">","")&&(h.pop(),c=c.parentNode);continue}var f,d=r(l.substr(1,l.length-2));if(d){f=t.document.createProcessingInstruction("timestamp",d),c.appendChild(f);continue}var p=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(f=a(p[1],p[3]),!f)continue;if(!s(c,f))continue;p[2]&&(f.className=p[2].substr(1).replace("."," ")),h.push(p[1]),c.appendChild(f),c=f}return u}function u(t){for(var e=0;e<w.length;e++){var i=w[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function c(t){function e(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function i(t){if(!t||!t.length)return null;var n=t.pop(),r=n.textContent||n.innerText;if(r){var o=r.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):r}return"ruby"===n.tagName?i(t):n.childNodes?(e(t,n),i(t)):void 0}var n,r=[],o="";if(!t||!t.childNodes)return"ltr";for(e(r,t);o=i(r);)for(var s=0;s<o.length;s++)if(n=o.charCodeAt(s),u(n))return"rtl";return"ltr"}function h(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return++n*-1}function f(){}function d(t,e,i){var n=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";n&&(r="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),f.call(this),this.cue=e,this.cueDiv=l(t,e.text);var s={color:r,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",s.unicodeBidi="plaintext"),this.applyStyles(s,this.cueDiv),this.div=t.document.createElement("div"),s={textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},n||(s.direction=c(this.cueDiv),s.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(s),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":a=e.position;break;case"middle":a=e.position-e.size/2;break;case"end":a=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function p(t){var e,i,n,r,o=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function g(t,e,i,n){function r(t,e){for(var r,o=new p(t),s=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(i,e[a])||t.within(i)&&t.overlapsAny(n);)t.move(e[a]);if(t.within(i))return t;var l=t.intersectPercentage(i);s>l&&(r=new p(t),s=l),t=new p(o)}return r||o}var o=new p(e),s=e.cue,a=h(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width"}var c=o.lineHeight,f=c*Math.round(a),d=i[u]+c,g=l[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),a<0&&(f+=""===s.vertical?i.height:i.width,l=l.reverse()),o.move(g,f)}else{var m=o.lineHeight/i.height*100;switch(s.lineAlign){case"middle":a-=m/2;break;case"end":a-=m}switch(s.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}l=["+y","-x","+x","-y"],o=new p(e)}var v=r(o,l);e.move(v.toCSSCompatValues(i))}function m(){}var v=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();n.prototype=v(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},o.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){var i;return!!((i=e.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var y={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},_={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b={v:"title",lang:"lang"},x={rt:"ruby"},w=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];f.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},f.prototype.formatStyle=function(t,e){return 0===t?0:t+e},d.prototype=v(f.prototype),d.prototype.constructor=d,p.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},p.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},p.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},p.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},p.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},p.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},p.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},p.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},m.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},m.convertCueToDOMTree=function(t,e){return t&&e?l(t,e):null};var C=.05,E="sans-serif",S="1.5%";m.processCues=function(t,e,i){function n(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=S,i.appendChild(r),n(e)){var o=[],s=p.getSimpleBoxPosition(r),a=Math.round(s.height*C*100)/100,l={font:a+"px "+E};!function(){for(var i,n,a=0;a<e.length;a++)n=e[a],i=new d(t,n,l),r.appendChild(i.div),g(t,i,s,o),n.displayState=i.div,o.push(p.getSimpleBoxPosition(i))}()}else for(var u=0;u<e.length;u++)r.appendChild(e[u].displayState)},m.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},m.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function e(){for(var t=c.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var i=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,c.buffer=t.substr(e),i}function i(t){var e=new o;if(s(t,function(t,i){switch(t){case"id":e.set(t,i);break;case"width":e.percent(t,i);break;case"lines":e.integer(t,i);break;case"regionanchor":case"viewportanchor":var n=i.split(",");if(2!==n.length)break;var r=new o;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;e.set(t+"X",r.get("x")),e.set(t+"Y",r.get("y"));break;case"scroll":e.alt(t,i,["up"])}},/=/,/\s/),e.has("id")){var i=new(c.vttjs.VTTRegion||c.window.VTTRegion);i.width=e.get("width",100),i.lines=e.get("lines",3),i.regionAnchorX=e.get("regionanchorX",0),i.regionAnchorY=e.get("regionanchorY",100),i.viewportAnchorX=e.get("viewportanchorX",0),i.viewportAnchorY=e.get("viewportanchorY",100),i.scroll=e.get("scroll",""),c.onregion&&c.onregion(i),c.regionList.push({id:e.get("id"),region:i})}}function l(t){var e=new o;s(t,function(t,i){switch(t){case"MPEGT":e.integer(t+"S",i);break;case"LOCA":e.set(t+"L",r(i))}},/[^\d]:/,/,/),c.ontimestampmap&&c.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}function u(t){t.match(/X-TIMESTAMP-MAP/)?s(t,function(t,e){switch(t){case"X-TIMESTAMP-MAP":l(e)}},/=/):s(t,function(t,e){switch(t){case"Region":i(e)}},/:/)}var c=this;t&&(c.buffer+=c.decoder.decode(t,{stream:!0}));try{var h;if("INITIAL"===c.state){if(!/\r\n|\n/.test(c.buffer))return this;h=e();var f=h.match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new n(n.Errors.BadSignature);c.state="HEADER"}for(var d=!1;c.buffer;){if(!/\r\n|\n/.test(c.buffer))return this;switch(d?d=!1:h=e(),c.state){case"HEADER":/:/.test(h)?u(h):h||(c.state="ID");continue;case"NOTE":h||(c.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){c.state="NOTE";break}if(!h)continue;if(c.cue=new(c.vttjs.VTTCue||c.window.VTTCue)(0,0,""),c.state="CUE",h.indexOf("-->")===-1){c.cue.id=h;continue}case"CUE":try{a(h,c.cue,c.regionList)}catch(p){c.reportOrThrowError(p),c.cue=null,c.state="BADCUE";continue}c.state="CUETEXT";continue;case"CUETEXT":var g=h.indexOf("-->")!==-1;if(!h||g&&(d=!0)){c.oncue&&c.oncue(c.cue),c.cue=null,c.state="ID";continue}c.cue.text&&(c.cue.text+="\n"),c.cue.text+=h;continue;case"BADCUE":h||(c.state="ID");continue}}}catch(p){c.reportOrThrowError(p),"CUETEXT"===c.state&&c.cue&&c.oncue&&c.oncue(c.cue),c.cue=null,c.state="INITIAL"===c.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},e.exports=m},{}],783:[function(t,e,i){function n(t){if("string"!=typeof t)return!1;var e=l[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){if("string"!=typeof t)return!1;var e=u[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function s(t,e,i){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",h=!1,f=t,d=e,p=i,g=null,m="",v=!0,y="auto",_="start",b=50,x="middle",w=50,C="middle";if(Object.defineProperty(s,"id",o({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",o({},u,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(s,"startTime",o({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",o({},u,{get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",o({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",o({},u,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",o({},u,{get:function(){return m},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",o({},u,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",o({},u,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==a)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",o({},u,{get:function(){return _},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",o({},u,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",o({},u,{get:function(){return x},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",o({},u,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",o({},u,{get:function(){return C},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");C=e,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var a="auto",l={"":!0,lr:!0,rl:!0},u={start:!0,middle:!0,end:!0,left:!0,right:!0};s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=s},{}],784:[function(t,e,i){function n(t){if("string"!=typeof t)return!1;var e=s[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"==typeof t&&t>=0&&t<=100}function o(){var t=100,e=3,i=0,o=100,s=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(e===!1)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}var s={"":!0,up:!0};e.exports=o},{}],785:[function(t,e,i){(function(t){var i;i="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{},e.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],786:[function(t,e,i){!function(){function t(t,e,i){return t.call.apply(t.bind,arguments)}function i(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function n(e,r,o){return n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?t:i,n.apply(null,arguments)}function r(t,e){this.a=t,this.o=e||t,this.c=this.o.document}function o(t,e,i,n){if(e=t.c.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?e.style.cssText=i[r]:e.setAttribute(r,i[r]));return n&&e.appendChild(t.c.createTextNode(n)),e}function s(t,e,i){t=t.c.getElementsByTagName(e)[0],t||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function a(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var o=!1,s=0;s<n.length;s+=1)if(e[r]===n[s]){o=!0;break}o||n.push(e[r])}for(e=[],r=0;r<n.length;r+=1){for(o=!1,s=0;s<i.length;s+=1)if(n[r]===i[s]){o=!0;break}o||e.push(n[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function u(t,e){for(var i=t.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==e)return!0;return!1}function c(t){return t.o.location.hostname||t.a.location.hostname}function h(t,e,i){function n(){u&&r&&a&&(u(l),u=null)}e=o(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,a=!0,l=null,u=i||null;it?(e.onload=function(){r=!0,n()},e.onerror=function(){r=!0,l=Error("Stylesheet failed to load"),n()}):setTimeout(function(){r=!0,n()},0),s(t,"head",e)}function f(t,e,i,n){var r=t.c.getElementsByTagName("head")[0];
if(r){var s=o(t,"script",{src:e}),a=!1;return s.onload=s.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),s.onload=s.onreadystatechange=null,"HEAD"==s.parentNode.tagName&&r.removeChild(s))},r.appendChild(s),setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},n||5e3),s}return null}function d(){this.a=0,this.c=null}function p(t){return t.a++,function(){t.a--,m(t)}}function g(t,e){t.c=e,m(t)}function m(t){0==t.a&&t.c&&(t.c(),t.c=null)}function v(t){this.a=t||"-"}function y(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function _(t){return w(t)+" "+(t.f+"00")+" 300px "+b(t.c)}function b(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function x(t){return t.a+t.f}function w(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function C(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function E(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new v("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function S(t){t.g&&l(t.f,[t.a.c("wf","loading")]),I(t,"loading")}function T(t){if(t.g){var e=u(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),l(t.f,i,n)}I(t,"inactive")}function I(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,x(i)):t.h[e]())}function k(){this.c={}}function P(t,e,i){var n,r=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&r.push(o(e[n],i))}return r}function L(t,e){this.c=t,this.f=e,this.a=o(this.c,"span",{"aria-hidden":"true"},this.f)}function O(t){s(t.c,"body",t.a)}function A(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+b(t.c)+";"+("font-style:"+w(t)+";font-weight:"+(t.f+"00")+";")}function M(t,e,i,n,r,o){this.g=t,this.j=e,this.a=n,this.c=i,this.f=r||3e3,this.h=o||void 0}function R(t,e,i,n,r,o,s){this.v=t,this.B=e,this.c=i,this.a=n,this.s=s||"BESbswy",this.f={},this.w=r||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new L(this.c,this.s),this.h=new L(this.c,this.s),this.j=new L(this.c,this.s),this.m=new L(this.c,this.s),t=new y(this.a.c+",serif",x(this.a)),t=A(t),this.g.a.style.cssText=t,t=new y(this.a.c+",sans-serif",x(this.a)),t=A(t),this.h.a.style.cssText=t,t=new y("serif",x(this.a)),t=A(t),this.j.a.style.cssText=t,t=new y("sans-serif",x(this.a)),t=A(t),this.m.a.style.cssText=t,O(this.g),O(this.h),O(this.j),O(this.m)}function N(){if(null===rt){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);rt=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return rt}function j(t,e,i){for(var n in nt)if(nt.hasOwnProperty(n)&&e===t.f[nt[n]]&&i===t.f[nt[n]])return!0;return!1}function D(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=N()&&j(t,i,n)),e?et()-t.A>=t.w?N()&&j(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?z(t,t.v):z(t,t.B):F(t):z(t,t.v)}function F(t){setTimeout(n(function(){D(this)},t),50)}function z(t,e){setTimeout(n(function(){a(this.g.a),a(this.h.a),a(this.j.a),a(this.m.a),e(this.a)},t),0)}function B(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}function V(t){0==--t.f&&t.j&&(t.m?(t=t.a,t.g&&l(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),I(t,"active")):T(t.a))}function q(t){this.j=t,this.a=new k,this.h=0,this.f=this.g=!0}function U(t,e,i,r,o){var s=0==--t.h;(t.f||t.g)&&setTimeout(function(){var t=o||null,a=r||null||{};if(0===i.length&&s)T(e.a);else{e.f+=i.length,s&&(e.j=s);var u,c=[];for(u=0;u<i.length;u++){var h=i[u],f=a[h.c],d=e.a,p=h;if(d.g&&l(d.f,[d.a.c("wf",p.c,x(p).toString(),"loading")]),I(d,"fontloading",p),d=null,null===ot)if(window.FontFace){var p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),g=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);ot=p?42<parseInt(p[1],10):!g}else ot=!1;d=ot?new M(n(e.g,e),n(e.h,e),e.c,h,e.s,f):new R(n(e.g,e),n(e.h,e),e.c,h,e.s,t,f),c.push(d)}for(u=0;u<c.length;u++)c[u].start()}},0)}function G(t,e,i){var n=[],r=i.timeout;S(e);var n=P(t.a,i,t.c),o=new B(t.c,e,r);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(e,i,n){U(t,o,e,i,n)})}function H(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}function W(t,e){t?this.c=t:this.c=st,this.a=[],this.f=[],this.g=e||""}function Y(t,e){for(var i=e.length,n=0;n<i;n++){var r=e[n].split(":");3==r.length&&t.f.push(r.pop());var o="";2==r.length&&""!=r[1]&&(o=":"),t.a.push(r.join(o))}}function $(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}function Z(t){this.f=t,this.a=[],this.c={}}function K(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),r=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var s,a=n[1];if(s=[],a)for(var a=a.split(","),l=a.length,u=0;u<l;u++){var c;if(c=a[u],c.match(/^[\w-]+$/)){var h=ct.exec(c.toLowerCase());if(null==h)c="";else{if(c=h[2],c=null==c||""==c?"n":ut[c],h=h[1],null==h||""==h)h="4";else var f=lt[h],h=f?f:isNaN(h)?"4":h.substr(0,1);c=[c,h].join("")}}else c="";c&&s.push(c)}0<s.length&&(o=s),3==n.length&&(n=n[2],s=[],n=n?n.split(","):s,0<n.length&&(n=at[n[0]])&&(t.c[r]=n))}for(t.c[r]||(n=at[r])&&(t.c[r]=n),n=0;n<o.length;n+=1)t.a.push(new y(r,o[n]))}}function J(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}var et=Date.now||function(){return+new Date},it=!!window.FontFace;v.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},M.prototype.start=function(){var t=this.c.o.document,e=this,i=et(),n=new Promise(function(n,r){function o(){et()-i>=e.f?r():t.fonts.load(_(e.a),e.h).then(function(t){1<=t.length?n():setTimeout(o,25)},function(){r()})}o()}),r=null,o=new Promise(function(t,i){r=setTimeout(i,e.f)});Promise.race([o,n]).then(function(){r&&(clearTimeout(r),r=null),e.g(e.a)},function(){e.j(e.a)})};var nt={D:"serif",C:"sans-serif"},rt=null;R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=et(),D(this)};var ot=null;B.prototype.g=function(t){var e=this.a;e.g&&l(e.f,[e.a.c("wf",t.c,x(t).toString(),"active")],[e.a.c("wf",t.c,x(t).toString(),"loading"),e.a.c("wf",t.c,x(t).toString(),"inactive")]),I(e,"fontactive",t),this.m=!0,V(this)},B.prototype.h=function(t){var e=this.a;if(e.g){var i=u(e.f,e.a.c("wf",t.c,x(t).toString(),"active")),n=[],r=[e.a.c("wf",t.c,x(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,x(t).toString(),"inactive")),l(e.f,n,r)}I(e,"fontinactive",t),V(this)},q.prototype.load=function(t){this.c=new r(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,G(this,new E(this.c,t),t)},H.prototype.load=function(t){function e(){if(o["__mti_fntLst"+n]){var i,r=o["__mti_fntLst"+n](),s=[];if(r)for(var a=0;a<r.length;a++){var l=r[a].fontfamily;void 0!=r[a].fontStyle&&void 0!=r[a].fontWeight?(i=r[a].fontStyle+r[a].fontWeight,s.push(new y(l,i))):s.push(new y(l))}t(s)}else setTimeout(function(){e()},50)}var i=this,n=i.a.projectId,r=i.a.version;if(n){var o=i.c.o;f(this.c,(i.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),function(r){r?t([]):(o["__MonotypeConfiguration__"+n]=function(){return i.a},e())}).id="__MonotypeAPIScript__"+n}else t([])},X.prototype.load=function(t){var e,i,n=this.a.urls||[],r=this.a.families||[],o=this.a.testStrings||{},s=new d;for(e=0,i=n.length;e<i;e++)h(this.c,n[e],p(s));var a=[];for(e=0,i=r.length;e<i;e++)if(n=r[e].split(":"),n[1])for(var l=n[1].split(","),u=0;u<l.length;u+=1)a.push(new y(n[0],l[u]));else a.push(new y(n[0]));g(s,function(){t(a,o)})};var st="https://fonts.googleapis.com/css",at={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},lt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ut={i:"i",italic:"i",n:"n",normal:"n"},ct=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/,ht={Arimo:!0,Cousine:!0,Tinos:!0};J.prototype.load=function(t){var e=new d,i=this.c,n=new W(this.a.api,this.a.text),r=this.a.families;Y(n,r);var o=new Z(r);K(o),h(i,$(n),p(e)),g(e,function(){t(o.a,o.c,ht)})},Q.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?f(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],r=0;r<e.length;r+=2)for(var o=e[r],s=e[r+1],a=0;a<s.length;a++)n.push(new y(o,s[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}t(n)}},2e3):t([])},tt.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var r=0,o=i.fonts.length;r<o;++r){var s=i.fonts[r];n.a.push(new y(s.name,C("font-weight:"+s.weight+";font-style:"+s.style)))}t(n.a)},f(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+c(this.c)+"/"+e+".js",function(e){e&&t([])})):t([])};var ft=new q(window);ft.a.c.custom=function(t,e){return new X(e,t)},ft.a.c.fontdeck=function(t,e){return new tt(e,t)},ft.a.c.monotype=function(t,e){return new H(e,t)},ft.a.c.typekit=function(t,e){return new Q(e,t)},ft.a.c.google=function(t,e){return new J(e,t)};var dt={load:n(ft.load,ft)};"function"==typeof define&&define.amd?define(function(){return dt}):"undefined"!=typeof e&&e.exports?e.exports=dt:(window.WebFont=dt,window.WebFontConfig&&ft.load(window.WebFontConfig))}()},{}],787:[function(t,e,i){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],788:[function(t,e,i){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function i(t){return"string"!=typeof t&&(t=String(t)),t}function n(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function s(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function a(t){var e=new FileReader,i=s(e);return e.readAsArrayBuffer(t),i}function l(t){var e=new FileReader,i=s(e);return e.readAsText(t),i}function u(t){for(var e=new Uint8Array(t),i=new Array(e.length),n=0;n<e.length;n++)i[n]=String.fromCharCode(e[n]);return i.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&_(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var i=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=f(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(r))}}),e}function g(t){var e=new r,i=t.replace(/\r?\n[\t ]+/g," ");return i.split(/\r?\n/).forEach(function(t){var i=t.split(":"),n=i.shift().trim();if(n){var r=i.join(":").trim();e.append(n,r)}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&y.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,n){t=e(t),n=i(n);var r=this.map[t];this.map[t]=r?r+","+n:n},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,n){this.map[e(t)]=i(n)},r.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),n(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),n(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),n(t)},v.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];m.redirect=function(t,e){if(w.indexOf(e)===-1)throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=d,t.Response=m,t.fetch=function(t,e){return new Promise(function(i,n){var r=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:g(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;i(new m(e,t))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials?o.withCredentials=!0:"omit"===r.credentials&&(o.withCredentials=!1),"responseType"in o&&v.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],789:[function(t,e,i){!function(t,n){"object"==typeof i&&"undefined"!=typeof e?n():"function"==typeof define&&define.amd?define(n):n()}(this,function(){"use strict";function t(t){if(!t||1!==t.nodeType)throw new Error("A DOM Element reference is required");this.el=t,this.classList=t.classList}function e(t,e){if(e=e||"a method","string"!=typeof t)throw new TypeError("Failed to execute '"+e+"' on 'ClassList': the token provided ('"+t+"') is not a string.");if(""===t)throw new SyntaxError("Failed to execute '"+e+"' on 'ClassList': the token provided must not be empty.");if(/\s/.test(t))throw new Error("Failed to execute '"+e+"' on 'ClassList': the token provided ('"+t+"') contains HTML space characters, which are not valid in tokens.")}function i(t,e){var i=window.Element.prototype,n=i.matches||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;if(!t||1!==t.nodeType)return!1;var r=t.parentNode;if(n)return n.call(t,e);for(var o=r.querySelectorAll(e),s=o.length,a=0;a<s;a++)if(o[a]===t)return!0;return!1}var n=function(e){return new t(e)};t.prototype.toArray=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,""),e=t.split(/\s+/);return""===e[0]&&e.shift(),e},t.prototype.add=function(t){var i,n;e(t,"add"),this.classList?this.classList.add(t):(i=this.toArray(),n=i.indexOf(t),n===-1&&(i.push(t),this.el.setAttribute("class",i.join(" "))))},t.prototype.contains=function(t){return e(t,"contains"),this.classList?this.classList.contains(t):this.toArray().indexOf(t)>-1},t.prototype.remove=function(t){var i,n,r,o,s;if("[object RegExp]"==Object.prototype.toString.call(t))for(i=this.toArray(),r=0,s=i.length;r<s;r++)t.test(i[r])&&this.remove(i[r]);else e(t,"remove"),this.classList?this.classList.remove(t):(n=this.toArray(),o=n.indexOf(t),o>-1&&(n.splice(o,1),this.el.setAttribute("class",n.join(" "))))},t.prototype.toggle=function(t,i){e(t,"toggle");var n=this.contains(t),r=n?i!==!0&&"remove":i!==!1&&"add";return r&&this[r](t),"boolean"==typeof i?i:!n};var r=i;document.addEventListener("DOMContentLoaded",function(){function t(t){return r(t,c)&&r(t,":not([readonly])")}function e(t){n(t).contains("focus-ring")||(n(t).add("focus-ring"),t.setAttribute("data-focus-ring-added",""))}function i(t){t.hasAttribute("data-focus-ring-added")&&(n(t).remove("focus-ring"),t.removeAttribute("data-focus-ring-added"))}function o(){l=!0,r(document.activeElement,":focus")&&e(document.activeElement),0!==u&&clearTimeout(u),u=setTimeout(function(){l=!1,u=0},100)}function s(i){(l||t(i.target))&&e(i.target)}function a(t){i(t.target)}var l=!1,u=0,c=["input:not([type])","input[type=text]","input[type=search]","input[type=url]","input[type=tel]","input[type=email]","input[type=password]","input[type=number]","input[type=date]","input[type=month]","input[type=week]","input[type=time]","input[type=datetime]","input[type=datetime-local]","textarea","[role=textbox]"].join(",");document.body.addEventListener("keydown",o,!0),document.body.addEventListener("focus",s,!0),document.body.addEventListener("blur",a,!0)})})},{}],790:[function(t,e,i){"use strict";function n(t,e){for(var i=0;i<t.length;i++)e(t[i])}function r(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,i){var n=t;return h(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=d(e,{uri:t}),n.callback=i,n}function s(t,e,i){return e=o(t,e,i),a(e)}function a(t){function e(){4===h.readyState&&o()}function i(){var t=void 0;if(t=h.response?h.response:h.responseText||l(h),x)try{t=JSON.parse(t)}catch(e){}return t}function n(t){return clearTimeout(g),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,u(t,c)}function o(){if(!p){var e;clearTimeout(g),e=t.useXDR&&void 0===h.status?200:1223===h.status?204:h.status;var n=c,r=null;return 0!==e?(n={body:i(),statusCode:e,method:v,headers:{},url:m,rawRequest:h},h.getAllResponseHeaders&&(n.headers=f(h.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),u(r,n,n.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var a=!1,u=function(e,i,n){a||(a=!0,t.callback(e,i,n))},c={body:void 0,headers:{},statusCode:0,method:v,url:m,rawRequest:h},h=t.xhr||null;h||(h=t.cors||t.useXDR?new s.XDomainRequest:new s.XMLHttpRequest);var d,p,g,m=h.url=t.uri||t.url,v=h.method=t.method||"GET",y=t.body||t.data||null,_=h.headers=t.headers||{},b=!!t.sync,x=!1;if("json"in t&&(x=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),y=JSON.stringify(t.json))),h.onreadystatechange=e,h.onload=o,h.onerror=n,h.onprogress=function(){},h.ontimeout=n,h.open(v,m,!b,t.username,t.password),b||(h.withCredentials=!!t.withCredentials),!b&&t.timeout>0&&(g=setTimeout(function(){p=!0,h.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",n(t)},t.timeout)),h.setRequestHeader)for(d in _)_.hasOwnProperty(d)&&h.setRequestHeader(d,_[d]);else if(t.headers&&!r(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(h.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(h),h.send(y),h}function l(t){if("document"===t.responseType)return t.responseXML;var e=204===t.status&&t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function u(){}var c=t("global/window"),h=t("is-function"),f=t("parse-headers"),d=t("xtend");e.exports=s,s.XMLHttpRequest=c.XMLHttpRequest||u,s.XDomainRequest="withCredentials"in new s.XMLHttpRequest?s.XMLHttpRequest:c.XDomainRequest,n(["get","put","post","patch","head","delete"],function(t){s["delete"===t?"del":t]=function(e,i,n){return i=o(e,i,n),i.method=t.toUpperCase(),a(i)}})},{"global/window":586,"is-function":590,"parse-headers":603,xtend:791}],791:[function(t,e,i){function n(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)r.call(i,n)&&(t[n]=i[n])}return t}e.exports=n;var r=Object.prototype.hasOwnProperty},{}]},{},[60]);